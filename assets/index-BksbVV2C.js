(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qo(t,e){const r=new Set(t.split(","));return n=>r.has(n)}const Bt={},Jr=[],Ee=()=>{},Wd=()=>!1,aa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Uo=t=>t.startsWith("onUpdate:"),ne=Object.assign,Ko=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Vd=Object.prototype.hasOwnProperty,wt=(t,e)=>Vd.call(t,e),yt=Array.isArray,tn=t=>oa(t)==="[object Map]",Ru=t=>oa(t)==="[object Set]",_t=t=>typeof t=="function",Yt=t=>typeof t=="string",_r=t=>typeof t=="symbol",Gt=t=>t!==null&&typeof t=="object",Tu=t=>(Gt(t)||_t(t))&&_t(t.then)&&_t(t.catch),Pu=Object.prototype.toString,oa=t=>Pu.call(t),Yd=t=>oa(t).slice(8,-1),Iu=t=>oa(t)==="[object Object]",Zo=t=>Yt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,On=qo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sa=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Xd=/-(\w)/g,ke=sa(t=>t.replace(Xd,(e,r)=>r?r.toUpperCase():"")),jd=/\B([A-Z])/g,Nr=sa(t=>t.replace(jd,"-$1").toLowerCase()),la=sa(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ia=sa(t=>t?`on${la(t)}`:""),hr=(t,e)=>!Object.is(t,e),Aa=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Au=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},qd=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let el;const ku=()=>el||(el=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Nt(t){if(yt(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=Yt(n)?Qd(n):Nt(n);if(i)for(const a in i)e[a]=i[a]}return e}else if(Yt(t)||Gt(t))return t}const Ud=/;(?![^(]*\))/g,Kd=/:([^]+)/,Zd=/\/\*[^]*?\*\//g;function Qd(t){const e={};return t.replace(Zd,"").split(Ud).forEach(r=>{if(r){const n=r.split(Kd);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ge(t){let e="";if(Yt(t))e=t;else if(yt(t))for(let r=0;r<t.length;r++){const n=Ge(t[r]);n&&(e+=n+" ")}else if(Gt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Jd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tp=qo(Jd);function Bu(t){return!!t||t===""}const zu=t=>!!(t&&t.__v_isRef===!0),xe=t=>Yt(t)?t:t==null?"":yt(t)||Gt(t)&&(t.toString===Pu||!_t(t.toString))?zu(t)?xe(t.value):JSON.stringify(t,Gu,2):String(t),Gu=(t,e)=>zu(e)?Gu(t,e.value):tn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],a)=>(r[ka(n,a)+" =>"]=i,r),{})}:Ru(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>ka(r))}:_r(e)?ka(e):Gt(e)&&!yt(e)&&!Iu(e)?String(e):e,ka=(t,e="")=>{var r;return _r(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Re;class ep{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Re,!e&&Re&&(this.index=(Re.scopes||(Re.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=Re;try{return Re=this,e()}finally{Re=r}}}on(){Re=this}off(){Re=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function rp(t,e=Re){e&&e.active&&e.effects.push(t)}function np(){return Re}let Ir;class Qo{constructor(e,r,n,i){this.fn=e,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,rp(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,xr();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(ip(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Sr()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=dr,r=Ir;try{return dr=!0,Ir=this,this._runnings++,rl(this),this.fn()}finally{nl(this),this._runnings--,Ir=r,dr=e}}stop(){this.active&&(rl(this),nl(this),this.onStop&&this.onStop(),this.active=!1)}}function ip(t){return t.value}function rl(t){t._trackId++,t._depsLength=0}function nl(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Fu(t.deps[e],t);t.deps.length=t._depsLength}}function Fu(t,e){const r=t.get(e);r!==void 0&&e._trackId!==r&&(t.delete(e),t.size===0&&t.cleanup())}let dr=!0,no=0;const Nu=[];function xr(){Nu.push(dr),dr=!1}function Sr(){const t=Nu.pop();dr=t===void 0?!0:t}function Jo(){no++}function ts(){for(no--;!no&&io.length;)io.shift()()}function Lu(t,e,r){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&Fu(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const io=[];function Hu(t,e,r){Jo();for(const n of t.keys()){let i;n._dirtyLevel<e&&(i??(i=t.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=e),n._shouldSchedule&&(i??(i=t.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&io.push(n.scheduler)))}ts()}const $u=(t,e)=>{const r=new Map;return r.cleanup=t,r.computed=e,r},ao=new WeakMap,Ar=Symbol(""),oo=Symbol("");function he(t,e,r){if(dr&&Ir){let n=ao.get(t);n||ao.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=$u(()=>n.delete(r))),Lu(Ir,i)}}function Ze(t,e,r,n,i,a){const o=ao.get(t);if(!o)return;let s=[];if(e==="clear")s=[...o.values()];else if(r==="length"&&yt(t)){const l=Number(n);o.forEach((u,f)=>{(f==="length"||!_r(f)&&f>=l)&&s.push(u)})}else switch(r!==void 0&&s.push(o.get(r)),e){case"add":yt(t)?Zo(r)&&s.push(o.get("length")):(s.push(o.get(Ar)),tn(t)&&s.push(o.get(oo)));break;case"delete":yt(t)||(s.push(o.get(Ar)),tn(t)&&s.push(o.get(oo)));break;case"set":tn(t)&&s.push(o.get(Ar));break}Jo();for(const l of s)l&&Hu(l,4);ts()}const ap=qo("__proto__,__v_isRef,__isVue"),Wu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(_r)),il=op();function op(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=Mt(this);for(let a=0,o=this.length;a<o;a++)he(n,"get",a+"");const i=n[e](...r);return i===-1||i===!1?n[e](...r.map(Mt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){xr(),Jo();const n=Mt(this)[e].apply(this,r);return ts(),Sr(),n}}),t}function sp(t){_r(t)||(t=String(t));const e=Mt(this);return he(e,"has",t),e.hasOwnProperty(t)}class Vu{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?_p:qu:a?ju:Xu).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=yt(e);if(!i){if(o&&wt(il,r))return Reflect.get(il,r,n);if(r==="hasOwnProperty")return sp}const s=Reflect.get(e,r,n);return(_r(r)?Wu.has(r):ap(r))||(i||he(e,"get",r),a)?s:ge(s)?o&&Zo(r)?s:s.value:Gt(s)?i?Uu(s):ce(s):s}}class Yu extends Vu{constructor(e=!1){super(!1,e)}set(e,r,n,i){let a=e[r];if(!this._isShallow){const l=kr(a);if(!sn(n)&&!kr(n)&&(a=Mt(a),n=Mt(n)),!yt(e)&&ge(a)&&!ge(n))return l?!1:(a.value=n,!0)}const o=yt(e)&&Zo(r)?Number(r)<e.length:wt(e,r),s=Reflect.set(e,r,n,i);return e===Mt(i)&&(o?hr(n,a)&&Ze(e,"set",r,n):Ze(e,"add",r,n)),s}deleteProperty(e,r){const n=wt(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&Ze(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!_r(r)||!Wu.has(r))&&he(e,"has",r),n}ownKeys(e){return he(e,"iterate",yt(e)?"length":Ar),Reflect.ownKeys(e)}}class lp extends Vu{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const up=new Yu,fp=new lp,cp=new Yu(!0);const es=t=>t,ua=t=>Reflect.getPrototypeOf(t);function ci(t,e,r=!1,n=!1){t=t.__v_raw;const i=Mt(t),a=Mt(e);r||(hr(e,a)&&he(i,"get",e),he(i,"get",a));const{has:o}=ua(i),s=n?es:r?is:Nn;if(o.call(i,e))return s(t.get(e));if(o.call(i,a))return s(t.get(a));t!==i&&t.get(e)}function di(t,e=!1){const r=this.__v_raw,n=Mt(r),i=Mt(t);return e||(hr(t,i)&&he(n,"has",t),he(n,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function pi(t,e=!1){return t=t.__v_raw,!e&&he(Mt(t),"iterate",Ar),Reflect.get(t,"size",t)}function al(t,e=!1){!e&&!sn(t)&&!kr(t)&&(t=Mt(t));const r=Mt(this);return ua(r).has.call(r,t)||(r.add(t),Ze(r,"add",t,t)),this}function ol(t,e,r=!1){!r&&!sn(e)&&!kr(e)&&(e=Mt(e));const n=Mt(this),{has:i,get:a}=ua(n);let o=i.call(n,t);o||(t=Mt(t),o=i.call(n,t));const s=a.call(n,t);return n.set(t,e),o?hr(e,s)&&Ze(n,"set",t,e):Ze(n,"add",t,e),this}function sl(t){const e=Mt(this),{has:r,get:n}=ua(e);let i=r.call(e,t);i||(t=Mt(t),i=r.call(e,t)),n&&n.call(e,t);const a=e.delete(t);return i&&Ze(e,"delete",t,void 0),a}function ll(){const t=Mt(this),e=t.size!==0,r=t.clear();return e&&Ze(t,"clear",void 0,void 0),r}function vi(t,e){return function(n,i){const a=this,o=a.__v_raw,s=Mt(o),l=e?es:t?is:Nn;return!t&&he(s,"iterate",Ar),o.forEach((u,f)=>n.call(i,l(u),l(f),a))}}function hi(t,e,r){return function(...n){const i=this.__v_raw,a=Mt(i),o=tn(a),s=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...n),f=r?es:e?is:Nn;return!e&&he(a,"iterate",l?oo:Ar),{next(){const{value:c,done:d}=u.next();return d?{value:c,done:d}:{value:s?[f(c[0]),f(c[1])]:f(c),done:d}},[Symbol.iterator](){return this}}}}function ar(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function dp(){const t={get(a){return ci(this,a)},get size(){return pi(this)},has:di,add:al,set:ol,delete:sl,clear:ll,forEach:vi(!1,!1)},e={get(a){return ci(this,a,!1,!0)},get size(){return pi(this)},has:di,add(a){return al.call(this,a,!0)},set(a,o){return ol.call(this,a,o,!0)},delete:sl,clear:ll,forEach:vi(!1,!0)},r={get(a){return ci(this,a,!0)},get size(){return pi(this,!0)},has(a){return di.call(this,a,!0)},add:ar("add"),set:ar("set"),delete:ar("delete"),clear:ar("clear"),forEach:vi(!0,!1)},n={get(a){return ci(this,a,!0,!0)},get size(){return pi(this,!0)},has(a){return di.call(this,a,!0)},add:ar("add"),set:ar("set"),delete:ar("delete"),clear:ar("clear"),forEach:vi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=hi(a,!1,!1),r[a]=hi(a,!0,!1),e[a]=hi(a,!1,!0),n[a]=hi(a,!0,!0)}),[t,r,e,n]}const[pp,vp,hp,gp]=dp();function rs(t,e){const r=e?t?gp:hp:t?vp:pp;return(n,i,a)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(wt(r,i)&&i in n?r:n,i,a)}const mp={get:rs(!1,!1)},bp={get:rs(!1,!0)},yp={get:rs(!0,!1)};const Xu=new WeakMap,ju=new WeakMap,qu=new WeakMap,_p=new WeakMap;function xp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sp(t){return t.__v_skip||!Object.isExtensible(t)?0:xp(Yd(t))}function ce(t){return kr(t)?t:ns(t,!1,up,mp,Xu)}function Cp(t){return ns(t,!1,cp,bp,ju)}function Uu(t){return ns(t,!0,fp,yp,qu)}function ns(t,e,r,n,i){if(!Gt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=i.get(t);if(a)return a;const o=Sp(t);if(o===0)return t;const s=new Proxy(t,o===2?n:r);return i.set(t,s),s}function Rn(t){return kr(t)?Rn(t.__v_raw):!!(t&&t.__v_isReactive)}function kr(t){return!!(t&&t.__v_isReadonly)}function sn(t){return!!(t&&t.__v_isShallow)}function Ku(t){return t?!!t.__v_raw:!1}function Mt(t){const e=t&&t.__v_raw;return e?Mt(e):t}function wp(t){return Object.isExtensible(t)&&Au(t,"__v_skip",!0),t}const Nn=t=>Gt(t)?ce(t):t,is=t=>Gt(t)?Uu(t):t;class Zu{constructor(e,r,n,i){this.getter=e,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Qo(()=>e(this._value),()=>Bi(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=Mt(this);return(!e._cacheable||e.effect.dirty)&&hr(e._value,e._value=e.effect.run())&&Bi(e,4),Qu(e),e.effect._dirtyLevel>=2&&Bi(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Ep(t,e,r=!1){let n,i;const a=_t(t);return a?(n=t,i=Ee):(n=t.get,i=t.set),new Zu(n,i,a||!i,r)}function Qu(t){var e;dr&&Ir&&(t=Mt(t),Lu(Ir,(e=t.dep)!=null?e:t.dep=$u(()=>t.dep=void 0,t instanceof Zu?t:void 0)))}function Bi(t,e=4,r,n){t=Mt(t);const i=t.dep;i&&Hu(i,e)}function ge(t){return!!(t&&t.__v_isRef===!0)}function St(t){return Ju(t,!1)}function Dp(t){return Ju(t,!0)}function Ju(t,e){return ge(t)?t:new Mp(t,e)}class Mp{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:Mt(e),this._value=r?e:Nn(e)}get value(){return Qu(this),this._value}set value(e){const r=this.__v_isShallow||sn(e)||kr(e);e=r?e:Mt(e),hr(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=r?e:Nn(e),Bi(this,4))}}function At(t){return ge(t)?t.value:t}const Op={get:(t,e,r)=>At(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return ge(i)&&!ge(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function tf(t){return Rn(t)?t:new Proxy(t,Op)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function pr(t,e,r,n){try{return n?t(...n):t()}catch(i){fa(i,e,r)}}function Pe(t,e,r,n){if(_t(t)){const i=pr(t,e,r,n);return i&&Tu(i)&&i.catch(a=>{fa(a,e,r)}),i}if(yt(t)){const i=[];for(let a=0;a<t.length;a++)i.push(Pe(t[a],e,r,n));return i}}function fa(t,e,r,n=!0){const i=e?e.vnode:null;if(e){let a=e.parent;const o=e.proxy,s=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,o,s)===!1)return}a=a.parent}const l=e.appContext.config.errorHandler;if(l){xr(),pr(l,null,10,[t,o,s]),Sr();return}}Rp(t,r,i,n)}function Rp(t,e,r,n=!0){console.error(t)}let Ln=!1,so=!1;const re=[];let He=0;const en=[];let sr=null,Dr=0;const ef=Promise.resolve();let as=null;function rf(t){const e=as||ef;return t?e.then(this?t.bind(this):t):e}function Tp(t){let e=He+1,r=re.length;for(;e<r;){const n=e+r>>>1,i=re[n],a=Hn(i);a<t||a===t&&i.pre?e=n+1:r=n}return e}function os(t){(!re.length||!re.includes(t,Ln&&t.allowRecurse?He+1:He))&&(t.id==null?re.push(t):re.splice(Tp(t.id),0,t),nf())}function nf(){!Ln&&!so&&(so=!0,as=ef.then(of))}function Pp(t){const e=re.indexOf(t);e>He&&re.splice(e,1)}function Ip(t){yt(t)?en.push(...t):(!sr||!sr.includes(t,t.allowRecurse?Dr+1:Dr))&&en.push(t),nf()}function ul(t,e,r=Ln?He+1:0){for(;r<re.length;r++){const n=re[r];if(n&&n.pre){if(t&&n.id!==t.uid)continue;re.splice(r,1),r--,n()}}}function af(t){if(en.length){const e=[...new Set(en)].sort((r,n)=>Hn(r)-Hn(n));if(en.length=0,sr){sr.push(...e);return}for(sr=e,Dr=0;Dr<sr.length;Dr++){const r=sr[Dr];r.active!==!1&&r()}sr=null,Dr=0}}const Hn=t=>t.id==null?1/0:t.id,Ap=(t,e)=>{const r=Hn(t)-Hn(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function of(t){so=!1,Ln=!0,re.sort(Ap);try{for(He=0;He<re.length;He++){const e=re[He];e&&e.active!==!1&&pr(e,e.i,e.i?15:14)}}finally{He=0,re.length=0,af(),Ln=!1,as=null,(re.length||en.length)&&of()}}let Kt=null,sf=null;function $i(t){const e=Kt;return Kt=t,sf=t&&t.type.__scopeId||null,e}function Ye(t,e=Kt,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&bl(-1);const a=$i(e);let o;try{o=t(...i)}finally{$i(a),n._d&&bl(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function rn(t,e){if(Kt===null)return t;const r=ga(Kt),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[a,o,s,l=Bt]=e[i];a&&(_t(a)&&(a={mounted:a,updated:a}),a.deep&&ur(o),n.push({dir:a,instance:r,value:o,oldValue:void 0,arg:s,modifiers:l}))}return t}function wr(t,e,r,n){const i=t.dirs,a=e&&e.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[n];l&&(xr(),Pe(l,r,8,[t.el,s,t,e]),Sr())}}function lf(t,e){t.shapeFlag&6&&t.component?lf(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function je(t,e){return _t(t)?ne({name:t.name},e,{setup:t}):t}const Tn=t=>!!t.type.__asyncLoader,uf=t=>t.type.__isKeepAlive;function kp(t,e){ff(t,"a",e)}function Bp(t,e){ff(t,"da",e)}function ff(t,e,r=Qt){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ca(e,n,r),r){let i=r.parent;for(;i&&i.parent;)uf(i.parent.vnode)&&zp(n,e,r,i),i=i.parent}}function zp(t,e,r,n){const i=ca(e,t,n,!0);da(()=>{Ko(n[e],i)},r)}function ca(t,e,r=Qt,n=!1){if(r){const i=r[t]||(r[t]=[]),a=e.__weh||(e.__weh=(...o)=>{xr();const s=Zn(r),l=Pe(e,r,t,o);return s(),Sr(),l});return n?i.unshift(a):i.push(a),a}}const nr=t=>(e,r=Qt)=>{(!ha||t==="sp")&&ca(t,(...n)=>e(...n),r)},cf=nr("bm"),qe=nr("m"),Gp=nr("bu"),Fp=nr("u"),Np=nr("bum"),da=nr("um"),Lp=nr("sp"),Hp=nr("rtg"),$p=nr("rtc");function Wp(t,e=Qt){ca("ec",t,e)}const Vp="components",df=Symbol.for("v-ndc");function Yp(t){return Yt(t)?Xp(Vp,t,!1)||t:t||df}function Xp(t,e,r=!0,n=!1){const i=Kt||Qt;if(i){const a=i.type;{const s=Gv(a,!1);if(s&&(s===e||s===ke(e)||s===la(ke(e))))return a}const o=fl(i[t]||a[t],e)||fl(i.appContext[t],e);return!o&&n?a:o}}function fl(t,e){return t&&(t[e]||t[ke(e)]||t[la(ke(e))])}function ss(t,e,r,n){let i;const a=r;if(yt(t)||Yt(t)){i=new Array(t.length);for(let o=0,s=t.length;o<s;o++)i[o]=e(t[o],o,void 0,a)}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,a)}else if(Gt(t))if(t[Symbol.iterator])i=Array.from(t,(o,s)=>e(o,s,void 0,a));else{const o=Object.keys(t);i=new Array(o.length);for(let s=0,l=o.length;s<l;s++){const u=o[s];i[s]=e(t[u],u,s,a)}}else i=[];return i}function lo(t,e,r={},n,i){if(Kt.isCE||Kt.parent&&Tn(Kt.parent)&&Kt.parent.isCE)return e!=="default"&&(r.name=e),Jt("slot",r,n);let a=t[e];a&&a._c&&(a._d=!1),Tt();const o=a&&pf(a(r)),s=Lr(ee,{key:(r.key||o&&o.key||`_${e}`)+(!o&&n?"_fb":"")},o||[],o&&t._===1?64:-2);return!i&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),a&&a._c&&(a._d=!0),s}function pf(t){return t.some(e=>Tf(e)?!(e.type===gr||e.type===ee&&!pf(e.children)):!0)?t:null}const uo=t=>t?If(t)?ga(t):uo(t.parent):null,Pn=ne(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>uo(t.parent),$root:t=>uo(t.root),$emit:t=>t.emit,$options:t=>ls(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,os(t.update)}),$nextTick:t=>t.n||(t.n=rf.bind(t.proxy)),$watch:t=>mv.bind(t)}),Ba=(t,e)=>t!==Bt&&!t.__isScriptSetup&&wt(t,e),jp={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return a[e]}else{if(Ba(n,e))return o[e]=1,n[e];if(i!==Bt&&wt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&wt(u,e))return o[e]=3,a[e];if(r!==Bt&&wt(r,e))return o[e]=4,r[e];fo&&(o[e]=0)}}const f=Pn[e];let c,d;if(f)return e==="$attrs"&&he(t.attrs,"get",""),f(t);if((c=s.__cssModules)&&(c=c[e]))return c;if(r!==Bt&&wt(r,e))return o[e]=4,r[e];if(d=l.config.globalProperties,wt(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:a}=t;return Ba(i,e)?(i[e]=r,!0):n!==Bt&&wt(n,e)?(n[e]=r,!0):wt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:a}},o){let s;return!!r[o]||t!==Bt&&wt(t,o)||Ba(e,o)||(s=a[0])&&wt(s,o)||wt(n,o)||wt(Pn,o)||wt(i.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:wt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function cl(t){return yt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let fo=!0;function qp(t){const e=ls(t),r=t.proxy,n=t.ctx;fo=!1,e.beforeCreate&&dl(e.beforeCreate,t,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:f,beforeMount:c,mounted:d,beforeUpdate:p,updated:v,activated:h,deactivated:g,beforeDestroy:m,beforeUnmount:b,destroyed:y,unmounted:_,render:C,renderTracked:x,renderTriggered:w,errorCaptured:S,serverPrefetch:E,expose:D,inheritAttrs:T,components:I,directives:R,filters:N}=e;if(u&&Up(u,n,null),o)for(const k in o){const L=o[k];_t(L)&&(n[k]=L.bind(r))}if(i){const k=i.call(r,r);Gt(k)&&(t.data=ce(k))}if(fo=!0,a)for(const k in a){const L=a[k],B=_t(L)?L.bind(r,r):_t(L.get)?L.get.bind(r,r):Ee,H=!_t(L)&&_t(L.set)?L.set.bind(r):Ee,F=Dt({get:B,set:H});Object.defineProperty(n,k,{enumerable:!0,configurable:!0,get:()=>F.value,set:j=>F.value=j})}if(s)for(const k in s)vf(s[k],n,r,k);if(l){const k=_t(l)?l.call(r):l;Reflect.ownKeys(k).forEach(L=>{ev(L,k[L])})}f&&dl(f,t,"c");function $(k,L){yt(L)?L.forEach(B=>k(B.bind(r))):L&&k(L.bind(r))}if($(cf,c),$(qe,d),$(Gp,p),$(Fp,v),$(kp,h),$(Bp,g),$(Wp,S),$($p,x),$(Hp,w),$(Np,b),$(da,_),$(Lp,E),yt(D))if(D.length){const k=t.exposed||(t.exposed={});D.forEach(L=>{Object.defineProperty(k,L,{get:()=>r[L],set:B=>r[L]=B})})}else t.exposed||(t.exposed={});C&&t.render===Ee&&(t.render=C),T!=null&&(t.inheritAttrs=T),I&&(t.components=I),R&&(t.directives=R)}function Up(t,e,r=Ee){yt(t)&&(t=co(t));for(const n in t){const i=t[n];let a;Gt(i)?"default"in i?a=zi(i.from||n,i.default,!0):a=zi(i.from||n):a=zi(i),ge(a)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):e[n]=a}}function dl(t,e,r){Pe(yt(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function vf(t,e,r,n){const i=n.includes(".")?Mf(r,n):()=>r[n];if(Yt(t)){const a=e[t];_t(a)&&We(i,a)}else if(_t(t))We(i,t.bind(r));else if(Gt(t))if(yt(t))t.forEach(a=>vf(a,e,r,n));else{const a=_t(t.handler)?t.handler.bind(r):e[t.handler];_t(a)&&We(i,a,t)}}function ls(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=t.appContext,s=a.get(e);let l;return s?l=s:!i.length&&!r&&!n?l=e:(l={},i.length&&i.forEach(u=>Wi(l,u,o,!0)),Wi(l,e,o)),Gt(e)&&a.set(e,l),l}function Wi(t,e,r,n=!1){const{mixins:i,extends:a}=e;a&&Wi(t,a,r,!0),i&&i.forEach(o=>Wi(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const s=Kp[o]||r&&r[o];t[o]=s?s(t[o],e[o]):e[o]}return t}const Kp={data:pl,props:vl,emits:vl,methods:wn,computed:wn,beforeCreate:se,created:se,beforeMount:se,mounted:se,beforeUpdate:se,updated:se,beforeDestroy:se,beforeUnmount:se,destroyed:se,unmounted:se,activated:se,deactivated:se,errorCaptured:se,serverPrefetch:se,components:wn,directives:wn,watch:Qp,provide:pl,inject:Zp};function pl(t,e){return e?t?function(){return ne(_t(t)?t.call(this,this):t,_t(e)?e.call(this,this):e)}:e:t}function Zp(t,e){return wn(co(t),co(e))}function co(t){if(yt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function se(t,e){return t?[...new Set([].concat(t,e))]:e}function wn(t,e){return t?ne(Object.create(null),t,e):e}function vl(t,e){return t?yt(t)&&yt(e)?[...new Set([...t,...e])]:ne(Object.create(null),cl(t),cl(e??{})):e}function Qp(t,e){if(!t)return e;if(!e)return t;const r=ne(Object.create(null),t);for(const n in e)r[n]=se(t[n],e[n]);return r}function hf(){return{app:null,config:{isNativeTag:Wd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jp=0;function tv(t,e){return function(n,i=null){_t(n)||(n=ne({},n)),i!=null&&!Gt(i)&&(i=null);const a=hf(),o=new WeakSet;let s=!1;const l=a.app={_uid:Jp++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:Nv,get config(){return a.config},set config(u){},use(u,...f){return o.has(u)||(u&&_t(u.install)?(o.add(u),u.install(l,...f)):_t(u)&&(o.add(u),u(l,...f))),l},mixin(u){return a.mixins.includes(u)||a.mixins.push(u),l},component(u,f){return f?(a.components[u]=f,l):a.components[u]},directive(u,f){return f?(a.directives[u]=f,l):a.directives[u]},mount(u,f,c){if(!s){const d=Jt(n,i);return d.appContext=a,c===!0?c="svg":c===!1&&(c=void 0),f&&e?e(d,u):t(d,u,c),s=!0,l._container=u,u.__vue_app__=l,ga(d.component)}},unmount(){s&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,f){return a.provides[u]=f,l},runWithContext(u){const f=nn;nn=l;try{return u()}finally{nn=f}}};return l}}let nn=null;function ev(t,e){if(Qt){let r=Qt.provides;const n=Qt.parent&&Qt.parent.provides;n===r&&(r=Qt.provides=Object.create(n)),r[t]=e}}function zi(t,e,r=!1){const n=Qt||Kt;if(n||nn){const i=nn?nn._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&_t(e)?e.call(n&&n.proxy):e}}const gf={},mf=()=>Object.create(gf),bf=t=>Object.getPrototypeOf(t)===gf;function rv(t,e,r,n=!1){const i={},a=mf();t.propsDefaults=Object.create(null),yf(t,e,i,a);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:Cp(i):t.type.props?t.props=i:t.props=a,t.attrs=a}function nv(t,e,r,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=t,s=Mt(i),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let c=0;c<f.length;c++){let d=f[c];if(pa(t.emitsOptions,d))continue;const p=e[d];if(l)if(wt(a,d))p!==a[d]&&(a[d]=p,u=!0);else{const v=ke(d);i[v]=po(l,s,v,p,t,!1)}else p!==a[d]&&(a[d]=p,u=!0)}}}else{yf(t,e,i,a)&&(u=!0);let f;for(const c in s)(!e||!wt(e,c)&&((f=Nr(c))===c||!wt(e,f)))&&(l?r&&(r[c]!==void 0||r[f]!==void 0)&&(i[c]=po(l,s,c,void 0,t,!0)):delete i[c]);if(a!==s)for(const c in a)(!e||!wt(e,c))&&(delete a[c],u=!0)}u&&Ze(t.attrs,"set","")}function yf(t,e,r,n){const[i,a]=t.propsOptions;let o=!1,s;if(e)for(let l in e){if(On(l))continue;const u=e[l];let f;i&&wt(i,f=ke(l))?!a||!a.includes(f)?r[f]=u:(s||(s={}))[f]=u:pa(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(a){const l=Mt(r),u=s||Bt;for(let f=0;f<a.length;f++){const c=a[f];r[c]=po(i,l,c,u[c],t,!wt(u,c))}}return o}function po(t,e,r,n,i,a){const o=t[r];if(o!=null){const s=wt(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&_t(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const f=Zn(i);n=u[r]=l.call(null,e),f()}}else n=l}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===Nr(r))&&(n=!0))}return n}const iv=new WeakMap;function _f(t,e,r=!1){const n=r?iv:e.propsCache,i=n.get(t);if(i)return i;const a=t.props,o={},s=[];let l=!1;if(!_t(t)){const f=c=>{l=!0;const[d,p]=_f(c,e,!0);ne(o,d),p&&s.push(...p)};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!a&&!l)return Gt(t)&&n.set(t,Jr),Jr;if(yt(a))for(let f=0;f<a.length;f++){const c=ke(a[f]);hl(c)&&(o[c]=Bt)}else if(a)for(const f in a){const c=ke(f);if(hl(c)){const d=a[f],p=o[c]=yt(d)||_t(d)?{type:d}:ne({},d),v=p.type;let h=!1,g=!0;if(yt(v))for(let m=0;m<v.length;++m){const b=v[m],y=_t(b)&&b.name;if(y==="Boolean"){h=!0;break}else y==="String"&&(g=!1)}else h=_t(v)&&v.name==="Boolean";p[0]=h,p[1]=g,(h||wt(p,"default"))&&s.push(c)}}const u=[o,s];return Gt(t)&&n.set(t,u),u}function hl(t){return t[0]!=="$"&&!On(t)}const xf=t=>t[0]==="_"||t==="$stable",us=t=>yt(t)?t.map(Le):[Le(t)],av=(t,e,r)=>{if(e._n)return e;const n=Ye((...i)=>us(e(...i)),r);return n._c=!1,n},Sf=(t,e,r)=>{const n=t._ctx;for(const i in t){if(xf(i))continue;const a=t[i];if(_t(a))e[i]=av(i,a,n);else if(a!=null){const o=us(a);e[i]=()=>o}}},Cf=(t,e)=>{const r=us(e);t.slots.default=()=>r},wf=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},ov=(t,e,r)=>{const n=t.slots=mf();if(t.vnode.shapeFlag&32){const i=e._;i?(wf(n,e,r),r&&Au(n,"_",i,!0)):Sf(e,n)}else e&&Cf(t,e)},sv=(t,e,r)=>{const{vnode:n,slots:i}=t;let a=!0,o=Bt;if(n.shapeFlag&32){const s=e._;s?r&&s===1?a=!1:wf(i,e,r):(a=!e.$stable,Sf(e,i)),o=e}else e&&(Cf(t,e),o={default:1});if(a)for(const s in i)!xf(s)&&o[s]==null&&delete i[s]};function vo(t,e,r,n,i=!1){if(yt(t)){t.forEach((d,p)=>vo(d,e&&(yt(e)?e[p]:e),r,n,i));return}if(Tn(n)&&!i)return;const a=n.shapeFlag&4?ga(n.component):n.el,o=i?null:a,{i:s,r:l}=t,u=e&&e.r,f=s.refs===Bt?s.refs={}:s.refs,c=s.setupState;if(u!=null&&u!==l&&(Yt(u)?(f[u]=null,wt(c,u)&&(c[u]=null)):ge(u)&&(u.value=null)),_t(l))pr(l,s,12,[o,f]);else{const d=Yt(l),p=ge(l);if(d||p){const v=()=>{if(t.f){const h=d?wt(c,l)?c[l]:f[l]:l.value;i?yt(h)&&Ko(h,a):yt(h)?h.includes(a)||h.push(a):d?(f[l]=[a],wt(c,l)&&(c[l]=f[l])):(l.value=[a],t.k&&(f[t.k]=l.value))}else d?(f[l]=o,wt(c,l)&&(c[l]=o)):p&&(l.value=o,t.k&&(f[t.k]=o))};o?(v.id=-1,pe(v,r)):v()}}}const lv=Symbol("_vte"),uv=t=>t.__isTeleport,pe=Ev;function fv(t){return cv(t)}function cv(t,e){const r=ku();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:f,parentNode:c,nextSibling:d,setScopeId:p=Ee,insertStaticContent:v}=t,h=(M,O,G,W=null,Y=null,X=null,U=void 0,Q=null,rt=!!O.dynamicChildren)=>{if(M===O)return;M&&!Sn(M,O)&&(W=at(M),j(M,Y,X,!0),M=null),O.patchFlag===-2&&(rt=!1,O.dynamicChildren=null);const{type:Z,ref:ot,shapeFlag:lt}=O;switch(Z){case va:g(M,O,G,W);break;case gr:m(M,O,G,W);break;case Gi:M==null&&b(O,G,W,U);break;case ee:I(M,O,G,W,Y,X,U,Q,rt);break;default:lt&1?C(M,O,G,W,Y,X,U,Q,rt):lt&6?R(M,O,G,W,Y,X,U,Q,rt):(lt&64||lt&128)&&Z.process(M,O,G,W,Y,X,U,Q,rt,gt)}ot!=null&&Y&&vo(ot,M&&M.ref,X,O||M,!O)},g=(M,O,G,W)=>{if(M==null)n(O.el=s(O.children),G,W);else{const Y=O.el=M.el;O.children!==M.children&&u(Y,O.children)}},m=(M,O,G,W)=>{M==null?n(O.el=l(O.children||""),G,W):O.el=M.el},b=(M,O,G,W)=>{[M.el,M.anchor]=v(M.children,O,G,W,M.el,M.anchor)},y=({el:M,anchor:O},G,W)=>{let Y;for(;M&&M!==O;)Y=d(M),n(M,G,W),M=Y;n(O,G,W)},_=({el:M,anchor:O})=>{let G;for(;M&&M!==O;)G=d(M),i(M),M=G;i(O)},C=(M,O,G,W,Y,X,U,Q,rt)=>{O.type==="svg"?U="svg":O.type==="math"&&(U="mathml"),M==null?x(O,G,W,Y,X,U,Q,rt):E(M,O,Y,X,U,Q,rt)},x=(M,O,G,W,Y,X,U,Q)=>{let rt,Z;const{props:ot,shapeFlag:lt,transition:st,dirs:vt}=M;if(rt=M.el=o(M.type,X,ot&&ot.is,ot),lt&8?f(rt,M.children):lt&16&&S(M.children,rt,null,W,Y,za(M,X),U,Q),vt&&wr(M,null,W,"created"),w(rt,M,M.scopeId,U,W),ot){for(const Ot in ot)Ot!=="value"&&!On(Ot)&&a(rt,Ot,null,ot[Ot],X,W);"value"in ot&&a(rt,"value",null,ot.value,X),(Z=ot.onVnodeBeforeMount)&&Ne(Z,W,M)}vt&&wr(M,null,W,"beforeMount");const mt=dv(Y,st);mt&&st.beforeEnter(rt),n(rt,O,G),((Z=ot&&ot.onVnodeMounted)||mt||vt)&&pe(()=>{Z&&Ne(Z,W,M),mt&&st.enter(rt),vt&&wr(M,null,W,"mounted")},Y)},w=(M,O,G,W,Y)=>{if(G&&p(M,G),W)for(let X=0;X<W.length;X++)p(M,W[X]);if(Y){let X=Y.subTree;if(O===X){const U=Y.vnode;w(M,U,U.scopeId,U.slotScopeIds,Y.parent)}}},S=(M,O,G,W,Y,X,U,Q,rt=0)=>{for(let Z=rt;Z<M.length;Z++){const ot=M[Z]=Q?lr(M[Z]):Le(M[Z]);h(null,ot,O,G,W,Y,X,U,Q)}},E=(M,O,G,W,Y,X,U)=>{const Q=O.el=M.el;let{patchFlag:rt,dynamicChildren:Z,dirs:ot}=O;rt|=M.patchFlag&16;const lt=M.props||Bt,st=O.props||Bt;let vt;if(G&&Er(G,!1),(vt=st.onVnodeBeforeUpdate)&&Ne(vt,G,O,M),ot&&wr(O,M,G,"beforeUpdate"),G&&Er(G,!0),(lt.innerHTML&&st.innerHTML==null||lt.textContent&&st.textContent==null)&&f(Q,""),Z?D(M.dynamicChildren,Z,Q,G,W,za(O,Y),X):U||L(M,O,Q,null,G,W,za(O,Y),X,!1),rt>0){if(rt&16)T(Q,lt,st,G,Y);else if(rt&2&&lt.class!==st.class&&a(Q,"class",null,st.class,Y),rt&4&&a(Q,"style",lt.style,st.style,Y),rt&8){const mt=O.dynamicProps;for(let Ot=0;Ot<mt.length;Ot++){const Ct=mt[Ot],$t=lt[Ct],te=st[Ct];(te!==$t||Ct==="value")&&a(Q,Ct,$t,te,Y,G)}}rt&1&&M.children!==O.children&&f(Q,O.children)}else!U&&Z==null&&T(Q,lt,st,G,Y);((vt=st.onVnodeUpdated)||ot)&&pe(()=>{vt&&Ne(vt,G,O,M),ot&&wr(O,M,G,"updated")},W)},D=(M,O,G,W,Y,X,U)=>{for(let Q=0;Q<O.length;Q++){const rt=M[Q],Z=O[Q],ot=rt.el&&(rt.type===ee||!Sn(rt,Z)||rt.shapeFlag&70)?c(rt.el):G;h(rt,Z,ot,null,W,Y,X,U,!0)}},T=(M,O,G,W,Y)=>{if(O!==G){if(O!==Bt)for(const X in O)!On(X)&&!(X in G)&&a(M,X,O[X],null,Y,W);for(const X in G){if(On(X))continue;const U=G[X],Q=O[X];U!==Q&&X!=="value"&&a(M,X,Q,U,Y,W)}"value"in G&&a(M,"value",O.value,G.value,Y)}},I=(M,O,G,W,Y,X,U,Q,rt)=>{const Z=O.el=M?M.el:s(""),ot=O.anchor=M?M.anchor:s("");let{patchFlag:lt,dynamicChildren:st,slotScopeIds:vt}=O;vt&&(Q=Q?Q.concat(vt):vt),M==null?(n(Z,G,W),n(ot,G,W),S(O.children||[],G,ot,Y,X,U,Q,rt)):lt>0&&lt&64&&st&&M.dynamicChildren?(D(M.dynamicChildren,st,G,Y,X,U,Q),(O.key!=null||Y&&O===Y.subTree)&&Ef(M,O,!0)):L(M,O,G,ot,Y,X,U,Q,rt)},R=(M,O,G,W,Y,X,U,Q,rt)=>{O.slotScopeIds=Q,M==null?O.shapeFlag&512?Y.ctx.activate(O,G,W,U,rt):N(O,G,W,Y,X,U,rt):z(M,O,rt)},N=(M,O,G,W,Y,X,U)=>{const Q=M.component=Pv(M,W,Y);if(uf(M)&&(Q.ctx.renderer=gt),Av(Q,!1,U),Q.asyncDep){if(Y&&Y.registerDep(Q,$,U),!M.el){const rt=Q.subTree=Jt(gr);m(null,rt,O,G)}}else $(Q,M,O,G,Y,X,U)},z=(M,O,G)=>{const W=O.component=M.component;if(Sv(M,O,G))if(W.asyncDep&&!W.asyncResolved){k(W,O,G);return}else W.next=O,Pp(W.update),W.effect.dirty=!0,W.update();else O.el=M.el,W.vnode=O},$=(M,O,G,W,Y,X,U)=>{const Q=()=>{if(M.isMounted){let{next:ot,bu:lt,u:st,parent:vt,vnode:mt}=M;{const Fe=Df(M);if(Fe){ot&&(ot.el=mt.el,k(M,ot,U)),Fe.asyncDep.then(()=>{M.isUnmounted||Q()});return}}let Ot=ot,Ct;Er(M,!1),ot?(ot.el=mt.el,k(M,ot,U)):ot=mt,lt&&Aa(lt),(Ct=ot.props&&ot.props.onVnodeBeforeUpdate)&&Ne(Ct,vt,ot,mt),Er(M,!0);const $t=Ga(M),te=M.subTree;M.subTree=$t,h(te,$t,c(te.el),at(te),M,Y,X),ot.el=$t.el,Ot===null&&Cv(M,$t.el),st&&pe(st,Y),(Ct=ot.props&&ot.props.onVnodeUpdated)&&pe(()=>Ne(Ct,vt,ot,mt),Y)}else{let ot;const{el:lt,props:st}=O,{bm:vt,m:mt,parent:Ot}=M,Ct=Tn(O);if(Er(M,!1),vt&&Aa(vt),!Ct&&(ot=st&&st.onVnodeBeforeMount)&&Ne(ot,Ot,O),Er(M,!0),lt&&ft){const $t=()=>{M.subTree=Ga(M),ft(lt,M.subTree,M,Y,null)};Ct?O.type.__asyncLoader().then(()=>!M.isUnmounted&&$t()):$t()}else{const $t=M.subTree=Ga(M);h(null,$t,G,W,M,Y,X),O.el=$t.el}if(mt&&pe(mt,Y),!Ct&&(ot=st&&st.onVnodeMounted)){const $t=O;pe(()=>Ne(ot,Ot,$t),Y)}(O.shapeFlag&256||Ot&&Tn(Ot.vnode)&&Ot.vnode.shapeFlag&256)&&M.a&&pe(M.a,Y),M.isMounted=!0,O=G=W=null}},rt=M.effect=new Qo(Q,Ee,()=>os(Z),M.scope),Z=M.update=()=>{rt.dirty&&rt.run()};Z.i=M,Z.id=M.uid,Er(M,!0),Z()},k=(M,O,G)=>{O.component=M;const W=M.vnode.props;M.vnode=O,M.next=null,nv(M,O.props,W,G),sv(M,O.children,G),xr(),ul(M),Sr()},L=(M,O,G,W,Y,X,U,Q,rt=!1)=>{const Z=M&&M.children,ot=M?M.shapeFlag:0,lt=O.children,{patchFlag:st,shapeFlag:vt}=O;if(st>0){if(st&128){H(Z,lt,G,W,Y,X,U,Q,rt);return}else if(st&256){B(Z,lt,G,W,Y,X,U,Q,rt);return}}vt&8?(ot&16&&et(Z,Y,X),lt!==Z&&f(G,lt)):ot&16?vt&16?H(Z,lt,G,W,Y,X,U,Q,rt):et(Z,Y,X,!0):(ot&8&&f(G,""),vt&16&&S(lt,G,W,Y,X,U,Q,rt))},B=(M,O,G,W,Y,X,U,Q,rt)=>{M=M||Jr,O=O||Jr;const Z=M.length,ot=O.length,lt=Math.min(Z,ot);let st;for(st=0;st<lt;st++){const vt=O[st]=rt?lr(O[st]):Le(O[st]);h(M[st],vt,G,null,Y,X,U,Q,rt)}Z>ot?et(M,Y,X,!0,!1,lt):S(O,G,W,Y,X,U,Q,rt,lt)},H=(M,O,G,W,Y,X,U,Q,rt)=>{let Z=0;const ot=O.length;let lt=M.length-1,st=ot-1;for(;Z<=lt&&Z<=st;){const vt=M[Z],mt=O[Z]=rt?lr(O[Z]):Le(O[Z]);if(Sn(vt,mt))h(vt,mt,G,null,Y,X,U,Q,rt);else break;Z++}for(;Z<=lt&&Z<=st;){const vt=M[lt],mt=O[st]=rt?lr(O[st]):Le(O[st]);if(Sn(vt,mt))h(vt,mt,G,null,Y,X,U,Q,rt);else break;lt--,st--}if(Z>lt){if(Z<=st){const vt=st+1,mt=vt<ot?O[vt].el:W;for(;Z<=st;)h(null,O[Z]=rt?lr(O[Z]):Le(O[Z]),G,mt,Y,X,U,Q,rt),Z++}}else if(Z>st)for(;Z<=lt;)j(M[Z],Y,X,!0),Z++;else{const vt=Z,mt=Z,Ot=new Map;for(Z=mt;Z<=st;Z++){const ae=O[Z]=rt?lr(O[Z]):Le(O[Z]);ae.key!=null&&Ot.set(ae.key,Z)}let Ct,$t=0;const te=st-mt+1;let Fe=!1,ui=0;const ir=new Array(te);for(Z=0;Z<te;Z++)ir[Z]=0;for(Z=vt;Z<=lt;Z++){const ae=M[Z];if($t>=te){j(ae,Y,X,!0);continue}let Ce;if(ae.key!=null)Ce=Ot.get(ae.key);else for(Ct=mt;Ct<=st;Ct++)if(ir[Ct-mt]===0&&Sn(ae,O[Ct])){Ce=Ct;break}Ce===void 0?j(ae,Y,X,!0):(ir[Ce-mt]=Z+1,Ce>=ui?ui=Ce:Fe=!0,h(ae,O[Ce],G,null,Y,X,U,Q,rt),$t++)}const Wr=Fe?pv(ir):Jr;for(Ct=Wr.length-1,Z=te-1;Z>=0;Z--){const ae=mt+Z,Ce=O[ae],fi=ae+1<ot?O[ae+1].el:W;ir[Z]===0?h(null,Ce,G,fi,Y,X,U,Q,rt):Fe&&(Ct<0||Z!==Wr[Ct]?F(Ce,G,fi,2):Ct--)}}},F=(M,O,G,W,Y=null)=>{const{el:X,type:U,transition:Q,children:rt,shapeFlag:Z}=M;if(Z&6){F(M.component.subTree,O,G,W);return}if(Z&128){M.suspense.move(O,G,W);return}if(Z&64){U.move(M,O,G,gt);return}if(U===ee){n(X,O,G);for(let lt=0;lt<rt.length;lt++)F(rt[lt],O,G,W);n(M.anchor,O,G);return}if(U===Gi){y(M,O,G);return}if(W!==2&&Z&1&&Q)if(W===0)Q.beforeEnter(X),n(X,O,G),pe(()=>Q.enter(X),Y);else{const{leave:lt,delayLeave:st,afterLeave:vt}=Q,mt=()=>n(X,O,G),Ot=()=>{lt(X,()=>{mt(),vt&&vt()})};st?st(X,mt,Ot):Ot()}else n(X,O,G)},j=(M,O,G,W=!1,Y=!1)=>{const{type:X,props:U,ref:Q,children:rt,dynamicChildren:Z,shapeFlag:ot,patchFlag:lt,dirs:st,cacheIndex:vt}=M;if(lt===-2&&(Y=!1),Q!=null&&vo(Q,null,G,M,!0),vt!=null&&(O.renderCache[vt]=void 0),ot&256){O.ctx.deactivate(M);return}const mt=ot&1&&st,Ot=!Tn(M);let Ct;if(Ot&&(Ct=U&&U.onVnodeBeforeUnmount)&&Ne(Ct,O,M),ot&6)q(M.component,G,W);else{if(ot&128){M.suspense.unmount(G,W);return}mt&&wr(M,null,O,"beforeUnmount"),ot&64?M.type.remove(M,O,G,gt,W):Z&&!Z.hasOnce&&(X!==ee||lt>0&&lt&64)?et(Z,O,G,!1,!0):(X===ee&&lt&384||!Y&&ot&16)&&et(rt,O,G),W&&V(M)}(Ot&&(Ct=U&&U.onVnodeUnmounted)||mt)&&pe(()=>{Ct&&Ne(Ct,O,M),mt&&wr(M,null,O,"unmounted")},G)},V=M=>{const{type:O,el:G,anchor:W,transition:Y}=M;if(O===ee){K(G,W);return}if(O===Gi){_(M);return}const X=()=>{i(G),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(M.shapeFlag&1&&Y&&!Y.persisted){const{leave:U,delayLeave:Q}=Y,rt=()=>U(G,X);Q?Q(M.el,X,rt):rt()}else X()},K=(M,O)=>{let G;for(;M!==O;)G=d(M),i(M),M=G;i(O)},q=(M,O,G)=>{const{bum:W,scope:Y,update:X,subTree:U,um:Q,m:rt,a:Z}=M;gl(rt),gl(Z),W&&Aa(W),Y.stop(),X&&(X.active=!1,j(U,M,O,G)),Q&&pe(Q,O),pe(()=>{M.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},et=(M,O,G,W=!1,Y=!1,X=0)=>{for(let U=X;U<M.length;U++)j(M[U],O,G,W,Y)},at=M=>{if(M.shapeFlag&6)return at(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const O=d(M.anchor||M.el),G=O&&O[lv];return G?d(G):O};let ct=!1;const ht=(M,O,G)=>{M==null?O._vnode&&j(O._vnode,null,null,!0):h(O._vnode||null,M,O,null,null,null,G),O._vnode=M,ct||(ct=!0,ul(),af(),ct=!1)},gt={p:h,um:j,m:F,r:V,mt:N,mc:S,pc:L,pbc:D,n:at,o:t};let it,ft;return{render:ht,hydrate:it,createApp:tv(ht,it)}}function za({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Er({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function dv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ef(t,e,r=!1){const n=t.children,i=e.children;if(yt(n)&&yt(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=lr(i[a]),s.el=o.el),!r&&s.patchFlag!==-2&&Ef(o,s)),s.type===va&&(s.el=o.el)}}function pv(t){const e=t.slice(),r=[0];let n,i,a,o,s;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(i=r[r.length-1],t[i]<u){e[n]=i,r.push(n);continue}for(a=0,o=r.length-1;a<o;)s=a+o>>1,t[r[s]]<u?a=s+1:o=s;u<t[r[a]]&&(a>0&&(e[n]=r[a-1]),r[a]=n)}}for(a=r.length,o=r[a-1];a-- >0;)r[a]=o,o=e[o];return r}function Df(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Df(e)}function gl(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const vv=Symbol.for("v-scx"),hv=()=>zi(vv);function gv(t,e){return fs(t,null,{flush:"post"})}const gi={};function We(t,e,r){return fs(t,e,r)}function fs(t,e,{immediate:r,deep:n,flush:i,once:a,onTrack:o,onTrigger:s}=Bt){if(e&&a){const x=e;e=(...w)=>{x(...w),C()}}const l=Qt,u=x=>n===!0?x:ur(x,n===!1?1:void 0);let f,c=!1,d=!1;if(ge(t)?(f=()=>t.value,c=sn(t)):Rn(t)?(f=()=>u(t),c=!0):yt(t)?(d=!0,c=t.some(x=>Rn(x)||sn(x)),f=()=>t.map(x=>{if(ge(x))return x.value;if(Rn(x))return u(x);if(_t(x))return pr(x,l,2)})):_t(t)?e?f=()=>pr(t,l,2):f=()=>(p&&p(),Pe(t,l,3,[v])):f=Ee,e&&n){const x=f;f=()=>ur(x())}let p,v=x=>{p=y.onStop=()=>{pr(x,l,4),p=y.onStop=void 0}},h;if(ha)if(v=Ee,e?r&&Pe(e,l,3,[f(),d?[]:void 0,v]):f(),i==="sync"){const x=hv();h=x.__watcherHandles||(x.__watcherHandles=[])}else return Ee;let g=d?new Array(t.length).fill(gi):gi;const m=()=>{if(!(!y.active||!y.dirty))if(e){const x=y.run();(n||c||(d?x.some((w,S)=>hr(w,g[S])):hr(x,g)))&&(p&&p(),Pe(e,l,3,[x,g===gi?void 0:d&&g[0]===gi?[]:g,v]),g=x)}else y.run()};m.allowRecurse=!!e;let b;i==="sync"?b=m:i==="post"?b=()=>pe(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),b=()=>os(m));const y=new Qo(f,Ee,b),_=np(),C=()=>{y.stop(),_&&Ko(_.effects,y)};return e?r?m():g=y.run():i==="post"?pe(y.run.bind(y),l&&l.suspense):y.run(),h&&h.push(C),C}function mv(t,e,r){const n=this.proxy,i=Yt(t)?t.includes(".")?Mf(n,t):()=>n[t]:t.bind(n,n);let a;_t(e)?a=e:(a=e.handler,r=e);const o=Zn(this),s=fs(i,a.bind(n),r);return o(),s}function Mf(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function ur(t,e=1/0,r){if(e<=0||!Gt(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,ge(t))ur(t.value,e,r);else if(yt(t))for(let n=0;n<t.length;n++)ur(t[n],e,r);else if(Ru(t)||tn(t))t.forEach(n=>{ur(n,e,r)});else if(Iu(t)){for(const n in t)ur(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&ur(t[n],e,r)}return t}const bv=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ke(e)}Modifiers`]||t[`${Nr(e)}Modifiers`];function yv(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Bt;let i=r;const a=e.startsWith("update:"),o=a&&bv(n,e.slice(7));o&&(o.trim&&(i=r.map(f=>Yt(f)?f.trim():f)),o.number&&(i=r.map(qd)));let s,l=n[s=Ia(e)]||n[s=Ia(ke(e))];!l&&a&&(l=n[s=Ia(Nr(e))]),l&&Pe(l,t,6,i);const u=n[s+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,Pe(u,t,6,i)}}function Of(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const a=t.emits;let o={},s=!1;if(!_t(t)){const l=u=>{const f=Of(u,e,!0);f&&(s=!0,ne(o,f))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!a&&!s?(Gt(t)&&n.set(t,null),null):(yt(a)?a.forEach(l=>o[l]=null):ne(o,a),Gt(t)&&n.set(t,o),o)}function pa(t,e){return!t||!aa(e)?!1:(e=e.slice(2).replace(/Once$/,""),wt(t,e[0].toLowerCase()+e.slice(1))||wt(t,Nr(e))||wt(t,e))}function Ga(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:f,props:c,data:d,setupState:p,ctx:v,inheritAttrs:h}=t,g=$i(t);let m,b;try{if(r.shapeFlag&4){const _=i||n,C=_;m=Le(u.call(C,_,f,c,p,d,v)),b=s}else{const _=e;m=Le(_.length>1?_(c,{attrs:s,slots:o,emit:l}):_(c,null)),b=e.props?s:_v(s)}}catch(_){In.length=0,fa(_,t,1),m=Jt(gr)}let y=m;if(b&&h!==!1){const _=Object.keys(b),{shapeFlag:C}=y;_.length&&C&7&&(a&&_.some(Uo)&&(b=xv(b,a)),y=ln(y,b,!1,!0))}return r.dirs&&(y=ln(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(r.dirs):r.dirs),r.transition&&(y.transition=r.transition),m=y,$i(g),m}const _v=t=>{let e;for(const r in t)(r==="class"||r==="style"||aa(r))&&((e||(e={}))[r]=t[r]);return e},xv=(t,e)=>{const r={};for(const n in t)(!Uo(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Sv(t,e,r){const{props:n,children:i,component:a}=t,{props:o,children:s,patchFlag:l}=e,u=a.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?ml(n,o,u):!!o;if(l&8){const f=e.dynamicProps;for(let c=0;c<f.length;c++){const d=f[c];if(o[d]!==n[d]&&!pa(u,d))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?ml(n,o,u):!0:!!o;return!1}function ml(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(e[a]!==t[a]&&!pa(r,a))return!0}return!1}function Cv({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const wv=t=>t.__isSuspense;function Ev(t,e){e&&e.pendingBranch?yt(t)?e.effects.push(...t):e.effects.push(t):Ip(t)}const ee=Symbol.for("v-fgt"),va=Symbol.for("v-txt"),gr=Symbol.for("v-cmt"),Gi=Symbol.for("v-stc"),In=[];let _e=null;function Tt(t=!1){In.push(_e=t?null:[])}function Dv(){In.pop(),_e=In[In.length-1]||null}let $n=1;function bl(t){$n+=t,t<0&&_e&&(_e.hasOnce=!0)}function Rf(t){return t.dynamicChildren=$n>0?_e||Jr:null,Dv(),$n>0&&_e&&_e.push(t),t}function Lt(t,e,r,n,i,a){return Rf(J(t,e,r,n,i,a,!0))}function Lr(t,e,r,n,i){return Rf(Jt(t,e,r,n,i,!0))}function Tf(t){return t?t.__v_isVNode===!0:!1}function Sn(t,e){return t.type===e.type&&t.key===e.key}const Pf=({key:t})=>t??null,Fi=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Yt(t)||ge(t)||_t(t)?{i:Kt,r:t,k:e,f:!!r}:t:null);function J(t,e=null,r=null,n=0,i=null,a=t===ee?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Pf(e),ref:e&&Fi(e),scopeId:sf,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Kt};return s?(cs(l,r),a&128&&t.normalize(l)):r&&(l.shapeFlag|=Yt(r)?8:16),$n>0&&!o&&_e&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&_e.push(l),l}const Jt=Mv;function Mv(t,e=null,r=null,n=0,i=null,a=!1){if((!t||t===df)&&(t=gr),Tf(t)){const s=ln(t,e,!0);return r&&cs(s,r),$n>0&&!a&&_e&&(s.shapeFlag&6?_e[_e.indexOf(t)]=s:_e.push(s)),s.patchFlag=-2,s}if(Fv(t)&&(t=t.__vccOpts),e){e=Ov(e);let{class:s,style:l}=e;s&&!Yt(s)&&(e.class=Ge(s)),Gt(l)&&(Ku(l)&&!yt(l)&&(l=ne({},l)),e.style=Nt(l))}const o=Yt(t)?1:wv(t)?128:uv(t)?64:Gt(t)?4:_t(t)?2:0;return J(t,e,r,n,i,o,a,!0)}function Ov(t){return t?Ku(t)||bf(t)?ne({},t):t:null}function ln(t,e,r=!1,n=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=t,u=e?un(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Pf(u),ref:e&&e.ref?r&&a?yt(a)?a.concat(Fi(e)):[a,Fi(e)]:Fi(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ee?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ln(t.ssContent),ssFallback:t.ssFallback&&ln(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&lf(f,l.clone(f)),f}function Kn(t=" ",e=0){return Jt(va,null,t,e)}function ho(t="",e=!1){return e?(Tt(),Lr(gr,null,t)):Jt(gr,null,t)}function Le(t){return t==null||typeof t=="boolean"?Jt(gr):yt(t)?Jt(ee,null,t.slice()):typeof t=="object"?lr(t):Jt(va,null,String(t))}function lr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ln(t)}function cs(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(yt(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),cs(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!bf(e)?e._ctx=Kt:i===3&&Kt&&(Kt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else _t(e)?(e={default:e,_ctx:Kt},r=32):(e=String(e),n&64?(r=16,e=[Kn(e)]):r=8);t.children=e,t.shapeFlag|=r}function un(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Ge([e.class,n.class]));else if(i==="style")e.style=Nt([e.style,n.style]);else if(aa(i)){const a=e[i],o=n[i];o&&a!==o&&!(yt(a)&&a.includes(o))&&(e[i]=a?[].concat(a,o):o)}else i!==""&&(e[i]=n[i])}return e}function Ne(t,e,r,n=null){Pe(t,e,7,[r,n])}const Rv=hf();let Tv=0;function Pv(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||Rv,a={uid:Tv++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new ep(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_f(n,i),emitsOptions:Of(n,i),emit:null,emitted:null,propsDefaults:Bt,inheritAttrs:n.inheritAttrs,ctx:Bt,data:Bt,props:Bt,attrs:Bt,slots:Bt,refs:Bt,setupState:Bt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=yv.bind(null,a),t.ce&&t.ce(a),a}let Qt=null;const Iv=()=>Qt||Kt;let Vi,go;{const t=ku(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};Vi=e("__VUE_INSTANCE_SETTERS__",r=>Qt=r),go=e("__VUE_SSR_SETTERS__",r=>ha=r)}const Zn=t=>{const e=Qt;return Vi(t),t.scope.on(),()=>{t.scope.off(),Vi(e)}},yl=()=>{Qt&&Qt.scope.off(),Vi(null)};function If(t){return t.vnode.shapeFlag&4}let ha=!1;function Av(t,e=!1,r=!1){e&&go(e);const{props:n,children:i}=t.vnode,a=If(t);rv(t,n,a,e),ov(t,i,r);const o=a?kv(t,e):void 0;return e&&go(!1),o}function kv(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,jp);const{setup:n}=r;if(n){const i=t.setupContext=n.length>1?zv(t):null,a=Zn(t);xr();const o=pr(n,t,0,[t.props,i]);if(Sr(),a(),Tu(o)){if(o.then(yl,yl),e)return o.then(s=>{_l(t,s,e)}).catch(s=>{fa(s,t,0)});t.asyncDep=o}else _l(t,o,e)}else Af(t,e)}function _l(t,e,r){_t(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Gt(e)&&(t.setupState=tf(e)),Af(t,r)}let xl;function Af(t,e,r){const n=t.type;if(!t.render){if(!e&&xl&&!n.render){const i=n.template||ls(t).template;if(i){const{isCustomElement:a,compilerOptions:o}=t.appContext.config,{delimiters:s,compilerOptions:l}=n,u=ne(ne({isCustomElement:a,delimiters:s},o),l);n.render=xl(i,u)}}t.render=n.render||Ee}{const i=Zn(t);xr();try{qp(t)}finally{Sr(),i()}}}const Bv={get(t,e){return he(t,"get",""),t[e]}};function zv(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,Bv),slots:t.slots,emit:t.emit,expose:e}}function ga(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(tf(wp(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Pn)return Pn[r](t)},has(e,r){return r in e||r in Pn}})):t.proxy}function Gv(t,e=!0){return _t(t)?t.displayName||t.name:t.name||e&&t.__name}function Fv(t){return _t(t)&&"__vccOpts"in t}const Dt=(t,e)=>Ep(t,e,ha),Nv="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Lv="http://www.w3.org/2000/svg",Hv="http://www.w3.org/1998/Math/MathML",Ke=typeof document<"u"?document:null,Sl=Ke&&Ke.createElement("template"),$v={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?Ke.createElementNS(Lv,t):e==="mathml"?Ke.createElementNS(Hv,t):r?Ke.createElement(t,{is:r}):Ke.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Ke.createTextNode(t),createComment:t=>Ke.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ke.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,a){const o=r?r.previousSibling:e.lastChild;if(i&&(i===a||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{Sl.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const s=Sl.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Wv=Symbol("_vtc");function Vv(t,e,r){const n=t[Wv];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Yi=Symbol("_vod"),kf=Symbol("_vsh"),an={beforeMount(t,{value:e},{transition:r}){t[Yi]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Cn(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Cn(t,!0),n.enter(t)):n.leave(t,()=>{Cn(t,!1)}):Cn(t,e))},beforeUnmount(t,{value:e}){Cn(t,e)}};function Cn(t,e){t.style.display=e?t[Yi]:"none",t[kf]=!e}const Bf=Symbol("");function Yv(t){const e=Iv();if(!e)return;const r=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(a=>bo(a,i))},n=()=>{const i=t(e.proxy);mo(e.subTree,i),r(i)};cf(()=>{gv(n)}),qe(()=>{const i=new MutationObserver(n);i.observe(e.subTree.el.parentNode,{childList:!0}),da(()=>i.disconnect())})}function mo(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{mo(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)bo(t.el,e);else if(t.type===ee)t.children.forEach(r=>mo(r,e));else if(t.type===Gi){let{el:r,anchor:n}=t;for(;r&&(bo(r,e),r!==n);)r=r.nextSibling}}function bo(t,e){if(t.nodeType===1){const r=t.style;let n="";for(const i in e)r.setProperty(`--${i}`,e[i]),n+=`--${i}: ${e[i]};`;r[Bf]=n}}const Xv=/(^|;)\s*display\s*:/;function jv(t,e,r){const n=t.style,i=Yt(r);let a=!1;if(r&&!i){if(e)if(Yt(e))for(const o of e.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&Ni(n,s,"")}else for(const o in e)r[o]==null&&Ni(n,o,"");for(const o in r)o==="display"&&(a=!0),Ni(n,o,r[o])}else if(i){if(e!==r){const o=n[Bf];o&&(r+=";"+o),n.cssText=r,a=Xv.test(r)}}else e&&t.removeAttribute("style");Yi in t&&(t[Yi]=a?n.display:"",t[kf]&&(n.display="none"))}const Cl=/\s*!important$/;function Ni(t,e,r){if(yt(r))r.forEach(n=>Ni(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=qv(t,e);Cl.test(r)?t.setProperty(Nr(n),r.replace(Cl,""),"important"):t[n]=r}}const wl=["Webkit","Moz","ms"],Fa={};function qv(t,e){const r=Fa[e];if(r)return r;let n=ke(e);if(n!=="filter"&&n in t)return Fa[e]=n;n=la(n);for(let i=0;i<wl.length;i++){const a=wl[i]+n;if(a in t)return Fa[e]=a}return e}const El="http://www.w3.org/1999/xlink";function Dl(t,e,r,n,i,a=tp(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(El,e.slice(6,e.length)):t.setAttributeNS(El,e,r):r==null||a&&!Bu(r)?t.removeAttribute(e):t.setAttribute(e,a?"":_r(r)?String(r):r)}function Uv(t,e,r,n){if(e==="innerHTML"||e==="textContent"){if(r==null)return;t[e]=r;return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,s=r==null?"":String(r);(o!==s||!("_value"in t))&&(t.value=s),r==null&&t.removeAttribute(e),t._value=r;return}let a=!1;if(r===""||r==null){const o=typeof t[e];o==="boolean"?r=Bu(r):r==null&&o==="string"?(r="",a=!0):o==="number"&&(r=0,a=!0)}try{t[e]=r}catch{}a&&t.removeAttribute(e)}function Kv(t,e,r,n){t.addEventListener(e,r,n)}function Zv(t,e,r,n){t.removeEventListener(e,r,n)}const Ml=Symbol("_vei");function Qv(t,e,r,n,i=null){const a=t[Ml]||(t[Ml]={}),o=a[e];if(n&&o)o.value=n;else{const[s,l]=Jv(e);if(n){const u=a[e]=rh(n,i);Kv(t,s,u,l)}else o&&(Zv(t,s,o,l),a[e]=void 0)}}const Ol=/(?:Once|Passive|Capture)$/;function Jv(t){let e;if(Ol.test(t)){e={};let n;for(;n=t.match(Ol);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Nr(t.slice(2)),e]}let Na=0;const th=Promise.resolve(),eh=()=>Na||(th.then(()=>Na=0),Na=Date.now());function rh(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Pe(nh(n,r.value),e,5,[n])};return r.value=t,r.attached=eh(),r}function nh(t,e){if(yt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const Rl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ih=(t,e,r,n,i,a)=>{const o=i==="svg";e==="class"?Vv(t,n,o):e==="style"?jv(t,r,n):aa(e)?Uo(e)||Qv(t,e,r,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ah(t,e,n,o))?(Uv(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Dl(t,e,n,o,a,e!=="value")):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Dl(t,e,n,o))};function ah(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Rl(e)&&_t(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Rl(e)&&Yt(r)?!1:e in t}const oh=["ctrl","shift","alt","meta"],sh={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>oh.some(r=>t[`${r}Key`]&&!e.includes(r))},Ft=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(i,...a)=>{for(let o=0;o<e.length;o++){const s=sh[e[o]];if(s&&s(i,e))return}return t(i,...a)})},lh=ne({patchProp:ih},$v);let Tl;function uh(){return Tl||(Tl=fv(lh))}const fh=(...t)=>{const e=uh().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=dh(n);if(!i)return;const a=e._component;!_t(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const o=r(i,!1,ch(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function ch(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function dh(t){return Yt(t)?document.querySelector(t):t}const ds=""+new URL("bg-5l3SmAP9.png",import.meta.url).href,ph=t=>t<=.25?40:t<=.5?20:t<=1?10:t<=2?5:t<=4?2:1,Vr=.83,vh=(t,e,r,n,i,a)=>{const{scale:o,width:s,height:l,ratio:u,palette:f,gridRatio:c,showShadowText:d}=i,{bgColor:p,fontColor:v,fontShadowColor:h,shadowColor:g,longfgColor:m}=f,b=a?i.canvasWidth:i.canvasHeight;t.scale(u,u),t.clearRect(0,0,s/u,l/u),t.fillStyle=p,t.fillRect(0,0,s,l);const _=ph(o)*c*10,C=_*o,x=Math.floor(e/_)*_,w=(x-e)/_*C,S=e+Math.ceil((a?s:l)/o);if(n){const T=(r-e)*o/u,I=n*o/u;if(t.fillStyle=g,a?t.fillRect(T,0,I,l):t.fillRect(0,T,s,I),d)if(a){D(T,l*.3,String(r));const R=(r+n-e)*o/u;D(R,l*.3,String(r+n))}else{D(s*.3,T,String(r));const R=(r+n-e)*o/u;D(s*.3,R,String(r+n))}}t.beginPath(),t.fillStyle=v,t.strokeStyle=m;for(let T=x,I=0;T<S;T+=_,I++){const R=w+I*C+.5;if(T-_<b&&T>b||T==b){const N=w+I*C+.5+(b-T)*o;E(N,b);return}T>=0&&T<=b&&(T==0?a?t.moveTo(R,0):t.moveTo(0,R):a?t.moveTo(R,20):t.moveTo(20,R),t.save(),T==0?a?t.translate(R-15,l*.01):t.translate(s*.3,R-5):a?t.translate(R-12,l*.05):t.translate(s*.05,R+12),a||t.rotate(-Math.PI/2),t.scale(Vr/u,Vr/u),b-T>_/2&&(!d||n==0||Math.abs(T-r)>_/2&&Math.abs(T-(r+n))>_/2)&&t.fillText(T.toString(),4*u,9*u),t.restore(),T==0?a?t.lineTo(R,l):t.lineTo(s,R):a?t.lineTo(R,l/1.3):t.lineTo(s/1.3,R)),t.stroke(),t.closePath(),t.setTransform(1,0,0,1,0,0)}function E(T,I){a?t.moveTo(T,0):t.moveTo(0,T),t.save(),a?t.translate(T+5,l*.2):t.translate(s*.1,T+32),a||t.rotate(-Math.PI/2),t.scale(Vr/u,Vr/u),t.fillText(Math.round(I).toString(),4*u,7*u),t.restore(),a?t.lineTo(T,l):t.lineTo(s,T),t.stroke(),t.closePath(),t.setTransform(1,0,0,1,0,0)}function D(T,I,R){t.fillStyle=h,t.strokeStyle=m,t.save(),t.translate(T,I),a||t.rotate(-Math.PI/2),t.scale(Vr/u,Vr/u),t.strokeText(R,0,0),t.fillText(R,0,0),t.restore()}};function yo(t,e=100){let r=null;const n=function(...i){r!==null&&clearTimeout(r),r=setTimeout(()=>{t(...i)},e)};return n.cancel=function(){r!==null&&(clearTimeout(r),r=null)},n}function zf(t,e){const r=St(0),n=St(0),i=St(!1),a=Dt(()=>({backgroundColor:t.palette.hoverBg,color:t.palette.hoverColor,[e?"top":"left"]:"-8px",[e?"left":"top"]:`${r.value+10}px`})),o=({offsetX:h,offsetY:g})=>{r.value=e?h:g},s=(h,g)=>new Promise(m=>{if(t.lockLine)return;const b=e?h.clientY:h.clientX;o(h);const y=g||n.value;let _=y;const C=w=>{let D=((e?w.clientY:w.clientX)-b)/t.scale+y,T=D;const R=(e?t.snapsObj.h:t.snapsObj.v).slice().sort((N,z)=>Math.abs(T-N)-Math.abs(T-z));R.length&&Math.abs(R[0]-D)<t.snapThreshold/t.scale&&(T=R[0],D=T),_=Math.round(D),n.value=_},x=()=>{document.removeEventListener("mousemove",C),l(_,t.index),m()};document.addEventListener("mousemove",C),document.addEventListener("mouseup",x,{once:!0})}),l=(h,g)=>{var y,_;const m=e?(y=t.lines)==null?void 0:y.h:(_=t.lines)==null?void 0:_.v,b=u(h);if(m){if(b)if(typeof g=="number")m.splice(g,1);else return;typeof g!="number"&&m.push(h)}},u=h=>{const g=e?t.canvasHeight:t.canvasWidth;return h<0||h>g},f=Dt(()=>u(n.value)?"":`${e?"Y":"X"}${n.value*t.rate}`),c=yo(()=>{i.value=!1},200),d=yo(()=>{i.value=!0},200);return{showLabel:i,startValue:n,actionStyle:a,labelContent:f,handleMouseDown:s,handleMouseenter:h=>{t.lockLine||(o(h),d(),c.cancel())},handleMouseLeave:()=>{c()}}}const hh={key:0,class:"value"},gh=je({__name:"ruler-line",props:{scale:{},palette:{},index:{},start:{},vertical:{type:Boolean},value:{},canvasWidth:{},canvasHeight:{},lines:{},isShowReferLine:{type:Boolean},rate:{},snapThreshold:{},snapsObj:{},lockLine:{type:Boolean}},setup(t){const e=t,r=St(!1),{actionStyle:n,handleMouseDown:i,labelContent:a,startValue:o,showLabel:s,handleMouseenter:l,handleMouseLeave:u}=zf(e,e.vertical),f=Dt(()=>o.value>=e.start),c=Dt(()=>{const{lineType:p,lockLineColor:v,lineColor:h}=e.palette,g=e.lockLine?v:h??"black",m=e.lockLine||r.value?"none":"auto",b=e.isShowReferLine&&!e.lockLine?e.vertical?"ns-resize":"ew-resize":"default",y=e.vertical?"borderTop":"borderLeft",_=(o.value-e.start)*e.scale;return{[y]:`1px ${p} ${g}`,pointerEvents:m,cursor:b,[e.vertical?"top":"left"]:`${_}px`}});qe(()=>{o.value=e.value??0});const d=yo(()=>{r.value=!1},1e3);return We([()=>e.scale],()=>{r.value=!0,d()}),(p,v)=>rn((Tt(),Lt("div",{class:"line",style:Nt(c.value),onMouseenter:v[0]||(v[0]=Ft((...h)=>At(l)&&At(l)(...h),["stop"])),onMouseleave:v[1]||(v[1]=Ft((...h)=>At(u)&&At(u)(...h),["stop"])),onMousedown:v[2]||(v[2]=Ft((...h)=>At(i)&&At(i)(...h),["stop"]))},[J("div",{class:"action",style:Nt(At(n))},[At(s)?(Tt(),Lt("span",hh,xe(At(a)),1)):ho("",!0)],4)],36)),[[an,f.value]])}}),mh=je({__name:"index",props:{scale:{},palette:{},vertical:{type:Boolean},showShadowText:{type:Boolean},start:{},width:{},height:{},selectStart:{},selectLength:{},canvasWidth:{},canvasHeight:{},rate:{},gridRatio:{}},emits:["handleDragStart"],setup(t,{emit:e}){const r=t,n=e,i=ce({isDragging:!1,canvasContext:null});let a=window.devicePixelRatio;const o=St(null);qe(()=>{window.addEventListener("resize",s),l(),f(a)});const s=()=>{a=window.devicePixelRatio,f(a),c(a)},l=()=>{i.canvasContext=o.value&&o.value.getContext("2d")},u=Dt(()=>({cursor:r.vertical?"ew-resize":"ns-resize",[r.vertical?"borderRight":"borderBottom"]:`1px solid ${r.palette.borderColor||"#eeeeef"} `}));da(()=>{window.removeEventListener("resize",s)});const f=p=>{if(o.value){o.value.width=r.width,o.value.height=r.height;const v=i.canvasContext;v&&(v.font=`${12*p}px -apple-system,
                "Helvetica Neue", ".SFNSText-Regular",
                "SF UI Text", Arial, "PingFang SC", "Hiragino Sans GB",
                "Microsoft YaHei", "WenQuanYi Zen Hei", sans-serif`,v.lineWidth=1,v.textBaseline="middle")}},c=p=>{const v={scale:r.scale,width:r.width,height:r.height,palette:r.palette,canvasWidth:r.canvasWidth,canvasHeight:r.canvasHeight,ratio:p,rate:r.rate,gridRatio:r.gridRatio,showShadowText:r.showShadowText};v.scale=r.scale/r.rate,v.canvasWidth=r.canvasWidth*r.rate,v.canvasHeight=r.canvasHeight*r.rate,i.canvasContext&&vh(i.canvasContext,r.start*r.rate,r.selectStart,r.selectLength,v,!r.vertical)};We([()=>r.width,()=>r.height,()=>r.start,()=>r.selectStart,()=>r.selectLength],()=>{c(a)}),We([()=>r.width,()=>r.height],()=>{f(a)});const d=p=>{n("handleDragStart",p)};return(p,v)=>(Tt(),Lt("canvas",{ref_key:"canvas",ref:o,class:"ruler",style:Nt(u.value),onMousedown:Ft(d,["stop"])},null,36))}}),bh={class:"lines"},yh={key:0,class:"value"},Pl=je({__name:"ruler-wrapper",props:{scale:{},thick:{},canvasWidth:{},canvasHeight:{},palette:{},vertical:{type:Boolean},width:{},height:{},start:{},startOther:{},lines:{},selectStart:{},selectLength:{},isShowReferLine:{type:Boolean},rate:{},snapThreshold:{},snapsObj:{},gridRatio:{},lockLine:{type:Boolean},showShadowText:{type:Boolean}},emits:["changeLineState"],setup(t,{emit:e}){const r=t,{showLabel:n,actionStyle:i,handleMouseenter:a,handleMouseLeave:o,handleMouseDown:s,labelContent:l,startValue:u}=zf(r,!r.vertical),f=St(!1),c=St(!1),d=Dt(()=>r.vertical?"v-container":"h-container"),p=e,v=Dt(()=>{var m,b;return r.vertical?(m=r.lines)==null?void 0:m.h:(b=r.lines)==null?void 0:b.v}),h=Dt(()=>{const m=r.palette.lineType;let b=r.vertical?"left":"top",y=r.vertical?"top":"left",_=r.vertical?"borderLeft":"borderBottom";const C=(u.value-r.startOther)*r.scale+r.thick;return{[b]:C+"px",[y]:-r.thick+"px",cursor:r.vertical?"ew-resize":"ns-resize",[_]:`1px ${m} ${r.palette.lineColor}`}}),g=async m=>{const{offsetX:b,offsetY:y}=m,{scale:_,vertical:C,thick:x,startOther:w}=r;c.value=!0,f.value=!1,p("changeLineState",!1);let S=Math.round(w-x/_+(C?b:y)/_);u.value=S,await s(m,S),c.value=!1};return We([()=>r.lockLine],()=>{f.value=r.lockLine}),(m,b)=>(Tt(),Lt("div",{class:Ge(d.value)},[Jt(mh,un(m.$props,{onHandleDragStart:g}),null,16),rn(J("div",bh,[(Tt(!0),Lt(ee,null,ss(v.value,(y,_)=>(Tt(),Lr(gh,un({key:y+_,index:_,value:y>>0,ref_for:!0},m.$props),null,16,["index","value"]))),128))],512),[[an,m.isShowReferLine]]),m.isShowReferLine?rn((Tt(),Lt("div",{key:0,class:"indicator",onMouseenter:b[0]||(b[0]=(...y)=>At(a)&&At(a)(...y)),onMouseleave:b[1]||(b[1]=(...y)=>At(o)&&At(o)(...y)),style:Nt(h.value)},[J("div",{class:"action",style:Nt(At(i))},[At(n)?(Tt(),Lt("span",yh,xe(At(l)),1)):ho("",!0)],4)],36)),[[an,c.value]]):ho("",!0)],2))}}),_h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAopJREFUOE/FlE9IVEEcx7+/N9ouds1Mu0QUSFZYdIgoUqQoKPBQHsKozpXE7jbTO/U8xLJvn6usBHWQ6hBFXupSkQeVbh0KJEPp0sH+eLGTsKs77xcj78m0ax0E8cHjzZv5zef3/c33xxA24KENYGJzoEEQbNNaN4Zh2OQ4znwYhr9c1/39vwrXVDo0NNS0tLR0GYB5D64BmAMwzMyvlFKz1es10Hw+f4mZ7wHYBeA9gNdENFepVOaEEM3M3OI4Thczn41gt6WUgQ3+C+r7/h0AWQD3mXnYqPA8L9nQ0HCemduIaFpKOWoAhUJhT6VSuQXgOjP3K6W8GLwKzeVyp4jonR0QBEErM48w8zFLyayUsjX+z+VyHhHdZebTSqkxM78CHRgYOKS1/ghgVErZY214RkQ7ADyRUj72ff8qgCtmXUrZGcf5vv8CwEUhxOF0Ov1pBRpla5dSdseBhUJhpznH6tIsZb1KqacW+BGArUaUXX63UuplHJTNZjuEEONSyhozfd/n6mQ1RkXZL2itz7mu+80EDA4ONi8vL/8AcM2UbikyR2BU9cSmmTU70YqKIAj2hWFo2uenlHK/BRg3Y2aeNO5GyU8S0ZbFxcUuz/NKEXAGQKPjOCcymcyX1dIi8DSAiWQyeaavr68cbSgCuBknYubnQoj+TCYzUywWE6VS6S2ADsdx2gxw1X3L7SNENMbMnwE8qK+vf5NKpRaMaeVyeW8ikfiaSqW+R7BuZr5BRMe11p2u607U9Gk8kc/ntzPzQwCmExYATDLzVBiGE0KIowAOADDf3QA+aK2VDaxRajto3K+rq+tl5nYAzQBamHmeiOYBTGmtR6ph/1Rqg9c73pz7dD1qN0TpHyNQRCUDJXrAAAAAAElFTkSuQmCC",xh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAjtJREFUOE/NlD9oFEEUxn9v9ghC0hpRUogIAUmniGAT/5Q2FrETPSNRJILg7RwimI0ox85eQFCEBGIUO1PYpFM0jSConQoBEZGgGPsgl+w+2eM2bC57SopAFqYZ3v7m+977ZoQt+GQLmGxPaBiGgYiMWWvXBHZUGoZhH3BERPYC+4F+4Keq/urt7b1RLpf/ZEBVHa9Wq0HWyg3QKIoGVPU8cA7wgK/pUtXPQJ8xZk+pVBpuNBqXUoUiEvi+P56fzTpo6+SbwHNg1lo7WzTITGEKXFlZeeB53tVCpa3CK8AFa+1cBgvD8LKIXAQOJkkyICJDeYVBEJS6u7s/qeoLa+1o+l9TqXNuBLhmjDlbqVQ+5ICjInIfOBPH8W9jzGCR5YmJiRNxHM+papgqzqDvgSlr7VTernPuO3An3c9bBt74vv+yrdaKyLDv+/1Sq9UGPc97nY9EVuycU2AQOA7cAm4Dr4D5TvVxHB9rKo2iaEFVp621Ln96FEUngaOqGmSxabVqsh3a2h+x1h5qQjNrae/yE4+iaCwDJkky73neTuBZe129Xk+H+BS4l7ZqLVIZ2BhzuFKpvMsDVXXWGPMxFdAedOfcKeCRqj7MYrUhpz09PfXl5eXrectFWXXODQHpOq2qd/95o/JXr6ura3J1dXU6SZIfwKKIHAD2tVYMPBGRx77vN10UXtO85fTkmZmZHUtLSzUR2QXsBhaAL6r6DXhbrVYXi1yss59GqOgub/bN3Z7v6X/tb9Zmp/q/kN8s+lJb8oEAAAAASUVORK5CYII=";/*!simple-panzoom v1.0.720248Sat Aug 10 2024 16:04:04 GMT+0800 ()*/typeof window<"u"&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),typeof window.CustomEvent!="function"&&(window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}));function Gf(t,e){let r=t.length;for(;r--;)if(t[r].pointerId===e.pointerId)return r;return-1}function _o(t,e){let r;if(e.touches){r=0;for(const n of e.touches)n.pointerId=r++,_o(t,n);return}r=Gf(t,e),r>-1&&t.splice(r,1),t.push(e)}function Sh(t,e){if(e.touches){for(;t.length;)t.pop();return}const r=Gf(t,e);r>-1&&t.splice(r,1)}function Il(t){t=t.slice(0);let e=t.pop(),r;for(;r=t.pop();)e={clientX:(r.clientX-e.clientX)/2+e.clientX,clientY:(r.clientY-e.clientY)/2+e.clientY};return e}function La(t){if(t.length<2)return 0;const e=t[0],r=t[1];return Math.sqrt(Math.pow(Math.abs(r.clientX-e.clientX),2)+Math.pow(Math.abs(r.clientY-e.clientY),2))}let Wn={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};typeof window<"u"&&(typeof window.PointerEvent=="function"?Wn={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:typeof window.TouchEvent=="function"&&(Wn={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));function Ha(t,e,r,n){Wn[t].split(" ").forEach(i=>{e.addEventListener(i,r,n)})}function $a(t,e,r){Wn[t].split(" ").forEach(n=>{e.removeEventListener(n,r)})}const Ch=typeof document<"u"&&!!document.documentMode;let Al;function wh(){return Al||(Al=document.createElement("div").style)}const kl=["webkit","moz","ms"],mi={};function ps(t){if(mi[t])return mi[t];const e=wh();if(t in e)return mi[t]=t;const r=t[0].toUpperCase()+t.slice(1);let n=kl.length;for(;n--;){const i=`${kl[n]}${r}`;if(i in e)return mi[t]=i}}function bi(t,e){return parseFloat(e[ps(t)])||0}function yi(t,e,r=window.getComputedStyle(t)){const n=e==="border"?"Width":"";return{left:bi(`${e}Left${n}`,r),right:bi(`${e}Right${n}`,r),top:bi(`${e}Top${n}`,r),bottom:bi(`${e}Bottom${n}`,r)}}function jr(t,e,r){t.style[ps(e)]=r}function Eh(t,e){const r=ps("transform");jr(t,"transition",`${r} ${e.duration}ms ${e.easing}`)}function Dh(t,{x:e,y:r,scale:n,isSVG:i},a){if(jr(t,"transform",`scale(${n}) translate(${e}px, ${r}px)`),i&&Ch){const o=window.getComputedStyle(t).getPropertyValue("transform");t.setAttribute("transform",o)}}function _i(t){const e=t.parentNode,r=window.getComputedStyle(t),n=window.getComputedStyle(e),i=t.getBoundingClientRect(),a=e.getBoundingClientRect();return{elem:{style:r,width:i.width,height:i.height,top:i.top,bottom:i.bottom,left:i.left,right:i.right,margin:yi(t,"margin",r),border:yi(t,"border",r)},parent:{style:n,width:a.width,height:a.height,top:a.top,bottom:a.bottom,left:a.left,right:a.right,padding:yi(e,"padding",n),border:yi(e,"border",n)}}}function Mh(t){let e=t;for(;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1}function Oh(t){return(t.getAttribute("class")||"").trim()}function Rh(t,e){return t.nodeType===1&&` ${Oh(t)} `.indexOf(` ${e} `)>-1}function Th(t,e){for(let r=t;r!=null;r=r.parentNode)if(Rh(r,e.excludeClass)||e.exclude.indexOf(r)>-1)return!0;return!1}const Ph=/^http:[\w\.\/]+svg$/;function Ih(t){return Ph.test(t.namespaceURI)&&t.nodeName.toLowerCase()!=="svg"}function Ah(t){const e={};for(const r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}const Ff={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:t=>{t.preventDefault(),t.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,pinchAndPan:!1,relative:!1,setTransform:Dh,startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function Nf(t,e){if(!t)throw new Error("Panzoom requires an element as an argument");if(t.nodeType!==1)throw new Error("Panzoom requires an element with a nodeType of 1");if(!Mh(t))throw new Error("Panzoom should be called on elements that have been attached to the DOM");e={...Ff,...e};const r=Ih(t),n=t.parentNode;n.style.overflow=e.overflow,n.style.userSelect="none",n.style.touchAction=e.touchAction,(e.canvas?n:t).style.cursor=e.cursor,t.style.userSelect="none",t.style.touchAction=e.touchAction,jr(t,"transformOrigin",typeof e.origin=="string"?e.origin:r?"0 0":"50% 50%");function i(){n.style.overflow="",n.style.userSelect="",n.style.touchAction="",n.style.cursor="",t.style.cursor="",t.style.userSelect="",t.style.touchAction="",jr(t,"transformOrigin","")}function a(B={}){for(const H in B)B.hasOwnProperty(H)&&(e[H]=B[H]);(B.hasOwnProperty("cursor")||B.hasOwnProperty("canvas"))&&(n.style.cursor=t.style.cursor="",(e.canvas?n:t).style.cursor=e.cursor),B.hasOwnProperty("overflow")&&(n.style.overflow=B.overflow),B.hasOwnProperty("touchAction")&&(n.style.touchAction=B.touchAction,t.style.touchAction=B.touchAction)}let o=0,s=0,l=1,u=!1;h(e.startScale,{animate:!1,force:!0}),setTimeout(()=>{v(e.startX,e.startY,{animate:!1,force:!0})});function f(B,H,F){if(F.silent)return;const j=new CustomEvent(B,{detail:H});t.dispatchEvent(j)}function c(B,H,F){const j={x:o,y:s,scale:l,isSVG:r,originalEvent:F,dimsOut:{}};typeof H.animate=="boolean"&&(H.animate?Eh(t,H):jr(t,"transition","none")),H.setTransform(t,j,H);function V(){const K=_i(t);j.dimsOut=K,f(B,j,H),f("panzoomchange",j,H)}return H.animate?setTimeout(()=>{V()},H.duration+50):requestAnimationFrame(()=>{V()}),j}function d(B,H,F,j){const V={...e,...j},K={x:o,y:s,opts:V};if(!V.force&&(V.disablePan||V.panOnlyWhenZoomed&&l===V.startScale))return K;if(B=parseFloat(B),H=parseFloat(H),V.disableXAxis||(K.x=(V.relative?o:0)+B),V.disableYAxis||(K.y=(V.relative?s:0)+H),V.contain){const q=_i(t),et=q.elem.width/l,at=q.elem.height/l,ct=et*F,ht=at*F,gt=(ct-et)/2,it=(ht-at)/2;if(V.contain==="inside"){const ft=(-q.elem.margin.left-q.parent.padding.left+gt)/F,M=(q.parent.width-ct-q.parent.padding.left-q.elem.margin.left-q.parent.border.left-q.parent.border.right+gt)/F;K.x=Math.max(Math.min(K.x,M),ft);const O=(-q.elem.margin.top-q.parent.padding.top+it)/F,G=(q.parent.height-ht-q.parent.padding.top-q.elem.margin.top-q.parent.border.top-q.parent.border.bottom+it)/F;K.y=Math.max(Math.min(K.y,G),O)}else if(V.contain==="outside"){const ft=(-(ct-q.parent.width)-q.parent.padding.left-q.parent.border.left-q.parent.border.right+gt)/F,M=(gt-q.parent.padding.left)/F;K.x=Math.max(Math.min(K.x,M),ft);const O=(-(ht-q.parent.height)-q.parent.padding.top-q.parent.border.top-q.parent.border.bottom+it)/F,G=(it-q.parent.padding.top)/F;K.y=Math.max(Math.min(K.y,G),O)}}return V.roundPixels&&(K.x=Math.round(K.x),K.y=Math.round(K.y)),K}function p(B,H){const F={...e,...H},j={scale:l,opts:F};if(!F.force&&F.disableZoom)return j;let V=e.minScale,K=e.maxScale;if(F.contain){const q=_i(t),et=q.elem.width/l,at=q.elem.height/l;if(et>1&&at>1){const ct=q.parent.width-q.parent.border.left-q.parent.border.right,ht=q.parent.height-q.parent.border.top-q.parent.border.bottom,gt=ct/et,it=ht/at;e.contain==="inside"?K=Math.min(K,gt,it):e.contain==="outside"&&(V=Math.max(V,gt,it))}}return j.scale=Math.min(Math.max(B,V),K),j}function v(B,H,F,j){const V=d(B,H,l,F);return o!==V.x||s!==V.y?(o=V.x,s=V.y,c("panzoompan",V.opts,j)):{x:o,y:s,scale:l,isSVG:r,originalEvent:j}}function h(B,H,F){const j=p(B,H),V=j.opts;if(!V.force&&V.disableZoom)return;B=j.scale;let K=o,q=s;if(V.focal){const at=V.focal;K=(at.x/B-at.x/l+o*B)/B,q=(at.y/B-at.y/l+s*B)/B}const et=d(K,q,B,{relative:!1,force:!0});return o=et.x,s=et.y,l=B,c("panzoomzoom",V,F)}function g(B,H){const F={...e,animate:!0,...H};return h(l*Math.exp((B?1:-1)*F.step),F)}function m(B){return g(!0,B)}function b(B){return g(!1,B)}function y(B,H,F,j){const V=_i(t),K={width:V.parent.width-V.parent.padding.left-V.parent.padding.right-V.parent.border.left-V.parent.border.right,height:V.parent.height-V.parent.padding.top-V.parent.padding.bottom-V.parent.border.top-V.parent.border.bottom};let q=H.clientX-V.parent.left-V.parent.padding.left-V.parent.border.left-V.elem.margin.left,et=H.clientY-V.parent.top-V.parent.padding.top-V.parent.border.top-V.elem.margin.top;r||(q-=V.elem.width/l/2,et-=V.elem.height/l/2);const at={x:q/K.width*(K.width*B),y:et/K.height*(K.height*B)};return h(B,{...F,animate:!1,focal:at},j)}function _(B,H){B.preventDefault();const F={...e,...H,animate:!1},j=(B.deltaY===0&&B.deltaX?B.deltaX:B.deltaY)<0?1:-1,V=p(l*Math.exp(j*F.step/3),F).scale;return y(V,B,F,B)}function C(B){const H={...e,animate:!0,force:!0,...B};l=p(H.startScale,H).scale;const F=d(H.startX,H.startY,l,H);return o=F.x,s=F.y,c("panzoomreset",H)}let x,w,S,E,D,T;const I=[];function R(B){if(Th(B.target,e))return;_o(I,B),u=!0,e.handleStartEvent(B),x=o,w=s,f("panzoomstart",{x:o,y:s,scale:l,isSVG:r,originalEvent:B},e);const H=Il(I);S=H.clientX,E=H.clientY,D=l,T=La(I)}function N(B){if(!u||x===void 0||w===void 0||S===void 0||E===void 0)return;_o(I,B);const H=Il(I),F=I.length>1;let j=l;if(F){T===0&&(T=La(I));const V=La(I)-T;j=p(V*e.step/80+D).scale,y(j,H,{animate:!1},B)}(!F||e.pinchAndPan)&&v(x+(H.clientX-S)/j,w+(H.clientY-E)/j,{animate:!1},B)}function z(B){I.length===1&&f("panzoomend",{x:o,y:s,scale:l,isSVG:r,originalEvent:B},e),Sh(I,B),u&&(u=!1,x=w=S=E=void 0)}let $=!1;function k(){$||($=!0,Ha("down",e.canvas?n:t,R),Ha("move",document,N,{passive:!0}),Ha("up",document,z,{passive:!0}))}function L(){$=!1,$a("down",e.canvas?n:t,R),$a("move",document,N),$a("up",document,z)}return e.noBind||k(),{bind:k,destroy:L,eventNames:Wn,getPan:()=>({x:o,y:s}),getScale:()=>l,getOptions:()=>Ah(e),handleDown:R,handleMove:N,handleUp:z,pan:v,reset:C,resetStyle:i,setOptions:a,setStyle:(B,H)=>jr(t,B,H),zoom:h,zoomIn:m,zoomOut:b,zoomToPoint:y,zoomWithWheel:_}}Nf.defaultOptions=Ff;const kh={class:"sketch-ruler"},ma=je({__name:"index",props:{showRuler:{type:Boolean,default:!0},eyeIcon:{},closeEyeIcon:{},scale:{default:1},rate:{default:1},thick:{default:16},palette:{},width:{default:1400},height:{default:800},paddingRatio:{default:.2},autoCenter:{type:Boolean,default:!0},shadow:{default:()=>({x:0,y:0,width:0,height:0})},lines:{default:()=>({h:[],v:[]})},isShowReferLine:{type:Boolean,default:!0},canvasWidth:{default:700},canvasHeight:{default:700},snapsObj:{default:()=>({h:[],v:[]})},snapThreshold:{default:5},gridRatio:{default:1},lockLine:{type:Boolean,default:!1},selfHandle:{type:Boolean,default:!1},showShadowText:{type:Boolean,default:!0},panzoomOption:{}},emits:["onCornerClick","update:scale","zoomchange","update:lockLine"],setup(t,{expose:e,emit:r}){Yv(k=>({"9f622d8c":$.value}));const n=t,i=r,a=St(null),o=St(0),s=St(0);let l=0,u=0;const f=St(1),c=St(n.isShowReferLine),d=St(null),p=St("defaultCursor"),v=Dt(()=>({bgColor:"#f6f7f9",longfgColor:"#BABBBC",fontColor:"#7D8694",fontShadowColor:"#106ebe",shadowColor:"#e9f7fe",lineColor:"#51d6a9",lineType:"solid",lockLineColor:"#d4d7dc",hoverBg:"#000",hoverColor:"#fff",borderColor:"#eeeeef",...n.palette})),h=Dt(()=>({backgroundImage:c.value?`url(${n.eyeIcon||_h})`:`url(${n.closeEyeIcon||xh})`,width:n.thick+"px",height:n.thick+"px",borderRight:`1px solid ${v.value.borderColor}`,borderBottom:`1px solid ${v.value.borderColor}`})),g=Dt(()=>({background:v.value.bgColor,width:m.value+"px",height:b.value+"px"})),m=Dt(()=>n.width-n.thick),b=Dt(()=>n.height-n.thick),y=k=>{var L;(k.ctrlKey||k.metaKey)&&((L=d.value)==null||L.zoomWithWheel(k))},_=k=>{var L;k.key===" "&&(p.value="grabCursor",(L=d.value)==null||L.bind(),k.preventDefault())},C=k=>{var L;k.key===" "&&((L=d.value)==null||L.destroy(),p.value="defaultCursor")};qe(()=>{if(S(),!n.selfHandle&&a.value){const k=a.value.parentElement;if(!k)return;k.addEventListener("wheel",y),document.addEventListener("keydown",_),document.addEventListener("keyup",C)}});const x=k=>({noBind:!0,startScale:k,startX:l,startY:u,smoothScroll:!0,...n.panzoomOption}),w=k=>{const{scale:L,dimsOut:B}=k.detail;if(B){const H=L.toFixed(2);i("update:scale",Number(H)),f.value=Number(H);const F=(B.parent.left-B.elem.left)/L,j=(B.parent.top-B.elem.top)/L;o.value=F,i("zoomchange",k.detail),s.value=j}},S=()=>{if(a.value=document.querySelector(".canvasedit"),a.value){let k=n.scale;n.autoCenter&&(k=E()),d.value=Nf(a.value,x(k)),a.value&&a.value.addEventListener("panzoomchange",w)}},E=()=>{const k=m.value*(1-n.paddingRatio)/n.canvasWidth,L=b.value*(1-n.paddingRatio)/n.canvasHeight,B=Math.min(k,L);return l=m.value/2-n.canvasWidth/2,B<1?u=(n.canvasHeight*B/2-n.canvasHeight/2)/B-(n.canvasHeight*B-b.value)/B/2:B>1?u=(n.canvasHeight*B-n.canvasHeight)/2/B+(b.value-n.canvasHeight*B)/B/2:u=0,B},D=()=>{var k;return(k=d.value)==null?void 0:k.reset()},T=()=>{var k;return(k=d.value)==null?void 0:k.zoomIn()},I=()=>{var k;return(k=d.value)==null?void 0:k.zoomOut()},R=()=>{var k;(k=d.value)==null||k.setOptions(x(n.scale))},N=()=>{c.value=!c.value,i("onCornerClick",c.value)},z=k=>{i("update:lockLine",k)},$=Dt(()=>n.thick+"px");return We([()=>n.isShowReferLine],()=>{c.value=n.isShowReferLine}),We([()=>n.canvasWidth,()=>n.canvasHeight,()=>n.width,()=>n.height],()=>{S()}),We(()=>n.panzoomOption,()=>{R()},{deep:!0}),e({initPanzoom:S,panzoomInstance:d,reset:D,zoomIn:T,zoomOut:I,cursorClass:p}),(k,L)=>(Tt(),Lt("div",kh,[lo(k.$slots,"btn",{reset:D,zoomIn:T,zoomOut:I}),J("div",{class:"canvasedit-parent",style:Nt(g.value)},[J("div",{class:Ge(["canvasedit",p.value])},[lo(k.$slots,"default")],2)],4),rn(Jt(Pl,{style:Nt({marginLeft:k.thick+"px",width:m.value+"px"}),vertical:!1,width:k.width,height:k.thick,"is-show-refer-line":c.value,thick:k.thick,start:o.value,startOther:s.value,lines:k.lines,"select-start":k.shadow.x,snapThreshold:k.snapThreshold,snapsObj:k.snapsObj,"select-length":k.shadow.width,scale:f.value,palette:v.value,canvasWidth:k.canvasWidth,showShadowText:k.showShadowText,canvasHeight:k.canvasHeight,rate:k.rate,gridRatio:k.gridRatio,lockLine:k.lockLine,onChangeLineState:z},null,8,["style","width","height","is-show-refer-line","thick","start","startOther","lines","select-start","snapThreshold","snapsObj","select-length","scale","palette","canvasWidth","showShadowText","canvasHeight","rate","gridRatio","lockLine"]),[[an,k.showRuler]]),rn(Jt(Pl,{style:Nt({marginTop:k.thick+"px",top:0,height:b.value+"px"}),vertical:!0,width:k.thick,height:k.height,"is-show-refer-line":c.value,thick:k.thick,start:s.value,startOther:o.value,lines:k.lines,"select-start":k.shadow.y,"select-length":k.shadow.height,snapThreshold:k.snapThreshold,snapsObj:k.snapsObj,scale:f.value,palette:v.value,canvasWidth:k.canvasWidth,canvasHeight:k.canvasHeight,showShadowText:k.showShadowText,rate:k.rate,gridRatio:k.gridRatio,lockLine:k.lockLine,onChangeLineState:z},null,8,["style","width","height","is-show-refer-line","thick","start","startOther","lines","select-start","select-length","snapThreshold","snapsObj","scale","palette","canvasWidth","canvasHeight","showShadowText","rate","gridRatio","lockLine"]),[[an,k.showRuler]]),rn(J("a",{class:"corner",style:Nt(h.value),onClick:N},null,4),[[an,k.showRuler]])]))}}),Bh={class:"demo"},zh={class:"top font16"},Gh={class:"scale mr10"},Fh=J("span",null,"",-1),Nh=J("span",null,"",-1),Lh=J("span",null,"",-1),Hh=["value"],$h=J("div",{class:"mr10"}," : ",-1),Wh=["value"],Vh=J("div",{class:"mr10"}," : ",-1),Yh=["value"],Xh=J("a",{href:"https://github.com/kakajun/vue3-sketch-ruler",target:"_blank",rel:"noopener noreferrer"},[J("i",{class:"fas fa-external-link-alt"}),Kn(" git ")],-1),jh=["src"],qh={class:"btns"},Uh=["onClick"],Kh=["onClick"],Zh=["onClick"],Bl=je({__name:"user-rulerts",setup(t){const e=St(0),r=St(),n=ce({maxScale:3,minScale:.3,disablePan:!1,disableZoom:!1,contain:"none",handleStartEvent:E=>{E.preventDefault(),console.log("handleStartEvent",E)}}),i=St(!1),a=()=>{r.value&&r.value.zoomOut()};qe(()=>{window.addEventListener("resize",o)});const o=()=>{r.value&&r.value.initPanzoom()},s=()=>{r.value&&r.value.reset()},l=()=>{u.isBlack=!u.isBlack,e.value++},u=ce({scale:1,isBlack:!1}),f=Dt(()=>u.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),c=ce({thick:20,width:1470,height:800,showShadowText:!1,canvasWidth:1e3,canvasHeight:500,showRuler:!0,palette:f.value,snapsObj:{h:[0,100,200],v:[130]},shadow:{x:0,y:0,width:300,height:300},panzoomOption:n,isShowReferLine:!0,lines:{h:[0,250],v:[0,500]}}),d=Dt(()=>({width:`${c.width}px`,height:`${c.height}px`})),p=Dt(()=>Number(u.scale).toFixed(1)),v=Dt(()=>({width:`${c.canvasWidth}px`,height:`${c.canvasHeight}px`})),h=E=>{u.scale=E.target.value*1,r.value&&r.value.panzoomInstance.zoom(u.scale)},g=E=>{console.log("handleCornerClick",E)},m=E=>{console.log("zoomchange",E)},b=E=>{const D=E.target.value.split(",");c.snapsObj.h=D.map(T=>Number(T))},y=E=>{const D=E.target.value.split(",");c.snapsObj.v=D.map(T=>Number(T))},_=E=>{n.disableZoom=E.target.checked},C=E=>{n.disablePan=E.target.checked},x=E=>{n.contain=E.target.checked?"inside":"none"},w=()=>{c.shadow.x=Math.random()*c.canvasWidth,c.shadow.y=Math.random()*c.canvasHeight},S=E=>{console.log("handleMouseDown",E)};return(E,D)=>(Tt(),Lt("div",Bh,[J("div",zh,[J("div",Gh," :"+xe(p.value),1),J("button",{class:"mr10 font16",onClick:D[0]||(D[0]=T=>c.showRuler=!c.showRuler)},xe((c.showRuler?"":"")+""),1),J("button",{class:"mr10 font16",onClick:D[1]||(D[1]=T=>c.isShowReferLine=!c.isShowReferLine)},xe((c.isShowReferLine?"":"")+""),1),J("button",{class:"mr10 font16",onClick:D[2]||(D[2]=T=>i.value=!0)},""),J("button",{class:"mr10 font16",onClick:w},""),J("button",{class:"mr10 font16",onClick:l},""),J("button",{class:"mr10 font16",onClick:Ft(s,["stop"])},""),J("button",{class:"mr10 font16",onClick:Ft(a,["stop"])},""),Fh,J("input",{type:"checkbox",class:"switch",onChange:_},null,32),Nh,J("input",{type:"checkbox",class:"switch mr10",onChange:C},null,32),Lh,J("input",{type:"checkbox",class:"switch mr10",onChange:x},null,32),J("input",{class:"mr10 font16",value:u.scale,onInput:h,type:"range",min:"0.3",max:"3",step:"0.1",defaultValue:"1"},null,40,Hh),$h,J("input",{class:"mr10",style:{width:"90px"},value:c.snapsObj.h,onBlur:b},null,40,Wh),Vh,J("input",{class:"mr10",style:{width:"90px"},value:c.snapsObj.v,onBlur:y},null,40,Yh),Xh]),J("div",{class:Ge(["wrapper",[u.isBlack?"balckwrapper":"whitewrapper"]]),style:Nt(d.value)},[(Tt(),Lr(At(ma),un({ref_key:"sketchruleRef",ref:r,key:e.value,scale:u.scale,"onUpdate:scale":D[3]||(D[3]=T=>u.scale=T),lockLine:i.value,"onUpdate:lockLine":D[4]||(D[4]=T=>i.value=T)},c,{onOnCornerClick:g,onZoomchange:m}),{default:Ye(()=>[J("div",{"data-type":"page",onMousedown:S,style:Nt(v.value)},[J("img",{class:"img-style",src:At(ds),alt:""},null,8,jh)],36)]),btn:Ye(({reset:T,zoomIn:I,zoomOut:R})=>[J("div",qh,[J("button",{onClick:Ft(T,["stop"])},"",8,Uh),J("button",{onClick:Ft(I,["stop"])},"",8,Kh),J("button",{onClick:Ft(R,["stop"])},"",8,Zh)])]),_:1},16,["scale","lockLine"]))],6)]))}}),Qh={class:"demo"},Jh={class:"top font16"},tg={class:"scale mr10"},eg=J("span",null,"",-1),rg=J("span",null,"",-1),ng=J("span",null,"",-1),ig=["value"],ag=J("div",{class:"mr10"}," : ",-1),og=["value"],sg=J("div",{class:"mr10"}," : ",-1),lg=["value"],ug=J("a",{href:"https://github.com/kakajun/vue3-sketch-ruler",target:"_blank",rel:"noopener noreferrer"},[J("i",{class:"fas fa-external-link-alt"}),Kn(" git ")],-1),fg=["src"],cg={class:"btns"},dg=["onClick"],pg=["onClick"],vg=["onClick"],hg=je({__name:"user-rulerts2",setup(t){const e=St(1470),r=St(800),n=St(1e3),i=St(500),a=St(0);St(1);const o=St(),s=St(!0),l=ce({maxScale:3,minScale:.3,disablePan:!1,disableZoom:!1,contain:"none",handleStartEvent:z=>{z.preventDefault(),console.log("handleStartEvent",z)}}),u=St(!1),f=St({h:[0,100,200],v:[130]}),c=()=>{o.value&&o.value.zoomOut()};qe(()=>{window.addEventListener("resize",p)});const d=()=>{s.value=!s.value},p=()=>{o.value&&o.value.initPanzoom()},v=()=>{o.value&&o.value.reset()},h=()=>{g.isBlack=!g.isBlack,a.value++},g=ce({scale:1,isBlack:!1,lines:{h:[0,250],v:[0,500]},thick:20,shadow:{x:0,y:0,width:300,height:300},isShowRuler:!0,isShowReferLine:!0}),m=Dt(()=>({width:`${e.value}px`,height:`${r.value}px`})),b=Dt(()=>g.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),y=Dt(()=>Number(g.scale).toFixed(1)),_=Dt(()=>({width:`${n.value}px`,height:`${i.value}px`})),C=z=>{g.scale=z.target.value*1,o.value&&o.value.panzoomInstance.zoom(g.scale)},x=z=>{console.log("handleCornerClick",z)},w=z=>{console.log("zoomchange",z)},S=()=>{g.isShowReferLine=!g.isShowReferLine,console.log(g.isShowReferLine,"state.isShowReferLine")},E=z=>{const $=z.target.value.split(",");f.value.h=$.map(k=>Number(k))},D=z=>{const $=z.target.value.split(",");f.value.v=$.map(k=>Number(k))},T=z=>{l.disableZoom=z.target.checked},I=z=>{l.disablePan=z.target.checked},R=z=>{l.contain=z.target.checked?"inside":"none"},N=()=>{g.shadow.x=Math.random()*n.value,g.shadow.y=Math.random()*i.value};return(z,$)=>(Tt(),Lt("div",Qh,[J("div",Jh,[J("div",tg," :"+xe(y.value),1),s.value?(Tt(),Lt("button",{key:0,class:"mr10 font16",onClick:$[0]||($[0]=k=>s.value=!1)},"")):(Tt(),Lt("button",{key:1,class:"mr10 font16",onClick:d},"")),J("button",{class:"mr10 font16",onClick:S},""),J("button",{class:"mr10 font16",onClick:$[1]||($[1]=k=>u.value=!0)},""),J("button",{class:"mr10 font16",onClick:N},""),J("button",{class:"mr10 font16",onClick:h},""),J("button",{class:"mr10 font16",onClick:Ft(v,["stop"])},""),J("button",{class:"mr10 font16",onClick:Ft(c,["stop"])},""),eg,J("input",{type:"checkbox",class:"switch",onChange:T},null,32),rg,J("input",{type:"checkbox",class:"switch mr10",onChange:I},null,32),ng,J("input",{type:"checkbox",class:"switch mr10",onChange:R},null,32),J("input",{class:"mr10 font16",value:g.scale,onInput:C,type:"range",min:"0.3",max:"3",step:"0.1",defaultValue:"1"},null,40,ig),ag,J("input",{class:"mr10",style:{width:"90px"},value:f.value.h,onBlur:E},null,40,og),sg,J("input",{class:"mr10",style:{width:"90px"},value:f.value.v,onBlur:D},null,40,lg),ug]),J("div",{class:Ge(["wrapper",[g.isBlack?"balckwrapper":"whitewrapper"]]),style:Nt(m.value)},[(Tt(),Lr(At(ma),{key:a.value,scale:g.scale,"onUpdate:scale":$[2]||($[2]=k=>g.scale=k),lockLine:u.value,"onUpdate:lockLine":$[3]||($[3]=k=>u.value=k),thick:g.thick,width:e.value,showRuler:s.value,height:r.value,palette:b.value,snapsObj:f.value,shadow:g.shadow,canvasWidth:n.value,canvasHeight:i.value,panzoomOption:l,ref_key:"sketchruleRef",ref:o,isShowReferLine:g.isShowReferLine,onOnCornerClick:x,onZoomchange:w,lines:g.lines},{default:Ye(()=>[J("div",{"data-type":"page",style:Nt(_.value)},[J("img",{class:"img-style",src:At(ds),alt:""},null,8,fg)],4)]),btn:Ye(({reset:k,zoomIn:L,zoomOut:B})=>[J("div",cg,[J("button",{onClick:Ft(k,["stop"])},"",8,dg),J("button",{onClick:Ft(L,["stop"])},"",8,pg),J("button",{onClick:Ft(B,["stop"])},"",8,vg)])]),_:1},8,["scale","lockLine","thick","width","showRuler","height","palette","snapsObj","shadow","canvasWidth","canvasHeight","panzoomOption","isShowReferLine","lines"]))],6)]))}}),gg={class:"demo"},mg={class:"top font16"},bg=J("div",{class:"mr10"}," ",-1),yg={class:"scale mr10"},_g=J("span",null,"",-1),xg=J("span",null,"",-1),Sg=J("span",null,"",-1),Cg=["value"],wg=J("div",{class:"mr10"}," : ",-1),Eg=["value"],Dg=J("div",{class:"mr10"}," : ",-1),Mg=["value"],Og=J("a",{href:"https://github.com/kakajun/vue3-sketch-ruler",target:"_blank",rel:"noopener noreferrer"},[J("i",{class:"fas fa-external-link-alt"}),Kn(" git ")],-1),Rg=["src"],Tg={class:"btns"},Pg=["onClick"],Ig=["onClick"],Ag=["onClick"],kg=je({__name:"user-rulerts3",setup(t){const e=St(0),r=St(),n=ce({maxScale:3,minScale:.3,disablePan:!1,disableZoom:!1,contain:"none",handleStartEvent:S=>{S.preventDefault(),console.log("handleStartEvent",S)}}),i=St(!1),a=()=>{r.value&&r.value.zoomOut()};qe(()=>{window.addEventListener("resize",o);const S=r.value.panzoomInstance,E=document.getElementsByClassName("canvasedit-parent");if(E[0]){const D=E[0];D&&D.addEventListener("wheel",function(T){(T.ctrlKey||T.metaKey)&&S.zoomWithWheel(T)}),document.addEventListener("pointerdown",function(T){T.button===1&&(r.value.cursorClass="grabCursor",S.bind(),S.handleDown(T),T.preventDefault())}),document.addEventListener("pointerup",function(T){T.button===1&&(S.destroy(),console.log(""),r.value.cursorClass="defaultCursor")})}});const o=()=>{r.value&&r.value.initPanzoom()},s=()=>{r.value&&r.value.reset()},l=()=>{u.isBlack=!u.isBlack,e.value++},u=ce({scale:1,isBlack:!1}),f=Dt(()=>u.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),c=ce({thick:20,width:1470,height:800,canvasWidth:1e3,canvasHeight:500,showRuler:!0,palette:f.value,snapsObj:{h:[0,100,200],v:[130]},shadow:{x:0,y:0,width:300,height:300},panzoomOption:n,isShowReferLine:!0,lines:{h:[0,250],v:[0,500]}}),d=Dt(()=>({width:`${c.width}px`,height:`${c.height}px`})),p=Dt(()=>Number(u.scale).toFixed(1)),v=Dt(()=>({width:`${c.canvasWidth}px`,height:`${c.canvasHeight}px`})),h=S=>{u.scale=S.target.value*1,r.value&&r.value.panzoomInstance.zoom(u.scale)},g=S=>{console.log("handleCornerClick",S)},m=S=>{},b=S=>{const E=S.target.value.split(",");c.snapsObj.h=E.map(D=>Number(D))},y=S=>{const E=S.target.value.split(",");c.snapsObj.v=E.map(D=>Number(D))},_=S=>{n.disableZoom=S.target.checked},C=S=>{n.disablePan=S.target.checked},x=S=>{n.contain=S.target.checked?"inside":"none"},w=()=>{c.shadow.x=Math.random()*c.canvasWidth,c.shadow.y=Math.random()*c.canvasHeight};return(S,E)=>(Tt(),Lt("div",gg,[J("div",mg,[bg,J("div",yg," :"+xe(p.value),1),J("button",{class:"mr10 font16",onClick:E[0]||(E[0]=D=>c.showRuler=!c.showRuler)},xe((c.showRuler?"":"")+""),1),J("button",{class:"mr10 font16",onClick:E[1]||(E[1]=D=>c.isShowReferLine=!c.isShowReferLine)},xe((c.isShowReferLine?"":"")+""),1),J("button",{class:"mr10 font16",onClick:E[2]||(E[2]=D=>i.value=!0)},""),J("button",{class:"mr10 font16",onClick:w},""),J("button",{class:"mr10 font16",onClick:l},""),J("button",{class:"mr10 font16",onClick:Ft(s,["stop"])},""),J("button",{class:"mr10 font16",onClick:Ft(a,["stop"])},""),_g,J("input",{type:"checkbox",class:"switch",onChange:_},null,32),xg,J("input",{type:"checkbox",class:"switch mr10",onChange:C},null,32),Sg,J("input",{type:"checkbox",class:"switch mr10",onChange:x},null,32),J("input",{class:"mr10 font16",value:u.scale,onInput:h,type:"range",min:"0.3",max:"3",step:"0.1",defaultValue:"1"},null,40,Cg),wg,J("input",{class:"mr10",style:{width:"90px"},value:c.snapsObj.h,onBlur:b},null,40,Eg),Dg,J("input",{class:"mr10",style:{width:"90px"},value:c.snapsObj.v,onBlur:y},null,40,Mg),Og]),J("div",{class:Ge(["wrapper",[u.isBlack?"balckwrapper":"whitewrapper"]]),style:Nt(d.value)},[(Tt(),Lr(At(ma),un({ref_key:"sketchruleRef",ref:r,key:e.value,scale:u.scale,"onUpdate:scale":E[3]||(E[3]=D=>u.scale=D),lockLine:i.value,"onUpdate:lockLine":E[4]||(E[4]=D=>i.value=D)},c,{selfHandle:!0,onOnCornerClick:g,onZoomchange:m}),{default:Ye(()=>[J("div",{"data-type":"page",style:Nt(v.value)},[J("img",{class:"img-style",src:At(ds),alt:""},null,8,Rg)],4)]),btn:Ye(({reset:D,zoomIn:T,zoomOut:I})=>[J("div",Tg,[J("button",{onClick:Ft(D,["stop"])},"",8,Pg),J("button",{onClick:Ft(T,["stop"])},"",8,Ig),J("button",{onClick:Ft(I,["stop"])},"",8,Ag)])]),_:1},16,["scale","lockLine"]))],6)]))}});function Bg(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.map(function(n){return n.split(" ").map(function(i){return i?""+t+i:""}).join(" ")}).join(" ")}function zg(t,e){return e.replace(/([^}{]*){/gm,function(r,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"})}function Qe(t,e){return function(r){r&&(t[e]=r)}}function Lf(t,e,r){return function(n){n&&(t[e][r]=n)}}function zl(t,e){return function(r){var n=r.prototype;t.forEach(function(i){e(n,i)})}}function Gg(t,e){return e===void 0&&(e={}),function(r,n){t.forEach(function(i){var a=e[i]||i;a in r||(r[a]=function(){for(var o,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u=(o=this[n])[i].apply(o,s);return u===this[n]?this:u})})}}var Fg="function",Ng="object",Lg="string",Hg="number",vs="undefined",Hf=typeof window!==vs,$g=typeof document!==vs&&document,Wg=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Vt=1e-7,xi={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,e){return t*e/100},vw:function(t,e){return e===void 0&&(e=window.innerWidth),t/100*e},vh:function(t,e){return e===void 0&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return e===void 0&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return e===void 0&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Vg(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function Xi(t,e,r,n){return(t*n+e*r)/(r+n)}function Qn(t){return typeof t===vs}function Be(t){return t&&typeof t===Ng}function Xt(t){return Array.isArray(t)}function me(t){return typeof t===Lg}function fn(t){return typeof t===Hg}function hs(t){return typeof t===Fg}function Yg(t,e){var r=t===""||t==" ",n=e===""||e==" ";return n&&r||t===e}function $f(t,e,r,n,i){var a=gs(t,e,r);return a?r:Xg(t,e,r+1,n,i)}function gs(t,e,r){if(!t.ignore)return null;var n=e.slice(Math.max(r-3,0),r+3).join("");return new RegExp(t.ignore).exec(n)}function Xg(t,e,r,n,i){for(var a=function(u){var f=e[u].trim();if(f===t.close&&!gs(t,e,u))return{value:u};var c=u,d=be(i,function(p){var v=p.open;return v===f});if(d&&(c=$f(d,e,u,n,i)),c===-1)return o=u,"break";u=c,o=u},o,s=r;s<n;++s){var l=a(s);if(s=o,typeof l=="object")return l.value;if(l==="break")break}return-1}function ms(t,e){var r=me(e)?{separator:e}:e,n=r.separator,i=n===void 0?",":n,a=r.isSeparateFirst,o=r.isSeparateOnlyOpenClose,s=r.isSeparateOpenClose,l=s===void 0?o:s,u=r.openCloseCharacters,f=u===void 0?Wg:u,c=f.map(function(w){var S=w.open,E=w.close;return S===E?S:S+"|"+E}).join("|"),d="(\\s*"+i+"\\s*|"+c+"|\\s+)",p=new RegExp(d,"g"),v=t.split(p).filter(function(w){return w&&w!=="undefined"}),h=v.length,g=[],m=[];function b(){return m.length?(g.push(m.join("")),m=[],!0):!1}for(var y=function(w){var S=v[w].trim(),E=w,D=be(f,function(R){var N=R.open;return N===S}),T=be(f,function(R){var N=R.close;return N===S});if(D){if(E=$f(D,v,w,h,f),E!==-1&&l)return b()&&a||(g.push(v.slice(w,E+1).join("")),w=E,a)?(_=w,"break"):(_=w,"continue")}else if(T&&!gs(T,v,w)){var I=Vg(f);return I.splice(f.indexOf(T),1),{value:ms(t,{separator:i,isSeparateFirst:a,isSeparateOnlyOpenClose:o,isSeparateOpenClose:l,openCloseCharacters:I})}}else if(Yg(S,i)&&!o)return b(),a?(_=w,"break"):(_=w,"continue");E===-1&&(E=h-1),m.push(v.slice(w,E+1).join("")),w=E,_=w},_,C=0;C<h;++C){var x=y(C);if(C=_,typeof x=="object")return x.value;if(x==="break")break}return m.length&&g.push(m.join("")),g}function mr(t){return ms(t,"")}function Pr(t){return ms(t,",")}function Wf(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function Jn(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var r=e[1],n=e[2],i=e[3];return{prefix:r,unit:i,value:parseFloat(n)}}function jg(t){return t.replace(/[\s-_]+([^\s-_])/g,function(e,r){return r.toUpperCase()})}function Li(t,e){return t.replace(/([a-z])([A-Z])/g,function(r,n,i){return""+n+e+i.toLowerCase()})}function Vn(){return Date.now?Date.now():new Date().getTime()}function er(t,e,r){r===void 0&&(r=-1);for(var n=t.length,i=0;i<n;++i)if(e(t[i],i,t))return i;return r}function be(t,e,r){var n=er(t,e);return n>-1?t[n]:r}var Vf=function(){var t=Vn(),e=Hf&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(r){var n=Vn(),i=setTimeout(function(){r(n-t)},1e3/60);return i}}(),qg=function(){var t=Hf&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(e){clearTimeout(e)}}();function rr(t){return Object.keys(t)}function Ug(t){var e=rr(t);return e.map(function(r){return t[r]})}function Rt(t,e){var r=Jn(t),n=r.value,i=r.unit;if(Be(e)){var a=e[i];if(a){if(hs(a))return a(n);if(xi[i])return xi[i](n,a)}}else if(i==="%")return n*e/100;return xi[i]?xi[i](n):n}function xo(t,e,r){return Math.max(e,Math.min(t,r))}function Gl(t,e,r,n){return n===void 0&&(n=t[0]/t[1]),[[bt(e[0],Vt),bt(e[0]/n,Vt)],[bt(e[1]*n,Vt),bt(e[1],Vt)]].filter(function(i){return i.every(function(a,o){var s=e[o],l=bt(s,Vt);return r?a<=s||a<=l:a>=s||a>=l})})[0]||t}function Yf(t,e,r,n){if(!n)return t.map(function(p,v){return xo(p,e[v],r[v])});var i=t[0],a=t[1],o=n===!0?i/a:n,s=Gl(t,e,!1,o),l=s[0],u=s[1],f=Gl(t,r,!0,o),c=f[0],d=f[1];return i<l||a<u?(i=l,a=u):(i>c||a>d)&&(i=c,a=d),[i,a]}function Kg(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return r}function So(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return e?r/e:0}function Ht(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function Zg(t){return[0,1].map(function(e){return So(t.map(function(r){return r[e]}))})}function Fl(t){var e=Zg(t),r=Ht(e,t[0]),n=Ht(e,t[1]);return r<n&&n-r<Math.PI||r>n&&n-r<-Math.PI?1:-1}function Je(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function bt(t,e){if(!e)return t;var r=1/e;return Math.round(t/e)/r}function Nl(t,e){return t.forEach(function(r,n){t[n]=bt(t[n],e)}),t}function Qg(t){for(var e=[],r=0;r<t;++r)e.push(r);return e}function Xf(t){return t.reduce(function(e,r){return e.concat(r)},[])}function jf(t,e){t.indexOf(e)===-1&&t.push(e)}function qt(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function qf(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function Uf(t,e){if(t.classList)t.classList.remove(e);else{var r=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(r," ")}}function Zt(t,e,r,n){t.addEventListener(e,r,n)}function jt(t,e,r,n){t.removeEventListener(e,r,n)}function mn(t){return(t==null?void 0:t.ownerDocument)||$g}function bs(t){return mn(t).documentElement}function Cr(t){return mn(t).body}function vr(t){var e;return((e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||window}function Kf(t){return t&&"postMessage"in t&&"blur"in t&&"self"in t}function bn(t){return Be(t)&&t.nodeName&&t.nodeType&&"ownerDocument"in t}var Jg=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(r){return this.values[this.keys.indexOf(r)]},e.set=function(r,n){var i=this.keys,a=this.values,o=i.indexOf(r),s=o===-1?i.length:o;i[s]=r,a[s]=n},t}(),t0=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(r){return this.object[r]},e.set=function(r,n){this.object[r]=n},t}(),e0=typeof Map=="function",r0=function(){function t(){}var e=t.prototype;return e.connect=function(r,n){this.prev=r,this.next=n,r&&(r.next=this),n&&(n.prev=this)},e.disconnect=function(){var r=this.prev,n=this.next;r&&(r.next=n),n&&(n.prev=r)},e.getIndex=function(){for(var r=this,n=-1;r;)r=r.prev,++n;return n},t}();function n0(t,e){var r=[],n=[];return t.forEach(function(i){var a=i[0],o=i[1],s=new r0;r[a]=s,n[o]=s}),r.forEach(function(i,a){i.connect(r[a-1])}),t.filter(function(i,a){return!e[a]}).map(function(i,a){var o=i[0],s=i[1];if(o===s)return[0,0];var l=r[o],u=n[s-1],f=l.getIndex();l.disconnect(),u?l.connect(u,u.next):l.connect(void 0,r[0]);var c=l.getIndex();return[f,c]})}var i0=function(){function t(r,n,i,a,o,s,l,u){this.prevList=r,this.list=n,this.added=i,this.removed=a,this.changed=o,this.maintained=s,this.changedBeforeAdded=l,this.fixed=u}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var r=n0(this.changedBeforeAdded,this.fixed),n=this.changed,i=[];this.cacheOrdered=r.filter(function(a,o){var s=a[0],l=a[1],u=n[o],f=u[0],c=u[1];if(s!==l)return i.push([f,c]),!0}),this.cachePureChanged=i},t}();function ti(t,e,r){var n=e0?Map:r?t0:Jg,i=r||function(b){return b},a=[],o=[],s=[],l=t.map(i),u=e.map(i),f=new n,c=new n,d=[],p=[],v={},h=[],g=0,m=0;return l.forEach(function(b,y){f.set(b,y)}),u.forEach(function(b,y){c.set(b,y)}),l.forEach(function(b,y){var _=c.get(b);typeof _>"u"?(++m,o.push(y)):v[_]=m}),u.forEach(function(b,y){var _=f.get(b);typeof _>"u"?(a.push(y),++g):(s.push([_,y]),m=v[y]||0,d.push([_-m,y-g]),p.push(y===_),_!==y&&h.push([_,y]))}),o.reverse(),new i0(t,e,a,o,h,s,d,p)}var a0=function(){function t(r,n){r===void 0&&(r=[]),this.findKeyCallback=n,this.list=[].slice.call(r)}var e=t.prototype;return e.update=function(r){var n=[].slice.call(r),i=ti(this.list,n,this.findKeyCallback);return this.list=n,i},t}(),Co=function(t,e){return Co=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Co(t,e)};function ei(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Co(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $e=function(){return $e=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$e.apply(this,arguments)};function Zf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Ll(t,e,r){for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Hl(t){var e=0;return t.map(function(r){return r==null?"$compat".concat(++e):"".concat(r)})}function Qf(t){var e=[];return t.forEach(function(r){e=e.concat(Xt(r)?Qf(r):r)}),e}function Wa(t,e){if(!e)return t;for(var r in e)Qn(t[r])&&(t[r]=e[r]);return t}function ji(t,e){if(t===e)return!1;for(var r in t)if(!(r in e))return!0;for(var r in e)if(t[r]!==e[r])return!0;return!1}function $l(t){var e=t.className,r=Zf(t,["className"]);return e!=null&&(r.class=e),delete r.style,delete r.children,r}function Wl(t){var e={},r={};for(var n in t)n.indexOf("on")===0?r[n]=t[n]:e[n]=t[n];return[e,r]}function ba(t){if(!t)return null;var e=t.b;return bn(e)?e:ba(t.c)}function Jf(t){var e=t.parentNode;e&&e.removeChild(t)}function tc(t){t.forEach(function(e){e()})}function o0(){return this.constructor(this.props,this.context)}var ys=0,ya=function(){function t(r,n,i,a,o,s,l){l===void 0&&(l={}),this.t=r,this.d=n,this.k=i,this.i=a,this.c=o,this.ref=s,this.ps=l,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var e=t.prototype;return e.s=function(){return!0},e.u=function(r,n,i,a,o){var s=this,l=s.d,u=Ug(n).filter(function(v){return v.$_req}),f=Qf(u.map(function(v){return v.$_subs})),c=be(f,function(v){return v.d===l});if(s.b&&!me(i)&&!o&&!s.s(i.props,a)&&!c){var d=f.reduce(function(v,h){var g=h.d;return v[0]?v[0].d===g&&v.push(h):g>l&&v.push(h),v},[]);return d.forEach(function(v){ri(v,v._ps,[v.o],r,n,!0)}),!1}s.o=i,s.ss(a);var p=s.ps;return me(i)||(s.ps=i.props,s.ref=i.ref),_s(this),s.r(r,n,s.b?p:{},a),!0},e.md=function(){this.rr()},e.ss=function(){},e.ud=function(){this.rr()},e.rr=function(){var r=this,n=r.ref,i=r.fr;n&&n(i?i.current:r.b)},t}();function ec(){return Object.__CROACT_CURRENT_INSTNACE__}function s0(){return ys}function l0(t){ys=t}function _s(t){return Object.__CROACT_CURRENT_INSTNACE__=t,ys=0,t}var xs=function(){function t(r,n){r===void 0&&(r={}),this.props=r,this.context=n,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var e=t.prototype;return e.render=function(){return null},e.shouldComponentUpdate=function(r,n){return this.props!==r||this.state!==n},e.setState=function(r,n,i){var a=this;a.$_timer||(a.$_state={}),clearTimeout(a.$_timer),a.$_timer=0,a.$_state=$e($e({},a.$_state),r),i?a.$_setState(n,i):a.$_timer=window.setTimeout(function(){a.$_timer=0,a.$_setState(n,i)})},e.forceUpdate=function(r){this.setState({},r,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(r,n){},e.componentWillUnmount=function(){},e.$_setState=function(r,n){var i=[],a=this.$_p,o=ri(a.c,[a],[a.o],i,a._cs,$e($e({},this.state),this.$_state),n);o&&(r&&i.push(r),tc(i),_s(null))},t}(),rc=function(t){ei(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var r=e.prototype;return r.shouldComponentUpdate=function(n,i){return ji(this.props,n)||ji(this.state,i)},e}(xs);function nc(t){var e=function(r){e.current=r};return e.current=t,e}function u0(t){return t._fr=!0,t}function f0(t,e,r,n){var i,a;return!((i=t==null?void 0:t.prototype)===null||i===void 0)&&i.render?a=new t(e,r):(a=new xs(e,r),a.constructor=t,t._fr?(n.fr=nc(),a.render=function(){return this.constructor(this.props,n.fr)}):a.render=o0),a.$_p=n,a}var c0=function(t){ei(e,t);function e(n,i,a,o,s,l,u){u===void 0&&(u={});var f=t.call(this,n,i,a,o,s,l,Wa(u,n.defaultProps))||this;return f.typ="comp",f._usefs=[],f._uefs=[],f._defs=[],f}var r=e.prototype;return r.s=function(n,i){var a=this.b;return a.shouldComponentUpdate(Wa(n,this.t.defaultProps),i||a.state)!==!1},r.r=function(n,i,a){var o,s,l=this,u=l.t;l.ps=Wa(l.ps,l.t.defaultProps);var f=l.ps,c=!l.b,d=u.contextType,p=l.b,v=d==null?void 0:d.get(l);l._cs=i,c?(p=f0(u,f,v,l),l.b=p):(p.props=f,p.context=v);var h=p.state;l._usefs=[],l._uefs=[];var g=p.render();((s=(o=g==null?void 0:g.props)===null||o===void 0?void 0:o.children)===null||s===void 0?void 0:s.length)===0&&(g.props.children=l.ps.children);var m=$e($e({},i),p.$_cs);ri(l,l._ps,g?[g]:[],n,m),c?l._uefs.push(function(){d==null||d.register(l),p.componentDidMount()}):l._uefs.push(function(){p.componentDidUpdate(a,h)}),n.push(function(){l._usefs.forEach(function(b){b()}),c?l.md():l.ud(),l._defs=l._uefs.map(function(b){return b()})})},r.ss=function(n){var i=this.b;!i||!n||(i.state=n)},r.un=function(){var n,i=this;i._ps.forEach(function(o){o.un()});var a=i.t;(n=a.contextType)===null||n===void 0||n.unregister(i),clearTimeout(i.b.$_timer),i._defs.forEach(function(o){o&&o()}),i.b.componentWillUnmount()},e}(ya);function d0(t,e,r){var n=Ss($l(t),$l(e)),i=n.added,a=n.removed,o=n.changed;for(var s in i)r.setAttribute(s,i[s]);for(var l in o)r.setAttribute(l,o[l][1]);for(var u in a)r.removeAttribute(u)}function p0(t,e,r){var n=Ss(t,e),i=n.added,a=n.removed;for(var o in a)r.e(o,!0);for(var s in i)r.e(s)}function Ss(t,e){var r=rr(t),n=rr(e),i=ti(r,n,function(l){return l}),a={},o={},s={};return i.added.forEach(function(l){var u=n[l];a[u]=e[u]}),i.removed.forEach(function(l){var u=r[l];o[u]=t[u]}),i.maintained.forEach(function(l){var u=l[0],f=r[u],c=[t[f],e[f]];t[f]!==e[f]&&(s[f]=c)}),{added:a,removed:o,changed:s}}function v0(t,e,r){var n=r.style,i=Ss(t,e),a=i.added,o=i.removed,s=i.changed;for(var l in a){var u=Li(l,"-");n.setProperty(u,a[l])}for(var l in s){var f=Li(l,"-");n.setProperty(f,s[l][1])}for(var l in o){var c=Li(l,"-");n.removeProperty(c)}}function h0(t){return t.replace(/^on/g,"").toLowerCase()}var g0=function(t){ei(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.typ="elem",n._es={},n._svg=!1,n}var r=e.prototype;return r.e=function(n,i){var a=this,o=a._es,s=a.b,l=h0(n);i?(jt(s,l,o[n]),delete o[n]):(o[n]=function(u){var f,c;(c=(f=a.ps)[n])===null||c===void 0||c.call(f,u)},Zt(s,l,o[n]))},r.s=function(n){return ji(this.ps,n)},r.r=function(n,i,a){var o,s=this,l=!s.b,u=s.ps;if(l){var f=ba(s.c),c=!1;s._svg||s.t==="svg"?c=!0:c=f&&f.ownerSVGElement,s._svg=c;var d=(o=s._hyd)===null||o===void 0?void 0:o.splice(0,1)[0],p=s.t;if(d)s._hyd=[].slice.call(d.children||[]);else{var v=mn(f);c?d=v.createElementNS("http://www.w3.org/2000/svg",p):d=v.createElement(p)}s.b=d}ri(s,s._ps,u.children,n,i);var h=s.b,g=Wl(a),m=g[0],b=g[1],y=Wl(u),_=y[0],C=y[1];return d0(m,_,h),p0(b,C,s),v0(a.style||{},u.style||{},h),n.push(function(){l?s.md():s.ud()}),!0},r.un=function(){var n=this,i=n._es,a=n.b;for(var o in i)jt(a,o,i[o]);n._ps.forEach(function(s){s.un()}),n._es={},n._sel||Jf(a)},e}(ya);function Yn(t){if(!t||bn(t))return t;var e=t.$_p._ps;return e.length?Yn(e[0].b):null}function ic(t){if(t){if(t.b&&bn(t.b))return t;var e=t._ps;return e.length?ic(e[0]):null}}function Ie(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=e||{},a=i.key,o=i.ref,s=Zf(i,["key","ref"]);return{type:t,key:a,ref:o,props:$e($e({},s),{children:Xf(r).filter(function(l){return l!=null&&l!==!1})})}}var ac=function(t){ei(e,t);function e(n,i){i===void 0&&(i=0);var a=t.call(this,"container",i,"container",0,null)||this;return a.typ="container",a.b=n,a}var r=e.prototype;return r.r=function(){return!0},r.un=function(){},e}(ya),m0=function(t){ei(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.typ="text",n}var r=e.prototype;return r.r=function(n){var i,a=this,o=!a.b;if(o){var s=ba(a.c),l=(i=a._hyd)===null||i===void 0?void 0:i.splice(0,1)[0];a.b=l||mn(s).createTextNode(a.t.replace("text_",""))}return n.push(function(){o?a.md():a.ud()}),!0},r.un=function(){Jf(this.b)},e}(ya);function b0(t,e,r){var n=r.map(function(l){return me(l)?null:l.key}),i=Hl(e.map(function(l){return l.k})),a=Hl(n),o=ti(i,a,function(l){return l});o.removed.forEach(function(l){e.splice(l,1)[0].un()}),o.ordered.forEach(function(l){var u=l[0],f=l[1],c=e.splice(u,1)[0];e.splice(f,0,c);var d=Yn(c.b),p=Yn(e[f+1]&&e[f+1].b);d&&d.parentNode.insertBefore(d,p)}),o.added.forEach(function(l){e.splice(l,0,Vl(r[l],n[l],l,t))});var s=o.maintained.filter(function(l){l[0];var u=l[1],f=r[u],c=e[u],d=me(f)?"text_".concat(f):f.type;return d!==c.t?(c.un(),e.splice(u,1,Vl(f,n[u],u,t)),!0):(c.i=u,!1)});return Ll(Ll([],o.added,!0),s.map(function(l){l[0];var u=l[1];return u}))}function y0(t,e){for(var r=t._ps,n=r.length,i=e.i+1;i<n;++i){var a=Yn(r[i].b);if(a)return a}return null}function Vl(t,e,r,n){var i=n.d+1;if(me(t)||fn(t))return new m0("text_".concat(t),i,e,r,n,null,{});var a=t.type,o=typeof a=="string"?g0:c0;return new o(a,i,e,r,n,t.ref,t.props)}function ri(t,e,r,n,i,a,o){var s=b0(t,e,r),l=t._hyd,u=e.filter(function(c,d){return c._hyd=l,c.u(n,i,r[d],a,o)});t.typ==="container"&&t._sel&&e.forEach(function(c){var d=ic(c);d&&(d._sel=!0)}),t._hyd=null;var f=ba(t);return f&&s.reverse().forEach(function(c){var d=e[c],p=Yn(d.b);if(p&&f!==p&&!p.parentNode){var v=y0(t,d);f.insertBefore(p,v)}}),u.length>0}function _0(t,e,r,n){r===void 0&&(r=e.__CROACT__),n===void 0&&(n={});var i=!!r;r||(r=new ac(e));var a=[];return ri(r,r._ps,t?[t]:[],a,n,void 0,void 0),tc(a),_s(null),i||(e.__CROACT__=r),r}function Yl(t,e,r){return!r&&t&&(r=new ac(e.parentElement),r._hyd=[e],r._sel=!0),_0(t,e,r),r}function oc(t){var e=ec(),r=e._hs||(e._hs=[]),n=s0(),i=r[n];if(l0(n+1),i){if(!ji(i.deps,t.deps))return i.updated=!1,i;r[n]=t}else r.push(t);return t.value=t.func(),t.updated=!0,t}function x0(t,e){var r=oc({func:t,deps:e});return r.value}function S0(t){return x0(function(){return nc(t)},[])}function sc(t,e,r){var n=ec(),i=oc({func:function(){return t},deps:e}),a=r?n._usefs:n._uefs;i.updated?a.push(function(){return i.effect&&i.effect(),i.effect=t(),i.effect}):a.push(function(){return i.effect})}function C0(t,e,r){sc(function(){t==null||t(e())},r,!0)}function Cs(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return!0;return!1}function lc(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return t[n];return null}function uc(t){var e=t;if(typeof e>"u"){if(typeof navigator>"u"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function ws(t,e){try{return new RegExp(t,"g").exec(e)}catch{return null}}function w0(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!!(e&&e.length)}function E0(t,e){var r=ws("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return r?r[3]:""}function wo(t){return t.replace(/_/g,".")}function En(t,e){var r=null,n="-1";return Cs(t,function(i){var a=ws("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!a||i.brand?!1:(r=i,n=a[3]||"-1",i.versionAlias?n=i.versionAlias:i.versionTest&&(n=E0(i.versionTest.toLowerCase(),e)||n),n=wo(n),!0)}),{preset:r,version:n}}function Si(t,e){var r={brand:"",version:"-1"};return Cs(t,function(n){var i=fc(e,n);return i?(r.brand=n.id,r.version=n.versionAlias||i.version,r.version!=="-1"):!1}),r}function fc(t,e){return lc(t,function(r){var n=r.brand;return ws(""+e.test,n.toLowerCase())})}var cc=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],dc=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],Eo=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],pc=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],vc=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function hc(t){return!!En(pc,t).preset}function D0(t){var e=uc(t),r=!!/mobi/g.exec(e),n={name:"unknown",version:"-1",majorVersion:-1,webview:hc(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},a=En(cc,e),o=a.preset,s=a.version,l=En(vc,e),u=l.preset,f=l.version,c=En(dc,e);if(n.chromium=!!c.preset,n.chromiumVersion=c.version,!n.chromium){var d=En(Eo,e);n.webkit=!!d.preset,n.webkitVersion=d.version}return u&&(i.name=u.id,i.version=f,i.majorVersion=parseInt(f,10)),o&&(n.name=o.id,n.version=s,n.webview&&i.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:i,isMobile:r,isHints:!1}}function M0(t){var e=navigator.userAgentData,r=(e.uaList||e.brands).slice(),n=e.mobile||!1,i=r[0],a=(e.platform||navigator.platform).toLowerCase(),o={name:i.brand,version:i.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Si(pc,r).brand||hc(uc())},s={name:"unknown",version:"-1",majorVersion:-1};o.webkit=!o.chromium&&Cs(Eo,function(d){return fc(r,d)});var l=Si(dc,r);if(o.chromium=!!l.brand,o.chromiumVersion=l.version||"-1",!o.chromium){var u=Si(Eo,r);o.webkit=!!u.brand,o.webkitVersion=u.version||"-1"}var f=lc(vc,function(d){return new RegExp(""+d.test,"g").exec(a)});s.name=f?f.id:"";{var c=Si(cc,r);o.name=c.brand||o.name,o.version=c.brand&&t?t.uaFullVersion:c.version}return o.webkit&&(s.name=n?"ios":"mac"),s.name==="ios"&&o.webview&&(o.version="-1"),s.version=wo(s.version),o.version=wo(o.version),s.majorVersion=parseInt(s.version,10),o.majorVersion=parseInt(o.version,10),{browser:o,os:s,isMobile:n,isHints:!0}}function O0(t){return w0()?M0():D0(t)}function R0(t,e,r,n,i,a){for(var o=0;o<i;++o){var s=r+o*i,l=n+o*i;t[s]+=t[l]*a,e[s]+=e[l]*a}}function T0(t,e,r,n,i){for(var a=0;a<i;++a){var o=r+a*i,s=n+a*i,l=t[o],u=e[o];t[o]=t[s],t[s]=l,e[o]=e[s],e[s]=u}}function P0(t,e,r,n,i){for(var a=0;a<n;++a){var o=r+a*n;t[o]/=i,e[o]/=i}}function gc(t,e,r){for(var n=t.slice(),i=0;i<r;++i)n[i*r+e-1]=0,n[(e-1)*r+i]=0;return n[(e-1)*(r+1)]=1,n}function Xe(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=t.slice(),n=kt(e),i=0;i<e;++i){var a=e*i+i;if(!bt(r[a],Vt)){for(var o=i+1;o<e;++o)if(r[e*i+o]){T0(r,n,i,o,e);break}}if(!bt(r[a],Vt))return[];P0(r,n,i,e,r[a]);for(var o=0;o<e;++o){var s=o,l=o+i*e,u=r[l];!bt(u,Vt)||i===o||R0(r,n,s,i,e,-u)}}return n}function I0(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=0;n<e;++n)for(var i=0;i<e;++i)r[i*e+n]=t[e*n+i];return r}function mc(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=t[e*e-1],i=0;i<e-1;++i)r[i]=t[e*(e-1)+i]/n;return r[e-1]=0,r}function A0(t,e){for(var r=kt(e),n=0;n<e-1;++n)r[e*(e-1)+n]=t[n]||0;return r}function Br(t,e){for(var r=t.slice(),n=t.length;n<e-1;++n)r[n]=0;return r[e-1]=1,r}function ze(t,e,r){if(e===void 0&&(e=Math.sqrt(t.length)),e===r)return t;for(var n=kt(r),i=Math.min(e,r),a=0;a<i-1;++a){for(var o=0;o<i-1;++o)n[a*r+o]=t[a*e+o];n[(a+1)*r-1]=t[(a+1)*e-1],n[(r-1)*r+a]=t[(e-1)*e+a]}return n[r*r-1]=t[e*e-1],n}function qi(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=kt(t);return e.forEach(function(i){n=Pt(n,i,t)}),n}function Pt(t,e,r){r===void 0&&(r=Math.sqrt(t.length));var n=[],i=t.length/r,a=e.length/i;if(i){if(!a)return t}else return e;for(var o=0;o<r;++o)for(var s=0;s<a;++s){n[s*r+o]=0;for(var l=0;l<i;++l)n[s*r+o]+=t[l*r+o]*e[s*i+l]}return n}function Et(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]+e[i];return n}function pt(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]-e[i];return n}function k0(t,e){return e===void 0&&(e=t.length===6),e?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t}function bc(t,e){return e===void 0&&(e=t.length===9),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function ie(t,e,r){r===void 0&&(r=e.length);var n=Pt(t,e,r),i=n[r-1];return n.map(function(a){return a/i})}function B0(t,e){return Pt(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function z0(t,e){return Pt(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function G0(t,e){return Pt(t,ii(e,4))}function Ci(t,e){var r=e[0],n=r===void 0?1:r,i=e[1],a=i===void 0?1:i,o=e[2],s=o===void 0?1:o;return Pt(t,[n,0,0,0,0,a,0,0,0,0,s,0,0,0,0,1],4)}function ni(t,e){return ie(ii(e,3),Br(t,3))}function Va(t,e){var r=e[0],n=r===void 0?0:r,i=e[1],a=i===void 0?0:i,o=e[2],s=o===void 0?0:o;return Pt(t,[1,0,0,0,0,1,0,0,0,0,1,0,n,a,s,1],4)}function Xl(t,e){return Pt(t,e,4)}function ii(t,e){var r=Math.cos(t),n=Math.sin(t),i=kt(e);return i[0]=r,i[1]=n,i[e]=-n,i[e+1]=r,i}function kt(t){for(var e=t*t,r=[],n=0;n<e;++n)r[n]=n%(t+1)?0:1;return r}function Es(t,e){for(var r=kt(e),n=Math.min(t.length,e-1),i=0;i<n;++i)r[(e+1)*i]=t[i];return r}function zr(t,e){for(var r=kt(e),n=Math.min(t.length,e-1),i=0;i<n;++i)r[e*(e-1)+i]=t[i];return r}function Ds(t,e,r,n,i,a,o,s){var l=t[0],u=t[1],f=e[0],c=e[1],d=r[0],p=r[1],v=n[0],h=n[1],g=i[0],m=i[1],b=a[0],y=a[1],_=o[0],C=o[1],x=s[0],w=s[1],S=[l,0,f,0,d,0,v,0,u,0,c,0,p,0,h,0,1,0,1,0,1,0,1,0,0,l,0,f,0,d,0,v,0,u,0,c,0,p,0,h,0,1,0,1,0,1,0,1,-g*l,-m*l,-b*f,-y*f,-_*d,-C*d,-x*v,-w*v,-g*u,-m*u,-b*c,-y*c,-_*p,-C*p,-x*h,-w*h],E=Xe(S,8);if(!E.length)return[];var D=Pt(E,[g,m,b,y,_,C,x,w],8);return D[8]=1,ze(I0(D),3,4)}var An=function(){return An=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},An.apply(this,arguments)};function F0(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Xn(t,e){return e===void 0&&(e=0),Xr(cn(t,e))}function N0(t,e){var r=ie(t,[e[0],e[1]||0,e[2]||0,1],4),n=r[3]||1;return[r[0]/n,r[1]/n,r[2]/n]}function Xr(t){var e=F0();return t.forEach(function(r){var n=r.matrixFunction,i=r.functionValue;n&&(e=n(e,i))}),e}function cn(t,e){e===void 0&&(e=0);var r=Xt(t)?t:mr(t);return r.map(function(n){var i=Wf(n),a=i.prefix,o=i.value,s=null,l=a,u="";if(a==="translate"||a==="translateX"||a==="translate3d"){var f=Be(e)?An(An({},e),{"o%":e["%"]}):{"%":e,"o%":e},c=Pr(o).map(function(R,N){return N===0&&"x%"in f?f["%"]=e["x%"]:N===1&&"y%"in f?f["%"]=e["y%"]:f["%"]=e["o%"],Rt(R,f)}),d=c[0],p=c[1],v=p===void 0?0:p,h=c[2],g=h===void 0?0:h;s=Va,u=[d,v,g]}else if(a==="translateY"){var m=Be(e)?An({"%":e["y%"]},e):{"%":e},v=Rt(o,m);s=Va,u=[0,v,0]}else if(a==="translateZ"){var g=parseFloat(o);s=Va,u=[0,0,g]}else if(a==="scale"||a==="scale3d"){var b=Pr(o).map(function(R){return parseFloat(R)}),y=b[0],_=b[1],C=_===void 0?y:_,x=b[2],w=x===void 0?1:x;s=Ci,u=[y,C,w]}else if(a==="scaleX"){var y=parseFloat(o);s=Ci,u=[y,1,1]}else if(a==="scaleY"){var C=parseFloat(o);s=Ci,u=[1,C,1]}else if(a==="scaleZ"){var w=parseFloat(o);s=Ci,u=[1,1,w]}else if(a==="rotate"||a==="rotateZ"||a==="rotateX"||a==="rotateY"){var S=Jn(o),E=S.unit,D=S.value,T=E==="rad"?D:D*Math.PI/180;a==="rotate"||a==="rotateZ"?(l="rotateZ",s=G0):a==="rotateX"?s=B0:a==="rotateY"&&(s=z0),u=T}else if(a==="matrix3d")s=Xl,u=Pr(o).map(function(R){return parseFloat(R)});else if(a==="matrix"){var I=Pr(o).map(function(R){return parseFloat(R)});s=Xl,u=[I[0],I[1],0,0,I[2],I[3],0,0,0,0,1,0,I[4],I[5],0,1]}else l="";return{name:a,functionName:l,value:o,matrixFunction:s,functionValue:u}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Do=function(t,e){return Do=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Do(t,e)};function L0(t,e){Do(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var yc=typeof Map=="function"?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}(),_c=function(t){L0(e,t);function e(r){return r===void 0&&(r=[]),t.call(this,r,yc)||this}return e}(a0);function H0(t,e){return ti(t,e,yc)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mo=function(){return Mo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Mo.apply(this,arguments)};function $0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}var _a=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(r,n){if(Be(r))for(var i in r)this.on(i,r[i]);else this._addEvent(r,n,{});return this},e.off=function(r,n){if(!r)this._events={};else if(Be(r))for(var i in r)this.off(i);else if(!n)this._events[r]=[];else{var a=this._events[r];if(a){var o=er(a,function(s){return s.listener===n});o>-1&&a.splice(o,1)}}return this},e.once=function(r,n){var i=this;return n&&this._addEvent(r,n,{once:!0}),new Promise(function(a){i._addEvent(r,a,{once:!0})})},e.emit=function(r,n){var i=this;n===void 0&&(n={});var a=this._events[r];if(!r||!a)return!0;var o=!1;return n.eventType=r,n.stop=function(){o=!0},n.currentTarget=this,$0(a).forEach(function(s){s.listener(n),s.once&&i.off(r,s.listener)}),!o},e.trigger=function(r,n){return n===void 0&&(n={}),this.emit(r,n)},e._addEvent=function(r,n,i){var a=this._events;a[r]=a[r]||[];var o=a[r];o.push(Mo({listener:n},i))},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Oo=function(t,e){return Oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Oo(t,e)};function W0(t,e){Oo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qr=function(){return qr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qr.apply(this,arguments)};function V0(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}function jl(t,e){return t.addEventListener("scroll",e),function(){t.removeEventListener("scroll",e)}}function wi(t){if(t){if(me(t))return document.querySelector(t)}else return null;if(hs(t))return t();if(t instanceof Element)return t;if("current"in t)return t.current;if("value"in t)return t.value}var Y0=function(t){W0(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n._currentOptions=null,n._lock=!1,n._unregister=null,n._onScroll=function(){var i=n._currentOptions;n._lock||!i||n.emit("scrollDrag",{next:function(a){n.checkScroll({container:i.container,inputEvent:a})}})},n}var r=e.prototype;return r.dragStart=function(n,i){var a=wi(i.container);if(!a){this._flag=!1;return}var o=0,s=0,l=0,u=0;if(a===document.body)l=window.innerWidth,u=window.innerHeight;else{var f=a.getBoundingClientRect();o=f.top,s=f.left,l=f.width,u=f.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:o,left:s,width:l,height:u},this._prevScrollPos=this._getScrollPosition([0,0],i),this._currentOptions=i,this._registerScrollEvent(i)},r.drag=function(n,i){if(clearTimeout(this._timer),!!this._flag){var a=n.clientX,o=n.clientY,s=i.threshold,l=s===void 0?0:s,u=this,f=u._startRect,c=u._startPos;this._currentOptions=i;var d=[0,0];return f.top>o-l?(c[1]>f.top||o<c[1])&&(d[1]=-1):f.top+f.height<o+l&&(c[1]<f.top+f.height||o>c[1])&&(d[1]=1),f.left>a-l?(c[0]>f.left||a<c[0])&&(d[0]=-1):f.left+f.width<a+l&&(c[0]<f.left+f.width||a>c[0])&&(d[0]=1),!d[0]&&!d[1]?!1:this._continueDrag(qr(qr({},i),{direction:d,inputEvent:n,isDrag:!0}))}},r.checkScroll=function(n){var i=this;if(this._isWait)return!1;var a=n.prevScrollPos,o=a===void 0?this._prevScrollPos:a,s=n.direction,l=n.throttleTime,u=l===void 0?0:l,f=n.inputEvent,c=n.isDrag,d=this._getScrollPosition(s||[0,0],n),p=d[0]-o[0],v=d[1]-o[1],h=s||[p?Math.abs(p)/p:0,v?Math.abs(v)/v:0];return this._prevScrollPos=d,this._lock=!1,!p&&!v?!1:(this.emit("move",{offsetX:h[0]?p:0,offsetY:h[1]?v:0,inputEvent:f}),u&&c&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},u)),!0)},r.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},r._getScrollPosition=function(n,i){var a=i.container,o=i.getScrollPosition,s=o===void 0?V0:o;return s({container:wi(a),direction:n})},r._continueDrag=function(n){var i=this,a,o=n.container,s=n.direction,l=n.throttleTime,u=n.useScroll,f=n.isDrag,c=n.inputEvent;if(!(!this._flag||f&&this._isWait)){var d=Vn(),p=Math.max(l+this._prevTime-d,0);if(p>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},p),!1;this._prevTime=d;var v=this._getScrollPosition(s,n);this._prevScrollPos=v,f&&(this._isWait=!0),u||(this._lock=!0);var h={container:wi(o),direction:s,inputEvent:c};return(a=n.requestScroll)===null||a===void 0||a.call(n,h),this.emit("scroll",h),this._isWait=!1,u||this.checkScroll(qr(qr({},n),{prevScrollPos:v,direction:s,inputEvent:c}))}},r._registerScrollEvent=function(n){this._unregisterScrollEvent();var i=n.checkScrollEvent;if(i){var a=i===!0?jl:i,o=wi(n.container);i===!0&&(o===document.body||o===document.documentElement)?this._unregister=jl(window,this._onScroll):this._unregister=a(o,this._onScroll)}},r._unregisterScrollEvent=function(){var n;(n=this._unregister)===null||n===void 0||n.call(this),this._unregister=null},e}(_a);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function X0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function ve(t){return bt(t,Vt)}function j0(t,e){return t.every(function(r,n){return ve(r-e[n])===0})}function q0(t,e){return!ve(t[0]-e[0])&&!ve(t[1]-e[1])}function xc(t){return t.length<3?0:Math.abs(Kg(t.map(function(e,r){var n=t[r+1]||t[0];return e[0]*n[1]-n[0]*e[1]})))/2}function ql(t,e){var r=e.width,n=e.height,i=e.left,a=e.top,o=Gr(t),s=o.minX,l=o.minY,u=o.maxX,f=o.maxY,c=r/(u-s),d=n/(f-l);return t.map(function(p){return[i+(p[0]-s)*c,a+(p[1]-l)*d]})}function Gr(t){var e=t.map(function(n){return n[0]}),r=t.map(function(n){return n[1]});return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,r),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,r)}}function Ro(t,e,r){var n=t[0],i=t[1],a=Gr(e),o=a.minX,s=a.maxX,l=[[o,i],[s,i]],u=Ui(l[0],l[1]),f=To(e),c=[];if(f.forEach(function(v){var h=Ui(v[0],v[1]),g=v[0];if(j0(u,h))c.push({pos:t,line:v,type:"line"});else{var m=Sc(Ms(u,h),[l,v]);m.forEach(function(b){v.some(function(y){return q0(y,b)})?c.push({pos:b,line:v,type:"point"}):ve(g[1]-i)!==0&&c.push({pos:b,line:v,type:"intersection"})})}}),be(c,function(v){return v[0]===n}))return!0;var d=0,p={};return c.forEach(function(v){var h=v.pos,g=v.type,m=v.line;if(!(h[0]>n))if(g==="intersection")++d;else{if(g==="line")return;if(g==="point"){var b=be(m,function(C){return C[1]!==i}),y=p[h[0]],_=b[1]>i?1:-1;y?y!==_&&++d:p[h[0]]=_}}}),d%2===1}function Ui(t,e){var r=t[0],n=t[1],i=e[0],a=e[1],o=i-r,s=a-n;Math.abs(o)<Vt&&(o=0),Math.abs(s)<Vt&&(s=0);var l=0,u=0,f=0;return o?s?(l=-s/o,u=1,f=-l*r-n):(u=1,f=-n):s&&(l=-1,f=r),[l,u,f]}function Ms(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],o=e[1],s=e[2],l=r===0&&a===0,u=n===0&&o===0,f=[];if(l&&u)return[];if(l){var c=-i/n,d=-s/o;return c!==d?[]:[[-1/0,c],[1/0,c]]}else if(u){var p=-i/r,v=-s/a;return p!==v?[]:[[p,-1/0],[p,1/0]]}else if(r===0){var h=-i/n,g=-(o*h+s)/a;f=[[g,h]]}else if(a===0){var h=-s/o,g=-(n*h+i)/r;f=[[g,h]]}else if(n===0){var g=-i/r,h=-(a*g+s)/o;f=[[g,h]]}else if(o===0){var g=-s/a,h=-(r*g+i)/n;f=[[g,h]]}else{var g=(n*s-o*i)/(o*r-n*a),h=-(r*g+i)/n;f=[[g,h]]}return f.map(function(m){return[m[0],m[1]]})}function Sc(t,e){var r=e.map(function(c){return[0,1].map(function(d){return[Math.min(c[0][d],c[1][d]),Math.max(c[0][d],c[1][d])]})}),n=[];if(t.length===2){var i=t[0],a=i[0],o=i[1];if(ve(a-t[1][0])){if(!ve(o-t[1][1])){var u=Math.max.apply(Math,r.map(function(c){return c[0][0]})),f=Math.min.apply(Math,r.map(function(c){return c[0][1]}));if(ve(u-f)>0)return[];n=[[u,o],[f,o]]}}else{var s=Math.max.apply(Math,r.map(function(c){return c[1][0]})),l=Math.min.apply(Math,r.map(function(c){return c[1][1]}));if(ve(s-l)>0)return[];n=[[a,s],[a,l]]}}return n.length||(n=t.filter(function(c){var d=c[0],p=c[1];return r.every(function(v){return 0<=ve(d-v[0][0])&&0<=ve(v[0][1]-d)&&0<=ve(p-v[1][0])&&0<=ve(v[1][1]-p)})})),n.map(function(c){return[ve(c[0]),ve(c[1])]})}function To(t){return X0(t.slice(1),[t[0]]).map(function(e,r){return[t[r],e]})}function U0(t,e){var r=t.slice(),n=e.slice();Fl(r)===-1&&r.reverse(),Fl(n)===-1&&n.reverse();var i=To(r),a=To(n),o=i.map(function(f){return Ui(f[0],f[1])}),s=a.map(function(f){return Ui(f[0],f[1])}),l=[];o.forEach(function(f,c){var d=i[c],p=[];s.forEach(function(v,h){var g=Ms(f,v),m=Sc(g,[d,a[h]]);p.push.apply(p,m.map(function(b){return{index1:c,index2:h,pos:b,type:"intersection"}}))}),p.sort(function(v,h){return Je(d[0],v.pos)-Je(d[0],h.pos)}),l.push.apply(l,p),Ro(d[1],n)&&l.push({index1:c,index2:-1,pos:d[1],type:"inside"})}),a.forEach(function(f,c){if(Ro(f[1],r)){var d=!1,p=er(l,function(v){var h=v.index2;return h===c?(d=!0,!1):!!d});p===-1&&(d=!1,p=er(l,function(v){var h=v.index1,g=v.index2;return h===-1&&g+1===c?(d=!0,!1):!!d})),p===-1?l.push({index1:-1,index2:c,pos:f[1],type:"inside"}):l.splice(p,0,{index1:-1,index2:c,pos:f[1],type:"inside"})}});var u={};return l.filter(function(f){var c=f.pos,d=c[0]+"x"+c[1];return u[d]?!1:(u[d]=!0,!0)})}function K0(t,e){var r=U0(t,e);return r.map(function(n){var i=n.pos;return i})}function Z0(t,e){var r=K0(t,e);return xc(r)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Po=function(t,e){return Po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Po(t,e)};function Q0(t,e){Po(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Wt=function(){return Wt=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wt.apply(this,arguments)};function J0(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function Ya(t){return J0([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function tm(t){return t.touches&&t.touches.length>=2}function Ei(t){return t?t.touches?rm(t.touches):[Cc(t)]:[]}function em(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}function Ul(t,e,r){var n=r.length,i=kn(t,n),a=i.clientX,o=i.clientY,s=i.originalClientX,l=i.originalClientY,u=kn(e,n),f=u.clientX,c=u.clientY,d=kn(r,n),p=d.clientX,v=d.clientY,h=a-f,g=o-c,m=a-p,b=o-v;return{clientX:s,clientY:l,deltaX:h,deltaY:g,distX:m,distY:b}}function Xa(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function rm(t){for(var e=Math.min(t.length,2),r=[],n=0;n<e;++n)r.push(Cc(t[n]));return r}function Cc(t){return{clientX:t.clientX,clientY:t.clientY}}function kn(t,e){e===void 0&&(e=t.length);for(var r={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=Math.min(t.length,e),i=0;i<n;++i){var a=t[i];r.originalClientX+="originalClientX"in a?a.originalClientX:a.clientX,r.originalClientY+="originalClientY"in a?a.originalClientY:a.clientY,r.clientX+=a.clientX,r.clientY+=a.clientY}return e?{clientX:r.clientX/e,clientY:r.clientY/e,originalClientX:r.originalClientX/e,originalClientY:r.originalClientY/e}:r}var ja=function(){function t(e){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=e,this.prevClients=e,this.length=e.length}return t.prototype.getAngle=function(e){return e===void 0&&(e=this.prevClients),Ya(e)},t.prototype.getRotation=function(e){return e===void 0&&(e=this.prevClients),Ya(e)-Ya(this.startClients)},t.prototype.getPosition=function(e,r){e===void 0&&(e=this.prevClients);var n=Ul(e||this.prevClients,this.prevClients,this.startClients),i=n.deltaX,a=n.deltaY;return this.movement+=Math.sqrt(i*i+a*a),this.prevClients=e,n},t.prototype.getPositions=function(e){e===void 0&&(e=this.prevClients);for(var r=this.prevClients,n=this.startClients,i=Math.min(this.length,r.length),a=[],o=0;o<i;++o)a[o]=Ul([e[o]],[r[o]],[n[o]]);return a},t.prototype.getMovement=function(e){var r=this.movement;if(!e)return r;var n=kn(e,this.length),i=kn(this.prevClients,this.length),a=n.clientX-i.clientX,o=n.clientY-i.clientY;return Math.sqrt(a*a+o*o)+r},t.prototype.getDistance=function(e){return e===void 0&&(e=this.prevClients),Xa(e)},t.prototype.getScale=function(e){return e===void 0&&(e=this.prevClients),Xa(e)/Xa(this.startClients)},t.prototype.move=function(e,r){this.startClients.forEach(function(n){n.clientX-=e,n.clientY-=r}),this.prevClients.forEach(function(n){n.clientX-=e,n.clientY-=r})},t}(),Kl=["textarea","input"],nm=function(t){Q0(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.data={},i.isDrag=!1,i.isPinch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._useMouse=!1,i._useTouch=!1,i._useDrag=!1,i._dragFlag=!1,i._isTrusted=!1,i._isMouseEvent=!1,i._isSecondaryButton=!1,i._preventMouseEvent=!1,i._prevInputEvent=null,i._isDragAPI=!1,i._isIdle=!0,i._preventMouseEventId=0,i._window=window,i.onDragStart=function(d,p){if(p===void 0&&(p=!0),!(!i.flag&&d.cancelable===!1)){var v=d.type.indexOf("drag")>=-1;if(!(i.flag&&v)){i._isDragAPI=!0;var h=i.options,g=h.container,m=h.pinchOutside,b=h.preventWheelClick,y=h.preventRightClick,_=h.preventDefault,C=h.checkInput,x=h.dragFocusedInput,w=h.preventClickEventOnDragStart,S=h.preventClickEventOnDrag,E=h.preventClickEventByCondition,D=i._useTouch,T=!i.flag;if(i._isSecondaryButton=d.which===3||d.button===2,b&&(d.which===2||d.button===1)||y&&(d.which===3||d.button===2))return i.stop(),!1;if(T){var I=i._window.document.activeElement,R=d.target;if(R){var N=R.tagName.toLowerCase(),z=Kl.indexOf(N)>-1,$=R.isContentEditable;if(z||$){if(C||!x&&I===R)return!1;if(I&&(I===R||$&&I.isContentEditable&&I.contains(R)))if(x)R.blur();else return!1}else if((_||d.type==="touchstart")&&I){var k=I.tagName.toLowerCase();(I.isContentEditable||Kl.indexOf(k)>-1)&&I.blur()}(w||S||E)&&Zt(i._window,"click",i._onClick,!0)}i.clientStores=[new ja(Ei(d))],i._isIdle=!1,i.flag=!0,i.isDrag=!1,i._isTrusted=p,i._dragFlag=!0,i._prevInputEvent=d,i.data={},i.doubleFlag=Vn()-i.prevTime<200,i._isMouseEvent=em(d),!i._isMouseEvent&&i._preventMouseEvent&&i._allowMouseEvent();var L=i._preventMouseEvent||i.emit("dragStart",Wt(Wt({data:i.data,datas:i.data,inputEvent:d,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,isTrusted:p,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){d.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));L===!1&&i.stop(),i._isMouseEvent&&i.flag&&_&&d.preventDefault()}if(!i.flag)return!1;var B=0;if(T?(i._attchDragEvent(),D&&m&&(B=setTimeout(function(){Zt(g,"touchstart",i.onDragStart,{passive:!1})}))):D&&m&&jt(g,"touchstart",i.onDragStart),i.flag&&tm(d)){if(clearTimeout(B),T&&d.touches.length!==d.changedTouches.length)return;i.pinchFlag||i.onPinchStart(d)}}}},i.onDrag=function(d,p){if(i.flag){var v=i.options.preventDefault;!i._isMouseEvent&&v&&d.preventDefault(),i._prevInputEvent=d;var h=Ei(d),g=i.moveClients(h,d,!1);if(i._dragFlag){if(i.pinchFlag||g.deltaX||g.deltaY){var m=i._preventMouseEvent||i.emit("drag",Wt(Wt({},g),{isScroll:!!p,inputEvent:d}));if(m===!1){i.stop();return}}i.pinchFlag&&i.onPinch(d,h)}i.getCurrentStore().getPosition(h,!0)}},i.onDragEnd=function(d){if(i.flag){var p=i.options,v=p.pinchOutside,h=p.container,g=p.preventClickEventOnDrag,m=p.preventClickEventOnDragStart,b=p.preventClickEventByCondition,y=i.isDrag;(g||m||b)&&requestAnimationFrame(function(){i._allowClickEvent()}),!b&&!m&&g&&!y&&i._allowClickEvent(),i._useTouch&&v&&jt(h,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(d);var _=d!=null&&d.touches?Ei(d):[],C=_.length;C===0||!i.options.keepDragging?i.flag=!1:i._addStore(new ja(_));var x=i._getPosition(),w=Vn(),S=!y&&i.doubleFlag;i._prevInputEvent=null,i.prevTime=y||S?0:w,i.flag||(i._dettachDragEvent(),i._preventMouseEvent||i.emit("dragEnd",Wt({data:i.data,datas:i.data,isDouble:S,isDrag:y,isClick:!y,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,inputEvent:d,isTrusted:i._isTrusted},x)),i.clientStores=[],i._isMouseEvent||(i._preventMouseEvent=!0,clearTimeout(i._preventMouseEventId),i._preventMouseEventId=setTimeout(function(){i._preventMouseEvent=!1},200)),i._isIdle=!0)}},i.onBlur=function(){i.onDragEnd()},i._allowClickEvent=function(){jt(i._window,"click",i._onClick,!0)},i._onClick=function(d){i._allowClickEvent(),i._allowMouseEvent();var p=i.options.preventClickEventByCondition;p!=null&&p(d)||(d.stopPropagation(),d.preventDefault())},i._onContextMenu=function(d){var p=i.options;p.preventRightClick?i.onDragEnd(d):d.preventDefault()},i._passCallback=function(){};var a=[].concat(r),o=a[0];i._window=Kf(o)?o:vr(o),i.options=Wt({checkInput:!1,container:o&&!("document"in o)?vr(o):o,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var s=i.options,l=s.container,u=s.events,f=s.checkWindowBlur;if(i._useDrag=u.indexOf("drag")>-1,i._useTouch=u.indexOf("touch")>-1,i._useMouse=u.indexOf("mouse")>-1,i.targets=a,i._useDrag&&a.forEach(function(d){Zt(d,"dragstart",i.onDragStart)}),i._useMouse&&(a.forEach(function(d){Zt(d,"mousedown",i.onDragStart),Zt(d,"mousemove",i._passCallback)}),Zt(l,"contextmenu",i._onContextMenu)),f&&Zt(vr(),"blur",i.onBlur),i._useTouch){var c={passive:!1};a.forEach(function(d){Zt(d,"touchstart",i.onDragStart,c),Zt(d,"touchmove",i._passCallback,c)})}return i}return e.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},e.prototype.getMovement=function(r){return this.getCurrentStore().getMovement(r)+this.clientStores.slice(1).reduce(function(n,i){return n+i.movement},0)},e.prototype.isDragging=function(){return this.isDrag},e.prototype.isIdle=function(){return this._isIdle},e.prototype.isFlag=function(){return this.flag},e.prototype.isPinchFlag=function(){return this.pinchFlag},e.prototype.isDoubleFlag=function(){return this.doubleFlag},e.prototype.isPinching=function(){return this.isPinch},e.prototype.scrollBy=function(r,n,i,a){a===void 0&&(a=!0),this.flag&&(this.clientStores[0].move(r,n),a&&this.onDrag(i,!0))},e.prototype.move=function(r,n){var i=r[0],a=r[1],o=this.getCurrentStore(),s=o.prevClients;return this.moveClients(s.map(function(l){var u=l.clientX,f=l.clientY;return{clientX:u+i,clientY:f+a,originalClientX:u,originalClientY:f}}),n,!0)},e.prototype.triggerDragStart=function(r){this.onDragStart(r,!1)},e.prototype.setEventData=function(r){var n=this.data;for(var i in r)n[i]=r[i];return this},e.prototype.setEventDatas=function(r){return this.setEventData(r)},e.prototype.getCurrentEvent=function(r){return r===void 0&&(r=this._prevInputEvent),Wt(Wt({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:r})},e.prototype.getEventData=function(){return this.data},e.prototype.getEventDatas=function(){return this.data},e.prototype.unset=function(){var r=this,n=this.targets,i=this.options.container;this.off(),jt(this._window,"blur",this.onBlur),this._useDrag&&n.forEach(function(a){jt(a,"dragstart",r.onDragStart)}),this._useMouse&&(n.forEach(function(a){jt(a,"mousedown",r.onDragStart)}),jt(i,"contextmenu",this._onContextMenu)),this._useTouch&&(n.forEach(function(a){jt(a,"touchstart",r.onDragStart)}),jt(i,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},e.prototype.onPinchStart=function(r){var n=this,i=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>i)){var a=new ja(Ei(r));this.pinchFlag=!0,this._addStore(a);var o=this.emit("pinchStart",Wt(Wt({data:this.data,datas:this.data,angle:a.getAngle(),touches:this.getCurrentStore().getPositions()},a.getPosition()),{inputEvent:r,isTrusted:this._isTrusted,preventDefault:function(){r.preventDefault()},preventDrag:function(){n._dragFlag=!1}}));o===!1&&(this.pinchFlag=!1)}},e.prototype.onPinch=function(r,n){if(!(!this.flag||!this.pinchFlag||n.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Wt(Wt({data:this.data,datas:this.data,movement:this.getMovement(n),angle:i.getAngle(n),rotation:i.getRotation(n),touches:i.getPositions(n),scale:i.getScale(n),distance:i.getDistance(n)},i.getPosition(n)),{inputEvent:r,isTrusted:this._isTrusted}))}},e.prototype.onPinchEnd=function(r){if(this.pinchFlag){var n=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",Wt(Wt({data:this.data,datas:this.data,isPinch:n,touches:i.getPositions()},i.getPosition()),{inputEvent:r}))}},e.prototype.getCurrentStore=function(){return this.clientStores[0]},e.prototype.moveClients=function(r,n,i){var a=this._getPosition(r,i),o=this.isDrag;(a.deltaX||a.deltaY)&&(this.isDrag=!0);var s=!1;return!o&&this.isDrag&&(s=!0),Wt(Wt({data:this.data,datas:this.data},a),{movement:this.getMovement(r),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:n,isTrusted:this._isTrusted,isFirstDrag:s})},e.prototype._addStore=function(r){this.clientStores.splice(0,0,r)},e.prototype._getPosition=function(r,n){var i=this.getCurrentStore(),a=i.getPosition(r,n),o=this.clientStores.slice(1).reduce(function(u,f){var c=f.getPosition();return u.distX+=c.distX,u.distY+=c.distY,u},a),s=o.distX,l=o.distY;return Wt(Wt({},a),{distX:s,distY:l})},e.prototype._attchDragEvent=function(){var r=this._window,n=this.options.container,i={passive:!1};this._isDragAPI&&(Zt(n,"dragover",this.onDrag,i),Zt(r,"dragend",this.onDragEnd)),this._useMouse&&(Zt(n,"mousemove",this.onDrag),Zt(r,"mouseup",this.onDragEnd)),this._useTouch&&(Zt(n,"touchmove",this.onDrag,i),Zt(r,"touchend",this.onDragEnd,i),Zt(r,"touchcancel",this.onDragEnd,i))},e.prototype._dettachDragEvent=function(){var r=this._window,n=this.options.container;this._isDragAPI&&(jt(n,"dragover",this.onDrag),jt(r,"dragend",this.onDragEnd)),this._useMouse&&(jt(n,"mousemove",this.onDrag),jt(r,"mouseup",this.onDragEnd)),this._useTouch&&(jt(n,"touchstart",this.onDragStart),jt(n,"touchmove",this.onDrag),jt(r,"touchend",this.onDragEnd),jt(r,"touchcancel",this.onDragEnd))},e.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},e}(_a);function im(t){for(var e=5381,r=t.length;r;)e=e*33^t.charCodeAt(--r);return e>>>0}var am=im;function om(t){return am(t).toString(36)}function sm(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function lm(t,e,r){return r.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,i){var a=i.trim();return(a?Pr(a):[""]).map(function(o){var s=o.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?"".concat(s.replace(/\:host/g,".".concat(t))):s?".".concat(t," ").concat(s):".".concat(t)}).join(", ")+" {"})}function um(t,e,r,n,i){var a=mn(n),o=a.createElement("style");return o.setAttribute("type","text/css"),o.setAttribute("data-styled-id",t),o.setAttribute("data-styled-count","1"),r.nonce&&o.setAttribute("nonce",r.nonce),o.innerHTML=lm(t,e,r),(i||a.head||a.body).appendChild(o),o}function fm(t){var e="rCS"+om(t);return{className:e,inject:function(r,n){n===void 0&&(n={});var i=sm(r),a=(i||r.ownerDocument||document).querySelector('style[data-styled-id="'.concat(e,'"]'));if(!a)a=um(e,t,n,r,i);else{var o=parseFloat(a.getAttribute("data-styled-count"))||0;a.setAttribute("data-styled-count","".concat(o+1))}return{destroy:function(){var s,l=parseFloat(a.getAttribute("data-styled-count"))||0;l<=1?(a.remove?a.remove():(s=a.parentNode)===null||s===void 0||s.removeChild(a),a=null):a.setAttribute("data-styled-count","".concat(l-1))}}}}}var Io=function(){return Io=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Io.apply(this,arguments)};function cm(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function wc(t,e){var r=fm(e),n=r.className;return u0(function(i,a){var o=i.className,s=o===void 0?"":o;i.cspNonce;var l=cm(i,["className","cspNonce"]),u=S0();return C0(a,function(){return u.current},[]),sc(function(){var f=r.inject(u.current,{nonce:i.cspNonce});return function(){f.destroy()}},[]),Ie(t,Io({ref:u,"data-styled-id":n,className:"".concat(s," ").concat(n)},l))})}var Ao=function(t,e){return Ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ao(t,e)};function ai(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ao(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var P=function(){return P=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},P.apply(this,arguments)};function dm(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function pm(t,e,r,n){var i=arguments.length,a=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function vm(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function A(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function nt(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function oi(t,e){return P({events:[],props:[],name:t},e)}var hm=["n","w","s","e"],Os=["n","w","s","e","nw","ne","sw","se"];function gm(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}function mm(t){var e=gm(1,t),r=Math.round(t/45)*45%180,n="ns-resize";return r===135?n="nwse-resize":r===45?n="nesw-resize":r===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(e,"') 16 16, ").concat(n,";")}var yn=O0(),Ec=yn.browser.webkit,Dc=Ec&&function(){var t=typeof window>"u"?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return e?parseFloat(e[1])<605:!1}(),Mc=yn.browser.name,Oc=parseInt(yn.browser.version,10),bm=Mc==="chrome",ym=yn.browser.chromium,_m=parseInt(yn.browser.chromiumVersion,10)||0,xm=bm&&Oc>=109||ym&&_m>=109,Sm=Mc==="firefox",Cm=parseInt(yn.browser.webkitVersion,10)>=612||Oc>=15,Rs="moveable-",wm=Os.map(function(t){var e="",r="",n="center",i="center",a="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(e="top: ".concat(a,";"),i="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",i="top"),t.indexOf("w")>-1&&(r="left: ".concat(a,";"),n="right"),t.indexOf("e")>-1&&(r="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(t,`"] {
        `).concat(r).concat(e,`
        transform-origin: `).concat(n," ").concat(i,`;
    }`)}).join(`
`),Em=`
{
position: absolute;
width: 1px;
height: 1px;
left: 0;
top: 0;
z-index: 3000;
--moveable-color: #4af;
--zoom: 1;
--zoompx: 1px;
--moveable-line-padding: 0;
--moveable-control-padding: 0;
will-change: transform;
outline: 1px solid transparent;
}
.control-box {
z-index: 0;
}
.line, .control {
position: absolute;
left: 0;
top: 0;
will-change: transform;
}
.control {
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid #fff;
box-sizing: border-box;
background: #4af;
background: var(--moveable-color);
margin-top: -7px;
margin-left: -7px;
border: 2px solid #fff;
z-index: 10;
}
.around-control {
position: absolute;
will-change: transform;
width: calc(var(--moveable-control-padding, 20) * 1px);
height: calc(var(--moveable-control-padding, 20) * 1px);
left: calc(var(--moveable-control-padding, 20) * -0.5px);
top: calc(var(--moveable-control-padding, 20) * -0.5px);
box-sizing: border-box;
background: transparent;
z-index: 8;
cursor: alias;
transform-origin: center center;
}
`.concat(wm,`
.padding {
position: absolute;
top: 0px;
left: 0px;
width: 100px;
height: 100px;
transform-origin: 0 0;
}
.line {
width: 1px;
height: 1px;
background: #4af;
background: var(--moveable-color);
transform-origin: 0px 50%;
}
.line.edge {
z-index: 1;
background: transparent;
}
.line.dashed {
box-sizing: border-box;
background: transparent;
}
.line.dashed.horizontal {
border-top: 1px dashed #4af;
border-top-color: #4af;
border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
border-left: 1px dashed #4af;
border-left-color: #4af;
border-left-color: var(--moveable-color);
}
.line.vertical {
transform: translateX(-50%);
}
.line.horizontal {
transform: translateY(-50%);
}
.line.vertical.bold {
width: 2px;
}
.line.horizontal.bold {
height: 2px;
}

.control.origin {
border-color: #f55;
background: #fff;
width: 12px;
height: 12px;
margin-top: -6px;
margin-left: -6px;
pointer-events: none;
}
`).concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return`
.direction[data-rotation="`.concat(t,'"], :global .view-control-rotation').concat(t,` {
`).concat(mm(t),`
}
`)}).join(`
`),`

.line.direction:before {
content: "";
position: absolute;
width: 100%;
height: calc(var(--moveable-line-padding, 0) * 1px);
bottom: 0;
left: 0;
}
.group {
z-index: -1;
}
.area {
position: absolute;
}
.area-pieces {
position: absolute;
top: 0;
left: 0;
display: none;
}
.area.avoid, .area.pass {
pointer-events: none;
}
.area.avoid+.area-pieces {
display: block;
}
.area-piece {
position: absolute;
}

`).concat(Dc?`:global svg *:before {
content:"";
transform-origin: inherit;
}`:"",`
`),Dm=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],ko=1e-4,de=1e-7,Di=1e-9,Bo=Math.pow(10,10),Zl=-Bo,Mm={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},Ts={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},Rc={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},Tc=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function si(t,e,r,n,i,a){var o,s;a===void 0&&(a="draggable");var l=(s=(o=e.gestos[a])===null||o===void 0?void 0:o.move(r,t.inputEvent))!==null&&s!==void 0?s:{},u=l.originalDatas||l.datas,f=u[a]||(u[a]={});return P(P({},l),{isPinch:!!n,parentEvent:!0,datas:f,originalDatas:t.originalDatas})}var dn=function(){function t(e){var r;e===void 0&&(e="draggable"),this.ableName=e,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(r={},r[e]={},r)}return t.prototype.dragStart=function(e,r){this.isDrag=!1,this.isFlag=!1;var n=r.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),P(P({},this.move(e,r.inputEvent)),{type:"dragstart"})},t.prototype.drag=function(e,r){return this.move([e[0]-this.prevX,e[1]-this.prevY],r)},t.prototype.move=function(e,r){var n,i,a=!1;if(!this.isFlag)this.prevX=e[0],this.prevY=e[1],this.startX=e[0],this.startY=e[1],n=e[0],i=e[1],this.isFlag=!0;else{var o=this.isDrag;n=this.prevX+e[0],i=this.prevY+e[1],(e[0]||e[1])&&(this.isDrag=!0),!o&&this.isDrag&&(a=!0)}return this.prevX=n,this.prevY=i,{type:"drag",clientX:n,clientY:i,inputEvent:r,isFirstDrag:a,isDrag:this.isDrag,distX:n-this.startX,distY:i-this.startY,deltaX:e[0],deltaY:e[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function on(t,e,r,n){var i=t.length===16,a=i?4:3,o=$r(t,r,n,a),s=A(o,4),l=A(s[0],2),u=l[0],f=l[1],c=A(s[1],2),d=c[0],p=c[1],v=A(s[2],2),h=v[0],g=v[1],m=A(s[3],2),b=m[0],y=m[1],_=A(zt(t,e,a),2),C=_[0],x=_[1],w=Math.min(u,d,h,b),S=Math.min(f,p,g,y),E=Math.max(u,d,h,b),D=Math.max(f,p,g,y);u=u-w||0,d=d-w||0,h=h-w||0,b=b-w||0,f=f-S||0,p=p-S||0,g=g-S||0,y=y-S||0,C=C-w||0,x=x-S||0;var T=t[0],I=t[a+1],R=ue(T*I);return{left:w,top:S,right:E,bottom:D,origin:[C,x],pos1:[u,f],pos2:[d,p],pos3:[h,g],pos4:[b,y],direction:R}}function Pc(t,e){var r=e.clientX,n=e.clientY,i=e.datas,a=t.state,o=a.moveableClientRect,s=a.rootMatrix,l=a.is3d,u=a.pos1,f=o.left,c=o.top,d=l?4:3,p=A(pt(hn(s,[r-f,n-c],d),u),2),v=p[0],h=p[1],g=A(Ue({datas:i,distX:v,distY:h}),2),m=g[0],b=g[1];return[m,b]}function Hr(t,e){var r=e.datas,n=t.state,i=n.allMatrix,a=n.beforeMatrix,o=n.is3d,s=n.left,l=n.top,u=n.origin,f=n.offsetMatrix,c=n.targetMatrix,d=n.transformOrigin,p=o?4:3;r.is3d=o,r.matrix=i,r.targetMatrix=c,r.beforeMatrix=a,r.offsetMatrix=f,r.transformOrigin=d,r.inverseMatrix=Xe(i,p),r.inverseBeforeMatrix=Xe(a,p),r.absoluteOrigin=Br(Et([s,l],u),p),r.startDragBeforeDist=ie(r.inverseBeforeMatrix,r.absoluteOrigin,p),r.startDragDist=ie(r.inverseMatrix,r.absoluteOrigin,p)}function Om(t){return on(t.datas.beforeTransform,[50,50],100,100).direction}function xa(t,e,r){var n=e.datas,i=e.originalDatas.beforeRenderable,a=n.transformIndex,o=i.nextTransforms,s=o.length,l=i.nextTransformAppendedIndexes,u=-1;a===-1?(r==="translate"?u=0:r==="rotate"&&(u=er(o,function(p){return p.match(/scale\(/g)})),u===-1&&(u=o.length),n.transformIndex=u):be(l,function(p){return p.index===a&&p.functionName===r})?u=a:u=a+l.filter(function(p){return p.index<a}).length;var f=tb(o,t.state,u),c=f.targetFunction,d=r==="rotate"?"rotateZ":r;n.beforeFunctionTexts=f.beforeFunctionTexts,n.afterFunctionTexts=f.afterFunctionTexts,n.beforeTransform=f.beforeFunctionMatrix,n.beforeTransform2=f.beforeFunctionMatrix2,n.targetTansform=f.targetFunctionMatrix,n.afterTransform=f.afterFunctionMatrix,n.afterTransform2=f.afterFunctionMatrix2,n.targetAllTransform=f.allFunctionMatrix,c.functionName===d?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):s>u&&(n.isAppendTransform=!0,i.nextTransformAppendedIndexes=nt(nt([],A(l),!1),[{functionName:r,index:u,isAppend:!0}],!1))}function Sa(t,e,r){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?r:e," ").concat(t.afterFunctionTexts.join(" "))}function Rm(t){var e=t.datas,r=t.distX,n=t.distY,i=A(Ac({datas:e,distX:r,distY:n}),2),a=i[0],o=i[1],s=Ic(e,A0([a,o],4));return ie(s,Br([0,0,0],4),4)}function Ic(t,e,r){var n=t.beforeTransform,i=t.afterTransform,a=t.beforeTransform2,o=t.afterTransform2,s=t.targetAllTransform,l=r?Pt(s,e,4):Pt(e,s,4),u=Pt(Xe(r?a:n,4),l,4),f=Pt(u,Xe(r?o:i,4),4);return f}function Ac(t){var e=t.datas,r=t.distX,n=t.distY,i=e.inverseBeforeMatrix,a=e.is3d,o=e.startDragBeforeDist,s=e.absoluteOrigin,l=a?4:3;return pt(ie(i,Et(s,[r,n]),l),o)}function Ue(t,e){var r=t.datas,n=t.distX,i=t.distY,a=r.inverseBeforeMatrix,o=r.inverseMatrix,s=r.is3d,l=r.startDragBeforeDist,u=r.startDragDist,f=r.absoluteOrigin,c=s?4:3;return pt(ie(e?a:o,Et(f,[n,i]),c),e?l:u)}function Tm(t,e){var r=t.datas,n=t.distX,i=t.distY;r.beforeMatrix;var a=r.matrix,o=r.is3d;r.startDragBeforeDist;var s=r.startDragDist,l=r.absoluteOrigin,u=o?4:3;return pt(ie(a,Et(s,[n,i]),u),l)}function Pm(t,e,r,n,i,a){return n===void 0&&(n=e),i===void 0&&(i=r),a===void 0&&(a=[0,0]),t?t.map(function(o,s){var l=Jn(o),u=l.value,f=l.unit,c=s?i:n,d=s?r:e;if(o==="%"||isNaN(u)){var p=c?a[s]/c:0;return d*p}else if(f!=="%")return u;return d*u/100}):a}function kc(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function Im(t,e){return kc(e).map(function(r){return t[r]})}function qa(t,e){var r=(e+1)/2;return[Xi(t[0][0],t[1][0],r,1-r),Xi(t[0][1],t[1][1],r,1-r)]}function Ut(t,e){var r=qa([t[0],t[1]],e[0]),n=qa([t[2],t[3]],e[0]);return qa([r,n],e[1])}function Am(t,e,r,n,i,a){var o=$r(e,r,n,i),s=Ut(o,a),l=t[0]-s[0],u=t[1]-s[1];return[l,u]}function li(t,e,r,n){return Pt(t,zn(e,n,r),n)}function km(t,e,r,n){var i=t.transformOrigin,a=t.offsetMatrix,o=t.is3d,s=o?4:3,l;if(me(r)){var u=e.beforeTransform,f=e.afterTransform;n?l=ze(Xn(r),4,s):l=ze(Pt(Pt(u,Xn([r]),4),f,4),4,s)}else l=r;return li(a,l,i,s)}function Bm(t,e){var r=t.transformOrigin,n=t.offsetMatrix,i=t.is3d,a=t.targetMatrix,o=t.targetAllTransform,s=i?4:3;return li(n,Pt(o||a,Es(e,s),s),r,s)}function Ca(t,e){var r=_n(e);return{setTransform:function(n,i){i===void 0&&(i=-1),r.startTransforms=Xt(n)?n:mr(n),zo(t,e,i)},setTransformIndex:function(n){zo(t,e,n)}}}function wa(t,e,r){var n=_n(e),i=n.startTransforms;zo(t,e,er(i,function(a){return a.indexOf("".concat(r,"("))===0}))}function zo(t,e,r){var n=_n(e),i=e.datas;if(i.transformIndex=r,r!==-1){var a=n.startTransforms[r];if(a){var o=t.state,s=cn([a],{"x%":function(l){return l/100*o.offsetWidth},"y%":function(l){return l/100*o.offsetHeight}});i.startValue=s[0].functionValue}}}function Ps(t,e){var r=_n(t);r.nextTransforms=mr(e)}function _n(t){return t.originalDatas.beforeRenderable}function Ki(t){var e=t.originalDatas.beforeRenderable;return e.nextTransforms}function Mi(t){return(Ki(t)||[]).join(" ")}function Oi(t){return _n(t).nextStyle}function Bc(t,e,r,n,i){Ps(i,e);var a=le.drag(t,si(i,t.state,r,n)),o=a?a.transform:e;return P(P({transform:e,drag:a},fe({transform:o},i)),{afterTransform:o})}function Is(t,e,r,n,i,a){var o=km(t.state,i,e,a),s=Fm(t,r,n,o);return s}function zc(t,e,r,n,i,a,o){var s=Is(t,e,r,i,a,o),l=t.state,u=l.left,f=l.top,c=t.props.groupable,d=c?u:0,p=c?f:0,v=pt(n,s);return pt(v,[d,p])}function zm(t,e,r,n,i,a,o){var s=zc(t,e,r,n,i,a,o);return s}function Gm(t,e,r){return[e?-1+t[0]/(e/2):0,r?-1+t[1]/(r/2):0]}function Fm(t,e,r,n){n===void 0&&(n=t.state.allMatrix);var i=t.state,a=i.width,o=i.height,s=i.is3d,l=s?4:3,u=[a/2*(1+e[0])+r[0],o/2*(1+e[1])+r[1]];return zt(n,u,l)}function Nm(t,e,r){var n=r.fixedDirection,i=r.fixedPosition,a=r.fixedOffset;return zc(t,"rotate(".concat(e,"deg)"),n,i,a,r)}function Lm(t,e,r,n,i,a){var o=t.props.groupable,s=t.state,l=s.transformOrigin,u=s.offsetMatrix,f=s.is3d,c=s.width,d=s.height,p=s.left,v=s.top,h=a.fixedDirection,g=a.nextTargetMatrix||s.targetMatrix,m=f?4:3,b=Pm(i,e,r,c,d,l),y=o?p:0,_=o?v:0,C=li(u,g,b,m),x=Am(n,C,e,r,m,h);return pt(x,[y,_])}function Hm(t,e){return Ut(Oe(t.state),e)}function $m(t,e){var r=t.targetGesto,n=t.controlGesto,i;return r!=null&&r.isFlag()&&(i=r.getEventData()[e]),!i&&(n!=null&&n.isFlag())&&(i=n.getEventData()[e]),i||{}}function Wm(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function Vm(t){var e=t("scale"),r=t("rotate"),n=t("translate"),i=[];return n&&n!=="0px"&&n!=="none"&&i.push("translate(".concat(n.split(/\s+/).join(","),")")),r&&r!=="1"&&r!=="none"&&i.push("rotate(".concat(r,")")),e&&e!=="1"&&e!=="none"&&i.push("scale(".concat(e.split(/\s+/).join(","),")")),i}function Gc(t,e,r){for(var n=t,i=[],a=bs(t)||Cr(t),o=!r&&t===e||t===a,s=o,l=!1,u=3,f,c,d,p=!1,v=qn(e,e,!0).offsetParent,h=1;n&&!s;){s=o;var g=ye(n),m=g("position"),b=sd(n),y=m==="fixed",_=Vm(g),C=k0(H1(b)),x=void 0,w=!1,S=!1,E=0,D=0,T=0,I=0,R={hasTransform:!1,fixedContainer:null};y&&(p=!0,R=X1(n),v=R.fixedContainer);var N=C.length;!l&&(N===16||_.length)&&(l=!0,u=4,$o(i),d&&(d=ze(d,3,4))),l&&N===9&&(C=ze(C,3,4));var z=Y1(n,t),$=z.tagName,k=z.hasOffset,L=z.isSVG,B=z.origin,H=z.targetOrigin,F=z.offset,j=A(F,2),V=j[0],K=j[1];$==="svg"&&!n.ownerSVGElement&&d&&(i.push({type:"target",target:n,matrix:j1(n,u)}),i.push({type:"offset",target:n,matrix:kt(u)}));var q=parseFloat(g("zoom"))||1;if(y)x=R.fixedContainer,w=!0;else{var et=qn(n,e,!1,!0,g),at=et.offsetZoom;if(x=et.offsetParent,w=et.isEnd,S=et.isStatic,h*=at,(et.isCustomElement||at!==1)&&S)V-=x.offsetLeft,K-=x.offsetTop;else if(Sm||xm){var ct=et.parentSlotElement;if(ct){for(var ht=x,gt=0,it=0;ht&&Wm(ht);)gt+=ht.offsetLeft,it+=ht.offsetTop,ht=ht.offsetParent;V-=gt,K-=it}}}if(Ec&&!Cm&&k&&!L&&S&&(m==="relative"||m==="static")&&(V-=x.offsetLeft,K-=x.offsetTop,o=o||w),y)k&&R.hasTransform&&(T=x.clientLeft,I=x.clientTop);else if(k&&v!==x&&(E=x.clientLeft,D=x.clientTop),k&&x===a){var ft=ld(n,!1);V+=ft[0],K+=ft[1]}if(i.push({type:"target",target:n,matrix:zn(C,u,B)}),_.length&&(i.push({type:"offset",target:n,matrix:kt(u)}),i.push({type:"target",target:n,matrix:zn(Xn(_),u,B)})),k){var M=n===t,O=M?0:n.scrollLeft,G=M?0:n.scrollTop;i.push({type:"offset",target:n,matrix:zr([V-O+E-T,K-G+D-I],u)})}else i.push({type:"offset",target:n,origin:B});if(q!==1&&i.push({type:"zoom",target:n,matrix:zn(Es([q,q],u),u,[0,0])}),d||(d=C),f||(f=B),c||(c=H),s||y)break;n=x,o=w,(!r||n===a)&&(s=o)}return d||(d=kt(u)),f||(f=[0,0]),c||(c=[0,0]),{zoom:h,offsetContainer:v,matrixes:i,targetMatrix:d,transformOrigin:f,targetOrigin:c,is3d:l,hasFixed:p}}var Mr=null,Or=null,Ur=null;function pn(t){t?(window.Map&&(Mr=new Map,Or=new Map),Ur=[]):(Mr=null,Ur=null,Or=null)}function Ym(t){var e=Or==null?void 0:Or.get(t);if(e)return e;var r=Gn(t,!0);return Or&&Or.set(t,r),r}function Xm(t,e){if(Ur){var r=be(Ur,function(i){return i[0][0]==t&&i[0][1]==e});if(r)return r[1]}var n=Gc(t,e,!0);return Ur&&Ur.push([[t,e],n]),n}function ye(t){var e=Mr==null?void 0:Mr.get(t);if(!e){var r=vr(t).getComputedStyle(t);if(!Mr)return function(a){return r[a]};e={style:r,cached:{}},Mr.set(t,e)}var n=e.cached,i=e.style;return function(a){return a in n||(n[a]=i[a]),n[a]}}function Ae(t,e,r){var n=r.originalDatas;n.groupable=n.groupable||{};var i=n.groupable;i.childDatas=i.childDatas||[];var a=i.childDatas;return t.moveables.map(function(o,s){return a[s]=a[s]||{},a[s][e]=a[s][e]||{},P(P({},r),{isRequestChild:!0,datas:a[s][e],originalDatas:a[s]})})}function Ua(t,e,r,n,i,a,o){var s=!!r.match(/Start$/g),l=!!r.match(/End$/g),u=i.isPinch,f=i.datas,c=Ae(t,e.name,i),d=t.moveables,p=[],v=c.map(function(h,g){var m=d[g],b=m.state,y=b.gestos,_=h;if(s)_=new dn(o).dragStart(n,h),p.push(_);else{if(y[o]||(y[o]=f.childGestos[g]),!y[o])return;_=si(h,b,n,u,a,o),p.push(_)}var C=e[r](m,P(P({},_),{parentFlag:!0}));return l&&(y[o]=null),C});return s&&(f.childGestos=d.map(function(h){return h.state.gestos[o]})),{eventParams:v,childEvents:p}}function tr(t,e,r,n,i,a){i===void 0&&(i=function(f,c){return c});var o=!!r.match(/End$/g),s=Ae(t,e.name,n),l=t.moveables,u=s.map(function(f,c){var d=l[c],p=f;p=i(d,f);var v=e[r](d,P(P({},p),{parentFlag:!0}));return v&&a&&a(d,f,v,c),o&&(d.state.gestos={}),v});return u}function Zi(t,e,r,n){var i=r.fixedDirection,a=r.fixedPosition,o=n.datas.startPositions||Oe(e.state),s=Ut(o,i),l=A(ie(ii(-t.rotation/180*Math.PI,3),[s[0]-a[0],s[1]-a[1],1],3),2),u=l[0],f=l[1];return n.datas.originalX=u,n.datas.originalY=f,n}function Fc(t,e,r,n){var i=t.getState(),a=i.renderPoses,o=i.rotation,s=i.direction,l=Fr(t.props,e).zoom,u=Bn(o/Math.PI*180),f={},c=t.renderState;c.renderDirectionMap||(c.renderDirectionMap={});var d=c.renderDirectionMap;r.forEach(function(v){var h=v.dir;f[h]=!0});var p=ue(s);return r.map(function(v){var h=v.data,g=v.classNames,m=v.dir,b=Ts[m];if(!b||!f[m])return null;d[m]=!0;var y=(bt(u,15)+p*Rc[m]+720)%180,_={};return rr(h).forEach(function(C){_["data-".concat(C)]=h[C]}),n.createElement("div",P({className:dt.apply(void 0,nt(["control","direction",m,e],A(g),!1)),"data-rotation":y,"data-direction":m},_,{key:"direction-".concat(m),style:ea.apply(void 0,nt([o,l],A(b.map(function(C){return a[C]})),!1))}))})}function Nc(t,e,r,n){var i=Fr(t.props,r),a=i.renderDirections,o=a===void 0?e:a,s=i.displayAroundControls;if(!o)return[];var l=o===!0?Os:o;return nt(nt([],A(s?Wc(t,n,r,l):[]),!1),A(Fc(t,r,l.map(function(u){return{data:{},classNames:[],dir:u}}),n)),!1)}function jn(t,e,r,n,i,a){for(var o=[],s=6;s<arguments.length;s++)o[s-6]=arguments[s];var l=Ht(r,n),u=e?bt(l/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(a),className:dt.apply(void 0,nt(["line","direction",e?"edge":"",e],A(o),!1)),"data-rotation":u,"data-line-key":a,"data-direction":e,style:Mn(r,n,i,l)})}function Lc(t,e,r,n,i){var a=r===!0?hm:r;return a.map(function(o,s){var l=A(Ts[o],2),u=l[0],f=l[1];if(f!=null)return jn(t,o,n[u],n[f],i,"".concat(e,"Edge").concat(s),e)}).filter(Boolean)}function Hc(t){return function(e,r){var n=Fr(e.props,t).edge;return n&&(n===!0||n.length)?nt(nt([],A(Lc(r,t,n,e.getState().renderPoses,e.props.zoom)),!1),A(jm(e,t,r)),!1):$c(e,t,r)}}function $c(t,e,r){return Nc(t,Os,e,r)}function jm(t,e,r){return Nc(t,["nw","ne","sw","se"],e,r)}function Wc(t,e,r,n){var i=t.renderState;i.renderDirectionMap||(i.renderDirectionMap={});var a=t.getState(),o=a.renderPoses,s=a.rotation,l=a.direction,u=i.renderDirectionMap,f=t.props.zoom,c=ue(l),d=s/Math.PI*180;return(n||rr(u)).map(function(p){var v=Ts[p];if(!v)return null;var h=(bt(d,15)+c*Rc[p]+720)%180,g=["around-control"];return r&&g.push("direction",r),e.createElement("div",{className:dt.apply(void 0,nt([],A(g),!1)),"data-rotation":h,"data-direction":p,key:"direction-around-".concat(p),style:ea.apply(void 0,nt([s,f],A(v.map(function(m){return o[m]})),!1))})})}function As(t,e,r){var n=t||{},i=n.position,a=i===void 0?"client":i,o=n.left,s=o===void 0?-1/0:o,l=n.top,u=l===void 0?-1/0:l,f=n.right,c=f===void 0?1/0:f,d=n.bottom,p=d===void 0?1/0:d,v={position:a,left:s,top:u,right:c,bottom:p};return{vertical:Ql(v,e,!0),horizontal:Ql(v,r,!1)}}function Ea(t,e){var r=t.state,n=r.containerClientRect,i=n.clientHeight,a=n.clientWidth,o=n.clientLeft,s=n.clientTop,l=r.snapOffset,u=l.left,f=l.top,c=l.right,d=l.bottom,p=e||t.props.bounds||{},v=p.position||"client",h=v==="css",g=p.left,m=g===void 0?-1/0:g,b=p.top,y=b===void 0?-1/0:b,_=p.right,C=_===void 0?h?-1/0:1/0:_,x=p.bottom,w=x===void 0?h?-1/0:1/0:x;return h&&(C=a+c-u-C,w=i+d-f-w),{left:m+u-o,right:C+u-o,top:y+f-s,bottom:w+f-s}}function qm(t,e,r){var n=Ea(t),i=n.left,a=n.top,o=n.right,s=n.bottom,l=A(r,2),u=l[0],f=l[1],c=A(pt(r,e),2),d=c[0],p=c[1];tt(d)<de&&(d=0),tt(p)<de&&(p=0);var v=p>0,h=d>0,g={isBound:!1,offset:0,pos:0},m={isBound:!1,offset:0,pos:0};if(d===0&&p===0)return{vertical:g,horizontal:m};if(d===0)v?s<f&&(m.pos=s,m.offset=f-s):a>f&&(m.pos=a,m.offset=f-a);else if(p===0)h?o<u&&(g.pos=o,g.offset=u-o):i>u&&(g.pos=i,g.offset=u-i);else{var b=p/d,y=r[1]-b*u,_=0,C=0,x=!1;h&&o<=u?(_=b*o+y,C=o,x=!0):!h&&u<=i&&(_=b*i+y,C=i,x=!0),x&&(_<a||_>s)&&(x=!1),x||(v&&s<=f?(_=s,C=(_-y)/b,x=!0):!v&&f<=a&&(_=a,C=(_-y)/b,x=!0)),x&&(g.isBound=!0,g.pos=C,g.offset=u-C,m.isBound=!0,m.pos=_,m.offset=f-_)}return{vertical:g,horizontal:m}}function Ql(t,e,r){var n=t[r?"left":"top"],i=t[r?"right":"bottom"],a=Math.min.apply(Math,nt([],A(e),!1)),o=Math.max.apply(Math,nt([],A(e),!1)),s=[];return n+1>a&&s.push({direction:"start",isBound:!0,offset:a-n,pos:n}),i-1<o&&s.push({direction:"end",isBound:!0,offset:o-i,pos:i}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort(function(l,u){return tt(u.offset)-tt(l.offset)})}function Jl(t,e,r){var n=r?t.map(function(i){return ni(i,r)}):t;return n.some(function(i){return i[0]<e.left&&tt(i[0]-e.left)>.1||i[0]>e.right&&tt(i[0]-e.right)>.1||i[1]<e.top&&tt(i[1]-e.top)>.1||i[1]>e.bottom&&tt(i[1]-e.bottom)>.1})}function Um(t,e,r){var n=Me(t),i=Math.sqrt(n*n-e*e)||0;return[i,-i].sort(function(a,o){return tt(a-t[r?0:1])-tt(o-t[r?0:1])}).map(function(a){return Ht([0,0],r?[a,e]:[e,a])})}function Km(t,e,r,n,i){if(!t.props.bounds)return[];var a=i*Math.PI/180,o=Ea(t),s=o.left,l=o.top,u=o.right,f=o.bottom,c=s-n[0],d=u-n[0],p=l-n[1],v=f-n[1],h={left:c,top:p,right:d,bottom:v};if(!Jl(r,h,0))return[];var g=[];return[[c,0],[d,0],[p,1],[v,1]].forEach(function(m){var b=A(m,2),y=b[0],_=b[1];r.forEach(function(C){var x=Ht([0,0],C);g.push.apply(g,nt([],A(Um(C,y,_).map(function(w){return a+w-x}).filter(function(w){return!Jl(e,h,w)}).map(function(w){return bt(w*180/Math.PI,de)})),!1))})}),g}var Zm=["left","right","center"],Qm=["top","bottom","middle"],tu={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},br={start:"left",end:"right",center:"center"},yr={start:"top",end:"bottom",center:"middle"};function Kr(){return{left:!1,top:!1,right:!1,bottom:!1}}function xn(t,e){var r=t.props,n=r.snappable,i=r.bounds,a=r.innerBounds,o=r.verticalGuidelines,s=r.horizontalGuidelines,l=r.snapGridWidth,u=r.snapGridHeight,f=t.state,c=f.guidelines,d=f.enableSnap;return!n||!d||e&&n!==!0&&n.indexOf(e)<0?!1:!!(l||u||i||a||c&&c.length||o&&o.length||s&&s.length)}function ks(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function Jm(t,e){var r=ks(t),n={};for(var i in r)i in e&&r[i]&&(n[i]=e[i]);return n}function Bs(t,e){var r=Jm(t,e),n=Qm.filter(function(a){return a in r}),i=Zm.filter(function(a){return a in r});return{horizontalNames:n,verticalNames:i,horizontal:n.map(function(a){return r[a]}),vertical:i.map(function(a){return r[a]})}}function t1(t,e,r){var n=zt(t,[e.clientLeft,e.clientTop],r);return[e.left+n[0],e.top+n[1]]}function e1(t){var e=A(t,2),r=e[0],n=e[1],i=n[0]-r[0],a=n[1]-r[1];Math.abs(i)<Vt&&(i=0),Math.abs(a)<Vt&&(a=0);var o=0,s=0,l=0;return i?a?(o=-a/i,s=1,l=o*r[0]-r[1]):(s=1,l=-r[1]):(o=-1,l=r[0]),[o,s,l].map(function(u){return bt(u,Vt)})}var Vc="snapRotationThreshold",Yc="snapRotationDegrees",Xc="snapHorizontalThreshold",jc="snapVerticalThreshold";function Da(t,e,r,n,i,a,o){var s;n===void 0&&(n=[]),i===void 0&&(i=[]);var l=t.props,u=((s=t.state.snapThresholdInfo)===null||s===void 0?void 0:s.multiples)||[1,1],f=hu(o,l[Xc],5),c=hu(a,l[jc],5);return qc(t.state.guidelines,e,r,n,i,f,c,u)}function qc(t,e,r,n,i,a,o,s){return{vertical:ru(t,"vertical",e,o*s[0],n),horizontal:ru(t,"horizontal",r,a*s[1],i)}}function r1(t,e,r){var n=A(r,2),i=n[0],a=n[1],o=A(e,2),s=o[0],l=o[1],u=A(pt(r,e),2),f=u[0],c=u[1],d=c>0,p=f>0;f=ra(f),c=ra(c);var v={isSnap:!1,offset:0,pos:0},h={isSnap:!1,offset:0,pos:0};if(f===0&&c===0)return{vertical:v,horizontal:h};var g=Da(t,f?[i]:[],c?[a]:[],[],[],void 0,void 0),m=g.vertical,b=g.horizontal;m.posInfos.filter(function($){var k=$.pos;return p?k>=s:k<=s}),b.posInfos.filter(function($){var k=$.pos;return d?k>=l:k<=l}),m.isSnap=m.posInfos.length>0,b.isSnap=b.posInfos.length>0;var y=Go(m),_=y.isSnap,C=y.guideline,x=Go(b),w=x.isSnap,S=x.guideline,E=w?S.pos[1]:0,D=_?C.pos[0]:0;if(f===0)w&&(h.isSnap=!0,h.pos=S.pos[1],h.offset=a-h.pos);else if(c===0)_&&(v.isSnap=!0,v.pos=D,v.offset=i-D);else{var T=c/f,I=r[1]-T*i,R=0,N=0,z=!1;_?(N=D,R=T*N+I,z=!0):w&&(R=E,N=(R-I)/T,z=!0),z&&(v.isSnap=!0,v.pos=N,v.offset=i-N,h.isSnap=!0,h.pos=R,h.offset=a-R)}return{vertical:v,horizontal:h}}function fr(t){var e="";return t===-1||t==="top"||t==="left"?e="start":t===0||t==="center"||t==="middle"?e="center":(t===1||t==="right"||t==="bottom")&&(e="end"),e}function eu(t,e,r,n){var i=Bs(t.props.snapDirections,e),a=Da(t,i.vertical,i.horizontal,i.verticalNames.map(function(l){return fr(l)}),i.horizontalNames.map(function(l){return fr(l)}),r,n),o=fr(i.horizontalNames[a.horizontal.index]),s=fr(i.verticalNames[a.vertical.index]);return{vertical:P(P({},a.vertical),{direction:s}),horizontal:P(P({},a.horizontal),{direction:o})}}function Go(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=t.posInfos[0],n=r.guidelineInfos[0],i=n.offset,a=n.dist,o=n.guideline;return{isSnap:e,offset:i,dist:a,pos:r.pos,guideline:o}}function ru(t,e,r,n,i){var a,o;if(i===void 0&&(i=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var s=e==="vertical",l=s?0:1,u=r.map(function(c,d){var p=i[d]||"",v=t.map(function(h){var g=h.pos,m=c-g[l];return{offset:m,dist:tt(m),guideline:h,direction:p}}).filter(function(h){var g=h.guideline,m=h.dist,b=g.type;return!(b!==e||m>n)}).sort(function(h,g){return h.dist-g.dist});return{pos:c,index:d,guidelineInfos:v,direction:p}}).filter(function(c){return c.guidelineInfos.length>0}).sort(function(c,d){return c.guidelineInfos[0].dist-d.guidelineInfos[0].dist}),f=u.length>0;return{isSnap:f,index:f?u[0].index:-1,direction:(o=(a=u[0])===null||a===void 0?void 0:a.direction)!==null&&o!==void 0?o:"",posInfos:u}}function n1(t,e,r,n,i){var a=[];r[0]&&r[1]?a=[r,[-r[0],r[1]],[r[0],-r[1]]]:!r[0]&&!r[1]?[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(d,p,v){var h=v[p+1]||v[0];a.push(d),a.push([(d[0]+h[0])/2,(d[1]+h[1])/2])}):t.props.keepRatio?a.push([-1,-1],[-1,1],[1,-1],[1,1],r):(a.push.apply(a,nt([],A(Im([[-1,-1],[1,-1],[-1,-1],[1,1]],r)),!1)),a.length>1&&a.push([(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]));var o=a.map(function(d){return Ut(e,d)}),s=o.map(function(d){return d[0]}),l=o.map(function(d){return d[1]}),u=Da(t,s,l,a.map(function(d){return fr(d[0])}),a.map(function(d){return fr(d[1])}),n,i),f=fr(a.map(function(d){return d[0]})[u.vertical.index]),c=fr(a.map(function(d){return d[1]})[u.horizontal.index]);return{vertical:P(P({},u.vertical),{direction:f}),horizontal:P(P({},u.horizontal),{direction:c})}}function Uc(t,e){var r=tt(t.offset),n=tt(e.offset);return t.isBound&&e.isBound?n-r:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?n-r:t.isSnap?-1:e.isSnap||r<de?1:n<de?-1:r-n}function Qi(t,e){return t.slice().sort(function(r,n){var i=r.sign[e],a=n.sign[e],o=r.offset[e],s=n.offset[e];if(i){if(!a)return-1}else return 1;return Uc({isBound:r.isBound,isSnap:r.isSnap,offset:o},{isBound:n.isBound,isSnap:n.isSnap,offset:s})})[0]}function i1(t,e,r){var n=[];if(r)tt(e[0])!==1||tt(e[1])!==1?n.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):n.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),n.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var i=t[0]?t:[1,1];[1,-1].forEach(function(o){[1,-1].forEach(function(s){var l=[o*i[0],s*i[1]];e[0]===l[0]&&e[1]===l[1]||n.push([e,l])})})}else if(t[0]){var a=tt(e[0])===1?[1]:[1,-1];a.forEach(function(o){n.push([[e[0],-1],[o*t[0],-1]],[[e[0],0],[o*t[0],0]],[[e[0],1],[o*t[0],1]])})}else if(t[1]){var a=tt(e[1])===1?[1]:[1,-1];a.forEach(function(s){n.push([[-1,e[1]],[-1,s*t[1]]],[[0,e[1]],[0,s*t[1]]],[[1,e[1]],[1,s*t[1]]])})}return n}function Kc(t,e){var r=So([e[0][0],e[1][0]]),n=So([e[0][1],e[1][1]]);return{vertical:r<=t[0],horizontal:n<=t[1]}}function zs(t,e){var r=A(e,2),n=r[0],i=r[1],a=i[0]-n[0],o=i[1]-n[1];tt(a)<de&&(a=0),tt(o)<de&&(o=0);var s,l;if(!a)s=n[0],l=t[0];else if(!o)s=n[1],l=t[1];else{var u=o/a;s=u*(t[0]-n[0])+n[1],l=t[1]}return s-l}function Zc(t,e,r,n){return n===void 0&&(n=de),t.every(function(i){var a=zs(i,e),o=a<=0;return o===r||tt(a)<=n})}function nu(t,e,r,n,i){return i===void 0&&(i=0),n&&e-i<=t||!n&&t<=r+i?{isBound:!0,offset:n?e-t:r-t}:{isBound:!1,offset:0}}function a1(t,e){var r=e.line,n=e.centerSign,i=e.verticalSign,a=e.horizontalSign,o=e.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var l=s.left,u=s.top,f=s.width,c=s.height,d=[[l,u],[l,u+c]],p=[[l,u],[l+f,u]],v=[[l+f,u],[l+f,u+c]],h=[[l,u+c],[l+f,u+c]];if(Zc([[l,u],[l+f,u],[l,u+c],[l+f,u+c]],r,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=cr(r,o,p,i),m=cr(r,o,h,i),b=cr(r,o,d,a),y=cr(r,o,v,a),_=g.isBound&&m.isBound,C=g.isBound||m.isBound,x=b.isBound&&y.isBound,w=b.isBound||y.isBound,S=vn(g.offset,m.offset),E=vn(b.offset,y.offset),D=[0,0],T=!1,I=!1;return tt(E)<tt(S)?(D=[S,0],T=C,I=_):(D=[0,E],T=w,I=x),{isAllBound:I,isVerticalBound:C,isHorizontalBound:w,isBound:T,offset:D}}function cr(t,e,r,n,i,a){var o=A(e,2),s=o[0],l=o[1],u=t[0],f=r[0],c=r[1],d=ra(c[1]-f[1]),p=ra(c[0]-f[0]),v=l,h=s,g=-s/l;if(p){if(!d){if(a&&!v)return{isBound:!1,offset:0};if(h){var _=(f[1]-u[1])/g+u[0];return nu(_,f[0],c[0],n,i)}else{var b=f[1]-u[1],y=tt(b)<=(i||0);return{isBound:y,offset:y?b:0}}}}else{if(a&&!h)return{isBound:!1,offset:0};if(v){var m=g*(f[0]-u[0])+u[1];return nu(m,f[1],c[1],n,i)}else{var b=f[0]-u[0],y=tt(b)<=(i||0);return{isBound:y,offset:y?b:0}}}return{isBound:!1,offset:0}}function Qc(t,e,r){return e.map(function(n){var i=a1(t,n),a=i.isBound,o=i.offset,s=i.isVerticalBound,l=i.isHorizontalBound,u=n.multiple,f=Ue({datas:r,distX:o[0],distY:o[1]}).map(function(c,d){return c*(u[d]?2/u[d]:0)});return{sign:u,isBound:a,isVerticalBound:s,isHorizontalBound:l,isSnap:!1,offset:f}})}function o1(t,e,r){var n,i=Gs(t,e,[0,0],!1).map(function(d){return P(P({},d),{multiple:d.multiple.map(function(p){return tt(p)*2})})}),a=Qc(t,i,r),o=Qi(a,0),s=Qi(a,1),l=0,u=0,f=o.isVerticalBound||s.isVerticalBound,c=o.isHorizontalBound||s.isHorizontalBound;return(f||c)&&(n=A(Tm({datas:r,distX:-o.offset[0],distY:-s.offset[1]}),2),l=n[0],u=n[1]),{vertical:{isBound:f,offset:l},horizontal:{isBound:c,offset:u}}}function s1(t,e){var r=[],n=t[0],i=t[1];return n&&i?r.push([[0,i*2],t,[-n,i]],[[n*2,0],t,[n,-i]]):n?(r.push([[n*2,0],[n,1],[n,-1]]),e&&r.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):i?(r.push([[0,i*2],[1,i],[-1,i]]),e&&r.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}function Gs(t,e,r,n){var i=t.state,a=i.allMatrix,o=i.is3d,s=$r(a,100,100,o?4:3),l=Ut(s,[0,0]);return s1(r,n).map(function(u){var f=A(u,3),c=f[0],d=f[1],p=f[2],v=[Ut(s,d),Ut(s,p)],h=e1(v),g=Kc(l,v),m=g.vertical,b=g.horizontal,y=zs(l,v)<=0;return{multiple:c,centerSign:y,verticalSign:m,horizontalSign:b,lineConstants:h,line:[Ut(e,d),Ut(e,p)]}})}function iu(t,e,r,n){var i=n?t.map(function(a){return ni(a,n)}):t;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some(function(a){var o=zs(r,a)<=0;return!Zc(e,a,o)})}function l1(t){var e=A(t,2),r=e[0],n=e[1],i=n[0]-r[0],a=n[1]-r[1];if(!i)return tt(r[0]);if(!a)return tt(r[1]);var o=a/i;return tt((-o*r[0]+r[1])/Math.sqrt(Math.pow(o,2)+1))}function u1(t){var e=A(t,2),r=e[0],n=e[1],i=n[0]-r[0],a=n[1]-r[1];if(!i)return[r[0],0];if(!a)return[0,r[1]];var o=a/i,s=-o*r[0]+r[1];return[-s/(o+1/o),s/(o*o+1)]}function f1(t,e,r,n,i){var a=t.props.innerBounds,o=i*Math.PI/180;if(!a)return[];var s=a.left,l=a.top,u=a.width,f=a.height,c=s-n[0],d=s+u-n[0],p=l-n[1],v=l+f-n[1],h=[[c,p],[d,p],[c,v],[d,v]],g=Ut(r,[0,0]);if(!iu(r,h,g,0))return[];var m=[],b=h.map(function(y){return[Me(y),Ht([0,0],y)]});return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].forEach(function(y){var _=Ht([0,0],u1(y)),C=l1(y);m.push.apply(m,nt([],A(b.filter(function(x){var w=A(x,1),S=w[0];return S&&C<=S}).map(function(x){var w=A(x,2),S=w[0],E=w[1],D=Math.acos(S?C/S:0),T=E+D,I=E-D;return[o+T-_,o+I-_]}).reduce(function(x,w){return x.push.apply(x,nt([],A(w),!1)),x},[]).filter(function(x){return!iu(e,h,g,x)}).map(function(x){return bt(x*180/Math.PI,de)})),!1))}),m}function c1(t){var e=t.props.innerBounds,r=Kr();if(!e)return{boundMap:r,vertical:[],horizontal:[]};var n=t.getRect(),i=n.pos1,a=n.pos2,o=n.pos3,s=n.pos4,l=[i,a,o,s],u=Ut(l,[0,0]),f=e.left,c=e.top,d=e.width,p=e.height,v=[[f,c],[f,c+p]],h=[[f,c],[f+d,c]],g=[[f+d,c],[f+d,c+p]],m=[[f,c+p],[f+d,c+p]],b=Gs(t,l,[0,0],!1),y=[],_=[];return b.forEach(function(C){var x=C.line,w=C.lineConstants,S=Kc(u,x),E=S.horizontal,D=S.vertical,T=cr(x,w,h,D,1,!0),I=cr(x,w,m,D,1,!0),R=cr(x,w,v,E,1,!0),N=cr(x,w,g,E,1,!0);T.isBound&&!r.top&&(y.push(c),r.top=!0),I.isBound&&!r.bottom&&(y.push(c+p),r.bottom=!0),R.isBound&&!r.left&&(_.push(f),r.left=!0),N.isBound&&!r.right&&(_.push(f+d),r.right=!0)}),{boundMap:r,horizontal:y,vertical:_}}function d1(t,e,r,n){var i=e[0]-t[0],a=e[1]-t[1];if(tt(i)<Vt&&(i=0),tt(a)<Vt&&(a=0),!i)return n?[0,0]:[0,r];if(!a)return n?[r,0]:[0,0];var o=a/i,s=t[1]-o*t[0];if(n){var l=o*(e[0]+r)+s;return[r,l-e[1]]}else{var u=(e[1]+r-s)/o;return[u-e[0],r]}}function Fo(t,e,r,n,i){var a=d1(t,e,r,n);if(!a)return{isOutside:!1,offset:[0,0]};var o=Je(t,e),s=Je(a,t),l=Je(a,e),u=s>o||l>o,f=A(Ue({datas:i,distX:a[0],distY:a[1]}),2),c=f[0],d=f[1];return{offset:[c,d],isOutside:u}}function Ji(t,e){return t.isBound?t.offset:e.isSnap?Go(e).offset:0}function p1(t,e,r,n,i){var a=A(e,2),o=a[0],s=a[1],l=A(r,2),u=l[0],f=l[1],c=A(n,2),d=c[0],p=c[1],v=A(i,2),h=v[0],g=v[1],m=-h,b=-g;if(t&&o&&s){m=0,b=0;var y=[];if(u&&f?y.push([0,g],[h,0]):u?y.push([h,0]):f?y.push([0,g]):d&&p?y.push([0,g],[h,0]):d?y.push([h,0]):p&&y.push([0,g]),y.length){y.sort(function(w,S){return Me(pt([o,s],w))-Me(pt([o,s],S))});var _=y[0];if(_[0]&&tt(o)>Vt)m=-_[0],b=s*tt(o+m)/tt(o)-s;else if(_[1]&&tt(s)>Vt){var C=s;b=-_[1],m=o*tt(s+b)/tt(C)-o}if(t&&f&&u)if(tt(m)>Vt&&tt(m)<tt(h)){var x=tt(h)/tt(m);m*=x,b*=x}else if(tt(b)>Vt&&tt(b)<tt(g)){var x=tt(g)/tt(b);m*=x,b*=x}else m=vn(-h,m),b=vn(-g,b)}}else m=o||u?-h:0,b=s||f?-g:0;return[m,b]}function v1(t,e,r,n,i,a){if(!xn(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=Ls(a.absolutePoses,[e,r]),s=De(o),l=s.left,u=s.right,f=s.top,c=s.bottom,d={horizontal:o.map(function(N){return N[1]}),vertical:o.map(function(N){return N[0]})},p=ks(t.props.snapDirections),v=Bs(p,{left:l,right:u,top:f,bottom:c,center:(l+u)/2,middle:(f+c)/2}),h=Ma(t,i,v,d),g=h.vertical,m=h.horizontal,b=o1(t,o,a),y=b.vertical,_=b.horizontal,C=g.isSnap,x=m.isSnap,w=g.isBound||y.isBound,S=m.isBound||_.isBound,E=vn(g.offset,y.offset),D=vn(m.offset,_.offset),T=A(p1(n,[e,r],[w,S],[C,x],[E,D]),2),I=T[0],R=T[1];return[{isBound:w,isSnap:C,offset:I},{isBound:S,isSnap:x,offset:R}]}function Ma(t,e,r,n){n===void 0&&(n=r);var i=As(Ea(t),n.vertical,n.horizontal),a=i.horizontal,o=i.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Da(t,r.vertical,r.horizontal,void 0,void 0,void 0,void 0),l=s.horizontal,u=s.vertical,f=Ji(a[0],l),c=Ji(o[0],u),d=tt(f),p=tt(c);return{horizontal:{isBound:a[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:f,dist:d,bounds:a,snap:l},vertical:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:c,dist:p,bounds:o,snap:u}}}function au(t,e,r,n,i,a,o){o===void 0&&(o=[1,1]);var s=As(e,r,n),l=s.horizontal,u=s.vertical,f=qc(t,r,n,[],[],i,a,o),c=f.horizontal,d=f.vertical,p=Ji(l[0],c),v=Ji(u[0],d),h=tt(p),g=tt(v);return{horizontal:{isBound:l[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:p,dist:h,bounds:l,snap:c},vertical:{isBound:u[0].isBound,isSnap:d.isSnap,snapIndex:d.index,offset:v,dist:g,bounds:u,snap:d}}}function h1(t,e,r,n){var i=Ht(t,e)/Math.PI*180,a=r.vertical,o=a.isBound,s=a.isSnap,l=a.dist,u=r.horizontal,f=u.isBound,c=u.isSnap,d=u.dist,p=i%180,v=p<3||p>177,h=p>87&&p<93;return d<l&&(o||s&&!h&&(!n||!v))?"vertical":f||c&&!v&&(!n||!h)?"horizontal":""}function g1(t,e,r,n,i,a){return r.map(function(o){var s=A(o,2),l=s[0],u=s[1],f=Ut(e,l),c=Ut(e,u),d=n?m1(t,f,c,i):Ma(t,i,{vertical:[c[0]],horizontal:[c[1]]}),p=d.horizontal,v=p.offset,h=p.isBound,g=p.isSnap,m=d.vertical,b=m.offset,y=m.isBound,_=m.isSnap,C=pt(u,l);if(!b&&!v)return{isBound:y||h,isSnap:_||g,sign:C,offset:[0,0]};var x=h1(f,c,d,n);if(!x)return{sign:C,isBound:!1,isSnap:!1,offset:[0,0]};var w=x==="vertical",S=[0,0];return!n&&tt(u[0])===1&&tt(u[1])===1&&l[0]!==u[0]&&l[1]!==u[1]?S=Ue({datas:a,distX:-b,distY:-v}):S=Fo(f,c,-(w?b:v),w,a).offset,S=S.map(function(E,D){return E*(C[D]?2/C[D]:0)}),{sign:C,isBound:w?y:h,isSnap:w?_:g,offset:S}})}function ou(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function m1(t,e,r,n){var i=qm(t,e,r),a=i.horizontal,o=i.vertical,s=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:r1(t,e,r),l=s.horizontal,u=s.vertical,f=ou(a,l),c=ou(o,u),d=tt(f),p=tt(c);return{horizontal:{isBound:a.isBound,isSnap:l.isSnap,offset:f,dist:d},vertical:{isBound:o.isBound,isSnap:u.isSnap,offset:c,dist:p}}}function b1(t,e,r,n,i){var a=[-r[0],-r[1]],o=t.state,s=o.width,l=o.height,u=t.props.bounds,f=1/0,c=1/0;if(u){var d=[[r[0],-r[1]],[-r[0],r[1]]],p=u.left,v=p===void 0?-1/0:p,h=u.top,g=h===void 0?-1/0:h,m=u.right,b=m===void 0?1/0:m,y=u.bottom,_=y===void 0?1/0:y;d.forEach(function(C){var x=C[0]!==a[0],w=C[1]!==a[1],S=Ut(e,C),E=Ht(n,S)*360/Math.PI;if(w){var D=S.slice();(tt(E-360)<2||tt(E-180)<2)&&(D[1]=n[1]);var T=Fo(n,D,(n[1]<S[1]?_:g)-S[1],!1,i),I=A(T.offset,2),R=I[1],N=T.isOutside;isNaN(R)||(c=l+(N?1:-1)*tt(R))}if(x){var D=S.slice();(tt(E-90)<2||tt(E-270)<2)&&(D[0]=n[0]);var z=Fo(n,D,(n[0]<S[0]?b:v)-S[0],!0,i),$=A(z.offset,1),k=$[0],L=z.isOutside;isNaN(k)||(f=s+(L?1:-1)*tt(k))}})}return{maxWidth:f,maxHeight:c}}var le={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var r=t.props,n=r.hideThrottleDragRotateLine,i=r.throttleDragRotate,a=r.zoom,o=t.getState(),s=o.dragInfo,l=o.beforeOrigin;if(n||!i||!s)return[];var u=s.dist;if(!u[0]&&!u[1])return[];var f=Me(u),c=Ht(u,[0,0]);return[e.createElement("div",{className:dt("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(f,"px"),transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) rotate(").concat(c,"rad) scaleY(").concat(a,")")}})]},dragStart:function(t,e){var r=e.datas,n=e.parentEvent,i=e.parentGesto,a=t.state,o=a.gestos,s=a.style;if(o.draggable)return!1;o.draggable=i||t.targetGesto,r.datas={},r.left=parseFloat(s.left||"")||0,r.top=parseFloat(s.top||"")||0,r.bottom=parseFloat(s.bottom||"")||0,r.right=parseFloat(s.right||"")||0,r.startValue=[0,0],Hr(t,e),wa(t,e,"translate"),G1(t,r),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,r.deltaOffset=[0,0];var l=xt(t,e,P({set:function(f){r.startValue=f}},Ca(t,e))),u=n||ut(t,"onDragStart",l);return u!==!1?(r.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(o.draggable=null,r.isPinch=!1),r.isDrag?l:!1},drag:function(t,e){if(e){xa(t,e,"translate");var r=e.datas,n=e.parentEvent,i=e.parentFlag,a=e.isPinch,o=e.deltaOffset,s=e.useSnap,l=e.isRequest,u=e.isGroup,f=e.parentThrottleDrag,c=e.distX,d=e.distY,p=r.isDrag,v=r.prevDist,h=r.prevBeforeDist,g=r.startValue;if(p){o&&(c+=o[0],d+=o[1]);var m=t.props,b=m.parentMoveable,y=u?0:m.throttleDrag||f||0,_=n?0:m.throttleDragRotate||0,C=0,x=!1,w=!1,S=!1,E=!1;if(!n&&_>0&&(c||d)){var D=m.startDragRotate||0,T=bt(D+Ht([0,0],[c,d])*180/Math.PI,_)-D,I=d*Math.abs(Math.cos((T-90)/180*Math.PI)),R=c*Math.abs(Math.cos(T/180*Math.PI)),N=Me([R,I]);C=T*Math.PI/180,c=N*Math.cos(C),d=N*Math.sin(C)}if(!a&&!n&&!i){var z=A(v1(t,c,d,_,!s&&l||o,r),2),$=z[0],k=z[1];x=$.isSnap,w=$.isBound,S=k.isSnap,E=k.isBound;var L=$.offset,B=k.offset;c+=L,d+=B}var H=Et(Ac({datas:r,distX:c,distY:d}),g),F=Et(Rm({datas:r,distX:c,distY:d}),g);Nl(F,de),Nl(H,de),_||(!x&&!w&&(F[0]=bt(F[0],y),H[0]=bt(H[0],y)),!S&&!E&&(F[1]=bt(F[1],y),H[1]=bt(H[1],y)));var j=pt(H,g),V=pt(F,g),K=pt(V,v),q=pt(j,h);r.prevDist=V,r.prevBeforeDist=j,r.passDelta=K,r.passDist=V;var et=r.left+j[0],at=r.top+j[1],ct=r.right-j[0],ht=r.bottom-j[1],gt=Sa(r,"translate(".concat(F[0],"px, ").concat(F[1],"px)"),"translate(".concat(V[0],"px, ").concat(V[1],"px)"));if(Ps(e,gt),t.state.dragInfo.dist=n?[0,0]:V,!(!n&&!b&&K.every(function(G){return!G})&&q.some(function(G){return!G}))){var it=t.state,ft=it.width,M=it.height,O=xt(t,e,P({transform:gt,dist:V,delta:K,translate:F,beforeDist:j,beforeDelta:q,beforeTranslate:H,left:et,top:at,right:ct,bottom:ht,width:ft,height:M,isPinch:a},fe({transform:gt},e)));return!n&&ut(t,"onDrag",O),O}}}},dragAfter:function(t,e){var r=e.datas,n=r.deltaOffset;return n[0]||n[1]?(r.deltaOffset=[0,0],this.drag(t,P(P({},e),{deltaOffset:n}))):!1},dragEnd:function(t,e){var r=e.parentEvent,n=e.datas;if(t.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var i=Se(t,e,{});return!r&&ut(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var r,n,i=e.datas,a=e.clientX,o=e.clientY,s=this.dragStart(t,e);if(!s)return!1;var l=Ua(t,this,"dragStart",[a||0,o||0],e,!1,"draggable"),u=l.childEvents,f=l.eventParams,c=P(P({},s),{targets:t.props.targets,events:f}),d=ut(t,"onDragGroupStart",c);i.isDrag=d!==!1;var p=(n=(r=u[0])===null||r===void 0?void 0:r.datas.startValue)!==null&&n!==void 0?n:[0,0];return i.throttleOffset=[p[0]%1,p[1]%1],i.isDrag?s:!1},dragGroup:function(t,e){var r=e.datas;if(r.isDrag){var n=this.drag(t,P(P({},e),{parentThrottleDrag:t.props.throttleDrag})),i=e.datas.passDelta,a=Ua(t,this,"drag",i,e,!1,"draggable").eventParams;if(n){var o=P({targets:t.props.targets,events:a},n);return ut(t,"onDragGroup",o),o}}},dragGroupEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isDrag){this.dragEnd(t,e);var i=Ua(t,this,"dragEnd",[0,0],e,!1,"draggable").eventParams;return ut(t,"onDragGroupEnd",Se(t,e,{targets:t.props.targets,events:i})),r}},request:function(t){var e={},r=t.getRect(),n=0,i=0,a=!1;return{isControl:!1,requestStart:function(o){return a=o.useSnap,{datas:e,useSnap:a}},request:function(o){return"x"in o?n=o.x-r.left:"deltaX"in o&&(n+=o.deltaX),"y"in o?i=o.y-r.top:"deltaY"in o&&(i+=o.deltaY),{datas:e,distX:n,distY:i,useSnap:a}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:a}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function Jc(t,e){var r=Ut(t,e),n=[0,0];return{fixedPosition:r,fixedDirection:e,fixedOffset:n}}function y1(t,e){var r=t.allMatrix,n=t.is3d,i=t.width,a=t.height,o=n?4:3,s=[i/2*(1+e[0]),a/2*(1+e[1])],l=zt(r,s,o),u=[0,0];return{fixedPosition:l,fixedDirection:e,fixedOffset:u}}function td(t,e){var r=t.allMatrix,n=t.is3d,i=t.width,a=t.height,o=n?4:3,s=Gm(e,i,a),l=zt(r,e,o),u=[i?0:e[0],a?0:e[1]];return{fixedPosition:l,fixedDirection:s,fixedOffset:u}}var su=Ws("resizable"),No={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:Hc("resizable"),dragControlCondition:su,viewClassName:$s("resizable"),dragControlStart:function(t,e){var r,n=e.inputEvent,i=e.isPinch,a=e.isGroup,o=e.parentDirection,s=e.parentGesto,l=e.datas,u=e.parentFixedDirection,f=e.parentEvent,c=pd(o,i,n,l),d=t.state,p=d.target,v=d.width,h=d.height,g=d.gestos;if(!c||!p||g.resizable)return!1;g.resizable=s||t.controlGesto,!i&&Hr(t,e),l.datas={},l.direction=c,l.startOffsetWidth=v,l.startOffsetHeight=h,l.prevWidth=0,l.prevHeight=0,l.minSize=[0,0],l.startWidth=d.inlineCSSWidth||d.cssWidth,l.startHeight=d.inlineCSSHeight||d.cssHeight,l.maxSize=[1/0,1/0],a||(l.minSize=[d.minOffsetWidth,d.minOffsetHeight],l.maxSize=[d.maxOffsetWidth,d.maxOffsetHeight]);var m=t.props.transformOrigin||"% %";l.transformOrigin=m&&me(m)?m.split(" "):m,l.startOffsetMatrix=d.offsetMatrix,l.startTransformOrigin=d.transformOrigin,l.isWidth=(r=e==null?void 0:e.parentIsWidth)!==null&&r!==void 0?r:!c[0]&&!c[1]||c[0]||!c[1];function b(E){l.ratio=E&&isFinite(E)?E:0}l.startPositions=Oe(t.state);function y(E){var D=Jc(l.startPositions,E);l.fixedDirection=D.fixedDirection,l.fixedPosition=D.fixedPosition,l.fixedOffset=D.fixedOffset}function _(E){var D=td(t.state,E);l.fixedDirection=D.fixedDirection,l.fixedPosition=D.fixedPosition,l.fixedOffset=D.fixedOffset}function C(E){l.minSize=[Rt("".concat(E[0]),0)||0,Rt("".concat(E[1]),0)||0]}function x(E){var D=[E[0]||1/0,E[1]||1/0];(!fn(D[0])||isFinite(D[0]))&&(D[0]=Rt("".concat(D[0]),0)||1/0),(!fn(D[1])||isFinite(D[1]))&&(D[1]=Rt("".concat(D[1]),0)||1/0),l.maxSize=D}b(v/h),y(u||[-c[0],-c[1]]),l.setFixedDirection=y,l.setFixedPosition=_,l.setMin=C,l.setMax=x;var w=xt(t,e,{direction:c,startRatio:l.ratio,set:function(E){var D=A(E,2),T=D[0],I=D[1];l.startWidth=T,l.startHeight=I},setMin:C,setMax:x,setRatio:b,setFixedDirection:y,setFixedPosition:_,setOrigin:function(E){l.transformOrigin=E},dragStart:le.dragStart(t,new dn().dragStart([0,0],e))}),S=f||ut(t,"onResizeStart",w);return l.startFixedDirection=l.fixedDirection,l.startFixedPosition=l.fixedPosition,S!==!1&&(l.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:c}),l.isResize?w:!1},dragControl:function(t,e){var r,n=e.datas,i=e.parentFlag,a=e.isPinch,o=e.parentKeepRatio,s=e.dragClient,l=e.parentDist,u=e.useSnap,f=e.isRequest,c=e.isGroup,d=e.parentEvent,p=e.resolveMatrix,v=n.isResize,h=n.transformOrigin,g=n.startWidth,m=n.startHeight,b=n.prevWidth,y=n.prevHeight,_=n.minSize,C=n.maxSize,x=n.ratio,w=n.startOffsetWidth,S=n.startOffsetHeight,E=n.isWidth;if(!v)return;if(p){var D=t.state.is3d,T=n.startOffsetMatrix,I=n.startTransformOrigin,R=D?4:3,N=Xn(Ki(e)),z=Math.sqrt(N.length);R!==z&&(N=ze(N,z,R));var $=li(T,N,I,R),k=$r($,w,S,R);n.startPositions=k,n.nextTargetMatrix=N,n.nextAllMatrix=$}var L=Fr(t.props,"resizable"),B=L.resizeFormat,H=L.throttleResize,F=H===void 0?i?0:1:H,j=L.parentMoveable,V=L.keepRatioFinally,K=n.direction,q=K,et=0,at=0;!K[0]&&!K[1]&&(q=[1,1]);var ct=x&&(o??L.keepRatio)||!1;function ht(){var lt=n.fixedDirection,st=yd(q,ct,n,e);et=st.distWidth,at=st.distHeight;var vt=q[0]-lt[0]||ct?Math.max(w+et,de):w,mt=q[1]-lt[1]||ct?Math.max(S+at,de):S;return ct&&w&&S&&(E?mt=vt/x:vt=mt*x),[vt,mt]}var gt=A(ht(),2),it=gt[0],ft=gt[1];d||(n.setFixedDirection(n.fixedDirection),ut(t,"onBeforeResize",xt(t,e,{startFixedDirection:n.startFixedDirection,startFixedPosition:n.startFixedPosition,setFixedDirection:function(lt){var st;return n.setFixedDirection(lt),st=A(ht(),2),it=st[0],ft=st[1],[it,ft]},setFixedPosition:function(lt){var st;return n.setFixedPosition(lt),st=A(ht(),2),it=st[0],ft=st[1],[it,ft]},boundingWidth:it,boundingHeight:ft,setSize:function(lt){var st;st=A(lt,2),it=st[0],ft=st[1]}},!0)));var M=s;s||(!i&&a?M=Hm(t,[0,0]):M=n.fixedPosition);var O=[0,0];a||(O=B1(t,it,ft,K,M,!u&&f,n)),l&&(!l[0]&&(O[0]=0),!l[1]&&(O[1]=0));function G(){var lt;B&&(lt=A(B([it,ft]),2),it=lt[0],ft=lt[1]),it=bt(it,F),ft=bt(ft,F)}if(ct){q[0]&&q[1]&&O[0]&&O[1]&&(tt(O[0])>tt(O[1])?O[1]=0:O[0]=0);var W=!O[0]&&!O[1];W&&G(),q[0]&&!q[1]||O[0]&&!O[1]||W&&E?(it+=O[0],ft=it/x):(!q[0]&&q[1]||!O[0]&&O[1]||W&&!E)&&(ft+=O[1],it=ft*x)}else it+=O[0],ft+=O[1],it=Math.max(0,it),ft=Math.max(0,ft);r=A(Yf([it,ft],_,C,ct?x:!1),2),it=r[0],ft=r[1],G(),ct&&(c||V)&&(E?ft=it/x:it=ft*x),et=it-w,at=ft-S;var Y=[et-b,at-y];n.prevWidth=et,n.prevHeight=at;var X=Lm(t,it,ft,M,h,n);if(!(!j&&Y.every(function(lt){return!lt})&&X.every(function(lt){return!lt}))){var U=le.drag(t,si(e,t.state,X,!!a,!1,"draggable")),Q=U.transform,rt=g+et,Z=m+at,ot=xt(t,e,P({width:rt,height:Z,offsetWidth:Math.round(it),offsetHeight:Math.round(ft),startRatio:x,boundingWidth:it,boundingHeight:ft,direction:K,dist:[et,at],delta:Y,isPinch:!!a,drag:U},hd({style:{width:"".concat(rt,"px"),height:"".concat(Z,"px")},transform:Q},U,e)));return!d&&ut(t,"onResize",ot),ot}},dragControlAfter:function(t,e){var r=e.datas,n=r.isResize,i=r.startOffsetWidth,a=r.startOffsetHeight,o=r.prevWidth,s=r.prevHeight;if(!(!n||t.props.checkResizableError===!1)){var l=t.state,u=l.width,f=l.height,c=u-(i+o),d=f-(a+s),p=tt(c)>3,v=tt(d)>3;if(p&&(r.startWidth+=c,r.startOffsetWidth+=c,r.prevWidth+=c),v&&(r.startHeight+=d,r.startOffsetHeight+=d,r.prevHeight+=d),p||v)return this.dragControl(t,e)}},dragControlEnd:function(t,e){var r=e.datas,n=e.parentEvent;if(r.isResize){r.isResize=!1;var i=Se(t,e,{});return!n&&ut(t,"onResizeEnd",i),i}},dragGroupControlCondition:su,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,P(P({},e),{isGroup:!0}));if(!n)return!1;var i=Ae(t,"resizable",e),a=r.startOffsetWidth,o=r.startOffsetHeight;function s(){var p=r.minSize;i.forEach(function(v){var h=v.datas,g=h.minSize,m=h.startOffsetWidth,b=h.startOffsetHeight,y=a*(m?g[0]/m:0),_=o*(b?g[1]/b:0);p[0]=Math.max(p[0],y),p[1]=Math.max(p[1],_)})}function l(){var p=r.maxSize;i.forEach(function(v){var h=v.datas,g=h.maxSize,m=h.startOffsetWidth,b=h.startOffsetHeight,y=a*(m?g[0]/m:0),_=o*(b?g[1]/b:0);p[0]=Math.min(p[0],y),p[1]=Math.min(p[1],_)})}var u=tr(t,this,"dragControlStart",e,function(p,v){return Zi(t,p,r,v)});s(),l();var f=function(p){n.setFixedDirection(p),u.forEach(function(v,h){v.setFixedDirection(p),Zi(t,v.moveable,r,i[h])})};r.setFixedDirection=f;var c=P(P({},n),{targets:t.props.targets,events:u.map(function(p){return P(P({},p),{setMin:function(v){p.setMin(v),s()},setMax:function(v){p.setMax(v),l()}})}),setFixedDirection:f,setMin:function(p){n.setMin(p),s()},setMax:function(p){n.setMax(p),l()}}),d=ut(t,"onResizeGroupStart",c);return r.isResize=d!==!1,r.isResize?n:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isResize){var n=Fr(t.props,"resizable");Ra(t,"onBeforeResize",function(p){ut(t,"onBeforeResizeGroup",xt(t,e,P(P({},p),{targets:n.targets}),!0))});var i=this.dragControl(t,P(P({},e),{isGroup:!0}));if(i){var a=i.boundingWidth,o=i.boundingHeight,s=i.dist,l=n.keepRatio,u=[a/(a-s[0]),o/(o-s[1])],f=r.fixedPosition,c=tr(t,this,"dragControl",e,function(p,v){var h=A(ie(ii(t.rotation/180*Math.PI,3),[v.datas.originalX*u[0],v.datas.originalY*u[1],1],3),2),g=h[0],m=h[1];return P(P({},v),{parentDist:null,parentScale:u,dragClient:Et(f,[g,m]),parentKeepRatio:l})}),d=P({targets:n.targets,events:c},i);return ut(t,"onResizeGroup",d),d}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isResize){this.dragControlEnd(t,e);var i=tr(t,this,"dragControlEnd",e),a=Se(t,e,{targets:t.props.targets,events:i});return ut(t,"onResizeGroupEnd",a),r}},request:function(t){var e={},r=0,n=0,i=!1,a=t.getRect();return{isControl:!0,requestStart:function(o){var s;return i=o.useSnap,{datas:e,parentDirection:o.direction||[1,1],parentIsWidth:(s=o==null?void 0:o.horizontal)!==null&&s!==void 0?s:!0,useSnap:i}},request:function(o){return"offsetWidth"in o?r=o.offsetWidth-a.offsetWidth:"deltaWidth"in o&&(r+=o.deltaWidth),"offsetHeight"in o?n=o.offsetHeight-a.offsetHeight:"deltaHeight"in o&&(n+=o.deltaHeight),{datas:e,parentDist:[r,n],parentKeepRatio:o.keepRatio,useSnap:i}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:i}}}},unset:function(t){t.state.gestos.resizable=null}};function Ka(t,e,r,n,i){var a=t.props.groupable,o=t.state,s=o.is3d?4:3,l=e.origin,u=zt(t.state.rootMatrix,pt([l[0],l[1]],a?[0,0]:[o.left,o.top]),s),f=Et([i.left,i.top],u);e.startAbsoluteOrigin=f,e.prevDeg=Ht(f,[r,n])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=Je(f,[r,n])}function Hi(t,e,r){var n=r.defaultDeg,i=r.prevDeg,a=i%360,o=Math.floor(i/360);a<0&&(a+=360),a>t&&a>270&&t<90?++o:a<t&&a<90&&t>270&&--o;var s=e*(o*360+t-n);return r.prevDeg=n+s,s}function Za(t,e,r,n){return Hi(Ht(n.startAbsoluteOrigin,[t,e])/Math.PI*180,r,n)}function Qa(t,e,r,n,i,a){var o=t.props.throttleRotate,s=o===void 0?0:o,l=r.prevSnapDeg,u=0,f=!1;if(a){var c=k1(t,e,n,i+n);f=c.isSnap,u=i+c.dist}f||(u=bt(i+n,s));var d=u-i;return r.prevSnapDeg=d,[d-l,d,u]}function ed(t,e,r){var n=A(e,4),i=n[0],a=n[1],o=n[2],s=n[3];if(t==="none")return[];if(Xt(t))return t.map(function(g){return ed(g,[i,a,o,s],r)[0]});var l=A((t||"top").split("-"),2),u=l[0],f=l[1],c=[i,a];u==="left"?c=[o,i]:u==="right"?c=[a,s]:u==="bottom"&&(c=[s,o]);var d=[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2],p=cd(c,r);if(f){var v=f==="top"||f==="left",h=u==="bottom"||u==="left";d=c[v&&!h||!v&&h?0:1]}return[[d,p]]}function Lo(t,e){if(e.isRequest)return e.requestAble==="rotatable";var r=e.inputEvent.target;if(qt(r,dt("rotation-control"))||t.props.rotateAroundControls&&qt(r,dt("around-control"))||qt(r,dt("control"))&&qt(r,dt("rotatable")))return!0;var n=t.props.rotationTarget;return n?Vs(n,!0).some(function(i){return i?r===i||r.contains(i):!1}):!1}var _1=`.rotation {
position: absolute;
height: 40px;
width: 1px;
transform-origin: 50% 100%;
height: calc(40px * var(--zoom));
top: auto;
left: 0;
bottom: 100%;
will-change: transform;
}
.rotation .rotation-line {
display: block;
width: 100%;
height: 100%;
transform-origin: 50% 50%;
}
.rotation .rotation-control {
border-color: #4af;
border-color: var(--moveable-color);
background:#fff;
cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
cursor: alias;
}
.rotatable.direction.control.move {
cursor: move;
}
`,x1={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[_1],viewClassName:function(t){return t.isDragging("rotatable")?dt("view-rotation-dragging"):""},render:function(t,e){var r=Fr(t.props,"rotatable"),n=r.rotatable,i=r.rotationPosition,a=r.zoom,o=r.renderDirections,s=r.rotateAroundControls,l=r.resolveAblesWithRotatable,u=t.getState(),f=u.renderPoses,c=u.direction;if(!n)return null;var d=ed(i,f,c),p=[];if(d.forEach(function(m,b){var y=A(m,2),_=y[0],C=y[1];p.push(e.createElement("div",{key:"rotation".concat(b),className:dt("rotation"),style:{transform:"translate(-50%) translate(".concat(_[0],"px, ").concat(_[1],"px) rotate(").concat(C,"rad)")}},e.createElement("div",{className:dt("line rotation-line"),style:{transform:"scaleX(".concat(a,")")}}),e.createElement("div",{className:dt("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(a,")")}})))}),o){var v=rr(l||{}),h={};v.forEach(function(m){l[m].forEach(function(b){h[b]=m})});var g=[];Xt(o)&&(g=o.map(function(m){var b=h[m];return{data:b?{resolve:b}:{},classNames:b?["move"]:[],dir:m}})),p.push.apply(p,nt([],A(Fc(t,"rotatable",g,e)),!1))}return s&&p.push.apply(p,nt([],A(Wc(t,e)),!1)),p},dragControlCondition:Lo,dragControlStart:function(t,e){var r,n,i=e.datas,a=e.clientX,o=e.clientY,s=e.parentRotate,l=e.parentFlag,u=e.isPinch,f=e.isRequest,c=t.state,d=c.target,p=c.left,v=c.top,h=c.direction,g=c.beforeDirection,m=c.targetTransform,b=c.moveableClientRect,y=c.offsetMatrix,_=c.targetMatrix,C=c.allMatrix,x=c.width,w=c.height;if(!f&&!d)return!1;var S=t.getRect();i.rect=S,i.transform=m,i.left=p,i.top=v;var E=function(q){var et=td(t.state,q);i.fixedDirection=et.fixedDirection,i.fixedOffset=et.fixedOffset,i.fixedPosition=et.fixedPosition,F&&F.setFixedPosition(q)},D=function(q){var et=y1(t.state,q);i.fixedDirection=et.fixedDirection,i.fixedOffset=et.fixedOffset,i.fixedPosition=et.fixedPosition,F&&F.setFixedDirection(q)},T=a,I=o;if(f||u||l){var R=s||0;i.beforeInfo={origin:S.beforeOrigin,prevDeg:R,defaultDeg:R,prevSnapDeg:0,startDist:0},i.afterInfo=P(P({},i.beforeInfo),{origin:S.origin}),i.absoluteInfo=P(P({},i.beforeInfo),{origin:S.origin,startValue:R})}else{var N=(n=e.inputEvent)===null||n===void 0?void 0:n.target;if(N){var z=N.getAttribute("data-direction")||"",$=Mm[z];if($){i.isControl=!0,i.isAroundControl=qt(N,dt("around-control")),i.controlDirection=$;var k=N.getAttribute("data-resolve");k&&(i.resolveAble=k);var L=K1(c.rootMatrix,c.renderPoses,b);r=A(Ut(L,$),2),T=r[0],I=r[1]}}i.beforeInfo={origin:S.beforeOrigin},i.afterInfo={origin:S.origin},i.absoluteInfo={origin:S.origin,startValue:S.rotation};var B=E;E=function(q){var et=c.is3d?4:3,at=A(Et(mc(_,et),q),2),ct=at[0],ht=at[1],gt=ie(y,Br([ct,ht],et)),it=ie(C,Br([q[0],q[1]],et));B(q);var ft=c.posDelta;i.beforeInfo.origin=pt(gt,ft),i.afterInfo.origin=pt(it,ft),i.absoluteInfo.origin=pt(it,ft),Ka(t,i.beforeInfo,T,I,b),Ka(t,i.afterInfo,T,I,b),Ka(t,i.absoluteInfo,T,I,b)},D=function(q){var et=Ut([[0,0],[x,0],[0,w],[x,w]],q);E(et)}}i.startClientX=T,i.startClientY=I,i.direction=h,i.beforeDirection=g,i.startValue=0,i.datas={},wa(t,e,"rotate");var H=!1,F=!1;if(i.isControl&&i.resolveAble){var j=i.resolveAble;j==="resizable"&&(F=No.dragControlStart(t,P(P({},new dn("resizable").dragStart([0,0],e)),{parentPosition:i.controlPosition,parentFixedPosition:i.fixedPosition})))}F||(H=le.dragStart(t,new dn().dragStart([0,0],e))),E(Z1(t));var V=xt(t,e,P(P({set:function(q){i.startValue=q*Math.PI/180},setFixedDirection:D,setFixedPosition:E},Ca(t,e)),{dragStart:H,resizeStart:F})),K=ut(t,"onRotateStart",V);return i.isRotate=K!==!1,c.snapRenderInfo={request:e.isRequest},i.isRotate?V:!1},dragControl:function(t,e){var r,n,i,a=e.datas,o=e.clientDistX,s=e.clientDistY,l=e.parentRotate,u=e.parentFlag,f=e.isPinch,c=e.groupDelta,d=e.resolveMatrix,p=a.beforeDirection,v=a.beforeInfo,h=a.afterInfo,g=a.absoluteInfo,m=a.isRotate,b=a.startValue,y=a.rect,_=a.startClientX,C=a.startClientY;if(m){xa(t,e,"rotate");var x=Om(e),w=p*x,S=t.props.parentMoveable,E=0,D,T,I=0,R,N,z=0,$,k,L=180/Math.PI*b,B=g.startValue,H=!1,F=_+o,j=C+s;if(!u&&"parentDist"in e){var V=e.parentDist;D=V,R=V,$=V}else f||u?(D=Hi(l,p,v),R=Hi(l,w,h),$=Hi(l,w,g)):(D=Za(F,j,p,v),R=Za(F,j,w,h),$=Za(F,j,w,g),H=!0);if(T=L+D,N=L+R,k=B+$,ut(t,"onBeforeRotate",xt(t,e,{beforeRotation:T,rotation:N,absoluteRotation:k,setRotation:function(M){R=M-L,D=R,$=R}},!0)),r=A(Qa(t,y,v,D,L,H),3),E=r[0],D=r[1],T=r[2],n=A(Qa(t,y,h,R,L,H),3),I=n[0],R=n[1],N=n[2],i=A(Qa(t,y,g,$,B,H),3),z=i[0],$=i[1],k=i[2],!(!z&&!I&&!E&&!S&&!d)){var K=Sa(a,"rotate(".concat(N,"deg)"),"rotate(".concat(R,"deg)"));d&&(a.fixedPosition=Is(t,a.targetAllTransform,a.fixedDirection,a.fixedOffset,a));var q=Nm(t,R,a),et=pt(Et(c||[0,0],q),a.prevInverseDist||[0,0]);a.prevInverseDist=q,a.requestValue=null;var at=Bc(t,K,et,f,e),ct=at,ht=Je([F,j],g.startAbsoluteOrigin)-g.startDist,gt=void 0;if(a.resolveAble==="resizable"){var it=No.dragControl(t,P(P({},si(e,t.state,[e.deltaX,e.deltaY],!!f,!1,"resizable")),{resolveMatrix:!0,parentDistance:ht}));it&&(gt=it,ct=hd(ct,it,e))}var ft=xt(t,e,P(P({delta:I,dist:R,rotate:N,rotation:N,beforeDist:D,beforeDelta:E,beforeRotate:T,beforeRotation:T,absoluteDist:$,absoluteDelta:z,absoluteRotate:k,absoluteRotation:k,isPinch:!!f,resize:gt},at),ct));return ut(t,"onRotate",ft),ft}}},dragControlEnd:function(t,e){var r=e.datas;if(r.isRotate){r.isRotate=!1;var n=Se(t,e,{});return ut(t,"onRotateEnd",n),n}},dragGroupControlCondition:Lo,dragGroupControlStart:function(t,e){var r=e.datas,n=t.state,i=n.left,a=n.top,o=n.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(r.beforeDirection*t.rotation);var l=tr(t,this,"dragControlStart",e,function(c,d){var p=c.state,v=p.left,h=p.top,g=p.beforeOrigin,m=Et(pt([v,h],[i,a]),pt(g,o));return d.datas.startGroupClient=m,d.datas.groupClient=m,P(P({},d),{parentRotate:0})}),u=P(P({},s),{targets:t.props.targets,events:l}),f=ut(t,"onRotateGroupStart",u);return r.isRotate=f!==!1,r.isRotate?s:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isRotate){Ra(t,"onBeforeRotate",function(u){ut(t,"onBeforeRotateGroup",xt(t,e,P(P({},u),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(n){var i=r.beforeDirection,a=n.beforeDist,o=a/180*Math.PI,s=tr(t,this,"dragControl",e,function(u,f){var c=f.datas.startGroupClient,d=A(f.datas.groupClient,2),p=d[0],v=d[1],h=A(ni(c,o*i),2),g=h[0],m=h[1],b=[g-p,m-v];return f.datas.groupClient=[g,m],P(P({},f),{parentRotate:a,groupDelta:b})});t.rotation=i*n.beforeRotation;var l=P({targets:t.props.targets,events:s,set:function(u){t.rotation=u},setGroupRotation:function(u){t.rotation=u}},n);return ut(t,"onRotateGroup",l),l}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isRotate){this.dragControlEnd(t,e);var i=tr(t,this,"dragControlEnd",e),a=Se(t,e,{targets:t.props.targets,events:i});return ut(t,"onRotateGroupEnd",a),r}},request:function(t){var e={},r=0,n=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(i){return"deltaRotate"in i?r+=i.deltaRotate:"rotate"in i&&(r=i.rotate-n),{datas:e,parentDist:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function S1(t,e){var r,n=t.direction,i=t.classNames,a=t.size,o=t.pos,s=t.zoom,l=t.key,u=n==="horizontal",f=u?"Y":"X";return e.createElement("div",{key:l,className:i.join(" "),style:(r={},r[u?"width":"height"]="".concat(a),r.transform="translate(".concat(o[0],", ").concat(o[1],") translate").concat(f,"(-50%) scale").concat(f,"(").concat(s,")"),r)})}function Fs(t,e){return S1(P(P({},t),{classNames:nt([dt("line","guideline",t.direction)],A(t.classNames),!1).filter(function(r){return r}),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map(function(r){return"".concat(bt(r,.1),"px")})}),e)}function lu(t,e,r,n,i,a,o,s){var l=t.props.zoom;return r.map(function(u,f){var c=u.type,d=u.pos,p=[0,0];return p[o]=n,p[o?0:1]=-i+d,Fs({key:"".concat(e,"TargetGuideline").concat(f),classNames:[dt("target","bold",c)],posValue:p,sizeValue:a,zoom:l,direction:e},s)})}function uu(t,e,r,n,i,a){var o=t.props,s=o.zoom,l=o.isDisplayInnerSnapDigit,u=e==="horizontal"?br:yr,f=i[u.start],c=i[u.end];return r.filter(function(d){var p=d.hide,v=d.elementRect;if(p)return!1;if(l&&v){var h=v.rect;if(h[u.start]<=f&&c<=h[u.end])return!1}return!0}).map(function(d,p){var v=d.pos,h=d.size,g=d.element,m=d.className,b=[-n[0]+v[0],-n[1]+v[1]];return Fs({key:"".concat(e,"-default-guideline-").concat(p),classNames:g?[dt("bold"),m]:[dt("normal"),m],direction:e,posValue:b,sizeValue:h,zoom:s},a)})}function Dn(t,e,r,n,i,a,o,s){var l,u=t.props,f=u.snapDigit,c=f===void 0?0:f,d=u.isDisplaySnapDigit,p=d===void 0?!0:d,v=u.snapDistFormat,h=v===void 0?function(C,x){return C}:v,g=u.zoom,m=e==="horizontal"?"X":"Y",b=e==="vertical"?"height":"width",y=Math.abs(i),_=p?parseFloat(y.toFixed(c)):0;return s.createElement("div",{key:"".concat(e,"-").concat(r,"-guideline-").concat(n),className:dt("guideline-group",e),style:(l={left:"".concat(a[0],"px"),top:"".concat(a[1],"px")},l[b]="".concat(y,"px"),l)},Fs({direction:e,classNames:[dt(r),o],size:"100%",posValue:[0,0],sizeValue:y,zoom:g},s),s.createElement("div",{className:dt("size-value","gap"),style:{transform:"translate".concat(m,"(-50%) scale(").concat(g,")")}},_>0?h(_,e):""))}function C1(t,e,r,n){var i=t==="vertical"?0:1,a=t==="vertical"?1:0,o=i?br:yr,s=r[o.start],l=r[o.end];return gd(e,function(u){return u.pos[i]}).map(function(u){var f=[],c=[],d=[];return u.forEach(function(p){var v,h,g=p.element,m=p.elementRect.rect;if(m[o.end]<s)f.push(p);else if(l<m[o.start])c.push(p);else if(m[o.start]<=s&&l<=m[o.end]&&n){var b=p.pos,y={element:g,rect:P(P({},m),(v={},v[o.end]=m[o.start],v))},_={element:g,rect:P(P({},m),(h={},h[o.start]=m[o.end],h))},C=[0,0],x=[0,0];C[i]=b[i],C[a]=b[a],x[i]=b[i],x[a]=b[a]+p.size,f.push({type:t,pos:C,size:0,elementRect:y,direction:"",elementDirection:"end"}),c.push({type:t,pos:x,size:0,elementRect:_,direction:"",elementDirection:"start"})}}),f.sort(function(p,v){return v.pos[a]-p.pos[a]}),c.sort(function(p,v){return p.pos[a]-v.pos[a]}),{total:u,start:f,end:c,inner:d}})}function w1(t,e,r,n,i){var a=t.props.isDisplayInnerSnapDigit,o=[];return["vertical","horizontal"].forEach(function(s){var l=e.filter(function(g){return g.type===s}),u=s==="vertical"?1:0,f=u?0:1,c=C1(s,l,n,a),d=u?yr:br,p=u?br:yr,v=n[d.start],h=n[d.end];c.forEach(function(g){var m=g.total,b=g.start,y=g.end,_=g.inner,C=r[f]+m[0].pos[f]-n[p.start],x=n;b.forEach(function(w){var S=w.elementRect.rect,E=x[d.start]-S[d.end];if(E>0){var D=[0,0];D[u]=r[u]+x[d.start]-v-E,D[f]=C,o.push(Dn(t,s,"dashed",o.length,E,D,w.className,i))}x=S}),x=n,y.forEach(function(w){var S=w.elementRect.rect,E=S[d.start]-x[d.end];if(E>0){var D=[0,0];D[u]=r[u]+x[d.end]-v,D[f]=C,o.push(Dn(t,s,"dashed",o.length,E,D,w.className,i))}x=S}),_.forEach(function(w){var S=w.elementRect.rect,E=v-S[d.start],D=S[d.end]-h,T=[0,0],I=[0,0];T[u]=r[u]-E,T[f]=C,I[u]=r[u]+h-v,I[f]=C,o.push(Dn(t,s,"dashed",o.length,E,T,w.className,i)),o.push(Dn(t,s,"dashed",o.length,D,I,w.className,i))})})}),o}function E1(t,e,r,n,i){var a=[];return["horizontal","vertical"].forEach(function(o){var s=e.filter(function(g){return g.type===o}).slice(0,1),l=o==="vertical"?0:1,u=l?0:1,f=l?yr:br,c=l?br:yr,d=n[f.start],p=n[f.end],v=n[c.start],h=n[c.end];s.forEach(function(g){var m=g.gap,b=g.gapRects,y=Math.max.apply(Math,nt([v],A(b.map(function(x){var w=x.rect;return w[c.start]})),!1)),_=Math.min.apply(Math,nt([h],A(b.map(function(x){var w=x.rect;return w[c.end]})),!1)),C=(y+_)/2;y===_||C===(v+h)/2||b.forEach(function(x){var w=x.rect,S=x.className,E=[r[0],r[1]];if(w[f.end]<d)E[l]+=w[f.end]-d;else if(p<w[f.start])E[l]+=w[f.start]-d-m;else return;E[u]+=C-v,a.push(Dn(t,l?"vertical":"horizontal","gap",a.length,m,E,S,i))})})}),a}function Ho(t){var e,r,n=t.state,i=n.containerClientRect,a=n.hasFixed,o=i.overflow,s=i.scrollHeight,l=i.scrollWidth,u=i.clientHeight,f=i.clientWidth,c=i.clientLeft,d=i.clientTop,p=t.props,v=p.snapGap,h=v===void 0?!0:v,g=p.verticalGuidelines,m=p.horizontalGuidelines,b=p.snapThreshold,y=b===void 0?5:b,_=p.maxSnapElementGuidelineDistance,C=_===void 0?1/0:_,x=p.isDisplayGridGuidelines,w=De(Oe(t.state)),S=w.top,E=w.left,D=w.bottom,T=w.right,I={top:S,left:E,bottom:D,right:T,center:(E+T)/2,middle:(S+D)/2},R=R1(t),N=nt([],A(R),!1),z=((r=(e=n.snapThresholdInfo)===null||e===void 0?void 0:e.multiples)!==null&&r!==void 0?r:[1,1]).map(function(B){return B*y});h&&N.push.apply(N,nt([],A(D1(t,I,z)),!1));var $=P({},n.snapOffset||{left:0,top:0,bottom:0,right:0});if(N.push.apply(N,nt([],A(O1(t,o?l:f,o?s:u,c,d,$,x)),!1)),a){var k=i.left,L=i.top;$.left+=k,$.top+=L,$.right+=k,$.bottom+=L}return N.push.apply(N,nt([],A(nd(m||!1,g||!1,o?l:f,o?s:u,c,d,$)),!1)),N=N.filter(function(B){var H=B.element,F=B.elementRect,j=B.type;if(!H||!F)return!0;var V=F.rect;return rd(I,V,j,C)}),N}function D1(t,e,r){var n=t.props,i=n.maxSnapElementGuidelineDistance,a=i===void 0?1/0:i,o=n.maxSnapElementGapDistance,s=o===void 0?1/0:o,l=t.state.elementRects,u=[];return[["vertical",br,yr],["horizontal",yr,br]].forEach(function(f){var c=A(f,3),d=c[0],p=c[1],v=c[2],h=e[p.start],g=e[p.end],m=e[p.center],b=e[v.start],y=e[v.end],_={left:r[0],top:r[1]};function C(S){var E=S.rect,D=_[p.start];return E[p.end]<h+D?h-E[p.end]:g-D<E[p.start]?E[p.start]-g:-1}var x=l.filter(function(S){var E=S.rect;return E[v.start]>y||E[v.end]<b?!1:C(S)>0}).sort(function(S,E){return C(S)-C(E)}),w=[];x.forEach(function(S){x.forEach(function(E){if(S!==E){var D=S.rect,T=E.rect,I=D[v.start],R=D[v.end],N=T[v.start],z=T[v.end];I>z||N>R||w.push([S,E])}})}),w.forEach(function(S){var E=A(S,2),D=E[0],T=E[1],I=D.rect,R=T.rect,N=I[p.start],z=I[p.end],$=R[p.start],k=R[p.end],L=_[p.start],B=0,H=0,F=!1,j=!1,V=!1;if(z<=h&&g<=$){if(j=!0,B=($-z-(g-h))/2,H=z+B+(g-h)/2,tt(H-m)>L)return}else if(z<$&&k<h+L){if(F=!0,B=$-z,H=k+B,tt(H-h)>L)return}else if(z<$&&g-L<N){if(V=!0,B=$-z,H=N-B,tt(H-g)>L)return}else return;B&&rd(e,R,d,a)&&(B>s||u.push({type:d,pos:d==="vertical"?[H,0]:[0,H],element:T.element,size:0,className:T.className,isStart:F,isCenter:j,isEnd:V,gap:B,hide:!0,gapRects:[D,T],direction:"",elementDirection:""}))})}),u}function M1(t,e,r,n){var i,a,o=t.props,s=t.state,l=o.snapGridAll,u=o.snapGridWidth,f=u===void 0?0:u,c=o.snapGridHeight,d=c===void 0?0:c,p=s.snapRenderInfo,v=p&&(((i=p.direction)===null||i===void 0?void 0:i[0])||((a=p.direction)===null||a===void 0?void 0:a[1])),h=t.moveables;if(l&&h&&v&&(f||d)){if(s.snapThresholdInfo)return;s.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var g=t.getRect(),m=g.children,b=p.direction;if(m){var y=b.map(function(C,x){var w=x===0?{snapSize:f,posName:"left",sizeName:"width",clientOffset:n.left-e}:{snapSize:d,posName:"top",sizeName:"height",clientOffset:n.top-r},S=w.snapSize,E=w.posName,D=w.sizeName,T=w.clientOffset;if(!S)return{dir:C,multiple:1,snapSize:S,snapOffset:0};var I=g[D],R=g[E],N=Xf(m.map(function(F){return[F[E]-R,F[D],I-F[D]-F[E]+R]})).filter(function(F){return F}).sort(function(F,j){return F-j}),z=N[0],$=N.map(function(F){return bt(F/z,.1)*S}),k=1,L=bt(I/z,.1);for(k=1;k<=10&&!$.every(function(F){return F*k%1===0});++k);var B=(-C+1)/2,H=Xi(R-T,R-T+I,B,1-B);return{multiple:L*k,dir:C,snapSize:S,snapOffset:Math.round(H/S)}}),_=y.map(function(C){return C.multiple||1});s.snapThresholdInfo.multiples=_,s.snapThresholdInfo.offset=y.map(function(C){return C.snapOffset}),y.forEach(function(C,x){C.snapSize})}}else s.snapThresholdInfo=null}function O1(t,e,r,n,i,a,o){n===void 0&&(n=0),i===void 0&&(i=0);var s=t.props,l=t.state,u=s.snapGridWidth,f=u===void 0?0:u,c=s.snapGridHeight,d=c===void 0?0:c,p=[],v=a.left,h=a.top,g=[0,0];M1(t,n,i,a);var m=l.snapThresholdInfo,b=f,y=d;if(m&&(f*=m.multiples[0]||1,d*=m.multiples[1]||1,g=m.offset),d){for(var _=function(x){p.push({type:"horizontal",pos:[v,bt(g[1]*y+x-i+h,.1)],className:dt("grid-guideline"),size:e,hide:!o,direction:"",grid:!0})},C=0;C<=r*2;C+=d)_(C);for(var C=-d;C>=-r;C-=d)_(C)}if(f){for(var _=function(w){p.push({type:"vertical",pos:[bt(g[0]*b+w-n+v,.1),h],className:dt("grid-guideline"),size:r,hide:!o,direction:"",grid:!0})},C=0;C<=e*2;C+=f)_(C);for(var C=-f;C>=-e;C-=f)_(C)}return p}function rd(t,e,r,n){return r==="horizontal"?tt(t.right-e.left)<=n||tt(t.left-e.right)<=n||t.left<=e.right&&e.left<=t.right:r==="vertical"?tt(t.bottom-e.top)<=n||tt(t.top-e.bottom)<=n||t.top<=e.bottom&&e.top<=t.bottom:!0}function R1(t){var e=t.state,r=t.props.elementGuidelines,n=r===void 0?[]:r;if(!n.length)return e.elementRects=[],[];var i=(e.elementRects||[]).filter(function(d){return!d.refresh}),a=n.map(function(d){return Be(d)&&"element"in d?P(P({},d),{element:Ve(d.element,!0)}):{element:Ve(d,!0)}}).filter(function(d){return d.element}),o=H0(i.map(function(d){return d.element}),a.map(function(d){return d.element})),s=o.maintained,l=o.added,u=[];s.forEach(function(d){var p=A(d,2),v=p[0],h=p[1];u[h]=i[v]}),T1(t,l.map(function(d){return a[d]})).map(function(d,p){u[l[p]]=d}),e.elementRects=u;var f=ks(t.props.elementSnapDirections),c=[];return u.forEach(function(d){var p=d.element,v=d.top,h=v===void 0?f.top:v,g=d.left,m=g===void 0?f.left:g,b=d.right,y=b===void 0?f.right:b,_=d.bottom,C=_===void 0?f.bottom:_,x=d.center,w=x===void 0?f.center:x,S=d.middle,E=S===void 0?f.middle:S,D=d.className,T=d.rect,I=Bs({top:h,right:y,left:m,bottom:C,center:w,middle:E},T),R=I.horizontal,N=I.vertical,z=I.horizontalNames,$=I.verticalNames,k=T.top,L=T.left,B=T.right-L,H=T.bottom-k,F=[B,H];N.forEach(function(j,V){c.push({type:"vertical",element:p,pos:[bt(j,.1),k],size:H,sizes:F,className:D,elementRect:d,elementDirection:tu[$[V]]||$[V],direction:""})}),R.forEach(function(j,V){c.push({type:"horizontal",element:p,pos:[L,bt(j,.1)],size:B,sizes:F,className:D,elementRect:d,elementDirection:tu[z[V]]||z[V],direction:""})})}),c}function fu(t,e){return t?t.map(function(r){var n=Be(r)?r:{pos:r},i=n.pos;return fn(i)?n:P(P({},n),{pos:Rt(i,e)})}):[]}function nd(t,e,r,n,i,a,o){i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o={left:0,top:0,right:0,bottom:0});var s=[],l=o.left,u=o.top,f=o.bottom,c=o.right,d=r+c-l,p=n+f-u;return fu(t,p).forEach(function(v){s.push({type:"horizontal",pos:[l,bt(v.pos-a+u,.1)],size:d,className:v.className,direction:""})}),fu(e,d).forEach(function(v){s.push({type:"vertical",pos:[bt(v.pos-i+l,.1),u],size:p,className:v.className,direction:""})}),s}function T1(t,e){if(!e.length)return[];var r=t.props.groupable,n=t.state,i=n.containerClientRect,a=n.rootMatrix,o=n.is3d,s=n.offsetDelta,l=o?4:3,u=A(t1(a,i,l),2),f=u[0],c=u[1],d=r?0:s[0],p=r?0:s[1];return e.map(function(v){var h=v.element.getBoundingClientRect(),g=h.left-f-d,m=h.top-c-p,b=m+h.height,y=g+h.width,_=A(hn(a,[g,m],l),2),C=_[0],x=_[1],w=A(hn(a,[y,b],l),2),S=w[0],E=w[1];return P(P({},v),{rect:{left:C,right:S,top:x,bottom:E,center:(C+S)/2,middle:(x+E)/2}})})}function Ri(t){var e=t.state,r=e.container,n=t.props.snapContainer||r;if(e.snapContainer===n&&e.guidelines&&e.guidelines.length)return!1;var i=e.containerClientRect,a={left:0,top:0,bottom:0,right:0};if(r!==n){var o=Ve(n,!0);if(o){var s=Gn(o),l=gu(e,[s.left-i.left,s.top-i.top]),u=gu(e,[s.right-i.right,s.bottom-i.bottom]);a.left=bt(l[0],1e-5),a.top=bt(l[1],1e-5),a.right=bt(u[0],1e-5),a.bottom=bt(u[1],1e-5)}}return e.snapContainer=n,e.snapOffset=a,e.guidelines=Ho(t),e.enableSnap=!0,!0}function id(t,e,r,n,i,a){var o=$r(t,e,r,a?4:3),s=Ut(o,n);return Ls(o,pt(i,s))}function cu(t){return t?t/tt(t):0}function P1(t,e,r,n,i,a){var o=a.fixedDirection,s=i1(r,o,n),l=Gs(t,e,r,n),u=nt(nt([],A(g1(t,e,s,n,i,a)),!1),A(Qc(t,l,a)),!1),f=Qi(u,0),c=Qi(u,1);return{width:{isBound:f.isBound,offset:f.offset[0]},height:{isBound:c.isBound,offset:c.offset[1]}}}function I1(t,e,r,n,i,a,o,s,l){var u=Ut(e,o),f=Ma(t,s,{vertical:[u[0]],horizontal:[u[1]]}),c=f.horizontal.offset,d=f.vertical.offset;if(bt(d,ko)||bt(c,ko)){var p=A(Ue({datas:l,distX:-d,distY:-c}),2),v=p[0],h=p[1],g=Math.min(i||1/0,r+o[0]*v),m=Math.min(a||1/0,n+o[1]*h);return[g-r,m-n]}return[0,0]}function ad(t,e,r,n,i,a,o,s){for(var l=Oe(t.state),u=t.props.keepRatio,f=0,c=0,d=0;d<2;++d){var p=e(f,c),v=P1(t,p,i,u,o,s),h=v.width,g=v.height,m=h.isBound,b=g.isBound,y=h.offset,_=g.offset;if(d===1&&(m||(y=0),b||(_=0)),d===0&&o&&!m&&!b)return[0,0];if(u){var C=tt(y)*(r?1/r:1),x=tt(_)*(n?1/n:1),w=m&&b?C<x:b||!m&&C<x;w?y=r*_/n:_=n*y/r}f+=y,c+=_}if(!u&&i[0]&&i[1]){var S=b1(t,l,i,a,s),E=S.maxWidth,D=S.maxHeight,T=A(I1(t,e(f,c).map(function(N){return N.map(function(z){return bt(z,ko)})}),r+f,n+c,E,D,i,o,s),2),y=T[0],_=T[1];f+=y,c+=_}return[f,c]}function Bn(t){return t<0&&(t=t%360+360),t%=360,t}function A1(t,e){e=Bn(e);var r=Math.floor(t/360),n=r*360+360-e,i=r*360+e;return tt(t-n)<tt(t-i)?n:i}function Ja(t,e){t=Bn(t),e=Bn(e);var r=Bn(t-e);return Math.min(r,360-r)}function k1(t,e,r,n){var i,a=t.props,o=(i=a[Vc])!==null&&i!==void 0?i:5,s=a[Yc];if(xn(t,"rotatable")){var l=e.pos1,u=e.pos2,f=e.pos3,c=e.pos4,d=e.origin,p=r*Math.PI/180,v=[l,u,f,c].map(function(_){return pt(_,d)}),h=v.map(function(_){return ni(_,p)}),g=nt(nt([],A(Km(t,v,h,d,r)),!1),A(f1(t,v,h,d,r)),!1);g.sort(function(_,C){return tt(_-r)-tt(C-r)});var m=g.length>0;if(m)return{isSnap:m,dist:m?g[0]:r}}if(s!=null&&s.length&&o){var b=s.slice().sort(function(_,C){return Ja(_,n)-Ja(C,n)}),y=b[0];if(Ja(y,n)<=o)return{isSnap:!0,dist:r+A1(n,y)-n}}return{isSnap:!1,dist:r}}function B1(t,e,r,n,i,a,o){if(!xn(t,"resizable"))return[0,0];var s=o.fixedDirection,l=o.nextAllMatrix,u=t.state,f=u.allMatrix,c=u.is3d;return ad(t,function(d,p){return id(l||f,e+d,r+p,s,i,c)},e,r,n,i,a,o)}function z1(t,e,r,n,i){if(!xn(t,"scalable"))return[0,0];var a=i.startOffsetWidth,o=i.startOffsetHeight,s=i.fixedPosition,l=i.fixedDirection,u=i.is3d,f=ad(t,function(c,d){return id(Bm(i,Et(e,[c/a,d/o])),a,o,l,s,u)},a,o,r,s,n,i);return[f[0]/a,f[1]/o]}function G1(t,e){e.absolutePoses=Oe(t.state)}function du(t){var e=[];return t.forEach(function(r){r.guidelineInfos.forEach(function(n){var i=n.guideline;be(e,function(a){return a.guideline===i})||(i.direction="",e.push({guideline:i,posInfo:r}))})}),e.map(function(r){var n=r.guideline,i=r.posInfo;return P(P({},n),{direction:i.direction})})}function pu(t,e,r,n,i,a){var o=As(Ea(t,a),e,r),s=o.vertical,l=o.horizontal,u=Kr();s.forEach(function(v){v.isBound&&(v.direction==="start"&&(u.left=!0),v.direction==="end"&&(u.right=!0),n.push({type:"bounds",pos:v.pos}))}),l.forEach(function(v){v.isBound&&(v.direction==="start"&&(u.top=!0),v.direction==="end"&&(u.bottom=!0),i.push({type:"bounds",pos:v.pos}))});var f=c1(t),c=f.boundMap,d=f.vertical,p=f.horizontal;return d.forEach(function(v){er(n,function(h){var g=h.type,m=h.pos;return g==="bounds"&&m===v})>=0||n.push({type:"bounds",pos:v})}),p.forEach(function(v){er(i,function(h){var g=h.type,m=h.pos;return g==="bounds"&&m===v})>=0||i.push({type:"bounds",pos:v})}),{boundMap:u,innerBoundMap:c}}var F1=Ws("",["resizable","scalable"]),N1={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",Vc,Yc,Xc,jc,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[`:host {
--bounds-color: #d66;
}
.guideline {
pointer-events: none;
z-index: 2;
}
.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}
.guideline-group {
position: absolute;
top: 0;
left: 0;
}
.guideline-group .size-value {
position: absolute;
color: #f55;
font-size: 12px;
font-size: calc(12px * var(--zoom));
font-weight: bold;
}
.guideline-group.horizontal .size-value {
transform-origin: 50% 100%;
transform: translateX(-50%);
left: 50%;
bottom: 5px;
bottom: calc(2px + 3px * var(--zoom));
}
.guideline-group.vertical .size-value {
transform-origin: 0% 50%;
top: 50%;
transform: translateY(-50%);
left: 5px;
left: calc(2px + 3px * var(--zoom));
}
.guideline.gap {
background: #f55;
}
.size-value.gap {
color: #f55;
}
`],render:function(t,e){var r=t.state,n=r.top,i=r.left,a=r.pos1,o=r.pos2,s=r.pos3,l=r.pos4,u=r.snapRenderInfo,f=t.props.snapRenderThreshold,c=f===void 0?1:f;if(!u||!u.render||!xn(t,""))return Qr(t,"boundMap",Kr(),function(K){return JSON.stringify(K)}),Qr(t,"innerBoundMap",Kr(),function(K){return JSON.stringify(K)}),[];r.guidelines=Ho(t);var d=Math.min(a[0],o[0],s[0],l[0]),p=Math.min(a[1],o[1],s[1],l[1]),v=u.externalPoses||[],h=Oe(t.state),g=[],m=[],b=[],y=[],_=[],C=De(h),x=C.width,w=C.height,S=C.top,E=C.left,D=C.bottom,T=C.right,I={left:E,right:T,top:S,bottom:D,center:(E+T)/2,middle:(S+D)/2},R=v.length>0,N=R?De(v):{};if(!u.request){if(u.direction&&_.push(n1(t,h,u.direction,c,c)),u.snap){var z=De(h);u.center&&(z.middle=(z.top+z.bottom)/2,z.center=(z.left+z.right)/2),_.push(eu(t,z,c,c))}R&&(u.center&&(N.middle=(N.top+N.bottom)/2,N.center=(N.left+N.right)/2),_.push(eu(t,N,c,c))),_.forEach(function(K){var q=K.vertical.posInfos,et=K.horizontal.posInfos;g.push.apply(g,nt([],A(q.filter(function(at){var ct=at.guidelineInfos;return ct.some(function(ht){var gt=ht.guideline;return!gt.hide})}).map(function(at){return{type:"snap",pos:at.pos}})),!1)),m.push.apply(m,nt([],A(et.filter(function(at){var ct=at.guidelineInfos;return ct.some(function(ht){var gt=ht.guideline;return!gt.hide})}).map(function(at){return{type:"snap",pos:at.pos}})),!1)),b.push.apply(b,nt([],A(du(q)),!1)),y.push.apply(y,nt([],A(du(et)),!1))})}var $=pu(t,[E,T],[S,D],g,m),k=$.boundMap,L=$.innerBoundMap;R&&pu(t,[N.left,N.right],[N.top,N.bottom],g,m,u.externalBounds);var B=nt(nt([],A(b),!1),A(y),!1),H=B.filter(function(K){return K.element&&!K.gapRects}),F=B.filter(function(K){return K.gapRects}).sort(function(K,q){return K.gap-q.gap});ut(t,"onSnap",{guidelines:B.filter(function(K){var q=K.element;return!q}),elements:H,gaps:F},!0);var j=Qr(t,"boundMap",k,function(K){return JSON.stringify(K)},Kr()),V=Qr(t,"innerBoundMap",L,function(K){return JSON.stringify(K)},Kr());return(k===j||L===V)&&ut(t,"onBound",{bounds:k,innerBounds:L},!0),nt(nt(nt(nt(nt(nt([],A(w1(t,H,[d,p],I,e)),!1),A(E1(t,F,[d,p],I,e)),!1),A(uu(t,"horizontal",y,[i,n],I,e)),!1),A(uu(t,"vertical",b,[i,n],I,e)),!1),A(lu(t,"horizontal",m,d,n,x,0,e)),!1),A(lu(t,"vertical",g,p,i,w,1,e)),!1)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},Ri(t)},drag:function(t){var e=t.state;Ri(t)||(e.guidelines=Ho(t)),e.snapRenderInfo&&(e.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){if(F1(t,e)||Lo(t,e))return!0;if(!e.isRequest&&e.inputEvent)return qt(e.inputEvent.target,dt("snap-control"))},dragControlStart:function(t){t.state.snapRenderInfo=null,Ri(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,Ri(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function L1(t,e){return[t[0]*e[0],t[1]*e[1]]}function dt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Bg.apply(void 0,nt([Rs],A(t),!1))}function od(t){t()}function H1(t){return!t||t==="none"?[1,0,0,1,0,0]:Be(t)?t:Xn(t)}function zn(t,e,r){return qi(e,zr(r,e),t,zr(r.map(function(n){return-n}),e))}function $1(t,e,r){if(e==="%"){var n=Ns(t.ownerSVGElement);return n[r?"width":"height"]/100}return 1}function W1(t){var e=V1(Hs(t,":before"));return e.map(function(r,n){var i=Jn(r),a=i.value,o=i.unit;return a*$1(t,o,n===0)})}function ta(t){return t?t.split(" "):["0","0"]}function V1(t){return ta(t.transformOrigin)}function sd(t){var e=ye(t),r=e("transform");if(r&&r!=="none")return r;if("transform"in t){var n=t.transform,i=n.baseVal;if(!i)return"";var a=i.length;if(!a)return"";for(var o=[],s=function(u){var f=i[u].matrix;o.push("matrix(".concat(["a","b","c","d","e","f"].map(function(c){return f[c]}).join(", "),")"))},l=0;l<a;++l)s(l);return o.join(" ")}return""}function qn(t,e,r,n,i){var a,o,s=bs(t)||Cr(t),l=!1,u,f;if(!t||r)u=t;else{var c=(a=t==null?void 0:t.assignedSlot)===null||a===void 0?void 0:a.parentElement,d=t.parentElement;c?(l=!0,f=d,u=c):u=d}for(var p=!1,v=t===e||u===e,h="relative",g=1,m=parseFloat(i==null?void 0:i("zoom"))||1,b=i==null?void 0:i("position");u&&u!==s;){e===u&&(v=!0);var y=ye(u),_=u.tagName.toLowerCase(),C=sd(u),x=y("willChange"),w=parseFloat(y("zoom"))||1;if(h=y("position"),n&&w!==1){g=w;break}if(!r&&n&&m!==1&&b&&b!=="absolute"||_==="svg"||_==="foreignobject"||h!=="static"||C&&C!=="none"||x==="transform")break;var S=(o=t==null?void 0:t.assignedSlot)===null||o===void 0?void 0:o.parentNode,E=u.parentNode;S&&(l=!0,f=E);var D=E;if(D&&D.nodeType===11){u=D.host,p=!0,h=ye(u)("position");break}u=D,h="relative"}return{offsetZoom:g,hasSlot:l,parentSlotElement:f,isCustomElement:p,isStatic:h==="static",isEnd:v||!u||u===s,offsetParent:u||s}}function Y1(t,e){var r,n=t.tagName.toLowerCase(),i=t.offsetLeft,a=t.offsetTop,o=ye(t),s=Qn(i),l=!s,u,f;return!l&&(n!=="svg"||t.ownerSVGElement)?(u=Dc?W1(t):ta(o("transformOrigin")).map(function(c){return parseFloat(c)}),f=u.slice(),l=!0,n==="svg"?(i=0,a=0):(r=A(q1(t,u,t===e&&e.tagName.toLowerCase()==="g"),4),i=r[0],a=r[1],u[0]=r[2],u[1]=r[3])):(u=ta(o("transformOrigin")).map(function(c){return parseFloat(c)}),f=u.slice()),{tagName:n,isSVG:s,hasOffset:l,offset:[i||0,a||0],origin:u,targetOrigin:f}}function ld(t,e){var r=ye(t),n=ye(Cr(t)),i=n("position");if(!e&&(!i||i==="static"))return[0,0];var a=parseInt(n("marginLeft"),10),o=parseInt(n("marginTop"),10);return r("position")==="absolute"&&((r("top")!=="auto"||r("bottom")!=="auto")&&(o=0),(r("left")!=="auto"||r("right")!=="auto")&&(a=0)),[a,o]}function $o(t){t.forEach(function(e){var r=e.matrix;r&&(e.matrix=ze(r,3,4))})}function X1(t){for(var e=t.parentElement,r=!1,n=Cr(t);e;){var i=Hs(e).transform;if(i&&i!=="none"){r=!0;break}if(e===n)break;e=e.parentElement}return{fixedContainer:e||n,hasTransform:r}}function Oa(t,e){return e===void 0&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(bc(t,!e).join(","),")")}function Ns(t){var e=t.clientWidth,r=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:r};var n=t.viewBox,i=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||r,clientWidth:e,clientHeight:r}}function j1(t,e){var r,n=Ns(t),i=n.width,a=n.height,o=n.clientWidth,s=n.clientHeight,l=o/i,u=s/a,f=t.preserveAspectRatio.baseVal,c=f.align,d=f.meetOrSlice,p=[0,0],v=[l,u],h=[0,0];if(c!==1){var g=(c-2)%3,m=Math.floor((c-2)/3);p[0]=i*g/2,p[1]=a*m/2;var b=d===2?Math.max(u,l):Math.min(l,u);v[0]=b,v[1]=b,h[0]=(o-i)/2*g,h[1]=(s-a)/2*m}var y=Es(v,e);return r=A(h,2),y[e*(e-1)]=r[0],y[e*(e-1)+1]=r[1],zn(y,e,p)}function q1(t,e,r){var n=t.tagName.toLowerCase();if(!t.getBBox||!r&&n==="g")return[0,0,0,0];var i=ye(t),a=i("transform-box")==="fill-box",o=t.getBBox(),s=Ns(t.ownerSVGElement),l=o.x,u=o.y;n==="foreignobject"&&!l&&!u&&(l=parseFloat(t.getAttribute("x"))||0,u=parseFloat(t.getAttribute("y"))||0);var f=l-s.x,c=u-s.y,d=a?e[0]:e[0]-f,p=a?e[1]:e[1]-c;return[f,c,d,p]}function zt(t,e,r){return ie(t,Br(e,r),r)}function $r(t,e,r,n){return[[0,0],[e,0],[0,r],[e,r]].map(function(i){return zt(t,i,n)})}function De(t){var e=t.map(function(u){return u[0]}),r=t.map(function(u){return u[1]}),n=Math.min.apply(Math,nt([],A(e),!1)),i=Math.min.apply(Math,nt([],A(r),!1)),a=Math.max.apply(Math,nt([],A(e),!1)),o=Math.max.apply(Math,nt([],A(r),!1)),s=a-n,l=o-i;return{left:n,top:i,right:a,bottom:o,width:s,height:l}}function vu(t,e,r,n){var i=$r(t,e,r,n);return De(i)}function U1(t,e,r,n,i){var a,o=t.target,s=t.origin,l=e.matrix,u=fd(o),f=u.offsetWidth,c=u.offsetHeight,d=r.getBoundingClientRect(),p=[0,0];r===Cr(r)&&(p=ld(o,!0));for(var v=o.getBoundingClientRect(),h=v.left-d.left+r.scrollLeft-(r.clientLeft||0)+p[0],g=v.top-d.top+r.scrollTop-(r.clientTop||0)+p[1],m=v.width,b=v.height,y=qi(n,i,l),_=vu(y,f,c,n),C=_.left,x=_.top,w=_.width,S=_.height,E=zt(y,s,n),D=pt(E,[C,x]),T=[h+D[0]*m/w,g+D[1]*b/S],I=[0,0],R=0;++R<10;){var N=Xe(i,n);a=A(pt(zt(N,T,n),zt(N,E,n)),2),I[0]=a[0],I[1]=a[1];var z=qi(n,i,zr(I,n),l),$=vu(z,f,c,n),k=$.left,L=$.top,B=k-h,H=L-g;if(tt(B)<2&&tt(H)<2)break;T[0]-=B,T[1]-=H}return I.map(function(F){return Math.round(F)})}function K1(t,e,r){var n=t.length===16,i=n?4:3,a=e.map(function(l){return zt(t,l,i)}),o=r.left,s=r.top;return a.map(function(l){return[l[0]+o,l[1]+s]})}function Me(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ud(t,e){return Me([e[0]-t[0],e[1]-t[1]])}function Mn(t,e,r,n){r===void 0&&(r=1),n===void 0&&(n=Ht(t,e));var i=ud(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(n,"rad) scaleY(").concat(r,")"),width:"".concat(i,"px")}}function ea(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r.length,a=r.reduce(function(s,l){return s+l[0]},0)/i,o=r.reduce(function(s,l){return s+l[1]},0)/i;return{transform:"translateZ(0px) translate(".concat(a,"px, ").concat(o,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function Fr(t,e){var r=t[e];return Be(r)?P(P({},t),r):t}function fd(t){var e=t&&!Qn(t.offsetWidth),r=0,n=0,i=0,a=0,o=0,s=0,l=0,u=0,f=0,c=0,d=0,p=0,v=1/0,h=1/0,g=1/0,m=1/0,b=0,y=0,_=!1;if(t)if(!e&&t.ownerSVGElement){var C=t.getBBox();_=!0,r=C.width,n=C.height,o=r,s=n,l=r,u=n,i=r,a=n}else{var x=ye(t),w=t.style,S=x("boxSizing")==="border-box",E=parseFloat(x("borderLeftWidth"))||0,D=parseFloat(x("borderRightWidth"))||0,T=parseFloat(x("borderTopWidth"))||0,I=parseFloat(x("borderBottomWidth"))||0,R=parseFloat(x("paddingLeft"))||0,N=parseFloat(x("paddingRight"))||0,z=parseFloat(x("paddingTop"))||0,$=parseFloat(x("paddingBottom"))||0,k=R+N,L=z+$,B=E+D,H=T+I,F=k+B,j=L+H,V=x("position"),K=0,q=0;if("clientLeft"in t){var et=null;if(V==="absolute"){var at=qn(t,Cr(t));et=at.offsetParent}else et=t.parentElement;if(et){var ct=ye(et);K=parseFloat(ct("width")),q=parseFloat(ct("height"))}}f=Math.max(k,Rt(x("minWidth"),K)||0),c=Math.max(L,Rt(x("minHeight"),q)||0),v=Rt(x("maxWidth"),K),h=Rt(x("maxHeight"),q),isNaN(v)&&(v=1/0),isNaN(h)&&(h=1/0),b=Rt(w.width,0)||0,y=Rt(w.height,0)||0,o=parseFloat(x("width"))||0,s=parseFloat(x("height"))||0,l=tt(o-b)<1?xo(f,b||o,v):o,u=tt(s-y)<1?xo(c,y||s,h):s,r=l,n=u,i=l,a=u,S?(g=v,m=h,d=f,p=c,l=r-F,u=n-j):(g=v+F,m=h+j,d=f+F,p=c+j,r=l+F,n=u+j),i=l+k,a=u+L}return{svg:_,offsetWidth:r,offsetHeight:n,clientWidth:i,clientHeight:a,contentWidth:l,contentHeight:u,inlineCSSWidth:b,inlineCSSHeight:y,cssWidth:o,cssHeight:s,minWidth:f,minHeight:c,maxWidth:v,maxHeight:h,minOffsetWidth:d,minOffsetHeight:p,maxOffsetWidth:g,maxOffsetHeight:m}}function cd(t,e){return Ht(e>0?t[0]:t[1],e>0?t[1]:t[0])}function Ti(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function dd(t,e){var r=t===Cr(t)||t===bs(t),n={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return r&&(n.clientHeight=Math.max(e.height,n.clientHeight),n.scrollHeight=Math.max(e.height,n.scrollHeight)),n.overflow=ye(t)("overflow")!=="visible",P(P({},e),n)}function to(t,e,r,n){var i=t.left,a=t.right,o=t.top,s=t.bottom,l=e.top,u=e.left,f={left:u+i,top:l+o,right:u+a,bottom:l+s,width:a-i,height:s-o};return r&&n?dd(r,f):f}function Gn(t,e){var r=0,n=0,i=0,a=0;if(t){var o=t.getBoundingClientRect();r=o.left,n=o.top,i=o.width,a=o.height}var s={left:r,top:n,width:i,height:a,right:r+i,bottom:n+a};return t&&e?dd(t,s):s}function Z1(t){var e=t.props,r=e.groupable,n=e.svgOrigin,i=t.getState(),a=i.offsetWidth,o=i.offsetHeight,s=i.svg,l=i.transformOrigin;return!r&&s&&n?Ys(n,a,o):l}function pd(t,e,r,n){var i;if(t)i=t;else if(e)i=[0,0];else{var a=r.target;i=vd(a,n)}return i}function vd(t,e){if(t){var r=t.getAttribute("data-rotation")||"",n=t.getAttribute("data-direction");if(e.deg=r,!!n){var i=[0,0];return n.indexOf("w")>-1&&(i[0]=-1),n.indexOf("e")>-1&&(i[0]=1),n.indexOf("n")>-1&&(i[1]=-1),n.indexOf("s")>-1&&(i[1]=1),i}}}function Ls(t,e){return[Et(e,t[0]),Et(e,t[1]),Et(e,t[2]),Et(e,t[3])]}function Oe(t){var e=t.left,r=t.top,n=t.pos1,i=t.pos2,a=t.pos3,o=t.pos4;return Ls([n,i,a,o],[e,r])}function Wo(t,e){t[e?"controlAbles":"targetAbles"].forEach(function(r){r.unset&&r.unset(t)})}function Zr(t,e){var r=e?"controlGesto":"targetGesto",n=t[r];(n==null?void 0:n.isIdle())===!1&&Wo(t,e),n==null||n.unset(),t[r]=null}function fe(t,e){if(e){var r=_n(e);r.nextStyle=P(P({},r.nextStyle),t)}return{style:t,cssText:rr(t).map(function(n){return"".concat(Li(n,"-"),": ").concat(t[n],";")}).join("")}}function hd(t,e,r){var n=e.afterTransform||e.transform;return P(P({},fe(P(P(P({},t.style),e.style),{transform:n}),r)),{afterTransform:n,transform:t.transform})}function xt(t,e,r,n){var i=e.datas;i.datas||(i.datas={});var a=P(P({},r),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isRequest:e.isRequest,isRequestChild:e.isRequestChild,isFirstDrag:!!e.isFirstDrag,isTrusted:e.isTrusted!==!1,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var o;(o=e.stop)===null||o===void 0||o.call(e)}});return i.isStartEvent?n||(i.lastEvent=a):i.isStartEvent=!0,a}function Se(t,e,r){var n=e.datas,i="isDrag"in r?r.isDrag:e.isDrag;return n.datas||(n.datas={}),P(P({isDrag:i},r),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:e.isDouble,datas:n.datas,isFirstDrag:!!e.isFirstDrag})}function Ra(t,e,r){t._emitter.on(e,r)}function ut(t,e,r,n,i){return t.triggerEvent(e,r,n,i)}function Hs(t,e){return vr(t).getComputedStyle(t,e)}function Pi(t,e,r){var n={},i={};return t.filter(function(a){var o=a.name;if(n[o]||!e.some(function(s){return a[s]}))return!1;if(!r&&a.ableGroup){if(i[a.ableGroup])return!1;i[a.ableGroup]=!0}return n[o]=!0,!0})}function Vo(t,e){return t===e||t==null&&e==null}function hu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length-1,n=0;n<r;++n){var i=t[n];if(!Qn(i))return i}return t[r]}function gd(t,e){var r=[],n=[];return t.forEach(function(i,a){var o=e(i,a,t),s=n.indexOf(o),l=r[s]||[];s===-1&&(n.push(o),r.push(l)),l.push(i)}),r}function Q1(t,e){var r=[],n={};return t.forEach(function(i,a){var o=e(i,a,t),s=n[o];s||(s=[],n[o]=s,r.push(s)),s.push(i)}),r}function md(t){return t.reduce(function(e,r){return e.concat(r)},[])}function vn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort(function(r,n){return tt(n)-tt(r)}),t[0]}function hn(t,e,r){return ie(Xe(t,r),Br(e,r),r)}function J1(t,e){var r,n=t.is3d,i=t.rootMatrix,a=n?4:3;return r=A(hn(i,[e.distX,e.distY],a),2),e.distX=r[0],e.distY=r[1],e}function we(t,e,r,n){if(!r[0]&&!r[1])return e;var i=zt(t,[cu(r[0]||1),0],n),a=zt(t,[0,cu(r[1]||1)],n),o=zt(t,[r[0]/Me(i),r[1]/Me(a)],n);return Et(e,o)}function Te(t,e,r){return r?"".concat(t/e*100,"%"):"".concat(t,"px")}function ra(t){return tt(t)<=de?0:t}function $s(t){return function(e){if(!e.isDragging(t))return"";var r=$m(e,t),n=r.deg;return n?dt("view-control-rotation".concat(n)):""}}function Ws(t,e){return e===void 0&&(e=[t]),function(r,n){if(n.isRequest)return e.some(function(a){return n.requestAble===a})?n.parentDirection:!1;var i=n.inputEvent.target;return qt(i,dt("direction"))&&(!t||qt(i,dt(t)))}}function tb(t,e,r){var n,i=cn(t,{"x%":function(C){return C/100*e.offsetWidth},"y%":function(C){return C/100*e.offsetHeight}}),a=t.slice(0,r<0?void 0:r),o=t.slice(0,r<0?void 0:r+1),s=t[r]||"",l=r<0?[]:t.slice(r),u=r<0?[]:t.slice(r+1),f=i.slice(0,r<0?void 0:r),c=i.slice(0,r<0?void 0:r+1),d=(n=i[r])!==null&&n!==void 0?n:cn([""])[0],p=r<0?[]:i.slice(r),v=r<0?[]:i.slice(r+1),h=d?[d]:[],g=Xr(f),m=Xr(c),b=Xr(p),y=Xr(v),_=Pt(g,b,4);return{transforms:t,beforeFunctionMatrix:g,beforeFunctionMatrix2:m,targetFunctionMatrix:Xr(h),afterFunctionMatrix:b,afterFunctionMatrix2:y,allFunctionMatrix:_,beforeFunctions:f,beforeFunctions2:c,targetFunction:h[0],afterFunctions:p,afterFunctions2:v,beforeFunctionTexts:a,beforeFunctionTexts2:o,targetFunctionText:s,afterFunctionTexts:l,afterFunctionTexts2:u}}function eb(t){return!t||!Be(t)||bn(t)?!1:Xt(t)||"length"in t}function Ve(t,e){return t?bn(t)?t:me(t)?e?document.querySelector(t):t:hs(t)?t():Kf(t)?t:"current"in t?t.current:t:null}function Vs(t,e){if(!t)return[];var r=eb(t)?[].slice.call(t):[t];return r.reduce(function(n,i){return me(i)&&e?nt(nt([],A(n),!1),A([].slice.call(document.querySelectorAll(i))),!1):(Xt(i)?n.push(Vs(i,e)):n.push(Ve(i,e)),n)},[])}function rb(t,e,r){var n=Ht(t,e)/Math.PI*180;return n=r>=0?n:180-n,n=n>=0?n:360+n,n}function gu(t,e){var r=t.rootMatrix,n=t.is3d,i=n?4:3,a=Xe(r,i);return n||(a=ze(a,3,4)),a[12]=0,a[13]=0,a[14]=0,N0(a,e)}function bd(t,e,r,n,i){var a=A(t,2),o=a[0],s=a[1],l=0,u=0;if(i&&o&&s){var f=Ht([0,0],e),c=Ht([0,0],n),d=Me(e),p=Math.cos(f-c)*d;if(!n[0])u=p,l=u*r;else if(!n[1])l=p,u=l/r;else{var v=n[0]*o,h=n[1]*s,g=Math.atan2(v+e[0],h+e[1]),m=Math.atan2(v,h);g<0&&(g+=Math.PI*2),m<0&&(m+=Math.PI*2);var b=0;tt(g-m)<Math.PI/2||tt(g-m)>Math.PI/2*3||(m+=Math.PI),b=g-m,b>Math.PI*2?b-=Math.PI*2:b>Math.PI?b=2*Math.PI-b:b<-Math.PI&&(b=-2*Math.PI-b);var y=Me([v+e[0],h+e[1]])*Math.cos(b);l=y*Math.sin(m)-v,u=y*Math.cos(m)-h,n[0]<0&&(l*=-1),n[1]<0&&(u*=-1)}}else l=n[0]*e[0],u=n[1]*e[1];return[l,u]}function yd(t,e,r,n){var i,a=r.ratio,o=r.startOffsetWidth,s=r.startOffsetHeight,l=0,u=0,f=n.distX,c=n.distY,d=n.pinchScale,p=n.parentDistance,v=n.parentDist,h=n.parentScale,g=r.fixedDirection,m=[0,1].map(function(w){return tt(t[w]-g[w])}),b=[0,1].map(function(w){var S=m[w];return S!==0&&(S=2/S),S});if(v)l=v[0],u=v[1],e&&(l?u||(u=l/a):l=u*a);else if(fn(d))l=(d-1)*o,u=(d-1)*s;else if(h)l=(h[0]-1)*o,u=(h[1]-1)*s;else if(p){var y=o*m[0],_=s*m[1],C=Me([y,_]);l=p/C*y*b[0],u=p/C*_*b[1]}else{var x=Ue({datas:r,distX:f,distY:c});x=b.map(function(w,S){return x[S]*w}),i=A(bd([o,s],x,a,t,e),2),l=i[0],u=i[1]}return{distWidth:l,distHeight:u}}function Yo(t,e){if(e){if(t==="left")return{x:"0%",y:"50%"};if(t==="top")return{x:"50%",y:"50%"};if(t==="center")return{x:"50%",y:"50%"};if(t==="right")return{x:"100%",y:"50%"};if(t==="bottom")return{x:"50%",y:"100%"};var r=A(t.split(" "),2),n=r[0],i=r[1],a=Yo(n||""),o=Yo(i||""),s=P(P({},a),o),l={x:"50%",y:"50%"};return s.x&&(l.x=s.x),s.y&&(l.y=s.y),s.value&&(s.x&&!s.y&&(l.y=s.value),!s.x&&s.y&&(l.x=s.value)),l}return t==="left"?{x:"0%"}:t==="right"?{x:"100%"}:t==="top"?{y:"0%"}:t==="bottom"?{y:"100%"}:t?t==="center"?{value:"50%"}:{value:t}:{}}function Ys(t,e,r){var n=Yo(t,!0),i=n.x,a=n.y;return[Rt(i,e)||0,Rt(a,r)||0]}function nb(t,e,r){var n=t.map(function(a){return pt(a,e)}),i=n.map(function(a){return ni(a,r)});return{prev:n,next:i,result:i.map(function(a){return Et(a,e)})}}function _d(t,e){return t.length===e.length&&t.every(function(r,n){var i=e[n],a=Xt(r),o=Xt(i);return a&&o?_d(r,i):!a&&!o?r===i:!1})}function Qr(t,e,r,n,i){var a=t._store,o=a[e];if(!(e in a))if(i!=null)a[e]=i,o=i;else return a[e]=r,r;return o===r||n(o)===n(r)?o:(a[e]=r,r)}function ue(t){return t>=0?1:-1}function tt(t){return Math.abs(t)}function eo(t,e){return Qg(t).map(function(r){return e(r)})}function xd(t){return fn(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}var ib=oi("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,e){var r=e.datas,n=e.targets,i=e.angle,a=e.originalDatas,o=t.props,s=o.pinchable,l=o.ables;if(!s)return!1;var u="onPinch".concat(n?"Group":"","Start"),f="drag".concat(n?"Group":"","ControlStart"),c=(s===!0?t.controlAbles:l.filter(function(h){return s.indexOf(h.name)>-1})).filter(function(h){return h.canPinch&&h[f]}),d=xt(t,e,{});n&&(d.targets=n);var p=ut(t,u,d);r.isPinch=p!==!1,r.ables=c;var v=r.isPinch;return v?(c.forEach(function(h){if(a[h.name]=a[h.name]||{},!!h[f]){var g=P(P({},e),{datas:a[h.name],parentRotate:i,isPinch:!0});h[f](t,g)}}),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},v):!1},pinch:function(t,e){var r=e.datas,n=e.scale,i=e.distance,a=e.originalDatas,o=e.inputEvent,s=e.targets,l=e.angle;if(r.isPinch){var u=i*(1-1/n),f=xt(t,e,{});s&&(f.targets=s);var c="onPinch".concat(s?"Group":"");ut(t,c,f);var d=r.ables,p="drag".concat(s?"Group":"","Control");return d.forEach(function(v){v[p]&&v[p](t,P(P({},e),{datas:a[v.name],inputEvent:o,resolveMatrix:!0,pinchScale:n,parentDistance:u,parentRotate:l,isPinch:!0}))}),f}},pinchEnd:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,a=e.targets,o=e.originalDatas;if(r.isPinch){var s="onPinch".concat(a?"Group":"","End"),l=Se(t,e,{isDrag:n});a&&(l.targets=a),ut(t,s,l);var u=r.ables,f="drag".concat(a?"Group":"","ControlEnd");return u.forEach(function(c){c[f]&&c[f](t,P(P({},e),{isDrag:n,datas:o[c.name],inputEvent:i,isPinch:!0}))}),n}},pinchGroupStart:function(t,e){return this.pinchStart(t,P(P({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,P(P({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,P(P({},e),{targets:t.props.targets}))}}),mu=Ws("scalable"),ab={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:Hc("scalable"),dragControlCondition:mu,viewClassName:$s("scalable"),dragControlStart:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,a=e.parentDirection,o=pd(a,n,i,r),s=t.state,l=s.width,u=s.height,f=s.targetTransform,c=s.target,d=s.pos1,p=s.pos2,v=s.pos4;if(!o||!c)return!1;n||Hr(t,e),r.datas={},r.transform=f,r.prevDist=[1,1],r.direction=o,r.startOffsetWidth=l,r.startOffsetHeight=u,r.startValue=[1,1];var h=!o[0]&&!o[1]||o[0]||!o[1];wa(t,e,"scale"),r.isWidth=h;function g(x){r.ratio=x&&isFinite(x)?x:0}r.startPositions=Oe(t.state);function m(x){var w=Jc(r.startPositions,x);r.fixedDirection=w.fixedDirection,r.fixedPosition=w.fixedPosition,r.fixedOffset=w.fixedOffset}r.setFixedDirection=m,g(Je(d,p)/Je(p,v)),m([-o[0],-o[1]]);var b=function(x){r.minScaleSize=x},y=function(x){r.maxScaleSize=x};b([-1/0,-1/0]),y([1/0,1/0]);var _=xt(t,e,P(P({direction:o,set:function(x){r.startValue=x},setRatio:g,setFixedDirection:m,setMinScaleSize:b,setMaxScaleSize:y},Ca(t,e)),{dragStart:le.dragStart(t,new dn().dragStart([0,0],e))})),C=ut(t,"onScaleStart",_);return r.startFixedDirection=r.fixedDirection,C!==!1&&(r.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:o}),r.isScale?_:!1},dragControl:function(t,e){xa(t,e,"scale");var r=e.datas,n=e.parentKeepRatio,i=e.parentFlag,a=e.isPinch,o=e.dragClient,s=e.isRequest,l=e.useSnap,u=e.resolveMatrix,f=r.prevDist,c=r.direction,d=r.startOffsetWidth,p=r.startOffsetHeight,v=r.isScale,h=r.startValue,g=r.isWidth,m=r.ratio;if(!v)return!1;var b=t.props,y=b.throttleScale,_=b.parentMoveable,C=c;!c[0]&&!c[1]&&(C=[1,1]);var x=m&&(n??b.keepRatio)||!1,w=t.state,S=[h[0],h[1]];function E(){var it=yd(C,x,r,e),ft=it.distWidth,M=it.distHeight,O=d?(d+ft)/d:1,G=p?(p+M)/p:1;h[0]||(S[0]=ft/d),h[1]||(S[1]=M/p);var W=(C[0]||x?O:1)*S[0],Y=(C[1]||x?G:1)*S[1];return W===0&&(W=ue(f[0])*Di),Y===0&&(Y=ue(f[1])*Di),[W,Y]}var D=E();if(!a&&t.props.groupable){var T=w.snapRenderInfo||{},I=T.direction;Xt(I)&&(I[0]||I[1])&&(w.snapRenderInfo={direction:c,request:e.isRequest})}ut(t,"onBeforeScale",xt(t,e,{scale:D,setFixedDirection:function(it){return r.setFixedDirection(it),D=E(),D},startFixedDirection:r.startFixedDirection,setScale:function(it){D=it}},!0));var R=[D[0]/S[0],D[1]/S[1]],N=o,z=[0,0],$=ue(R[0]*R[1]),k=!o&&!i&&a;if(k||u?N=Is(t,r.targetAllTransform,[0,0],[0,0],r):o||(N=r.fixedPosition),a||(z=z1(t,R,c,!l&&s,r)),x){C[0]&&C[1]&&z[0]&&z[1]&&(Math.abs(z[0]*d)>Math.abs(z[1]*p)?z[1]=0:z[0]=0);var L=!z[0]&&!z[1];if(L&&(g?R[0]=bt(R[0]*S[0],y)/S[0]:R[1]=bt(R[1]*S[1],y)/S[1]),C[0]&&!C[1]||z[0]&&!z[1]||L&&g){R[0]+=z[0];var B=d*R[0]*S[0]/m;R[1]=ue($*R[0])*tt(B/p/S[1])}else if(!C[0]&&C[1]||!z[0]&&z[1]||L&&!g){R[1]+=z[1];var H=p*R[1]*S[1]*m;R[0]=ue($*R[1])*tt(H/d/S[0])}}else R[0]+=z[0],R[1]+=z[1],z[0]||(R[0]=bt(R[0]*S[0],y)/S[0]),z[1]||(R[1]=bt(R[1]*S[1],y)/S[1]);R[0]===0&&(R[0]=ue(f[0])*Di),R[1]===0&&(R[1]=ue(f[1])*Di),D=L1(R,[S[0],S[1]]);var F=[d,p],j=[d*D[0],p*D[1]];j=Yf(j,r.minScaleSize,r.maxScaleSize,x?m:!1),D=eo(2,function(it){return F[it]?j[it]/F[it]:j[it]}),R=eo(2,function(it){return D[it]/S[it]});var V=eo(2,function(it){return f[it]?R[it]/f[it]:R[it]}),K="scale(".concat(R.join(", "),")"),q="scale(".concat(D.join(", "),")"),et=Sa(r,q,K),at=!h[0]||!h[1],ct=zm(t,at?q:K,r.fixedDirection,N,r.fixedOffset,r,at),ht=k?ct:pt(ct,r.prevInverseDist||[0,0]);if(r.prevDist=R,r.prevInverseDist=ct,D[0]===f[0]&&D[1]===f[1]&&ht.every(function(it){return!it})&&!_&&!k)return!1;var gt=xt(t,e,P({offsetWidth:d,offsetHeight:p,direction:c,scale:D,dist:R,delta:V,isPinch:!!a},Bc(t,et,ht,a,e)));return ut(t,"onScale",gt),gt},dragControlEnd:function(t,e){var r=e.datas;if(!r.isScale)return!1;r.isScale=!1;var n=Se(t,e,{});return ut(t,"onScaleEnd",n),n},dragGroupControlCondition:mu,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,e);if(!n)return!1;var i=Ae(t,"resizable",e);r.moveableScale=t.scale;var a=tr(t,this,"dragControlStart",e,function(u,f){return Zi(t,u,r,f)}),o=function(u){n.setFixedDirection(u),a.forEach(function(f,c){f.setFixedDirection(u),Zi(t,f.moveable,r,i[c])})};r.setFixedDirection=o;var s=P(P({},n),{targets:t.props.targets,events:a,setFixedDirection:o}),l=ut(t,"onScaleGroupStart",s);return r.isScale=l!==!1,r.isScale?s:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isScale){Ra(t,"onBeforeScale",function(f){ut(t,"onBeforeScaleGroup",xt(t,e,P(P({},f),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(n){var i=n.dist,a=r.moveableScale;t.scale=[i[0]*a[0],i[1]*a[1]];var o=t.props.keepRatio,s=r.fixedPosition,l=tr(t,this,"dragControl",e,function(f,c){var d=A(ie(ii(t.rotation/180*Math.PI,3),[c.datas.originalX*i[0],c.datas.originalY*i[1],1],3),2),p=d[0],v=d[1];return P(P({},c),{parentDist:null,parentScale:i,parentKeepRatio:o,dragClient:Et(s,[p,v])})}),u=P({targets:t.props.targets,events:l},n);return ut(t,"onScaleGroup",u),u}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isScale){this.dragControlEnd(t,e);var i=tr(t,this,"dragControlEnd",e),a=Se(t,e,{targets:t.props.targets,events:i});return ut(t,"onScaleGroupEnd",a),r}},request:function(){var t={},e=0,r=0,n=!1;return{isControl:!0,requestStart:function(i){return n=i.useSnap,{datas:t,parentDirection:i.direction||[1,1],useSnap:n}},request:function(i){return e+=i.deltaWidth,r+=i.deltaHeight,{datas:t,parentDist:[e,r],parentKeepRatio:i.keepRatio,useSnap:n}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:n}}}}};function or(t,e){return t.map(function(r,n){return Xi(r,e[n],1,2)})}function bu(t,e,r){var n=Ht(t,e),i=Ht(t,r),a=i-n;return a>=0?a:a+2*Math.PI}function ob(t,e){var r=bu(t[0],t[1],t[2]),n=bu(e[0],e[1],e[2]),i=Math.PI;return!(r>=i&&n<=i||r<=i&&n>=i)}var sb={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:$s("warpable"),render:function(t,e){var r=t.props,n=r.resizable,i=r.scalable,a=r.warpable,o=r.zoom;if(n||i||!a)return[];var s=t.state,l=s.pos1,u=s.pos2,f=s.pos3,c=s.pos4,d=or(l,u),p=or(u,l),v=or(l,f),h=or(f,l),g=or(f,c),m=or(c,f),b=or(u,c),y=or(c,u);return nt([e.createElement("div",{className:dt("line"),key:"middeLine1",style:Mn(d,g,o)}),e.createElement("div",{className:dt("line"),key:"middeLine2",style:Mn(p,m,o)}),e.createElement("div",{className:dt("line"),key:"middeLine3",style:Mn(v,b,o)}),e.createElement("div",{className:dt("line"),key:"middeLine4",style:Mn(h,y,o)})],A($c(t,"warpable",e)),!1)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var r=e.inputEvent.target;return qt(r,dt("direction"))&&qt(r,dt("warpable"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,i=t.props.target,a=n.target,o=vd(a,r);if(!o||!i)return!1;var s=t.state,l=s.transformOrigin,u=s.is3d,f=s.targetTransform,c=s.targetMatrix,d=s.width,p=s.height,v=s.left,h=s.top;r.datas={},r.targetTransform=f,r.warpTargetMatrix=u?c:ze(c,3,4),r.targetInverseMatrix=gc(Xe(r.warpTargetMatrix,4),3,4),r.direction=o,r.left=v,r.top=h,r.poses=[[0,0],[d,0],[0,p],[d,p]].map(function(b){return pt(b,l)}),r.nextPoses=r.poses.map(function(b){var y=A(b,2),_=y[0],C=y[1];return ie(r.warpTargetMatrix,[_,C,0,1],4)}),r.startValue=kt(4),r.prevMatrix=kt(4),r.absolutePoses=Oe(s),r.posIndexes=kc(o),Hr(t,e),wa(t,e,"matrix3d"),s.snapRenderInfo={request:e.isRequest,direction:o};var g=xt(t,e,P({set:function(b){r.startValue=b}},Ca(t,e))),m=ut(t,"onWarpStart",g);return m!==!1&&(r.isWarp=!0),r.isWarp},dragControl:function(t,e){var r=e.datas,n=e.isRequest,i=e.distX,a=e.distY,o=r.targetInverseMatrix,s=r.prevMatrix,l=r.isWarp,u=r.startValue,f=r.poses,c=r.posIndexes,d=r.absolutePoses;if(!l)return!1;if(xa(t,e,"matrix3d"),xn(t,"warpable")){var p=c.map(function(E){return d[E]});p.length>1&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var v=Ma(t,n,{horizontal:p.map(function(E){return E[1]+a}),vertical:p.map(function(E){return E[0]+i})}),h=v.horizontal,g=v.vertical;a-=h.offset,i-=g.offset}var m=Ue({datas:r,distX:i,distY:a},!0),b=r.nextPoses.slice();if(c.forEach(function(E){b[E]=Et(b[E],m)}),!Dm.every(function(E){return ob(E.map(function(D){return f[D]}),E.map(function(D){return b[D]}))}))return!1;var y=Ds(f[0],f[2],f[1],f[3],b[0],b[2],b[1],b[3]);if(!y.length)return!1;var _=Pt(o,y,4),C=Ic(r,_,!0),x=Pt(Xe(s,4),C,4);r.prevMatrix=C;var w=Pt(u,C,4),S=Sa(r,"matrix3d(".concat(w.join(", "),")"),"matrix3d(".concat(C.join(", "),")"));return Ps(e,S),ut(t,"onWarp",xt(t,e,P({delta:x,matrix:w,dist:C,multiply:Pt,transform:S},fe({transform:S},e)))),!0},dragControlEnd:function(t,e){var r=e.datas,n=e.isDrag;return r.isWarp?(r.isWarp=!1,ut(t,"onWarpEnd",Se(t,e,{})),n):!1}},lb=dt("area-pieces"),Ii=dt("area-piece"),Sd=dt("avoid"),ub=dt("view-dragging");function ro(t){var e=t.areaElement;if(e){var r=t.state,n=r.width,i=r.height;Uf(e,Sd),e.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(i,"px")}}function yu(t){return t.createElement("div",{key:"area_pieces",className:lb},t.createElement("div",{className:Ii}),t.createElement("div",{className:Ii}),t.createElement("div",{className:Ii}),t.createElement("div",{className:Ii}))}var Cd={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(t,e){var r=t.props,n=r.target,i=r.dragArea,a=r.groupable,o=r.passDragArea,s=t.getState(),l=s.width,u=s.height,f=s.renderPoses,c=o?dt("area","pass"):dt("area");if(a)return[e.createElement("div",{key:"area",ref:Qe(t,"areaElement"),className:c}),yu(e)];if(!n||!i)return[];var d=Ds([0,0],[l,0],[0,u],[l,u],f[0],f[1],f[2],f[3]),p=d.length?Oa(d,!0):"none";return[e.createElement("div",{key:"area",ref:Qe(t,"areaElement"),className:c,style:{top:"0px",left:"0px",width:"".concat(l,"px"),height:"".concat(u,"px"),transformOrigin:"0 0",transform:p}}),yu(e)]},dragStart:function(t,e){var r=e.datas,n=e.clientX,i=e.clientY,a=e.inputEvent;if(!a)return!1;r.isDragArea=!1;var o=t.areaElement,s=t.state,l=s.moveableClientRect,u=s.renderPoses,f=s.rootMatrix,c=s.is3d,d=l.left,p=l.top,v=De(u),h=v.left,g=v.top,m=v.width,b=v.height,y=c?4:3,_=A(hn(f,[n-d,i-p],y),2),C=_[0],x=_[1];C-=h,x-=g;var w=[{left:h,top:g,width:m,height:x-10},{left:h,top:g,width:C-10,height:b},{left:h,top:g+x+10,width:m,height:b-x-10},{left:h+C+10,top:g,width:m-C-10,height:b}],S=[].slice.call(o.nextElementSibling.children);w.forEach(function(E,D){S[D].style.cssText="left: ".concat(E.left,"px;top: ").concat(E.top,"px; width: ").concat(E.width,"px; height: ").concat(E.height,"px;")}),qf(o,Sd),s.disableNativeEvent=!0},drag:function(t,e){var r=e.datas,n=e.inputEvent;if(this.enableNativeEvent(t),!n)return!1;r.isDragArea||(r.isDragArea=!0,ro(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var r=e.inputEvent,n=e.datas;if(!r)return!1;n.isDragArea||ro(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){ro(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&Vf(function(){e.disableNativeEvent=!1})}},fb=oi("origin",{props:["origin","svgOrigin"],render:function(t,e){var r=t.props,n=r.zoom,i=r.svgOrigin,a=r.groupable,o=t.getState(),s=o.beforeOrigin,l=o.rotation,u=o.svg,f=o.allMatrix,c=o.is3d,d=o.left,p=o.top,v=o.offsetWidth,h=o.offsetHeight,g;if(!a&&u&&i){var m=A(Ys(i,v,h),2),b=m[0],y=m[1],_=c?4:3,C=zt(f,[b,y],_);g=ea(l,n,pt(C,[d,p]))}else g=ea(l,n,s);return[e.createElement("div",{className:dt("control","origin"),style:g,key:"beforeOrigin"})]}});function cb(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var db={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(t,e){var r=t.props,n=r.scrollContainer,i=n===void 0?t.getContainer():n,a=r.scrollOptions,o=new Y0,s=Ve(i,!0);e.datas.dragScroll=o,t.state.dragScroll=o;var l=e.isControl?"controlGesto":"targetGesto",u=e.targets;o.on("scroll",function(f){var c=f.container,d=f.direction,p=xt(t,e,{scrollContainer:c,direction:d}),v=u?"onScrollGroup":"onScroll";u&&(p.targets=u),ut(t,v,p)}).on("move",function(f){var c=f.offsetX,d=f.offsetY,p=f.inputEvent;t[l].scrollBy(c,d,p.inputEvent,!1)}).on("scrollDrag",function(f){var c=f.next;c(t[l].getCurrentEvent())}),o.dragStart(e,P({container:s},a))},checkScroll:function(t,e){var r=e.datas.dragScroll;if(r){var n=t.props,i=n.scrollContainer,a=i===void 0?t.getContainer():i,o=n.scrollThreshold,s=o===void 0?0:o,l=n.scrollThrottleTime,u=l===void 0?0:l,f=n.getScrollPosition,c=f===void 0?cb:f,d=n.scrollOptions;return r.drag(e,P({container:a,threshold:s,throttleTime:u,getScrollPosition:function(p){return c({scrollContainer:p.container,direction:p.direction})}},d)),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,P(P({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,P(P({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,P(P({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,P(P({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,P(P({},e),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,e){return this.drag(t,P(P({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,P(P({},e),{targets:t.props.targets}))},unset:function(t){var e,r=t.state;(e=r.dragScroll)===null||e===void 0||e.dragEnd(),r.dragScroll=null}},wd={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},pb=oi("padding",{props:["padding"],render:function(t,e){var r=t.props;if(r.dragArea)return[];var n=xd(r.padding||{}),i=n.left,a=n.top,o=n.right,s=n.bottom,l=t.getState(),u=l.renderPoses,f=l.pos1,c=l.pos2,d=l.pos3,p=l.pos4,v=[f,c,d,p],h=[];return i>0&&h.push([0,2]),a>0&&h.push([0,1]),o>0&&h.push([1,3]),s>0&&h.push([2,3]),h.map(function(g,m){var b=A(g,2),y=b[0],_=b[1],C=v[y],x=v[_],w=u[y],S=u[_],E=Ds([0,0],[100,0],[0,100],[100,100],C,x,w,S);if(E.length)return e.createElement("div",{key:"padding".concat(m),className:dt("padding"),style:{transform:Oa(E,!0)}})})}}),_u=["nw","ne","se","sw"];function Ai(t,e){var r=t[0]+t[1],n=r>e?e/r:1;return t[0]*=n,t[1]=e-t[1]*n,t}var vb=[1,2,5,6],hb=[0,3,4,7],Rr=[1,-1,-1,1],Tr=[1,1,-1,-1];function Xs(t,e,r,n,i,a,o,s){i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o=r),s===void 0&&(s=n);var l=[],u=!1,f=t.filter(function(d){return!d.virtual}),c=f.map(function(d){var p=d.horizontal,v=d.vertical,h=d.pos;if(v&&!u&&(u=!0,l.push("/")),u){var g=Math.max(0,v===1?h[1]-a:s-h[1]);return l.push(Te(g,n,e)),g}else{var g=Math.max(0,p===1?h[0]-i:o-h[0]);return l.push(Te(g,r,e)),g}});return{radiusPoses:f,styles:l,raws:c}}function Ed(t){for(var e=[0,0],r=[0,0],n=t.length,i=0;i<n;++i){var a=t[i];a.sub&&(a.horizontal&&(e[1]===0&&(e[0]=i),e[1]=i-e[0]+1,r[0]=i+1),a.vertical&&(r[1]===0&&(r[0]=i),r[1]=i-r[0]+1))}return{horizontalRange:e,verticalRange:r}}function Dd(t,e,r,n,i,a,o){var s,l,u,f;a===void 0&&(a=[0,0]),o===void 0&&(o=!1);var c=t.indexOf("/"),d=(c>-1?t.slice(0,c):t).length,p=t.slice(0,d),v=t.slice(d+1),h=p.length,g=v.length,m=g>0,b=A(p,4),y=b[0],_=y===void 0?"0px":y,C=b[1],x=C===void 0?_:C,w=b[2],S=w===void 0?_:w,E=b[3],D=E===void 0?x:E,T=A(v,4),I=T[0],R=I===void 0?_:I,N=T[1],z=N===void 0?m?R:x:N,$=T[2],k=$===void 0?m?R:S:$,L=T[3],B=L===void 0?m?z:D:L,H=[_,x,S,D].map(function(et){return Rt(et,e)}),F=[R,z,k,B].map(function(et){return Rt(et,r)}),j=H.slice(),V=F.slice();s=A(Ai([j[0],j[1]],e),2),j[0]=s[0],j[1]=s[1],l=A(Ai([j[3],j[2]],e),2),j[3]=l[0],j[2]=l[1],u=A(Ai([V[0],V[3]],r),2),V[0]=u[0],V[3]=u[1],f=A(Ai([V[1],V[2]],r),2),V[1]=f[0],V[2]=f[1];var K=o?j:j.slice(0,Math.max(a[0],h)),q=o?V:V.slice(0,Math.max(a[1],g));return nt(nt([],A(K.map(function(et,at){var ct=_u[at];return{virtual:at>=h,horizontal:Rr[at],vertical:0,pos:[n+et,i+(Tr[at]===-1?r:0)],sub:!0,raw:H[at],direction:ct}})),!1),A(q.map(function(et,at){var ct=_u[at];return{virtual:at>=g,horizontal:0,vertical:Tr[at],pos:[n+(Rr[at]===-1?e:0),i+et],sub:!0,raw:F[at],direction:ct}})),!1)}function gb(t,e,r,n,i){i===void 0&&(i=e.length);var a=Ed(t.slice(n)),o=a.horizontalRange,s=a.verticalRange,l=r-n,u=0;if(l===0)u=i;else if(l>0&&l<o[1])u=o[1]-l;else if(l>=s[0])u=s[0]+s[1]-l;else return;t.splice(r,u),e.splice(r,u)}function mb(t,e,r,n,i,a,o,s,l,u,f){u===void 0&&(u=0),f===void 0&&(f=0);var c=Ed(t.slice(r)),d=c.horizontalRange,p=c.verticalRange;if(n>-1)for(var v=Rr[n]===1?a-u:s-a,h=d[1];h<=n;++h){var g=Tr[h]===1?f:l,m=0;if(n===h?m=a:h===0?m=u+v:Rr[h]===-1&&(m=s-(e[r][0]-u)),t.splice(r+h,0,{horizontal:Rr[h],vertical:0,pos:[m,g]}),e.splice(r+h,0,[m,g]),h===0)break}else if(i>-1){var b=Tr[i]===1?o-f:l-o;if(d[1]===0&&p[1]===0){var y=[u+b,f];t.push({horizontal:Rr[0],vertical:0,pos:y}),e.push(y)}for(var _=p[0],h=p[1];h<=i;++h){var m=Rr[h]===1?u:s,g=0;if(i===h?g=o:h===0?g=f+b:Tr[h]===1?g=e[r+_][1]:Tr[h]===-1&&(g=l-(e[r+_][1]-f)),t.push({horizontal:0,vertical:Tr[h],pos:[m,g]}),e.push([m,g]),h===0)break}}}function bb(t,e){e===void 0&&(e=t.map(function(i){return i.raw}));var r=t.map(function(i,a){return i.horizontal?e[a]:null}).filter(function(i){return i!=null}),n=t.map(function(i,a){return i.vertical?e[a]:null}).filter(function(i){return i!=null});return{horizontals:r,verticals:n}}var yb=[[0,-1,"n"],[1,0,"e"]],_b=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function js(t,e,r){var n=t.props.clipRelative,i=t.state,a=i.width,o=i.height,s=e,l=s.type,u=s.poses,f=l==="rect",c=l==="circle";if(l==="polygon")return r.map(function(x){return"".concat(Te(x[0],a,n)," ").concat(Te(x[1],o,n))});if(f||l==="inset"){var d=r[1][1],p=r[3][0],v=r[7][0],h=r[5][1];if(f)return[d,p,h,v].map(function(x){return"".concat(x,"px")});var g=[d,a-p,o-h,v].map(function(x,w){return Te(x,w%2?a:o,n)});if(r.length>8){var m=A(pt(r[4],r[0]),2),b=m[0],y=m[1];g.push.apply(g,nt(["round"],A(Xs(u.slice(8).map(function(x,w){return P(P({},x),{pos:r[w]})}),n,b,y,v,d,p,h).styles),!1))}return g}else if(c||l==="ellipse"){var _=r[0],C=Te(tt(r[1][1]-_[1]),c?Math.sqrt((a*a+o*o)/2):o,n),g=c?[C]:[Te(tt(r[2][0]-_[0]),a,n),C];return g.push("at",Te(_[0],a,n),Te(_[1],o,n)),g}}function na(t,e,r,n){var i=[n,(n+e)/2,e],a=[t,(t+r)/2,r];return _b.map(function(o){var s=A(o,3),l=s[0],u=s[1],f=s[2],c=i[l+1],d=a[u+1];return{vertical:tt(u),horizontal:tt(l),direction:f,pos:[c,d]}})}function Md(t){var e=[1/0,-1/0],r=[1/0,-1/0];return t.forEach(function(n){var i=n.pos;e[0]=Math.min(e[0],i[0]),e[1]=Math.max(e[1],i[0]),r[0]=Math.min(r[0],i[1]),r[1]=Math.max(r[1],i[1])}),[tt(e[1]-e[0]),tt(r[1]-r[0])]}function xu(t,e,r,n,i){var a,o,s,l,u,f,c,d,p;if(t){var v=i;if(!v){var h=ye(t),g=h("clipPath");v=g!=="none"?g:h("clip")}if(!((!v||v==="none"||v==="auto")&&(v=n,!v))){var m=Wf(v),b=m.prefix,y=b===void 0?v:b,_=m.value,C=_===void 0?"":_,x=y==="circle",w=" ";if(y==="polygon"){var S=Pr(C||"0% 0%, 100% 0%, 100% 100%, 0% 100%");w=",";var E=S.map(function(rt){var Z=A(rt.split(" "),2),ot=Z[0],lt=Z[1];return{vertical:1,horizontal:1,pos:[Rt(ot,e),Rt(lt,r)]}}),D=Gr(E.map(function(rt){return rt.pos}));return{type:y,clipText:v,poses:E,splitter:w,left:D.minX,right:D.maxX,top:D.minY,bottom:D.maxY}}else if(x||y==="ellipse"){var T="",I="",R=0,N=0,S=mr(C);if(x){var z="";a=A(S,4),o=a[0],z=o===void 0?"50%":o,s=a[2],T=s===void 0?"50%":s,l=a[3],I=l===void 0?"50%":l,R=Rt(z,Math.sqrt((e*e+r*r)/2)),N=R}else{var $="",k="";u=A(S,5),f=u[0],$=f===void 0?"50%":f,c=u[1],k=c===void 0?"50%":c,d=u[3],T=d===void 0?"50%":d,p=u[4],I=p===void 0?"50%":p,R=Rt($,e),N=Rt(k,r)}var L=[Rt(T,e),Rt(I,r)],E=nt([{vertical:1,horizontal:1,pos:L,direction:"nesw"}],A(yb.slice(0,x?1:2).map(function(ot){return{vertical:tt(ot[1]),horizontal:ot[0],direction:ot[2],sub:!0,pos:[L[0]+ot[0]*R,L[1]+ot[1]*N]}})),!1);return{type:y,clipText:v,radiusX:R,radiusY:N,left:L[0]-R,top:L[1]-N,right:L[0]+R,bottom:L[1]+N,poses:E,splitter:w}}else if(y==="inset"){var S=mr(C||"0 0 0 0"),B=S.indexOf("round"),H=(B>-1?S.slice(0,B):S).length,F=S.slice(H+1),j=A(S.slice(0,H),4),V=j[0],K=j[1],q=K===void 0?V:K,et=j[2],at=et===void 0?V:et,ct=j[3],ht=ct===void 0?q:ct,gt=A([V,at].map(function(ot){return Rt(ot,r)}),2),it=gt[0],ft=gt[1],M=A([ht,q].map(function(ot){return Rt(ot,e)}),2),O=M[0],G=M[1],W=e-G,Y=r-ft,X=Dd(F,W-O,Y-it,O,it),E=nt(nt([],A(na(it,W,Y,O)),!1),A(X),!1);return{type:"inset",clipText:v,poses:E,top:it,left:O,right:W,bottom:Y,radius:F,splitter:w}}else if(y==="rect"){var S=Pr(C||"0px, ".concat(e,"px, ").concat(r,"px, 0px"));w=",";var U=A(S.map(function(vt){var mt=Jn(vt).value;return mt}),4),Q=U[0],G=U[1],ft=U[2],O=U[3],E=na(Q,G,ft,O);return{type:"rect",clipText:v,poses:E,top:Q,right:G,bottom:ft,left:O,values:S,splitter:w}}}}}function xb(t,e,r,n,i){var a=t[e],o=a.direction,s=a.sub,l=t.map(function(){return[0,0]}),u=o?o.split(""):[];if(n&&e<8){var f=u.filter(function(R){return R==="w"||R==="e"}),c=u.filter(function(R){return R==="n"||R==="s"}),d=f[0],p=c[0];l[e]=r;var v=A(Md(t),2),h=v[0],g=v[1],m=h&&g?h/g:0;if(m&&i){var b=(e+4)%8,y=t[b].pos,_=[0,0];o.indexOf("w")>-1?_[0]=-1:o.indexOf("e")>-1&&(_[0]=1),o.indexOf("n")>-1?_[1]=-1:o.indexOf("s")>-1&&(_[1]=1);var C=bd([h,g],r,m,_,!0),x=h+C[0],w=g+C[1],S=y[1],E=y[1],D=y[0],T=y[0];_[0]===-1?D=T-x:_[0]===1?T=D+x:(D=D-x/2,T=T+x/2),_[1]===-1?S=E-w:(_[1]===1||(S=E-w/2),E=S+w);var I=na(S,T,E,D);t.forEach(function(R,N){l[N][0]=I[N].pos[0]-R.pos[0],l[N][1]=I[N].pos[1]-R.pos[1]})}else t.forEach(function(R,N){var z=R.direction;z&&(z.indexOf(d)>-1&&(l[N][0]=r[0]),z.indexOf(p)>-1&&(l[N][1]=r[1]))}),d&&(l[1][0]=r[0]/2,l[5][0]=r[0]/2),p&&(l[3][1]=r[1]/2,l[7][1]=r[1]/2)}else o&&!s?u.forEach(function(R){var N=R==="n"||R==="s";t.forEach(function(z,$){var k=z.direction,L=z.horizontal,B=z.vertical;!k||k.indexOf(R)===-1||(l[$]=[N||!L?0:r[0],!N||!B?0:r[1]])})}):l[e]=r;return l}function Sb(t,e){var r=A(Pc(t,e),2),n=r[0],i=r[1],a=e.datas,o=a.clipPath,s=a.clipIndex,l=o,u=l.type,f=l.poses,c=l.splitter,d=f.map(function(b){return b.pos});if(u==="polygon")d.splice(s,0,[n,i]);else if(u==="inset"){var p=vb.indexOf(s),v=hb.indexOf(s),h=f.length;if(mb(f,d,8,p,v,n,i,d[4][0],d[4][1],d[0][0],d[0][1]),h===f.length)return}else return;var g=js(t,o,d),m="".concat(u,"(").concat(g.join(c),")");ut(t,"onClip",xt(t,e,P({clipEventType:"added",clipType:u,poses:d,clipStyles:g,clipStyle:m,distX:0,distY:0},fe({clipPath:m},e))))}function Cb(t,e){var r=e.datas,n=r.clipPath,i=r.clipIndex,a=n,o=a.type,s=a.poses,l=a.splitter,u=s.map(function(p){return p.pos}),f=u.length;if(o==="polygon")s.splice(i,1),u.splice(i,1);else if(o==="inset"){if(i<8||(gb(s,u,i,8,f),f===s.length))return}else return;var c=js(t,n,u),d="".concat(o,"(").concat(c.join(l),")");ut(t,"onClip",xt(t,e,P({clipEventType:"removed",clipType:o,poses:u,clipStyles:c,clipStyle:d,distX:0,distY:0},fe({clipPath:d},e))))}var wb={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[`.control.clip-control {
background: #6d6;
cursor: pointer;
}
.control.clip-control.clip-radius {
background: #d66;
}
.line.clip-line {
background: #6e6;
cursor: move;
z-index: 1;
}
.clip-area {
position: absolute;
top: 0;
left: 0;
}
.clip-ellipse {
position: absolute;
cursor: move;
border: 1px solid #6d6;
border: var(--zoompx) solid #6d6;
border-radius: 50%;
transform-origin: 0px 0px;
}`,`:host {
--bounds-color: #d66;
}`,`.guideline {
pointer-events: none;
z-index: 2;
}`,`.line.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}`],render:function(t,e){var r=t.props,n=r.customClipPath,i=r.defaultClipPath,a=r.clipArea,o=r.zoom,s=r.groupable,l=t.getState(),u=l.target,f=l.width,c=l.height,d=l.allMatrix,p=l.is3d,v=l.left,h=l.top,g=l.pos1,m=l.pos2,b=l.pos3,y=l.pos4,_=l.clipPathState,C=l.snapBoundInfos,x=l.rotation;if(!u||s)return[];var w=xu(u,f,c,i||"inset",_||n);if(!w)return[];var S=p?4:3,E=w.type,D=w.poses,T=D.map(function(G){var W=zt(d,G.pos,S);return[W[0]-v,W[1]-h]}),I=[],R=[],N=E==="rect",z=E==="inset",$=E==="polygon";if(N||z||$){var k=z?T.slice(0,8):T;R=k.map(function(G,W){var Y=W===0?k[k.length-1]:k[W-1],X=Ht(Y,G),U=ud(Y,G);return e.createElement("div",{key:"clipLine".concat(W),className:dt("line","clip-line","snap-control"),"data-clip-index":W,style:{width:"".concat(U,"px"),transform:"translate(".concat(Y[0],"px, ").concat(Y[1],"px) rotate(").concat(X,"rad) scaleY(").concat(o,")")}})})}if(I=T.map(function(G,W){return e.createElement("div",{key:"clipControl".concat(W),className:dt("control","clip-control","snap-control"),"data-clip-index":W,style:{transform:"translate(".concat(G[0],"px, ").concat(G[1],"px) rotate(").concat(x,"rad) scale(").concat(o,")")}})}),z&&I.push.apply(I,nt([],A(T.slice(8).map(function(G,W){return e.createElement("div",{key:"clipRadiusControl".concat(W),className:dt("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+W,style:{transform:"translate(".concat(G[0],"px, ").concat(G[1],"px) rotate(").concat(x,"rad) scale(").concat(o,")")}})})),!1)),E==="circle"||E==="ellipse"){var L=w.left,B=w.top,H=w.radiusX,F=w.radiusY,j=A(pt(zt(d,[L,B],S),zt(d,[0,0],S)),2),V=j[0],K=j[1],q="none";if(!a){for(var et=Math.max(10,H/5,F/5),at=[],ct=0;ct<=et;++ct){var ht=Math.PI*2/et*ct;at.push([H+(H-o)*Math.cos(ht),F+(F-o)*Math.sin(ht)])}at.push([H,-2]),at.push([-2,-2]),at.push([-2,F*2+2]),at.push([H*2+2,F*2+2]),at.push([H*2+2,-2]),at.push([H,-2]),q="polygon(".concat(at.map(function(G){return"".concat(G[0],"px ").concat(G[1],"px")}).join(", "),")")}I.push(e.createElement("div",{key:"clipEllipse",className:dt("clip-ellipse","snap-control"),style:{width:"".concat(H*2,"px"),height:"".concat(F*2,"px"),clipPath:q,transform:"translate(".concat(-v+V,"px, ").concat(-h+K,"px) ").concat(Oa(d))}}))}if(a){var gt=De(nt([g,m,b,y],A(T),!1)),it=gt.width,ft=gt.height,M=gt.left,O=gt.top;if($||N||z){var at=z?T.slice(0,8):T;I.push(e.createElement("div",{key:"clipArea",className:dt("clip-area","snap-control"),style:{width:"".concat(it,"px"),height:"".concat(ft,"px"),transform:"translate(".concat(M,"px, ").concat(O,"px)"),clipPath:"polygon(".concat(at.map(function(W){return"".concat(W[0]-M,"px ").concat(W[1]-O,"px")}).join(", "),")")}}))}}return C&&["vertical","horizontal"].forEach(function(G){var W=C[G],Y=G==="horizontal";W.isSnap&&R.push.apply(R,nt([],A(W.snap.posInfos.map(function(X,U){var Q=X.pos,rt=pt(zt(d,Y?[0,Q]:[Q,0],S),[v,h]),Z=pt(zt(d,Y?[f,Q]:[Q,c],S),[v,h]);return jn(e,"",rt,Z,o,"clip".concat(G,"snap").concat(U),"guideline")})),!1)),W.isBound&&R.push.apply(R,nt([],A(W.bounds.map(function(X,U){var Q=X.pos,rt=pt(zt(d,Y?[0,Q]:[Q,0],S),[v,h]),Z=pt(zt(d,Y?[f,Q]:[Q,c],S),[v,h]);return jn(e,"",rt,Z,o,"clip".concat(G,"bounds").concat(U),"guideline","bounds","bold")})),!1))}),nt(nt([],A(I),!1),A(R),!1)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var r=t.props,n=r.dragWithClip,i=n===void 0?!0:n;return i?!1:this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,P(P({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var r=t.state,n=t.props,i=n.defaultClipPath,a=n.customClipPath,o=r.target,s=r.width,l=r.height,u=e.inputEvent?e.inputEvent.target:null,f=u&&u.getAttribute("class")||"",c=e.datas,d=xu(o,s,l,i||"inset",a);if(!d)return!1;var p=d.clipText,v=d.type,h=d.poses,g=ut(t,"onClipStart",xt(t,e,{clipType:v,clipStyle:p,poses:h.map(function(m){return m.pos})}));return g===!1?(c.isClipStart=!1,!1):(c.isControl=f&&f.indexOf("clip-control")>-1,c.isLine=f.indexOf("clip-line")>-1,c.isArea=f.indexOf("clip-area")>-1||f.indexOf("clip-ellipse")>-1,c.clipIndex=u?parseInt(u.getAttribute("data-clip-index"),10):-1,c.clipPath=d,c.isClipStart=!0,r.clipPathState=p,Hr(t,e),!0)},dragControl:function(t,e){var r,n,i,a=e.datas,o=e.originalDatas,s=e.isDragTarget;if(!a.isClipStart)return!1;var l=a,u=l.isControl,f=l.isLine,c=l.isArea,d=l.clipIndex,p=l.clipPath;if(!p)return!1;var v=Fr(t.props,"clippable"),h=v.keepRatio,g=0,m=0,b=o.draggable,y=Ue(e);s&&b?(r=A(b.prevBeforeDist,2),g=r[0],m=r[1]):(n=A(y,2),g=n[0],m=n[1]);var _=[g,m],C=t.state,x=C.width,w=C.height,S=!c&&!u&&!f,E=p.type,D=p.poses,T=p.splitter,I=D.map(function(It){return It.pos});S&&(g=-g,m=-m);var R=!u||D[d].direction==="nesw",N=E==="inset"||E==="rect",z=D.map(function(){return[0,0]});if(u&&!R){var $=D[d],k=$.horizontal,L=$.vertical,B=[g*tt(k),m*tt(L)];z=xb(D,d,B,N,h)}else R&&(z=I.map(function(){return[g,m]}));var H=I.map(function(It,oe){return Et(It,z[oe])}),F=nt([],A(H),!1);C.snapBoundInfos=null;var j=p.type==="circle",V=p.type==="ellipse";if(j||V){var K=De(H),q=tt(K.bottom-K.top),et=tt(V?K.right-K.left:q),at=H[0][1]+q,ct=H[0][0]-et,ht=H[0][0]+et;j&&(F.push([ht,K.bottom]),z.push([1,0])),F.push([K.left,at]),z.push([0,1]),F.push([ct,K.bottom]),z.push([1,0])}var gt=nd((v.clipHorizontalGuidelines||[]).map(function(It){return Rt("".concat(It),w)}),(v.clipVerticalGuidelines||[]).map(function(It){return Rt("".concat(It),x)}),x,w),it=[],ft=[];if(j||V)it=[F[4][0],F[2][0]],ft=[F[1][1],F[3][1]];else if(N){var M=[F[0],F[2],F[4],F[6]],O=[z[0],z[2],z[4],z[6]];it=M.filter(function(It,oe){return O[oe][0]}).map(function(It){return It[0]}),ft=M.filter(function(It,oe){return O[oe][1]}).map(function(It){return It[1]})}else it=F.filter(function(It,oe){return z[oe][0]}).map(function(It){return It[0]}),ft=F.filter(function(It,oe){return z[oe][1]}).map(function(It){return It[1]});var G=[0,0],W=au(gt,v.clipTargetBounds&&{left:0,top:0,right:x,bottom:w},it,ft,5,5),Y=W.horizontal,X=W.vertical,U=Y.offset,Q=X.offset;if(Y.isBound&&(G[1]+=U),X.isBound&&(G[0]+=Q),(V||j)&&z[0][0]===0&&z[0][1]===0){var K=De(H),rt=K.bottom-K.top,Z=V?K.right-K.left:rt,ot=X.isBound?tt(Q):X.snapIndex===0?-Q:Q,lt=Y.isBound?tt(U):Y.snapIndex===0?-U:U;Z-=ot,rt-=lt,j&&(rt=Uc(X,Y)>0?rt:Z,Z=rt);var st=F[0];F[1][1]=st[1]-rt,F[2][0]=st[0]+Z,F[3][1]=st[1]+rt,F[4][0]=st[0]-Z}else if(N&&h&&u){var vt=A(Md(D),2),mt=vt[0],Ot=vt[1],Ct=mt&&Ot?mt/Ot:0,$t=D[d],te=$t.direction||"",Fe=F[1][1],at=F[5][1],ct=F[7][0],ht=F[3][0];tt(U)<=tt(Q)?U=ue(U)*tt(Q)/Ct:Q=ue(Q)*tt(U)*Ct,te.indexOf("w")>-1?ct-=Q:te.indexOf("e")>-1?ht-=Q:(ct+=Q/2,ht-=Q/2),te.indexOf("n")>-1?Fe-=U:te.indexOf("s")>-1?at-=U:(Fe+=U/2,at-=U/2);var ui=na(Fe,ht,at,ct);F.forEach(function(tl,$d){var Pa;Pa=A(ui[$d].pos,2),tl[0]=Pa[0],tl[1]=Pa[1]})}else F.forEach(function(It,oe){var Js=z[oe];Js[0]&&(It[0]-=Q),Js[1]&&(It[1]-=U)});var ir=js(t,p,H),Wr="".concat(E,"(").concat(ir.join(T),")");if(C.clipPathState=Wr,j||V)it=[F[4][0],F[2][0]],ft=[F[1][1],F[3][1]];else if(N){var M=[F[0],F[2],F[4],F[6]];it=M.map(function(oe){return oe[0]}),ft=M.map(function(oe){return oe[1]})}else it=F.map(function(It){return It[0]}),ft=F.map(function(It){return It[1]});if(C.snapBoundInfos=au(gt,v.clipTargetBounds&&{left:0,top:0,right:x,bottom:w},it,ft,1,1),b){var ae=C.is3d,Ce=C.allMatrix,fi=ae?4:3,Ta=G;s&&(Ta=[_[0]+G[0]-y[0],_[1]+G[1]-y[1]]),b.deltaOffset=Pt(Ce,[Ta[0],Ta[1],0,0],fi)}return ut(t,"onClip",xt(t,e,P({clipEventType:"changed",clipType:E,poses:H,clipStyle:Wr,clipStyles:ir,distX:g,distY:m},fe((i={},i[E==="rect"?"clip":"clipPath"]=Wr,i),e)))),!0},dragControlEnd:function(t,e){this.unset(t);var r=e.isDrag,n=e.datas,i=e.isDouble,a=n.isLine,o=n.isClipStart,s=n.isControl;return o?(ut(t,"onClipEnd",Se(t,e,{})),i&&(s?Cb(t,e):a&&Sb(t,e)),i||r):!1},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},Eb={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[`:host[data-able-origindraggable] .control.origin {
pointer-events: auto;
}`],dragControlCondition:function(t,e){return e.isRequest?e.requestAble==="originDraggable":qt(e.inputEvent.target,dt("origin"))},dragControlStart:function(t,e){var r=e.datas;Hr(t,e);var n=xt(t,e,{dragStart:le.dragStart(t,new dn().dragStart([0,0],e))}),i=ut(t,"onDragOriginStart",n);return r.startOrigin=t.state.transformOrigin,r.startTargetOrigin=t.state.targetOrigin,r.prevOrigin=[0,0],r.isDragOrigin=!0,i===!1?(r.isDragOrigin=!1,!1):n},dragControl:function(t,e){var r=e.datas,n=e.isPinch,i=e.isRequest;if(!r.isDragOrigin)return!1;var a=A(Ue(e),2),o=a[0],s=a[1],l=t.state,u=l.width,f=l.height,c=l.offsetMatrix,d=l.targetMatrix,p=l.is3d,v=t.props.originRelative,h=v===void 0?!0:v,g=p?4:3,m=[o,s];if(i){var b=e.distOrigin;(b[0]||b[1])&&(m=b)}var y=Et(r.startOrigin,m),_=Et(r.startTargetOrigin,m),C=pt(m,r.prevOrigin),x=li(c,d,y,g),w=t.getRect(),S=De($r(x,u,f,g)),E=[w.left-S.left,w.top-S.top];r.prevOrigin=m;var D=[Te(_[0],u,h),Te(_[1],f,h)].join(" "),T=le.drag(t,si(e,t.state,E,!!n)),I=xt(t,e,P(P({width:u,height:f,origin:y,dist:m,delta:C,transformOrigin:D,drag:T},fe({transformOrigin:D,transform:T.transform},e)),{afterTransform:T.transform}));return ut(t,"onDragOrigin",I),I},dragControlEnd:function(t,e){var r=e.datas;return r.isDragOrigin?(ut(t,"onDragOriginEnd",Se(t,e,{})),!0):!1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);return!!r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);return r?(t.transformOrigin=r.transformOrigin,!0):!1},request:function(t){var e={},r=t.getRect(),n=0,i=0,a=r.transformOrigin,o=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(s){return"deltaOrigin"in s?(o[0]+=s.deltaOrigin[0],o[1]+=s.deltaOrigin[1]):"origin"in s?(o[0]=s.origin[0]-a[0],o[1]=s.origin[1]-a[1]):("x"in s?n=s.x-r.left:"deltaX"in s&&(n+=s.deltaX),"y"in s?i=s.y-r.top:"deltaY"in s&&(i+=s.deltaY)),{datas:e,distX:n,distY:i,distOrigin:o}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function Db(t,e,r,n){var i=t.filter(function(l){var u=l.virtual,f=l.horizontal;return f&&!u}).length,a=t.filter(function(l){var u=l.virtual,f=l.vertical;return f&&!u}).length,o=-1;if(e===0&&(i===0?o=0:i===1&&(o=1)),e===2&&(i<=2?o=2:i<=3&&(o=3)),e===3&&(a===0?o=4:a<4&&(o=7)),e===1&&(a<=1?o=5:a<=2&&(o=6)),!(o===-1||!t[o].virtual)){var s=t[o];Mb(t,o),o<4?s.pos[0]=r:s.pos[1]=n}}function Mb(t,e){e<4?t.slice(0,e+1).forEach(function(r){r.virtual=!1}):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach(function(r){r.virtual=!1}))}function Ob(t,e){e<4?t.slice(e,4).forEach(function(r){r.virtual=!0}):t.slice(e).forEach(function(r){r.virtual=!0})}function Su(t,e,r,n,i){n===void 0&&(n=[0,0]);var a=[];return!t||t==="0px"?a=[]:a=mr(t),Dd(a,e,r,0,0,n,i)}function Cu(t,e,r,n,i){var a=t.state,o=a.width,s=a.height,l=Xs(i,t.props.roundRelative,o,s),u=l.raws,f=l.styles,c=l.radiusPoses,d=bb(c,u),p=d.horizontals,v=d.verticals,h=f.join(" ");a.borderRadiusState=h;var g=xt(t,e,P({horizontals:p,verticals:v,borderRadius:h,width:o,height:s,delta:n,dist:r},fe({borderRadius:h},e)));return ut(t,"onRound",g),g}function wu(t){var e,r,n=t.getState().style,i=n.borderRadius||"";if(!i&&t.props.groupable){var a=t.moveables[0],o=t.getTargets()[0];o&&((a==null?void 0:a.props.target)===o?(i=(r=(e=t.moveables[0])===null||e===void 0?void 0:e.state.style.borderRadius)!==null&&r!==void 0?r:"",n.borderRadius=i):(i=Hs(o).borderRadius,n.borderRadius=i))}return i}var Rb={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[`.control.border-radius {
background: #d66;
cursor: pointer;
z-index: 3;
}`,`.control.border-radius.vertical {
background: #d6d;
z-index: 2;
}`,`.control.border-radius.virtual {
opacity: 0.5;
z-index: 1;
}`,`:host.round-line-clickable .line.direction {
cursor: pointer;
}`],className:function(t){var e=t.props.roundClickable;return e===!0||e==="line"?dt("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(t,e){var r=t.getState(),n=r.target,i=r.width,a=r.height,o=r.allMatrix,s=r.is3d,l=r.left,u=r.top,f=r.borderRadiusState,c=t.props,d=c.minRoundControls,p=d===void 0?[0,0]:d,v=c.maxRoundControls,h=v===void 0?[4,4]:v,g=c.zoom,m=c.roundPadding,b=m===void 0?0:m,y=c.isDisplayShadowRoundControls,_=c.groupable;if(!n)return null;var C=f||wu(t),x=s?4:3,w=Su(C,i,a,p,!0);if(!w)return null;var S=0,E=0,D=_?[0,0]:[l,u];return w.map(function(T,I){var R=T.horizontal,N=T.vertical,z=T.direction||"",$=nt([],A(T.pos),!1);E+=Math.abs(R),S+=Math.abs(N),R&&z.indexOf("n")>-1&&($[1]-=b),N&&z.indexOf("w")>-1&&($[0]-=b),R&&z.indexOf("s")>-1&&($[1]+=b),N&&z.indexOf("e")>-1&&($[0]+=b);var k=pt(zt(o,$,x),D),L=y&&y!=="horizontal",B=T.vertical?S<=h[1]&&(L||!T.virtual):E<=h[0]&&(y||!T.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(I),className:dt("control","border-radius",T.vertical?"vertical":"",T.virtual?"virtual":""),"data-radius-index":I,style:{display:B?"block":"none",transform:"translate(".concat(k[0],"px, ").concat(k[1],"px) scale(").concat(g,")")}})})},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var r=e.inputEvent.target.getAttribute("class")||"";return r.indexOf("border-radius")>-1||r.indexOf("moveable-line")>-1&&r.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragControlStart:function(t,e){var r=e.inputEvent,n=e.datas,i=r.target,a=i.getAttribute("class")||"",o=a.indexOf("border-radius")>-1,s=a.indexOf("moveable-line")>-1&&a.indexOf("moveable-direction")>-1,l=o?parseInt(i.getAttribute("data-radius-index"),10):-1,u=-1;if(s){var f=i.getAttribute("data-line-key")||"";f&&(u=parseInt(f.replace(/render-line-/g,""),10),isNaN(u)&&(u=-1))}if(!o&&!s)return!1;var c=xt(t,e,{}),d=ut(t,"onRoundStart",c);if(d===!1)return!1;n.lineIndex=u,n.controlIndex=l,n.isControl=o,n.isLine=s,Hr(t,e);var p=t.props,v=p.roundRelative,h=p.minRoundControls,g=h===void 0?[0,0]:h,m=t.state,b=m.width,y=m.height;n.isRound=!0,n.prevDist=[0,0];var _=wu(t),C=Su(_||"",b,y,g,!0)||[];return n.controlPoses=C,m.borderRadiusState=Xs(C,v,b,y).styles.join(" "),c},dragControl:function(t,e){var r=e.datas,n=r.controlPoses;if(!r.isRound||!r.isControl||!n.length)return!1;var i=r.controlIndex,a=A(Ue(e),2),o=a[0],s=a[1],l=[o,s],u=pt(l,r.prevDist),f=t.props.maxRoundControls,c=f===void 0?[4,4]:f,d=t.state,p=d.width,v=d.height,h=n[i],g=h.vertical,m=h.horizontal,b=n.map(function(_){var C=_.horizontal,x=_.vertical,w=[C*m*l[0],x*g*l[1]];if(C){if(c[0]===1)return w;if(c[0]<4&&C!==m)return w}else{if(c[1]===0)return w[1]=x*m*l[0]/p*v,w;if(g){if(c[1]===1)return w;if(c[1]<4&&x!==g)return w}}return[0,0]});b[i]=l;var y=n.map(function(_,C){return P(P({},_),{pos:Et(_.pos,b[C])})});return i<4?y.slice(0,i+1).forEach(function(_){_.virtual=!1}):y.slice(4,i+1).forEach(function(_){_.virtual=!1}),r.prevDist=[o,s],Cu(t,e,l,u,y)},dragControlEnd:function(t,e){var r=t.state;r.borderRadiusState="";var n=e.datas,i=e.isDouble;if(!n.isRound)return!1;var a=n.isControl,o=n.controlIndex,s=n.isLine,l=n.lineIndex,u=n.controlPoses,f=u.filter(function(m){var b=m.virtual;return b}).length,c=t.props.roundClickable,d=c===void 0?!0:c;if(i&&d){if(a&&(d===!0||d==="control"))Ob(u,o);else if(s&&(d===!0||d==="line")){var p=A(Pc(t,e),2),v=p[0],h=p[1];Db(u,l,v,h)}f!==u.filter(function(m){var b=m.virtual;return b}).length&&Cu(t,e,[0,0],[0,0],u)}var g=Se(t,e,{});return ut(t,"onRoundEnd",g),r.borderRadiusState="",g},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);if(!r)return!1;var n=t.moveables,i=t.props.targets,a=Ae(t,"roundable",e),o=P({targets:t.props.targets,events:a.map(function(s,l){return P(P({},s),{target:i[l],moveable:n[l],currentTarget:n[l]})})},r);return ut(t,"onRoundGroupStart",o),r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);if(!r)return!1;var n=t.moveables,i=t.props.targets,a=Ae(t,"roundable",e),o=P({targets:t.props.targets,events:a.map(function(s,l){return P(P(P({},s),{target:i[l],moveable:n[l],currentTarget:n[l]}),fe({borderRadius:r.borderRadius},s))})},r);return ut(t,"onRoundGroup",o),o},dragGroupControlEnd:function(t,e){var r=t.moveables,n=t.props.targets,i=Ae(t,"roundable",e);Ra(t,"onRound",function(s){var l=P({targets:t.props.targets,events:i.map(function(u,f){return P(P(P({},u),{target:n[f],moveable:r[f],currentTarget:r[f]}),fe({borderRadius:s.borderRadius},u))})},s);ut(t,"onRoundGroup",l)});var a=this.dragControlEnd(t,e);if(!a)return!1;var o=P({targets:t.props.targets,events:i.map(function(s,l){var u;return P(P({},s),{target:n[l],moveable:r[l],currentTarget:r[l],lastEvent:(u=s.datas)===null||u===void 0?void 0:u.lastEvent})})},a);return ut(t,"onRoundGroupEnd",o),o},unset:function(t){t.state.borderRadiusState=""}};function Tb(t,e){var r=e?4:3,n=kt(r),i="matrix".concat(e?"3d":"","(").concat(n.join(","),")");return t===i||t==="matrix(1,0,0,1,0,0)"}var Od={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(t,e){var r=t.state,n=r.is3d,i=r.targetMatrix,a=r.inlineTransform,o=n?"matrix3d(".concat(i.join(","),")"):"matrix(".concat(bc(i,!0),")"),s=!a||a==="none"?o:a;e.datas.startTransforms=Tb(s,n)?[]:mr(s)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return xt(t,e,{setTransform:function(r){e.datas.startTransforms=Xt(r)?r:mr(r)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return xt(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),ut(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){e.datas.startTransforms||this.setTransform(t,e),this.resetStyle(e),ut(t,"onBeforeRender",xt(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){e.datas.startTransforms||(this.setTransform(t,e),this.resetStyle(e)),ut(t,"onBeforeRenderEnd",xt(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var r=this;this.dragStart(t,e);var n=Ae(t,"beforeRenderable",e),i=t.moveables,a=n.map(function(o,s){var l=i[s];return r.setTransform(l,o),r.resetStyle(o),r.fillDragStartParams(l,o)});ut(t,"onBeforeRenderGroupStart",xt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:a}))},dragGroup:function(t,e){var r=this;this.drag(t,e);var n=Ae(t,"beforeRenderable",e),i=t.moveables,a=n.map(function(o,s){var l=i[s];return r.resetStyle(o),r.fillDragParams(l,o)});ut(t,"onBeforeRenderGroup",xt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:a}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),ut(t,"onBeforeRenderGroupEnd",xt(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},Rd={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(t,e){ut(t,"onRenderStart",xt(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){ut(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){return this.drag(t,e)},dragEnd:function(t,e){ut(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){ut(t,"onRenderGroupStart",xt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var r=this,n=Ae(t,"beforeRenderable",e),i=t.moveables,a=n.map(function(o,s){var l=i[s];return r.fillDragParams(l,o)});ut(t,"onRenderGroup",xt(t,e,P(P({isPinch:!!e.isPinch,targets:t.props.targets,transform:Mi(e),transformObject:{}},fe(Oi(e))),{events:a})))},dragGroupEnd:function(t,e){var r=this,n=Ae(t,"beforeRenderable",e),i=t.moveables,a=n.map(function(o,s){var l=i[s];return r.fillDragEndParams(l,o)});ut(t,"onRenderGroupEnd",xt(t,e,P({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:a,transformObject:{},transform:Mi(e)},fe(Oi(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){var r={};return cn(Ki(e)||[]).forEach(function(n){r[n.name]=n.functionValue}),xt(t,e,P({isPinch:!!e.isPinch,transformObject:r,transform:Mi(e)},fe(Oi(e))))},fillDragEndParams:function(t,e){var r={};return cn(Ki(e)||[]).forEach(function(n){r[n.name]=n.functionValue}),xt(t,e,P({isPinch:!!e.isPinch,isDrag:e.isDrag,transformObject:r,transform:Mi(e)},fe(Oi(e))))}};function Fn(t,e,r,n,i,a,o){a.clientDistX=a.distX,a.clientDistY=a.distY;var s=i==="Start",l=i==="End",u=i==="After",f=t.state.target,c=a.isRequest,d=n.indexOf("Control")>-1;if(!f||s&&d&&!c&&t.areaElement===a.inputEvent.target)return!1;var p=nt([],A(e),!1);if(c){var v=a.requestAble;p.some(function(I){return I.name===v})||p.push.apply(p,nt([],A(t.props.ables.filter(function(I){return I.name===v})),!1))}if(!p.length||p.every(function(I){return I.dragRelation}))return!1;var h=a.inputEvent,g;l&&h&&(g=document.elementFromPoint(a.clientX,a.clientY)||h.target);var m=!1,b=function(){var I;m=!0,(I=a.stop)===null||I===void 0||I.call(a)},y=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());y&&t.updateRect(i,!0,!1);var _=a.datas,C=d?"controlGesto":"targetGesto",x=t[C],w=function(I,R,N){if(!(R in I)||x!==t[C])return!1;var z=I.name,$=_[z]||(_[z]={});if(s&&($.isEventStart=!N||!I[N]||I[N](t,a)),!$.isEventStart)return!1;var k=I[R](t,P(P({},a),{stop:b,datas:$,originalDatas:_,inputTarget:g}));return t._emitter.off(),s&&k===!1&&($.isEventStart=!1),k};y&&p.forEach(function(I){I.unset&&I.unset(t)}),w(Od,"drag".concat(n).concat(i));var S=0,E=0;r.forEach(function(I){if(m)return!1;var R="".concat(I).concat(n).concat(i),N="".concat(I).concat(n,"Condition");i===""&&!c&&J1(t.state,a);var z=p.filter(function(L){return L[R]});z=z.filter(function(L,B){return L.name&&z.indexOf(L)===B});var $=z.filter(function(L){return w(L,R,N)}),k=$.length;m&&++S,k&&++E,!m&&s&&z.length&&!k&&(S+=z.filter(function(L){var B=L.name,H=_[B];return H.isEventStart?L.dragRelation!=="strong":!1}).length?1:0)}),(!u||E)&&w(Rd,"drag".concat(n).concat(i));var D=x!==t[C]||S===r.length;if((l||m||D)&&(t.state.gestos={},t.moveables&&t.moveables.forEach(function(I){I.state.gestos={}}),p.forEach(function(I){I.unset&&I.unset(t)})),s&&!D&&!c&&E&&t.props.preventDefault&&(a==null||a.preventDefault()),t.isUnmounted||D)return!1;if(!s&&E&&!o||l){var T=t.props.flushSync||od;T(function(){t.updateRect(l?i:"",!0,!1),t.forceUpdate()})}return!s&&!l&&!u&&E&&!o&&Fn(t,e,r,n,i+"After",a),!0}function qs(t,e){return function(r,n){var i;n===void 0&&(n=r.inputEvent.target);var a=n,o=t.areaElement,s=t._dragTarget;return!s||!e&&(!((i=t.controlGesto)===null||i===void 0)&&i.isFlag())?!1:a===s||s.contains(a)||a===o||!t.isMoveableElement(a)&&!t.controlBox.contains(a)||qt(a,"moveable-area")||qt(a,"moveable-padding")||qt(a,"moveable-edgeDraggable")}}function Td(t,e,r){var n=t.controlBox,i=[],a=t.props,o=a.dragArea,s=t.state.target,l=a.dragTarget;i.push(n),(!o||l)&&i.push(e),!o&&l&&s&&e!==s&&a.dragTargetSelf&&i.push(s);var u=qs(t);return Id(t,i,"targetAbles",r,{dragStart:u,pinchStart:u})}function Pd(t,e){var r=t.controlBox,n=[];n.push(r);var i=qs(t,!0),a=function(o,s){if(s===void 0&&(s=o.inputEvent.target),s===r)return!0;var l=i(o,s);return!l};return Id(t,n,"controlAbles",e,{dragStart:a,pinchStart:a})}function Id(t,e,r,n,i){i===void 0&&(i={});var a=r==="targetAbles",o=t.props,s=o.pinchOutside,l=o.pinchThreshold,u=o.preventClickEventOnDrag,f=o.preventClickDefault,c=o.checkInput,d=o.dragFocusedInput,p=o.preventDefault,v=p===void 0?!0:p,h=o.preventRightClick,g=h===void 0?!0:h,m=o.preventWheelClick,b=m===void 0?!0:m,y=o.dragContainer,_=Ve(y,!0),C={preventDefault:v,preventRightClick:g,preventWheelClick:b,container:_||vr(t.getControlBoxElement()),pinchThreshold:l,pinchOutside:s,preventClickEventOnDrag:a?u:!1,preventClickEventOnDragStart:a?f:!1,preventClickEventByCondition:a?null:function(S){return t.controlBox.contains(S.target)},checkInput:a?c:!1,dragFocusedInput:d},x=new nm(e,C),w=n==="Control";return["drag","pinch"].forEach(function(S){["Start","","End"].forEach(function(E){x.on("".concat(S).concat(E),function(D){var T,I=D.eventType,R=S==="drag"&&D.isPinch;if(i[I]&&!i[I](D)){D.stop();return}if(!R){var N=S==="drag"?[S]:["drag",S],z=nt([],A(t[r]),!1),$=Fn(t,z,N,n,E,D);$?(t.props.stopPropagation||E==="Start"&&w)&&((T=D==null?void 0:D.inputEvent)===null||T===void 0||T.stopPropagation()):D.stop()}})})}),x}var Pb=function(){function t(e,r,n){var i=this;this.target=e,this.moveable=r,this.eventName=n,this.ables=[],this._onEvent=function(a){var o=i.eventName,s=i.moveable;s.state.disableNativeEvent||i.ables.forEach(function(l){l[o](s,{inputEvent:a})})},e.addEventListener(n.toLowerCase(),this._onEvent)}return t.prototype.setAbles=function(e){this.ables=e},t.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function Ib(t,e,r,n){var i;r===void 0&&(r=e);var a=Gc(t,e),o=a.matrixes,s=a.is3d,l=a.targetMatrix,u=a.transformOrigin,f=a.targetOrigin,c=a.offsetContainer,d=a.hasFixed,p=a.zoom,v=Xm(c,r),h=v.matrixes,g=v.is3d,m=v.offsetContainer,b=v.zoom,y=n,_=4,C=t.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in t,x=l,w=kt(_),S=kt(_),E=kt(_),D=kt(_),T=o.length,I=h.map(function(B){return P(P({},B),{matrix:B.matrix?nt([],A(B.matrix),!1):void 0})}).reverse();o.reverse(),!s&&y&&(x=ze(x,3,4),$o(o)),!g&&y&&$o(I),I.forEach(function(B){S=Pt(S,B.matrix,_)});var R=r||Cr(t),N=((i=I[0])===null||i===void 0?void 0:i.target)||qn(R,R,!0).offsetParent,z=I.slice(1).reduce(function(B,H){return Pt(B,H.matrix,_)},kt(_));o.forEach(function(B,H){if(T-2===H&&(E=w.slice()),T-1===H&&(D=w.slice()),!B.matrix){var F=o[H+1],j=U1(B,F,N,_,Pt(z,w,_));B.matrix=zr(j,_)}w=Pt(w,B.matrix,_)});var $=!C&&s;x||(x=kt($?4:3));var k=Oa(C&&x.length===16?ze(x,4,3):x,$),L=S;return S=gc(S,_,_),{hasZoom:p!==1||b!==1,hasFixed:d,matrixes:o,rootMatrix:S,originalRootMatrix:L,beforeMatrix:E,offsetMatrix:D,allMatrix:w,targetMatrix:x,targetTransform:k,inlineTransform:t.style.transform,transformOrigin:u,targetOrigin:f,is3d:y,offsetContainer:c,offsetRootContainer:m}}function Ab(t,e,r,n){r===void 0&&(r=e);var i=0,a=0,o=0,s={},l=fd(t);if(t&&(i=l.offsetWidth,a=l.offsetHeight),t){var u=Ib(t,e,r,n),f=on(u.allMatrix,u.transformOrigin,i,a);s=P(P({},u),f);var c=on(u.allMatrix,[50,50],100,100);o=cd([c.pos1,c.pos2],c.direction)}var d=4;return P(P(P({hasZoom:!1,width:i,height:a,rotation:o},l),{originalRootMatrix:kt(d),rootMatrix:kt(d),beforeMatrix:kt(d),offsetMatrix:kt(d),allMatrix:kt(d),targetMatrix:kt(d),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),s)}function Xo(t,e,r,n,i,a){a===void 0&&(a=[]);var o=1,s=[0,0],l=Ti(),u=Ti(),f=Ti(),c=Ti(),d=[0,0],p={},v=Ab(e,r,i,!0);if(e){var h=ye(e);a.forEach(function(I){p[I]=h(I)});var g=v.is3d?4:3,m=on(v.offsetMatrix,Et(v.transformOrigin,mc(v.targetMatrix,g)),v.width,v.height);o=m.direction,s=Et(m.origin,[m.left-v.left,m.top-v.top]),c=Gn(v.offsetRootContainer);var b=qn(n,n,!0).offsetParent||v.offsetRootContainer;if(v.hasZoom){var y=on(Pt(v.originalRootMatrix,v.allMatrix),v.transformOrigin,v.width,v.height),_=on(v.originalRootMatrix,ta(ye(b)("transformOrigin")).map(function(I){return parseFloat(I)}),b.offsetWidth,b.offsetHeight);if(l=to(y,c),f=to(_,c,b,!0),t){var C=y.left,x=y.top;u=to({left:C,top:x,bottom:x,right:x},c)}}else{l=Gn(e),f=Ym(b),t&&(u=Gn(t));var w=f.left,S=f.top,E=f.clientLeft,D=f.clientTop,T=[l.left-w,l.top-S];d=pt(hn(v.rootMatrix,T,4),[E+v.left,D+v.top])}}return P({targetClientRect:l,containerClientRect:f,moveableClientRect:u,rootContainerClientRect:c,beforeDirection:o,beforeOrigin:s,originalBeforeOrigin:s,target:e,style:p,offsetDelta:d},v)}function Eu(t){var e=t.pos1,r=t.pos2,n=t.pos3,i=t.pos4;if(!e||!r||!n||!i)return null;var a=Gr([e,r,n,i]),o=[a.minX,a.minY],s=pt(t.origin,o);return e=pt(e,o),r=pt(r,o),n=pt(n,o),i=pt(i,o),P(P({},t),{left:t.left,top:t.top,posDelta:o,pos1:e,pos2:r,pos3:n,pos4:i,origin:s,beforeOrigin:s,isPersisted:!0})}var gn=function(t){ai(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state=P({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},Xo(null)),r.renderState={},r.enabledAbles=[],r.targetAbles=[],r.controlAbles=[],r.rotation=0,r.scale=[1,1],r.isMoveableMounted=!1,r.isUnmounted=!1,r.events={mouseEnter:null,mouseLeave:null},r._emitter=new _a,r._prevOriginalDragTarget=null,r._originalDragTarget=null,r._prevDragTarget=null,r._dragTarget=null,r._prevPropTarget=null,r._propTarget=null,r._prevDragArea=!1,r._isPropTargetChanged=!1,r._hasFirstTarget=!1,r._reiszeObserver=null,r._observerId=0,r._mutationObserver=null,r._rootContainer=null,r._viewContainer=null,r._viewClassNames=[],r._store={},r.checkUpdateRect=function(){if(!r.isDragging()){var n=r.props.parentMoveable;if(n){n.checkUpdateRect();return}qg(r._observerId),r._observerId=Vf(function(){r.isDragging()||r.updateRect()})}},r._onPreventClick=function(n){n.stopPropagation(),n.preventDefault()},r}return e.prototype.render=function(){var r=this.props,n=this.getState(),i=r.parentPosition,a=r.className,o=r.target,s=r.zoom,l=r.cspNonce,u=r.translateZ,f=r.cssStyled,c=r.groupable,d=r.linePadding,p=r.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var v=A(i||[0,0],2),h=v[0],g=v[1],m=n.left,b=n.top,y=n.target,_=n.direction,C=n.hasFixed,x=n.offsetDelta,w=r.targets,S=this.isDragging(),E={};this.getEnabledAbles().forEach(function(z){E["data-able-".concat(z.name.toLowerCase())]=!0});var D=this._getAbleClassName(),T=w&&w.length&&(y||c)||o||!this._hasFirstTarget&&this.state.isPersisted,I=this.controlBox||this.props.firstRenderState||this.props.persistData,R=[m-h,b-g];!c&&r.useAccuratePosition&&(R[0]+=x[0],R[1]+=x[1]);var N={position:C?"fixed":"absolute",display:T?"block":"none",visibility:I?"visible":"hidden",transform:"translate3d(".concat(R[0],"px, ").concat(R[1],"px, ").concat(u,")"),"--zoom":s,"--zoompx":"".concat(s,"px")};return d&&(N["--moveable-line-padding"]=d),p&&(N["--moveable-control-padding"]=p),Ie(f,P({cspNonce:l,ref:Qe(this,"controlBox"),className:"".concat(dt("control-box",_===-1?"reverse":"",S?"dragging":"")," ").concat(D," ").concat(a)},E,{onClick:this._onPreventClick,style:N}),this.renderAbles(),this._renderLines())},e.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var r=this.props,n=r.parentMoveable,i=r.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!i&&!n&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},e.prototype.componentDidUpdate=function(r){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(r)},e.prototype.componentWillUnmount=function(){var r,n;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),(r=this._reiszeObserver)===null||r===void 0||r.disconnect(),(n=this._mutationObserver)===null||n===void 0||n.disconnect();var i=this._viewContainer;i&&this._changeAbleViewClassNames([]),Zr(this,!1),Zr(this,!0);var a=this.events;for(var o in a){var s=a[o];s&&s.destroy()}},e.prototype.getTargets=function(){var r=this.props.target;return r?[r]:[]},e.prototype.getAble=function(r){var n=this.props.ables||[];return be(n,function(i){return i.name===r})},e.prototype.getContainer=function(){var r=this.props,n=r.parentMoveable,i=r.wrapperMoveable,a=r.container;return a||i&&i.getContainer()||n&&n.getContainer()||this.controlBox.parentElement},e.prototype.getControlBoxElement=function(){return this.controlBox},e.prototype.getDragElement=function(){return this._dragTarget},e.prototype.isMoveableElement=function(r){var n;return r&&(((n=r.getAttribute)===null||n===void 0?void 0:n.call(r,"class"))||"").indexOf(Rs)>-1},e.prototype.dragStart=function(r,n){n===void 0&&(n=r.target);var i=this.targetGesto,a=this.controlGesto;return i&&qs(this)({inputEvent:r},n)?i.isFlag()||i.triggerDragStart(r):a&&this.isMoveableElement(n)&&(a.isFlag()||a.triggerDragStart(r)),this},e.prototype.hitTest=function(r){var n=this.state,i=n.target,a=n.pos1,o=n.pos2,s=n.pos3,l=n.pos4,u=n.targetClientRect;if(!i)return 0;var f;if(bn(r)){var c=r.getBoundingClientRect();f={left:c.left,top:c.top,width:c.width,height:c.height}}else f=P({width:0,height:0},r);var d=f.left,p=f.top,v=f.width,h=f.height,g=ql([a,o,l,s],u),m=Z0(g,[[d,p],[d+v,p],[d+v,p+h],[d,p+h]]),b=xc(g);return!m||!b?0:Math.min(100,m/b*100)},e.prototype.isInside=function(r,n){var i=this.state,a=i.target,o=i.pos1,s=i.pos2,l=i.pos3,u=i.pos4,f=i.targetClientRect;return a?Ro([r,n],ql([o,s,u,l],f)):!1},e.prototype.updateRect=function(r,n,i){i===void 0&&(i=!0);var a=this.props,o=!a.parentPosition&&!a.wrapperMoveable;o&&pn(!0);var s=a.parentMoveable,l=this.state,u=l.target||a.target,f=this.getContainer(),c=s?s._rootContainer:this._rootContainer,d=Xo(this.controlBox,u,f,f,c||f,this._getRequestStyles());if(!u&&this._hasFirstTarget&&a.persistData){var p=Eu(a.persistData);for(var v in p)d[v]=p[v]}o&&pn(),this.updateState(d,s?!1:i)},e.prototype.isDragging=function(r){var n,i,a=this.targetGesto,o=this.controlGesto;if(a!=null&&a.isFlag()){if(!r)return!0;var s=a.getEventData();return!!(!((n=s[r])===null||n===void 0)&&n.isEventStart)}if(o!=null&&o.isFlag()){if(!r)return!0;var s=o.getEventData();return!!(!((i=s[r])===null||i===void 0)&&i.isEventStart)}return!1},e.prototype.updateTarget=function(r){this.updateRect(r,!0)},e.prototype.getRect=function(){var r=this.state,n=Oe(this.state),i=A(n,4),a=i[0],o=i[1],s=i[2],l=i[3],u=De(n),f=r.width,c=r.height,d=u.width,p=u.height,v=u.left,h=u.top,g=[r.left,r.top],m=Et(g,r.origin),b=Et(g,r.beforeOrigin),y=r.transformOrigin;return{width:d,height:p,left:v,top:h,pos1:a,pos2:o,pos3:s,pos4:l,offsetWidth:f,offsetHeight:c,beforeOrigin:b,origin:m,transformOrigin:y,rotation:this.getRotation()}},e.prototype.getManager=function(){return this},e.prototype.stopDrag=function(r){if(!r||r==="target"){var n=this.targetGesto;(n==null?void 0:n.isIdle())===!1&&Wo(this,!1),n==null||n.stop()}if(!r||r==="control"){var n=this.controlGesto;(n==null?void 0:n.isIdle())===!1&&Wo(this,!0),n==null||n.stop()}},e.prototype.getRotation=function(){var r=this.state,n=r.pos1,i=r.pos2,a=r.direction;return rb(n,i,a)},e.prototype.request=function(r,n,i){n===void 0&&(n={});var a=this,o=a.props,s=o.parentMoveable||o.wrapperMoveable||a,l=s.props.ables,u=o.groupable,f=be(l,function(m){return m.name===r});if(this.isDragging()||!f||!f.request)return{request:function(){return this},requestEnd:function(){return this}};var c=f.request(a),d=i||n.isInstant,p=c.isControl?"controlAbles":"targetAbles",v="".concat(u?"Group":"").concat(c.isControl?"Control":""),h=nt([],A(s[p]),!1),g={request:function(m){return Fn(a,h,["drag"],v,"",P(P({},c.request(m)),{requestAble:r,isRequest:!0}),d),g},requestEnd:function(){return Fn(a,h,["drag"],v,"End",P(P({},c.requestEnd()),{requestAble:r,isRequest:!0}),d),g}};return Fn(a,h,["drag"],v,"Start",P(P({},c.requestStart(n)),{requestAble:r,isRequest:!0}),d),d?g.request(n).requestEnd():g},e.prototype.getMoveables=function(){return[this]},e.prototype.destroy=function(){this.componentWillUnmount()},e.prototype.updateRenderPoses=function(){var r=this.getState(),n=this.props,i=n.padding,a=r.originalBeforeOrigin,o=r.transformOrigin,s=r.allMatrix,l=r.is3d,u=r.pos1,f=r.pos2,c=r.pos3,d=r.pos4,p=r.left,v=r.top,h=r.isPersisted,g=n.zoom||1;if(!i&&g<=1){r.renderPoses=[u,f,c,d],r.renderLines=[[u,f],[f,d],[d,c],[c,u]];return}var m=xd(i||{}),b=m.left,y=m.top,_=m.bottom,C=m.right,x=l?4:3,w=[];h?w=o:this.controlBox&&n.groupable?w=a:w=Et(a,[p,v]);var S=qi(x,zr(w.map(function(N){return-N}),x),s,zr(o,x)),E=we(S,u,[-b,-y],x),D=we(S,f,[C,-y],x),T=we(S,c,[-b,_],x),I=we(S,d,[C,_],x);if(r.renderPoses=[E,D,T,I],r.renderLines=[[E,D],[D,I],[I,T],[T,E]],g){var R=g/2;r.renderLines=[[we(S,u,[-b-R,-y],x),we(S,f,[C+R,-y],x)],[we(S,f,[C,-y-R],x),we(S,d,[C,_+R],x)],[we(S,d,[C+R,_],x),we(S,c,[-b-R,_],x)],[we(S,c,[-b,_+R],x),we(S,u,[-b,-y-R],x)]]}},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var r=this.props,n=r.target,i=r.container,a=r.parentMoveable,o=this.state,s=o.target,l=o.container;if(!(!s&&!n)){this.updateAbles();var u=!Vo(s,n),f=u||!Vo(l,i);if(f){var c=i||this.controlBox;c&&this.unsetAbles(),this.updateState({target:n,container:i}),!a&&c&&this.updateRect("End",!1,!1),this._isPropTargetChanged=u}}},e.prototype.waitToChangeTarget=function(){return new Promise(function(){})},e.prototype.triggerEvent=function(r,n){var i=this.props;if(this._emitter.trigger(r,n),i.parentMoveable&&n.isRequest&&!n.isRequestChild)return i.parentMoveable.triggerEvent(r,n,!0);var a=i[r];return a&&a(n)},e.prototype.useCSS=function(r,n){var i=this.props.customStyledMap,a=r+n;return i[a]||(i[a]=wc(r,n)),i[a]},e.prototype.getState=function(){var r,n=this.props;(n.target||!((r=n.targets)===null||r===void 0)&&r.length)&&(this._hasFirstTarget=!0);var i=this.controlBox,a=n.persistData,o=n.firstRenderState;if(o&&!i)return o;if(!this._hasFirstTarget&&a){var s=Eu(a);if(s)return this.updateState(s,!1),this.state}return this.state.isPersisted=!1,this.state},e.prototype.updateSelectors=function(){},e.prototype.unsetAbles=function(){var r=this;this.targetAbles.forEach(function(n){n.unset&&n.unset(r)})},e.prototype.updateAbles=function(r,n){r===void 0&&(r=this.props.ables),n===void 0&&(n="");var i=this.props,a=i.triggerAblesSimultaneously,o=this.getEnabledAbles(r),s="drag".concat(n,"Start"),l="pinch".concat(n,"Start"),u="drag".concat(n,"ControlStart"),f=Pi(o,[s,l],a),c=Pi(o,[u],a);this.enabledAbles=o,this.targetAbles=f,this.controlAbles=c},e.prototype.updateState=function(r,n){if(n){if(this.isUnmounted)return;this.setState(r)}else{var i=this.state;for(var a in r)i[a]=r[a]}},e.prototype.getEnabledAbles=function(r){r===void 0&&(r=this.props.ables);var n=this.props;return r.filter(function(i){return i&&(i.always&&n[i.name]!==!1||n[i.name])})},e.prototype.renderAbles=function(){var r=this,n=this.props,i=n.triggerAblesSimultaneously,a={createElement:Ie};return this.renderState={},Q1(md(Pi(this.getEnabledAbles(),["render"],i).map(function(o){var s=o.render;return s(r,a)||[]})).filter(function(o){return o}),function(o){var s=o.key;return s}).map(function(o){return o[0]})},e.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e.prototype._getRequestStyles=function(){var r=this.getEnabledAbles().reduce(function(n,i){var a,o,s=(o=(a=i.requestStyle)===null||a===void 0?void 0:a.call(i))!==null&&o!==void 0?o:[];return nt(nt([],A(n),!1),A(s),!1)},nt([],A(this.props.requestStyles||[]),!1));return r},e.prototype._updateObserver=function(r){this._updateResizeObserver(r),this._updateMutationObserver(r)},e.prototype._updateEvents=function(){var r=this.targetAbles.length,n=this.controlAbles.length,i=this._dragTarget,a=!r&&this.targetGesto||this._isTargetChanged(!0);a&&(Zr(this,!1),this.updateState({gestos:{}})),n||Zr(this,!0),i&&r&&!this.targetGesto&&(this.targetGesto=Td(this,i,"")),!this.controlGesto&&n&&(this.controlGesto=Pd(this,"Control"))},e.prototype._updateTargets=function(){var r=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=r.dragArea,this._propTarget=r.target,this._originalDragTarget=r.dragTarget||r.target,this._dragTarget=Ve(this._originalDragTarget,!0)},e.prototype._renderLines=function(){var r=this.props,n=r,i=n.zoom,a=n.hideDefaultLines,o=n.hideChildMoveableDefaultLines,s=n.parentMoveable;if(a||s&&o)return[];var l=this.getState(),u={createElement:Ie};return l.renderLines.map(function(f,c){return jn(u,"",f[0],f[1],i,"render-line-".concat(c))})},e.prototype._isTargetChanged=function(r){var n=this.props,i=n.dragTarget||n.target,a=this._prevOriginalDragTarget,o=this._prevDragArea,s=n.dragArea,l=!s&&a!==i,u=(r||s)&&o!==s;return l||u||this._prevPropTarget!=this._propTarget},e.prototype._updateNativeEvents=function(){var r=this,n=this.props,i=n.dragArea?this.areaElement:this.state.target,a=this.events,o=rr(a);if(this._isTargetChanged())for(var s in a){var l=a[s];l&&l.destroy(),a[s]=null}if(i){var u=this.enabledAbles;o.forEach(function(f){var c=Pi(u,[f]),d=c.length>0,p=a[f];if(!d){p&&(p.destroy(),a[f]=null);return}p||(p=new Pb(i,r,f),a[f]=p),p.setAbles(c)})}},e.prototype._checkUpdateRootContainer=function(){var r=this.props.rootContainer;!this._rootContainer&&r&&(this._rootContainer=Ve(r,!0))},e.prototype._checkUpdateViewContainer=function(){var r=this.props.viewContainer;!this._viewContainer&&r&&(this._viewContainer=Ve(r,!0));var n=this._viewContainer;n&&this._changeAbleViewClassNames(nt(nt([],A(this._getAbleViewClassNames()),!1),[this.isDragging()?ub:""],!1))},e.prototype._changeAbleViewClassNames=function(r){var n=this._viewContainer,i=gd(r.filter(Boolean),function(u){return u}).map(function(u){var f=A(u,1),c=f[0];return c}),a=this._viewClassNames,o=ti(a,i),s=o.removed,l=o.added;s.forEach(function(u){Uf(n,a[u])}),l.forEach(function(u){qf(n,i[u])}),this._viewClassNames=i},e.prototype._getAbleViewClassNames=function(){var r=this;return(this.getEnabledAbles().map(function(n){var i;return((i=n.viewClassName)===null||i===void 0?void 0:i.call(n,r))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},e.prototype._getAbleClassName=function(r){var n=this;r===void 0&&(r="");var i=this.getEnabledAbles(),a=this.targetGesto,o=this.controlGesto,s=a!=null&&a.isFlag()?a.getEventData():{},l=o!=null&&o.isFlag()?o.getEventData():{};return i.map(function(u){var f,c,d,p=u.name,v=((f=u.className)===null||f===void 0?void 0:f.call(u,n))||"";return(!((c=s[p])===null||c===void 0)&&c.isEventStart||!((d=l[p])===null||d===void 0)&&d.isEventStart)&&(v+=" ".concat(dt("".concat(p).concat(r,"-dragging")))),v.trim()}).filter(Boolean).join(" ")},e.prototype._updateResizeObserver=function(r){var n,i=this.props,a=i.target,o=vr(this.getControlBoxElement());if(!o.ResizeObserver||!a||!i.useResizeObserver){(n=this._reiszeObserver)===null||n===void 0||n.disconnect();return}if(!(r.target===a&&this._reiszeObserver)){var s=new o.ResizeObserver(this.checkUpdateRect);s.observe(a,{box:"border-box"}),this._reiszeObserver=s}},e.prototype._updateMutationObserver=function(r){var n=this,i,a=this.props,o=a.target,s=vr(this.getControlBoxElement());if(!s.MutationObserver||!o||!a.useMutationObserver){(i=this._mutationObserver)===null||i===void 0||i.disconnect();return}if(!(r.target===o&&this._mutationObserver)){var l=new s.MutationObserver(function(u){var f,c;try{for(var d=vm(u),p=d.next();!p.done;p=d.next()){var v=p.value;v.type==="attributes"&&v.attributeName==="style"&&n.checkUpdateRect()}}catch(h){f={error:h}}finally{try{p&&!p.done&&(c=d.return)&&c.call(d)}finally{if(f)throw f.error}}});l.observe(o,{attributes:!0}),this._mutationObserver=l}},e.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:od,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},e}(rc),Us={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(t,e){var r,n=t.props,i=n.targets||[],a=t.getState(),o=a.left,s=a.top,l=a.isPersisted,u=n.zoom||1,f=t.renderGroupRects,c=((r=n.persistData)===null||r===void 0?void 0:r.children)||[];l?i=c.map(function(){return null}):c=[];var d=Qr(t,"parentPosition",[o,s],function(v){return v.join(",")}),p=Qr(t,"requestStyles",t.getRequestChildStyles(),function(v){return v.join(",")});return t.moveables=t.moveables.slice(0,i.length),nt(nt([],A(i.map(function(v,h){return e.createElement(gn,{key:"moveable"+h,ref:Lf(t,"moveables",h),target:v,origin:!1,requestStyles:p,cssStyled:n.cssStyled,customStyledMap:n.customStyledMap,useResizeObserver:n.useResizeObserver,useMutationObserver:n.useMutationObserver,hideChildMoveableDefaultLines:n.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:[o,s],persistData:c[h],zoom:u})})),!1),A(md(f.map(function(v,h){var g=v.pos1,m=v.pos2,b=v.pos3,y=v.pos4,_=[g,m,b,y];return[[0,1],[1,3],[3,2],[2,0]].map(function(C,x){var w=A(C,2),S=w[0],E=w[1];return jn(e,"",pt(_[S],d),pt(_[E],d),u,"group-rect-".concat(h,"-").concat(x))})}))),!1)}},kb=oi("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var r=t.props.target,n=e.inputEvent,i=e.inputTarget,a=t.isMoveableElement(i),o=!a&&t.controlBox.contains(i);if(!(!n||!i||e.isDrag||t.isMoveableElement(i)||o)){var s=r.contains(i);ut(t,"onClick",xt(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:r===i,moveableTarget:t.props.target,containsTarget:s}))}},dragGroupEnd:function(t,e){var r=e.inputEvent,n=e.inputTarget;if(!(!r||!n||e.isDrag||t.isMoveableElement(n)||e.datas.inputTarget===n)){var i=t.props.targets,a=i.indexOf(n),o=a>-1,s=!1;a===-1&&(a=er(i,function(l){return l.contains(n)}),s=a>-1),ut(t,"onClickGroup",xt(t,e,{isDouble:e.isDouble,targets:i,inputTarget:n,targetIndex:a,isTarget:o,containsTarget:s,moveableTarget:i[a]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function Yr(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),P(P({},t),{datas:e})}var Bb=oi("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(t,e){var r=t.props,n=r.edgeDraggable;return n?Lc(e,"edgeDraggable",n,t.getState().renderPoses,r.zoom):[]},dragCondition:function(t,e){var r,n=t.props,i=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&qt(i,dt("direction"))&&qt(i,dt("edge"))&&qt(i,dt("edgeDraggable"))},dragStart:function(t,e){return le.dragStart(t,Yr(e))},drag:function(t,e){return le.drag(t,Yr(e))},dragEnd:function(t,e){return le.dragEnd(t,Yr(e))},dragGroupCondition:function(t,e){var r,n=t.props,i=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&qt(i,dt("direction"))&&qt(i,dt("line"))},dragGroupStart:function(t,e){return le.dragGroupStart(t,Yr(e))},dragGroup:function(t,e){return le.dragGroup(t,Yr(e))},dragGroupEnd:function(t,e){return le.dragGroupEnd(t,Yr(e))},unset:function(t){return le.unset(t)}}),Ad={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},Ks=[Od,wd,N1,ib,le,Bb,No,ab,sb,x1,db,pb,fb,Eb,wb,Rb,Us,Ad,kb,Cd,Rd],zb=Ks.reduce(function(t,e){return(e.events||[]).forEach(function(r){jf(t,r)}),t},[]),Gb=Ks.reduce(function(t,e){return(e.props||[]).forEach(function(r){jf(t,r)}),t},[]);function Du(t,e){var r=A(t,3),n=r[0],i=r[1],a=r[2];return(n*e[0]+i*e[1]+a)/Math.sqrt(n*n+i*i)}function ki(t,e){var r=A(t,2),n=r[0],i=r[1];return-n*e[0]-i*e[1]}function Mu(t,e){return Math.max.apply(Math,nt([],A(t.map(function(r){var n=A(r,4),i=n[0],a=n[1],o=n[2],s=n[3];return Math.max(i[e],a[e],o[e],s[e])})),!1))}function Ou(t,e){return Math.min.apply(Math,nt([],A(t.map(function(r){var n=A(r,4),i=n[0],a=n[1],o=n[2],s=n[3];return Math.min(i[e],a[e],o[e],s[e])})),!1))}function Fb(t,e){var r,n,i,a=[0,0],o=[0,0],s=[0,0],l=[0,0],u=0,f=0;if(!t.length)return{pos1:a,pos2:o,pos3:s,pos4:l,minX:0,minY:0,maxX:0,maxY:0,width:u,height:f,rotation:e};var c=bt(e,de);if(c%90){var d=c/180*Math.PI,p=Math.tan(d),v=-1/p,h=[Bo,Zl],g=[[0,0],[0,0]],m=[Bo,Zl],b=[[0,0],[0,0]];t.forEach(function(V){V.forEach(function(K){var q=Du([-p,1,0],K),et=Du([-v,1,0],K);h[0]>q&&(g[0]=K,h[0]=q),h[1]<q&&(g[1]=K,h[1]=q),m[0]>et&&(b[0]=K,m[0]=et),m[1]<et&&(b[1]=K,m[1]=et)})});var y=A(g,2),_=y[0],C=y[1],x=A(b,2),w=x[0],S=x[1],E=[-p,1,ki([-p,1],_)],D=[-p,1,ki([-p,1],C)],T=[-v,1,ki([-v,1],w)],I=[-v,1,ki([-v,1],S)];r=A([[E,T],[E,I],[D,T],[D,I]].map(function(V){var K=A(V,2),q=K[0],et=K[1];return Ms(q,et)[0]}),4),a=r[0],o=r[1],s=r[2],l=r[3],u=m[1]-m[0],f=h[1]-h[0]}else{var R=Ou(t,0),N=Ou(t,1),z=Mu(t,0),$=Mu(t,1);if(a=[R,N],o=[z,N],s=[R,$],l=[z,$],u=z-R,f=$-N,c%180){var k=[s,a,l,o];n=A(k,4),a=n[0],o=n[1],s=n[2],l=n[3],u=$-N,f=z-R}}if(c%360>180){var k=[l,s,o,a];i=A(k,4),a=i[0],o=i[1],s=i[2],l=i[3]}var L=Gr([a,o,s,l]),B=L.minX,H=L.minY,F=L.maxX,j=L.maxY;return{pos1:a,pos2:o,pos3:s,pos4:l,width:u,height:f,minX:B,minY:H,maxX:F,maxY:j,rotation:e}}function kd(t,e){var r=e.map(function(n){if(Xt(n)){var i=kd(t,n),a=i.length;return a>1?i:a===1?i[0]:null}else{var o=be(t,function(s){var l=s.manager;return l.props.target===n});return o?(o.finded=!0,o.manager):null}}).filter(Boolean);return r.length===1&&Xt(r[0])?r[0]:r}var Nb=function(t){ai(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.differ=new _c,r.moveables=[],r.transformOrigin="50% 50%",r.renderGroupRects=[],r._targetGroups=[],r._hasFirstTargets=!1,r}return e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this)},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(r,n,i){var a;i===void 0&&(i=!0);var o=this.state;if(!this.controlBox||o.isPersisted)return;pn(!0),this.moveables.forEach(function(ct){ct.updateRect(r,!1,!1)});var s=this.props,l=this.moveables,u=o.target||s.target,f=l.map(function(ct){return{finded:!1,manager:ct}}),c=this.props.targetGroups||[],d=kd(f,c),p=s.useDefaultGroupRotate;d.push.apply(d,nt([],A(f.filter(function(ct){var ht=ct.finded;return!ht}).map(function(ct){var ht=ct.manager;return ht})),!1));var v=[],h=!n||r!==""&&s.updateGroup,g=s.defaultGroupRotate||0;if(!this._hasFirstTargets){var m=(a=s.persistData)===null||a===void 0?void 0:a.rotation;m!=null&&(g=m)}function b(ct,ht,gt){var it=ct.map(function(X){if(Xt(X)){var U=b(X,ht),Q=[U.pos1,U.pos2,U.pos3,U.pos4];return v.push(U),{poses:Q,rotation:U.rotation}}else return{poses:Oe(X.state),rotation:X.getRotation()}}),ft=it.map(function(X){var U=X.rotation;return U}),M=0,O=ft[0],G=ft.every(function(X){return Math.abs(O-X)<.1});h?M=!p&&G?O:g:M=!p&&!gt&&G?O:ht;var W=it.map(function(X){var U=X.poses;return U}),Y=Fb(W,M);return Y}var y=b(d,this.rotation,!0);h&&(this.rotation=y.rotation,this.transformOrigin=s.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=c,this.renderGroupRects=v;var _=this.transformOrigin,C=this.rotation,x=this.scale,w=y.width,S=y.height,E=y.minX,D=y.minY,T=nb([[0,0],[w,0],[0,S],[w,S]],Ys(_,w,S),this.rotation/180*Math.PI),I=Gr(T.result),R=I.minX,N=I.minY,z=" rotate(".concat(C,"deg)")+" scale(".concat(ue(x[0]),", ").concat(ue(x[1]),")"),$="translate(".concat(-R,"px, ").concat(-N,"px)").concat(z);this.controlBox.style.transform="translate3d(".concat(E,"px, ").concat(D,"px, ").concat(this.props.translateZ||0,")"),u.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(_,";")+"width:".concat(w,"px;height:").concat(S,"px;")+"transform: ".concat($),o.width=w,o.height=S;var k=this.getContainer(),L=Xo(this.controlBox,u,this.controlBox,this.getContainer(),this._rootContainer||k,[]),B=[L.left,L.top],H=A(Oe(L),4),F=H[0],j=H[1],V=H[2],K=H[3],q=Gr([F,j,V,K]),et=[q.minX,q.minY],at=ue(x[0]*x[1]);L.pos1=pt(F,et),L.pos2=pt(j,et),L.pos3=pt(V,et),L.pos4=pt(K,et),L.left=E-L.left+et[0],L.top=D-L.top+et[1],L.origin=pt(Et(B,L.origin),et),L.beforeOrigin=pt(Et(B,L.beforeOrigin),et),L.originalBeforeOrigin=Et(B,L.originalBeforeOrigin),L.transformOrigin=pt(Et(B,L.transformOrigin),et),u.style.transform="translate(".concat(-R-et[0],"px, ").concat(-N-et[1],"px)")+z,pn(),this.updateState(P(P({},L),{posDelta:et,direction:at,beforeDirection:at}),i)},e.prototype.getRect=function(){return P(P({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},e.prototype.triggerEvent=function(r,n,i){if(i||r.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,r,n);this._emitter.trigger(r,n)},e.prototype.getRequestChildStyles=function(){var r=this.getEnabledAbles().reduce(function(n,i){var a,o,s=(o=(a=i.requestChildStyle)===null||a===void 0?void 0:a.call(i))!==null&&o!==void 0?o:[];return nt(nt([],A(n),!1),A(s),!1)},[]);return r},e.prototype.getMoveables=function(){return nt([],A(this.moveables),!1)},e.prototype.updateAbles=function(){t.prototype.updateAbles.call(this,nt(nt([],A(this.props.ables),!1),[Us],!1),"Group")},e.prototype._updateTargets=function(){t.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=Ve(this._originalDragTarget,!0)},e.prototype._updateEvents=function(){var r=this.state,n=this.props,i=this._prevDragTarget,a=n.dragTarget||this.areaElement,o=n.targets,s=this.differ.update(o),l=s.added,u=s.changed,f=s.removed,c=l.length||f.length;(c||this._prevOriginalDragTarget!==this._originalDragTarget)&&(Zr(this,!1),Zr(this,!0),this.updateState({gestos:{}})),i!==a&&(r.target=null),r.target||(r.target=this.areaElement,this.controlBox.style.display="block"),r.target&&(this.targetGesto||(this.targetGesto=Td(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=Pd(this,"GroupControl")));var d=!Vo(r.container,n.container);d&&(r.container=n.container),(d||c||this.transformOrigin!==(n.defaultGroupOrigin||"50% 50%")||u.length||o.length&&!_d(this._targetGroups,n.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!c},e.prototype._updateObserver=function(){},e.defaultProps=P(P({},gn.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(gn),Lb=function(t){ai(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.moveables=[],r}return e.prototype.render=function(){var r=this,n,i=this.props,a=i.cspNonce,o=i.cssStyled,s=i.persistData,l=i.targets||[],u=l.length,f=this.isUnmounted||!u,c=(n=s==null?void 0:s.children)!==null&&n!==void 0?n:[];return f&&!u&&c.length?l=c.map(function(){return null}):f||(c=[]),Ie(o,{cspNonce:a,ref:Qe(this,"controlBox"),className:dt("control-box")},l.map(function(d,p){var v,h,g=(h=(v=i.individualGroupableProps)===null||v===void 0?void 0:v.call(i,d,p))!==null&&h!==void 0?h:{};return Ie(gn,P({key:"moveable"+p,ref:Lf(r,"moveables",p)},i,g,{target:d,wrapperMoveable:r,isWrapperMounted:r.isMoveableMounted,persistData:c[p]}))}))},e.prototype.componentDidMount=function(){},e.prototype.componentDidUpdate=function(){},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(r,n,i){i===void 0&&(i=!0),pn(!0),this.moveables.forEach(function(a){a.updateRect(r,n,i)}),pn()},e.prototype.getRect=function(){return P(P({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},e.prototype.request=function(r,n,i){n===void 0&&(n={});var a=this.moveables.map(function(l){return l.request(r,P(P({},n),{isInstant:!1}),!1)}),o=i||n.isInstant,s={request:function(l){return a.forEach(function(u){return u.request(l)}),this},requestEnd:function(){return a.forEach(function(l){return l.requestEnd()}),this}};return o?s.request(n).requestEnd():s},e.prototype.dragStart=function(r,n){n===void 0&&(n=r.target);var i=n,a=be(this.moveables,function(o){var s=o.getTargets()[0],l=o.getControlBoxElement(),u=o.getDragElement();return!s||!u?!1:u===i||u.contains(i)||u!==s&&s===i||s.contains(i)||l===i||l.contains(i)});return a&&a.dragStart(r,n),this},e.prototype.hitTest=function(){return 0},e.prototype.isInside=function(){return!1},e.prototype.isDragging=function(){return!1},e.prototype.getDragElement=function(){return null},e.prototype.getMoveables=function(){return nt([],A(this.moveables),!1)},e.prototype.updateRenderPoses=function(){},e.prototype.checkUpdate=function(){},e.prototype.triggerEvent=function(){},e.prototype.updateAbles=function(){},e.prototype._updateEvents=function(){},e.prototype._updateObserver=function(){},e}(gn);function Bd(t,e){var r=[];return t.forEach(function(n){if(n){if(me(n)){e[n]&&r.push.apply(r,nt([],A(e[n]),!1));return}Xt(n)?r.push.apply(r,nt([],A(Bd(n,e)),!1)):r.push(n)}}),r}function zd(t,e){var r=[];return t.forEach(function(n){if(n){if(me(n)){e[n]&&r.push.apply(r,nt([],A(e[n]),!1));return}Xt(n)?r.push(zd(n,e)):r.push(n)}}),r}function Gd(t,e){return t.length!==e.length||t.some(function(r,n){var i=e[n];return!r&&!i?!1:r!=i?Xt(r)&&Xt(i)?Gd(r,i):!0:!1})}var Hb=function(t){ai(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.refTargets=[],r.selectorMap={},r._differ=new _c,r._elementTargets=[],r._tmpRefTargets=[],r._tmpSelectorMap={},r._onChangeTargets=null,r}return e.makeStyled=function(){var r={},n=this.getTotalAbles();n.forEach(function(a){var o=a.css;o&&o.forEach(function(s){r[s]=!0})});var i=rr(r).join(`
`);this.defaultStyled=wc("div",zg(Rs,Em+i))},e.getTotalAbles=function(){return nt([wd,Us,Ad,Cd],A(this.defaultAbles),!1)},e.prototype.render=function(){var r,n=this.constructor;n.defaultStyled||n.makeStyled();var i=this.props,a=i.ables,o=i.props,s=dm(i,["ables","props"]),l=A(this._updateRefs(!0),2),u=l[0],f=l[1],c=Bd(u,f),d=c.length>1,p=n.getTotalAbles(),v=nt(nt([],A(p),!1),A(a||[]),!1),h=P(P(P({},s),o||{}),{ables:v,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});this._elementTargets=c;var g=null,m=this.moveable,b=s.persistData;if(b!=null&&b.children&&(d=!0),s.individualGroupable)return Ie(Lb,P({key:"individual-group",ref:Qe(this,"moveable")},h,{target:null,targets:c}));if(d){var y=zd(u,f);if(m&&!m.props.groupable&&!m.props.individualGroupable){var _=m.props.target;_&&c.indexOf(_)>-1&&(g=P({},m.state))}return Ie(Nb,P({key:"group",ref:Qe(this,"moveable")},h,(r=s.groupableProps)!==null&&r!==void 0?r:{},{target:null,targets:c,targetGroups:y,firstRenderState:g}))}else{var C=c[0];if(m&&(m.props.groupable||m.props.individualGroupable)){var x=m.moveables||[],w=be(x,function(S){return S.props.target===C});w&&(g=P({},w.state))}return Ie(gn,P({key:"single",ref:Qe(this,"moveable")},h,{target:C,firstRenderState:g}))}},e.prototype.componentDidMount=function(){this._checkChangeTargets()},e.prototype.componentDidUpdate=function(){this._checkChangeTargets()},e.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},e.prototype.getTargets=function(){var r,n;return(n=(r=this.moveable)===null||r===void 0?void 0:r.getTargets())!==null&&n!==void 0?n:[]},e.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},e.prototype.waitToChangeTarget=function(){var r=this,n;return this._onChangeTargets=function(){r._onChangeTargets=null,n()},new Promise(function(i){n=i})},e.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},e.prototype.getManager=function(){return this.moveable},e.prototype.getMoveables=function(){return this.moveable.getMoveables()},e.prototype.getDragElement=function(){return this.moveable.getDragElement()},e.prototype._updateRefs=function(r){var n=this.refTargets,i=Vs(this.props.target||this.props.targets),a=typeof document<"u",o=Gd(n,i),s=this.selectorMap,l={};return this.refTargets.forEach(function u(f){if(me(f)){var c=s[f];c?l[f]=s[f]:a&&(o=!0,l[f]=[].slice.call(document.querySelectorAll(f)))}else Xt(f)&&f.forEach(u)}),this._tmpRefTargets=i,this._tmpSelectorMap=l,[i,l,!r&&o]},e.prototype._checkChangeTargets=function(){var r,n,i;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var a=this._differ.update(this._elementTargets),o=a.added,s=a.removed,l=o.length||s.length;l&&((n=(r=this.props).onChangeTargets)===null||n===void 0||n.call(r,{moveable:this.moveable,targets:this._elementTargets}),(i=this._onChangeTargets)===null||i===void 0||i.call(this));var u=A(this._updateRefs(),3),f=u[0],c=u[1],d=u[2];this.refTargets=f,this.selectorMap=c,d&&this.forceUpdate()},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,pm([Gg(Tc)],e.prototype,"moveable",void 0),e}(rc),$b=function(t){ai(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.defaultAbles=Ks,e}(Hb),jo=function(t,e){return jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},jo(t,e)};function Zs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Un=function(){return Un=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Un.apply(this,arguments)};function Wb(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}var Vb=function(t){Zs(e,t);function e(n){var i=t.call(this,n)||this;return i.state={},i.state=i.props,i}var r=e.prototype;return r.render=function(){return Ie($b,Un({ref:Qe(this,"moveable")},this.state))},e}(xs),ia=Gb,Fd=Tc,Nd=zb,Yb=function(t){Zs(e,t);function e(n,i){i===void 0&&(i={});var a=t.call(this)||this;a.containerProvider=null,a.selfElement=null,a._warp=!1;var o=Un({},i),s={};Nd.forEach(function(f){s[jg("on ".concat(f))]=function(c){return a.trigger(f,c)}});var l;i.warpSelf?(delete i.warpSelf,a._warp=!0,l=n):(l=mn(n).createElement("div"),n.appendChild(l)),a.containerProvider=Yl(Ie(Vb,Un({ref:Qe(a,"innerMoveable")},o,s)),l),a.selfElement=l;var u=o.target;return Xt(u)&&u.length>1&&a.updateRect(),a}var r=e.prototype;return r.setState=function(n,i){this.innerMoveable.setState(n,i)},r.forceUpdate=function(n){this.innerMoveable.forceUpdate(n)},r.dragStart=function(n,i){i===void 0&&(i=n.target);var a=this.innerMoveable;a.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(n,i)},r.destroy=function(){var n,i=this.selfElement;Yl(null,i,this.containerProvider),this._warp||(n=i==null?void 0:i.parentElement)===null||n===void 0||n.removeChild(i),this.containerProvider=null,this.off(),this.selfElement=null,this.innerMoveable=null},r.getMoveable=function(){return this.innerMoveable.moveable},e=Wb([zl(Fd,function(n,i){n[i]||(n[i]=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=this.getMoveable();if(!(!s||!s[i]))return s[i].apply(s,a)})}),zl(ia,function(n,i){Object.defineProperty(n,i,{get:function(){return this.getMoveable().props[i]},set:function(a){var o;this.setState((o={},o[i]=a,o))},enumerable:!0,configurable:!0})})],e),e}(_a),Xb=function(t){Zs(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Yb);const Ld={};Fd.forEach(t=>{Ld[t]=function(...e){return this.$_moveable[t](...e)}});const Hd={};ia.forEach(t=>{Hd[t]=function(e){this.$_moveable[t]=e}});const jb=je({name:"moveable",methods:Ld,props:ia,watch:Hd,mounted(){const t={},e=this.$props;ia.forEach(a=>{const o=e[a];Qn(o)||(t[a]=e[a])});const n=this.$refs.moveableElement,i=new Xb(n,{...t,warpSelf:!0});Nd.forEach(a=>{i.on(a,o=>{this.$emit(a,{...o})})}),this.$_moveable=i},beforeUnmount(){this.$_moveable.destroy()}}),qb=jb,Ub=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},Kb={ref:"moveableElement"};function Zb(t,e,r,n,i,a){return Tt(),Lt("div",Kb,null,512)}const Qb=Ub(qb,[["render",Zb]]),Jb={class:"container"},ty=["data-id","data-left","data-top","id","onMousedown"],ey=!0,ry=1,ny=!1,iy=0,ay=0,oy=je({__name:"moveble",props:{scale:{},snapsObj:{},shadow:{}},emits:["update:shadow","update:snapsObj"],setup(t,{emit:e}){const r=e,n=St(null),i=St(null),a={top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},o={top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},s=St(),l=St([{id:"target0",className:"element0",left:200,top:150,background:"#ee8",width:600,zIndex:1,height:600},{id:"target1",className:"element1",left:600,top:150,zIndex:1,background:"rgb(52, 55, 221)",width:400,height:300},{id:"target2",className:"element2",left:100,top:600,zIndex:1,background:"rgb(212, 67, 152)",width:400,height:400}]),u=(v,h)=>{const g=h.id;l.value.forEach(m=>m.zIndex=1),h.zIndex=2,n.value=g,rf(()=>{i.value.dragStart(v)})},f=v=>{s.value=JSON.parse(JSON.stringify(l.value))},c=v=>{let{target:h,translate:g}=v;const{id:m}=h.dataset,{left:b,top:y,width:_,height:C}=s.value.find(E=>E.id==m),[x,w]=g,S=l.value.find(E=>E.id==m);S.left=b+x,S.top=y+w,r("update:shadow",{x:S.left,y:S.top,width:_,height:C})},d=v=>({left:v.left+"px",top:v.top+"px",lineHeight:v.height+"px",width:v.width+"px",height:v.height+"px",zIndex:v.zIndex,transform:"rotate(0deg)",background:v.background}),p=v=>{i.value.updateRect()};return(v,h)=>(Tt(),Lt(ee,null,[J("div",Jb,[(Tt(!0),Lt(ee,null,ss(l.value,g=>(Tt(),Lt("div",{class:Ge(["target",g.className]),"data-id":g.id,"data-left":g.left,"data-top":g.top,id:g.id,style:Nt(d(g)),key:g.id,onMousedown:m=>u(m,g)},xe(g.className),47,ty))),128))]),Jt(At(Qb),{ref_key:"moveableRef",ref:i,snappable:!0,snapGap:!0,snapDirections:a,elementSnapDirections:o,snapThreshold:5/v.scale,target:`#${n.value}`,draggable:ey,throttleDrag:ry,edgeDraggable:ny,startDragRotate:iy,throttleDragRotate:ay,onDrag:c,onDragStart:f,onDragEnd:p},null,8,["snapThreshold","target"])],64))}}),Qs=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},sy=Qs(oy,[["__scopeId","data-v-57f891c4"]]),ly={class:"demo"},uy={class:"top font16"},fy=J("div",{class:"mr10"}," ",-1),cy={class:"scale mr10"},dy={class:"btns"},py=["onClick"],vy=["onClick"],hy=["onClick"],gy=je({__name:"UserRulerShadow",setup(t){const e=St(),r=ce({maxScale:3,minScale:.3,disablePan:!1,disableZoom:!1,contain:"none",handleStartEvent:c=>{c.preventDefault(),console.log("handleStartEvent",c)}}),n=St(!1);qe(()=>{window.addEventListener("resize",i);const c=e.value.panzoomInstance,d=document.getElementsByClassName("canvasedit-parent");if(d[0]){const p=d[0];p&&p.addEventListener("wheel",function(v){(v.ctrlKey||v.metaKey)&&c.zoomWithWheel(v)}),document.addEventListener("pointerdown",function(v){v.button===1&&(e.value.cursorClass="grabCursor",c.bind(),c.handleDown(v),v.preventDefault())}),document.addEventListener("pointerup",function(v){v.button===1&&(c.destroy(),console.log(""),e.value.cursorClass="defaultCursor")})}});const i=()=>{e.value&&e.value.initPanzoom()},a=ce({scale:1,isBlack:!1}),o=Dt(()=>a.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),s=ce({thick:20,width:1470,height:800,canvasWidth:1242,canvasHeight:1660,showRuler:!0,palette:o.value,snapsObj:{h:[0,100,200],v:[130]},shadow:{x:0,y:0,width:0,height:0},panzoomOption:r,isShowReferLine:!0,lines:{h:[0,250],v:[0,500]}}),l=Dt(()=>({width:`${s.width}px`,height:`${s.height}px`})),u=Dt(()=>Number(a.scale).toFixed(2)),f=Dt(()=>({width:`${s.canvasWidth}px`,height:`${s.canvasHeight}px`}));return(c,d)=>(Tt(),Lt("div",ly,[J("div",uy,[fy,J("div",cy," :"+xe(u.value),1)]),J("div",{class:Ge(["wrapper",[a.isBlack?"balckwrapper":"whitewrapper"]]),style:Nt(l.value)},[Jt(At(ma),un({ref_key:"sketchruleRef",ref:e,scale:a.scale,"onUpdate:scale":d[1]||(d[1]=p=>a.scale=p),lockLine:n.value,"onUpdate:lockLine":d[2]||(d[2]=p=>n.value=p)},s,{selfHandle:!0}),{default:Ye(()=>[J("div",{class:"container",style:Nt(f.value)},[Jt(sy,{scale:a.scale,shadow:s.shadow,"onUpdate:shadow":d[0]||(d[0]=p=>s.shadow=p),snapsObj:s.snapsObj},null,8,["scale","shadow","snapsObj"])],4)]),btn:Ye(({reset:p,zoomIn:v,zoomOut:h})=>[J("div",dy,[J("button",{onClick:Ft(p,["stop"])},"",8,py),J("button",{onClick:Ft(v,["stop"])},"",8,vy),J("button",{onClick:Ft(h,["stop"])},"",8,hy)])]),_:1},16,["scale","lockLine"])],6)]))}}),my={__name:"tab-item",props:{name:String,isActive:Boolean},setup(t){return(e,r)=>(Tt(),Lt("li",{class:Ge({active:t.isActive}),onClick:r[0]||(r[0]=n=>e.$emit("click",t.name))},[lo(e.$slots,"default",{},void 0,!0)],2))}},by=Qs(my,[["__scopeId","data-v-7d074d92"]]),yy={class:"tabs-container"},_y={class:"tab-buttons"},xy={class:"tab-contents"},Sy={class:"tab-content"},Cy={__name:"App",setup(t){const e=[{label:"1",index:0},{label:"2",index:1},{label:"",index:2},{label:"",index:3}],r=St(0),n=Dp();qe(()=>{i(r.value)});function i(a){switch(r.value=a,a){case 0:n.value=Bl;break;case 1:n.value=hg;break;case 2:n.value=kg;break;case 3:n.value=gy;break;default:n.value=Bl}}return(a,o)=>(Tt(),Lt("div",yy,[J("ul",_y,[(Tt(),Lt(ee,null,ss(e,(s,l)=>Jt(by,{key:l,name:s.name,isActive:r.value===l,onClick:u=>i(l)},{default:Ye(()=>[Kn(xe(s.label),1)]),_:2},1032,["name","isActive","onClick"])),64))]),J("div",xy,[J("div",Sy,[(Tt(),Lr(Yp(n.value)))])])]))}},wy=Qs(Cy,[["__scopeId","data-v-53d2f564"]]),Ey=fh(wy);Ey.mount("#app");
