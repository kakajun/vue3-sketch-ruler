import{d as W,r as l,a as b,c as p,b as g,e as t,f as y,l as A,t as F,g as d,h as q,j as G,w as x,u as B,n as S,k as J,o as v}from"./index-C5FnI5jC.js";import{b as K}from"./bg-ByMLKr0n.js";import{o as Q}from"./style-Bnm5zZyf.js";const ee={class:"demo"},te={class:"top font16"},oe={class:"top font16"},se={class:"scale mr10"},ne=["value"],le=["value"],ae=["value"],re=["src"],ie={class:"btns"},ue=["onClick"],ce=["onClick"],de=["onClick"],fe=W({__name:"comprehensive2",setup(he){const C=l(1470),w=l(800),m=l(1e3),f=l(500),h=l(0);l(1);const r=l(),u=l(!0),a=b({maxScale:3,minScale:.3,startX:0,startY:0,disablePan:!1,disableZoom:!1,origin:"0 0",contain:"none",handleStartEvent:o=>{o.preventDefault(),console.log("handleStartEvent",o)}}),k=l(!1),c=l({h:[0,100,200],v:[130]}),z=()=>{r.value&&r.value.zoomOut()},V=()=>{u.value=!u.value},R=()=>{r.value&&r.value.reset()},L=()=>{s.isBlack=!s.isBlack,h.value++},s=b({scale:1,isBlack:!1,lines:{h:[0,250],v:[0,500]},thick:20,shadow:{x:0,y:0,width:300,height:300},isShowRuler:!0,isShowReferLine:!0}),$=p(()=>({width:`${C.value}px`,height:`${w.value}px`})),I=p(()=>s.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),M=p(()=>Number(s.scale).toFixed(1)),E=p(()=>({width:`${m.value}px`,height:`${f.value}px`})),N=o=>{s.scale=o.target.value*1,r.value&&r.value.panzoomInstance.zoom(s.scale)},j=o=>{console.log("handleCornerClick",o)},D=o=>{console.log("zoomchange",o)},O=()=>{s.isShowReferLine=!s.isShowReferLine,console.log(s.isShowReferLine,"state.isShowReferLine")},U=o=>{const e=o.target.value.split(",");c.value.h=e.map(i=>Number(i))},X=o=>{const e=o.target.value.split(",");c.value.v=e.map(i=>Number(i))},Y=o=>{a.disableZoom=o.target.checked},_=o=>{a.disablePan=o.target.checked},P=o=>{a.contain=o.target.checked?"inside":"none"},T=()=>{s.shadow.x=Math.random()*m.value,s.shadow.y=Math.random()*f.value};return(o,e)=>{const i=A("el-input");return v(),g("div",ee,[t("div",te,[e[8]||(e[8]=t("div",{class:"mr10"},"设置autoCenter=false, 自己给初始值--- ",-1)),e[9]||(e[9]=t("div",{class:"mr10"}," X方向: ",-1)),y(i,{class:"mr10",style:{width:"90px"},modelValue:a.startX,"onUpdate:modelValue":e[0]||(e[0]=n=>a.startX=n),onChange:e[1]||(e[1]=n=>h.value++)},null,8,["modelValue"]),e[10]||(e[10]=t("div",{class:"mr10"}," Y方向: ",-1)),y(i,{class:"mr10",style:{width:"90px"},modelValue:a.startY,"onUpdate:modelValue":e[2]||(e[2]=n=>a.startY=n),onChange:e[3]||(e[3]=n=>h.value++)},null,8,["modelValue"])]),t("div",oe,[t("div",se," 缩放比:"+F(M.value),1),u.value?(v(),g("button",{key:0,class:"mr10 font16",onClick:e[4]||(e[4]=n=>u.value=!1)},"隐藏规尺")):(v(),g("button",{key:1,class:"mr10 font16",onClick:V},"显示规尺")),t("button",{class:"mr10 font16",onClick:O},"辅助线开关"),t("button",{class:"mr10 font16",onClick:e[5]||(e[5]=n=>k.value=!0)},"锁定参考线"),t("button",{class:"mr10 font16",onClick:T},"模拟阴影切换"),t("button",{class:"mr10 font16",onClick:L},"主题切换"),t("button",{class:"mr10 font16",onClick:d(R,["stop"])},"还原"),t("button",{class:"mr10 font16",onClick:d(z,["stop"])},"缩小"),e[11]||(e[11]=t("span",null,"禁止缩放",-1)),t("input",{type:"checkbox",class:"switch",onChange:Y},null,32),e[12]||(e[12]=t("span",null,"禁止移动",-1)),t("input",{type:"checkbox",class:"switch mr10",onChange:_},null,32),e[13]||(e[13]=t("span",null,"框内移动",-1)),t("input",{type:"checkbox",class:"switch mr10",onChange:P},null,32),t("input",{class:"mr10 font16",value:s.scale,type:"range",min:"0.3",max:"3",step:"0.1",defaultValue:"1",onInput:N},null,40,ne),e[14]||(e[14]=t("div",{class:"mr10"}," 吸附横线: ",-1)),t("input",{class:"mr10",style:{width:"90px"},value:c.value.h,onBlur:U},null,40,le),e[15]||(e[15]=t("div",{class:"mr10"}," 吸附纵线: ",-1)),t("input",{class:"mr10",style:{width:"90px"},value:c.value.v,onBlur:X},null,40,ae),e[16]||(e[16]=t("a",{href:"https://github.com/kakajun/vue3-sketch-ruler",target:"_blank",rel:"noopener noreferrer"},[t("i",{class:"fas fa-external-link-alt"}),q(" git源码 ")],-1))]),t("div",{class:J(["wrapper",[s.isBlack?"balckwrapper":"whitewrapper"]]),style:S($.value)},[(v(),G(B(Q),{key:h.value,ref_key:"sketchruleRef",ref:r,scale:s.scale,"onUpdate:scale":e[6]||(e[6]=n=>s.scale=n),"lock-line":k.value,"onUpdate:lockLine":e[7]||(e[7]=n=>k.value=n),thick:s.thick,width:C.value,"show-ruler":u.value,height:w.value,palette:I.value,"snaps-obj":c.value,autoCenter:!1,shadow:s.shadow,"canvas-width":m.value,"canvas-height":f.value,"panzoom-option":a,"is-show-refer-line":s.isShowReferLine,lines:s.lines,onOnCornerClick:j,onZoomchange:D},{default:x(()=>[t("div",{"data-type":"page",style:S(E.value)},[t("img",{class:"img-style",src:B(K),alt:""},null,8,re)],4)]),btn:x(({reset:n,zoomIn:Z,zoomOut:H})=>[t("div",ie,[t("button",{onClick:d(n,["stop"])},"还原",8,ue),t("button",{onClick:d(Z,["stop"])},"放大",8,ce),t("button",{onClick:d(H,["stop"])},"缩小",8,de)])]),_:1},8,["scale","lock-line","thick","width","show-ruler","height","palette","snaps-obj","shadow","canvas-width","canvas-height","panzoom-option","is-show-refer-line","lines"]))],6)])}}});export{fe as default};
