(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Cc(t,e){const r=new Set(t.split(","));return n=>r.has(n)}const be={},fa=[],Hr=()=>{},vE=()=>!1,Cu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ec=t=>t.startsWith("onUpdate:"),tr=Object.assign,Dc=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},hE=Object.prototype.hasOwnProperty,ee=(t,e)=>hE.call(t,e),Ht=Array.isArray,ca=t=>Eu(t)==="[object Map]",Tg=t=>Eu(t)==="[object Set]",Ut=t=>typeof t=="function",Pe=t=>typeof t=="string",li=t=>typeof t=="symbol",Se=t=>t!==null&&typeof t=="object",Ag=t=>(Se(t)||Ut(t))&&Ut(t.then)&&Ut(t.catch),Ig=Object.prototype.toString,Eu=t=>Ig.call(t),gE=t=>Eu(t).slice(8,-1),Pg=t=>Eu(t)==="[object Object]",Mc=t=>Pe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,no=Cc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Du=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},mE=/-(\w)/g,en=Du(t=>t.replace(mE,(e,r)=>r?r.toUpperCase():"")),_E=/\B([A-Z])/g,Fi=Du(t=>t.replace(_E,"-$1").toLowerCase()),Mu=Du(t=>t.charAt(0).toUpperCase()+t.slice(1)),lf=Du(t=>t?`on${Mu(t)}`:""),ii=(t,e)=>!Object.is(t,e),ff=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Bg=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},bE=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let rh;const Lg=()=>rh||(rh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Me(t){if(Ht(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=Pe(n)?wE(n):Me(n);if(i)for(const o in i)e[o]=i[o]}return e}else if(Pe(t)||Se(t))return t}const xE=/;(?![^(]*\))/g,yE=/:([^]+)/,SE=/\/\*[^]*?\*\//g;function wE(t){const e={};return t.replace(SE,"").split(xE).forEach(r=>{if(r){const n=r.split(yE);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function an(t){let e="";if(Pe(t))e=t;else if(Ht(t))for(let r=0;r<t.length;r++){const n=an(t[r]);n&&(e+=n+" ")}else if(Se(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const CE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",EE=Cc(CE);function zg(t){return!!t||t===""}const kg=t=>!!(t&&t.__v_isRef===!0),Tr=t=>Pe(t)?t:t==null?"":Ht(t)||Se(t)&&(t.toString===Ig||!Ut(t.toString))?kg(t)?Tr(t.value):JSON.stringify(t,Fg,2):String(t),Fg=(t,e)=>kg(e)?Fg(t,e.value):ca(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],o)=>(r[cf(n,o)+" =>"]=i,r),{})}:Tg(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>cf(r))}:li(e)?cf(e):Se(e)&&!Ht(e)&&!Pg(e)?String(e):e,cf=(t,e="")=>{var r;return li(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zr;class DE{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Zr,!e&&Zr&&(this.index=(Zr.scopes||(Zr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=Zr;try{return Zr=this,e()}finally{Zr=r}}}on(){Zr=this}off(){Zr=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function ME(t,e=Zr){e&&e.active&&e.effects.push(t)}function RE(){return Zr}let Ai;class Rc{constructor(e,r,n,i){this.fn=e,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,ME(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,fi();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(OE(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ci()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ei,r=Ai;try{return ei=!0,Ai=this,this._runnings++,nh(this),this.fn()}finally{ih(this),this._runnings--,Ai=r,ei=e}}stop(){this.active&&(nh(this),ih(this),this.onStop&&this.onStop(),this.active=!1)}}function OE(t){return t.value}function nh(t){t._trackId++,t._depsLength=0}function ih(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Gg(t.deps[e],t);t.deps.length=t._depsLength}}function Gg(t,e){const r=t.get(e);r!==void 0&&e._trackId!==r&&(t.delete(e),t.size===0&&t.cleanup())}let ei=!0,Bf=0;const Ng=[];function fi(){Ng.push(ei),ei=!1}function ci(){const t=Ng.pop();ei=t===void 0?!0:t}function Oc(){Bf++}function Tc(){for(Bf--;!Bf&&Lf.length;)Lf.shift()()}function Wg(t,e,r){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&Gg(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Lf=[];function Hg(t,e,r){Oc();for(const n of t.keys()){let i;n._dirtyLevel<e&&(i??(i=t.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=e),n._shouldSchedule&&(i??(i=t.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&Lf.push(n.scheduler)))}Tc()}const $g=(t,e)=>{const r=new Map;return r.cleanup=t,r.computed=e,r},zf=new WeakMap,Ii=Symbol(""),kf=Symbol("");function _r(t,e,r){if(ei&&Ai){let n=zf.get(t);n||zf.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=$g(()=>n.delete(r))),Wg(Ai,i)}}function An(t,e,r,n,i,o){const u=zf.get(t);if(!u)return;let l=[];if(e==="clear")l=[...u.values()];else if(r==="length"&&Ht(t)){const f=Number(n);u.forEach((c,p)=>{(p==="length"||!li(p)&&p>=f)&&l.push(c)})}else switch(r!==void 0&&l.push(u.get(r)),e){case"add":Ht(t)?Mc(r)&&l.push(u.get("length")):(l.push(u.get(Ii)),ca(t)&&l.push(u.get(kf)));break;case"delete":Ht(t)||(l.push(u.get(Ii)),ca(t)&&l.push(u.get(kf)));break;case"set":ca(t)&&l.push(u.get(Ii));break}Oc();for(const f of l)f&&Hg(f,4);Tc()}const TE=Cc("__proto__,__v_isRef,__isVue"),Ug=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(li)),ah=AE();function AE(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=oe(this);for(let o=0,u=this.length;o<u;o++)_r(n,"get",o+"");const i=n[e](...r);return i===-1||i===!1?n[e](...r.map(oe)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){fi(),Oc();const n=oe(this)[e].apply(this,r);return Tc(),ci(),n}}),t}function IE(t){li(t)||(t=String(t));const e=oe(this);return _r(e,"has",t),e.hasOwnProperty(t)}class Yg{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){const i=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return o;if(r==="__v_raw")return n===(i?o?YE:Kg:o?qg:Vg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const u=Ht(e);if(!i){if(u&&ee(ah,r))return Reflect.get(ah,r,n);if(r==="hasOwnProperty")return IE}const l=Reflect.get(e,r,n);return(li(r)?Ug.has(r):TE(r))||(i||_r(e,"get",r),o)?l:br(l)?u&&Mc(r)?l:l.value:Se(l)?i?Zg(l):lr(l):l}}class Xg extends Yg{constructor(e=!1){super(!1,e)}set(e,r,n,i){let o=e[r];if(!this._isShallow){const f=Pi(o);if(!ma(n)&&!Pi(n)&&(o=oe(o),n=oe(n)),!Ht(e)&&br(o)&&!br(n))return f?!1:(o.value=n,!0)}const u=Ht(e)&&Mc(r)?Number(r)<e.length:ee(e,r),l=Reflect.set(e,r,n,i);return e===oe(i)&&(u?ii(n,o)&&An(e,"set",r,n):An(e,"add",r,n)),l}deleteProperty(e,r){const n=ee(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&An(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!li(r)||!Ug.has(r))&&_r(e,"has",r),n}ownKeys(e){return _r(e,"iterate",Ht(e)?"length":Ii),Reflect.ownKeys(e)}}class PE extends Yg{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const BE=new Xg,LE=new PE,zE=new Xg(!0);const Ac=t=>t,Ru=t=>Reflect.getPrototypeOf(t);function Rs(t,e,r=!1,n=!1){t=t.__v_raw;const i=oe(t),o=oe(e);r||(ii(e,o)&&_r(i,"get",e),_r(i,"get",o));const{has:u}=Ru(i),l=n?Ac:r?Bc:ho;if(u.call(i,e))return l(t.get(e));if(u.call(i,o))return l(t.get(o));t!==i&&t.get(e)}function Os(t,e=!1){const r=this.__v_raw,n=oe(r),i=oe(t);return e||(ii(t,i)&&_r(n,"has",t),_r(n,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function Ts(t,e=!1){return t=t.__v_raw,!e&&_r(oe(t),"iterate",Ii),Reflect.get(t,"size",t)}function oh(t,e=!1){!e&&!ma(t)&&!Pi(t)&&(t=oe(t));const r=oe(this);return Ru(r).has.call(r,t)||(r.add(t),An(r,"add",t,t)),this}function sh(t,e,r=!1){!r&&!ma(e)&&!Pi(e)&&(e=oe(e));const n=oe(this),{has:i,get:o}=Ru(n);let u=i.call(n,t);u||(t=oe(t),u=i.call(n,t));const l=o.call(n,t);return n.set(t,e),u?ii(e,l)&&An(n,"set",t,e):An(n,"add",t,e),this}function uh(t){const e=oe(this),{has:r,get:n}=Ru(e);let i=r.call(e,t);i||(t=oe(t),i=r.call(e,t)),n&&n.call(e,t);const o=e.delete(t);return i&&An(e,"delete",t,void 0),o}function lh(){const t=oe(this),e=t.size!==0,r=t.clear();return e&&An(t,"clear",void 0,void 0),r}function As(t,e){return function(n,i){const o=this,u=o.__v_raw,l=oe(u),f=e?Ac:t?Bc:ho;return!t&&_r(l,"iterate",Ii),u.forEach((c,p)=>n.call(i,f(c),f(p),o))}}function Is(t,e,r){return function(...n){const i=this.__v_raw,o=oe(i),u=ca(o),l=t==="entries"||t===Symbol.iterator&&u,f=t==="keys"&&u,c=i[t](...n),p=r?Ac:e?Bc:ho;return!e&&_r(o,"iterate",f?kf:Ii),{next(){const{value:v,done:h}=c.next();return h?{value:v,done:h}:{value:l?[p(v[0]),p(v[1])]:p(v),done:h}},[Symbol.iterator](){return this}}}}function qn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function kE(){const t={get(o){return Rs(this,o)},get size(){return Ts(this)},has:Os,add:oh,set:sh,delete:uh,clear:lh,forEach:As(!1,!1)},e={get(o){return Rs(this,o,!1,!0)},get size(){return Ts(this)},has:Os,add(o){return oh.call(this,o,!0)},set(o,u){return sh.call(this,o,u,!0)},delete:uh,clear:lh,forEach:As(!1,!0)},r={get(o){return Rs(this,o,!0)},get size(){return Ts(this,!0)},has(o){return Os.call(this,o,!0)},add:qn("add"),set:qn("set"),delete:qn("delete"),clear:qn("clear"),forEach:As(!0,!1)},n={get(o){return Rs(this,o,!0,!0)},get size(){return Ts(this,!0)},has(o){return Os.call(this,o,!0)},add:qn("add"),set:qn("set"),delete:qn("delete"),clear:qn("clear"),forEach:As(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Is(o,!1,!1),r[o]=Is(o,!0,!1),e[o]=Is(o,!1,!0),n[o]=Is(o,!0,!0)}),[t,r,e,n]}const[FE,GE,NE,WE]=kE();function Ic(t,e){const r=e?t?WE:NE:t?GE:FE;return(n,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(ee(r,i)&&i in n?r:n,i,o)}const HE={get:Ic(!1,!1)},$E={get:Ic(!1,!0)},UE={get:Ic(!0,!1)};const Vg=new WeakMap,qg=new WeakMap,Kg=new WeakMap,YE=new WeakMap;function XE(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function VE(t){return t.__v_skip||!Object.isExtensible(t)?0:XE(gE(t))}function lr(t){return Pi(t)?t:Pc(t,!1,BE,HE,Vg)}function qE(t){return Pc(t,!1,zE,$E,qg)}function Zg(t){return Pc(t,!0,LE,UE,Kg)}function Pc(t,e,r,n,i){if(!Se(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const u=VE(t);if(u===0)return t;const l=new Proxy(t,u===2?n:r);return i.set(t,l),l}function io(t){return Pi(t)?io(t.__v_raw):!!(t&&t.__v_isReactive)}function Pi(t){return!!(t&&t.__v_isReadonly)}function ma(t){return!!(t&&t.__v_isShallow)}function jg(t){return t?!!t.__v_raw:!1}function oe(t){const e=t&&t.__v_raw;return e?oe(e):t}function KE(t){return Object.isExtensible(t)&&Bg(t,"__v_skip",!0),t}const ho=t=>Se(t)?lr(t):t,Bc=t=>Se(t)?Zg(t):t;class Jg{constructor(e,r,n,i){this.getter=e,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Rc(()=>e(this._value),()=>Qs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=oe(this);return(!e._cacheable||e.effect.dirty)&&ii(e._value,e._value=e.effect.run())&&Qs(e,4),Qg(e),e.effect._dirtyLevel>=2&&Qs(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function ZE(t,e,r=!1){let n,i;const o=Ut(t);return o?(n=t,i=Hr):(n=t.get,i=t.set),new Jg(n,i,o||!i,r)}function Qg(t){var e;ei&&Ai&&(t=oe(t),Wg(Ai,(e=t.dep)!=null?e:t.dep=$g(()=>t.dep=void 0,t instanceof Jg?t:void 0)))}function Qs(t,e=4,r,n){t=oe(t);const i=t.dep;i&&Hg(i,e)}function br(t){return!!(t&&t.__v_isRef===!0)}function Kt(t){return jE(t,!1)}function jE(t,e){return br(t)?t:new JE(t,e)}class JE{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:oe(e),this._value=r?e:ho(e)}get value(){return Qg(this),this._value}set value(e){const r=this.__v_isShallow||ma(e)||Pi(e);e=r?e:oe(e),ii(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=r?e:ho(e),Qs(this,4))}}function he(t){return br(t)?t.value:t}const QE={get:(t,e,r)=>he(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return br(i)&&!br(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function t0(t){return io(t)?t:new Proxy(t,QE)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ri(t,e,r,n){try{return n?t(...n):t()}catch(i){Ou(i,e,r)}}function Jr(t,e,r,n){if(Ut(t)){const i=ri(t,e,r,n);return i&&Ag(i)&&i.catch(o=>{Ou(o,e,r)}),i}if(Ht(t)){const i=[];for(let o=0;o<t.length;o++)i.push(Jr(t[o],e,r,n));return i}}function Ou(t,e,r,n=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const u=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const c=o.ec;if(c){for(let p=0;p<c.length;p++)if(c[p](t,u,l)===!1)return}o=o.parent}const f=e.appContext.config.errorHandler;if(f){fi(),ri(f,null,10,[t,u,l]),ci();return}}tD(t,r,i,n)}function tD(t,e,r,n=!0){console.error(t)}let go=!1,Ff=!1;const Je=[];let dn=0;const da=[];let Zn=null,Ei=0;const e0=Promise.resolve();let Lc=null;function r0(t){const e=Lc||e0;return t?e.then(this?t.bind(this):t):e}function eD(t){let e=dn+1,r=Je.length;for(;e<r;){const n=e+r>>>1,i=Je[n],o=mo(i);o<t||o===t&&i.pre?e=n+1:r=n}return e}function zc(t){(!Je.length||!Je.includes(t,go&&t.allowRecurse?dn+1:dn))&&(t.id==null?Je.push(t):Je.splice(eD(t.id),0,t),n0())}function n0(){!go&&!Ff&&(Ff=!0,Lc=e0.then(a0))}function rD(t){const e=Je.indexOf(t);e>dn&&Je.splice(e,1)}function nD(t){Ht(t)?da.push(...t):(!Zn||!Zn.includes(t,t.allowRecurse?Ei+1:Ei))&&da.push(t),n0()}function fh(t,e,r=go?dn+1:0){for(;r<Je.length;r++){const n=Je[r];if(n&&n.pre){if(t&&n.id!==t.uid)continue;Je.splice(r,1),r--,n()}}}function i0(t){if(da.length){const e=[...new Set(da)].sort((r,n)=>mo(r)-mo(n));if(da.length=0,Zn){Zn.push(...e);return}for(Zn=e,Ei=0;Ei<Zn.length;Ei++){const r=Zn[Ei];r.active!==!1&&r()}Zn=null,Ei=0}}const mo=t=>t.id==null?1/0:t.id,iD=(t,e)=>{const r=mo(t)-mo(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function a0(t){Ff=!1,go=!0,Je.sort(iD);try{for(dn=0;dn<Je.length;dn++){const e=Je[dn];e&&e.active!==!1&&ri(e,e.i,e.i?15:14)}}finally{dn=0,Je.length=0,i0(),go=!1,Lc=null,(Je.length||da.length)&&a0()}}let $e=null,o0=null;function ou(t){const e=$e;return $e=t,o0=t&&t.type.__scopeId||null,e}function gn(t,e=$e,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&bh(-1);const o=ou(e);let u;try{u=t(...i)}finally{ou(o),n._d&&bh(1)}return u};return n._n=!0,n._c=!0,n._d=!0,n}function pa(t,e){if($e===null)return t;const r=Lu($e),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,u,l,f=be]=e[i];o&&(Ut(o)&&(o={mounted:o,updated:o}),o.deep&&Jn(u),n.push({dir:o,instance:r,value:u,oldValue:void 0,arg:l,modifiers:f}))}return t}function wi(t,e,r,n){const i=t.dirs,o=e&&e.dirs;for(let u=0;u<i.length;u++){const l=i[u];o&&(l.oldValue=o[u].value);let f=l.dir[n];f&&(fi(),Jr(f,r,8,[t.el,l,t,e]),ci())}}function s0(t,e){t.shapeFlag&6&&t.component?s0(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function _n(t,e){return Ut(t)?tr({name:t.name},e,{setup:t}):t}const ao=t=>!!t.type.__asyncLoader,u0=t=>t.type.__isKeepAlive;function aD(t,e){l0(t,"a",e)}function oD(t,e){l0(t,"da",e)}function l0(t,e,r=Ve){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Tu(e,n,r),r){let i=r.parent;for(;i&&i.parent;)u0(i.parent.vnode)&&sD(n,e,r,i),i=i.parent}}function sD(t,e,r,n){const i=Tu(e,t,n,!0);Au(()=>{Dc(n[e],i)},r)}function Tu(t,e,r=Ve,n=!1){if(r){const i=r[t]||(r[t]=[]),o=e.__weh||(e.__weh=(...u)=>{fi();const l=Mo(r),f=Jr(e,r,t,u);return l(),ci(),f});return n?i.unshift(o):i.push(o),o}}const kn=t=>(e,r=Ve)=>{(!Bu||t==="sp")&&Tu(t,(...n)=>e(...n),r)},f0=kn("bm"),bn=kn("m"),uD=kn("bu"),lD=kn("u"),fD=kn("bum"),Au=kn("um"),cD=kn("sp"),dD=kn("rtg"),pD=kn("rtc");function vD(t,e=Ve){Tu("ec",t,e)}const hD="components",c0=Symbol.for("v-ndc");function gD(t){return Pe(t)?mD(hD,t,!1)||t:t||c0}function mD(t,e,r=!0,n=!1){const i=$e||Ve;if(i){const o=i.type;{const l=uM(o,!1);if(l&&(l===e||l===en(e)||l===Mu(en(e))))return o}const u=ch(i[t]||o[t],e)||ch(i.appContext[t],e);return!u&&n?o:u}}function ch(t,e){return t&&(t[e]||t[en(e)]||t[Mu(en(e))])}function kc(t,e,r,n){let i;const o=r;if(Ht(t)||Pe(t)){i=new Array(t.length);for(let u=0,l=t.length;u<l;u++)i[u]=e(t[u],u,void 0,o)}else if(typeof t=="number"){i=new Array(t);for(let u=0;u<t;u++)i[u]=e(u+1,u,void 0,o)}else if(Se(t))if(t[Symbol.iterator])i=Array.from(t,(u,l)=>e(u,l,void 0,o));else{const u=Object.keys(t);i=new Array(u.length);for(let l=0,f=u.length;l<f;l++){const c=u[l];i[l]=e(t[c],c,l,o)}}else i=[];return i}function Gf(t,e,r={},n,i){if($e.isCE||$e.parent&&ao($e.parent)&&$e.parent.isCE)return e!=="default"&&(r.name=e),Qe("slot",r,n);let o=t[e];o&&o._c&&(o._d=!1),ue();const u=o&&d0(o(r)),l=di(je,{key:(r.key||u&&u.key||`_${e}`)+(!u&&n?"_fb":"")},u||[],u&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function d0(t){return t.some(e=>O0(e)?!(e.type===ai||e.type===je&&!d0(e.children)):!0)?t:null}const Nf=t=>t?A0(t)?Lu(t):Nf(t.parent):null,oo=tr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Nf(t.parent),$root:t=>Nf(t.root),$emit:t=>t.emit,$options:t=>Fc(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,zc(t.update)}),$nextTick:t=>t.n||(t.n=r0.bind(t.proxy)),$watch:t=>HD.bind(t)}),df=(t,e)=>t!==be&&!t.__isScriptSetup&&ee(t,e),_D={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:o,accessCache:u,type:l,appContext:f}=t;let c;if(e[0]!=="$"){const g=u[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return o[e]}else{if(df(n,e))return u[e]=1,n[e];if(i!==be&&ee(i,e))return u[e]=2,i[e];if((c=t.propsOptions[0])&&ee(c,e))return u[e]=3,o[e];if(r!==be&&ee(r,e))return u[e]=4,r[e];Wf&&(u[e]=0)}}const p=oo[e];let v,h;if(p)return e==="$attrs"&&_r(t.attrs,"get",""),p(t);if((v=l.__cssModules)&&(v=v[e]))return v;if(r!==be&&ee(r,e))return u[e]=4,r[e];if(h=f.config.globalProperties,ee(h,e))return h[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:o}=t;return df(i,e)?(i[e]=r,!0):n!==be&&ee(n,e)?(n[e]=r,!0):ee(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:o}},u){let l;return!!r[u]||t!==be&&ee(t,u)||df(e,u)||(l=o[0])&&ee(l,u)||ee(n,u)||ee(oo,u)||ee(i.config.globalProperties,u)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:ee(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function dh(t){return Ht(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Wf=!0;function bD(t){const e=Fc(t),r=t.proxy,n=t.ctx;Wf=!1,e.beforeCreate&&ph(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:u,watch:l,provide:f,inject:c,created:p,beforeMount:v,mounted:h,beforeUpdate:g,updated:m,activated:b,deactivated:x,beforeDestroy:y,beforeUnmount:w,destroyed:C,unmounted:E,render:T,renderTracked:D,renderTriggered:A,errorCaptured:M,serverPrefetch:I,expose:P,inheritAttrs:H,components:$,directives:F,filters:Z}=e;if(c&&xD(c,n,null),u)for(const G in u){const j=u[G];Ut(j)&&(n[G]=j.bind(r))}if(i){const G=i.call(r,r);Se(G)&&(t.data=lr(G))}if(Wf=!0,o)for(const G in o){const j=o[G],U=Ut(j)?j.bind(r,r):Ut(j.get)?j.get.bind(r,r):Hr,J=!Ut(j)&&Ut(j.set)?j.set.bind(r):Hr,q=ie({get:U,set:J});Object.defineProperty(n,G,{enumerable:!0,configurable:!0,get:()=>q.value,set:st=>q.value=st})}if(l)for(const G in l)p0(l[G],n,r,G);if(f){const G=Ut(f)?f.call(r):f;Reflect.ownKeys(G).forEach(j=>{DD(j,G[j])})}p&&ph(p,t,"c");function et(G,j){Ht(j)?j.forEach(U=>G(U.bind(r))):j&&G(j.bind(r))}if(et(f0,v),et(bn,h),et(uD,g),et(lD,m),et(aD,b),et(oD,x),et(vD,M),et(pD,D),et(dD,A),et(fD,w),et(Au,E),et(cD,I),Ht(P))if(P.length){const G=t.exposed||(t.exposed={});P.forEach(j=>{Object.defineProperty(G,j,{get:()=>r[j],set:U=>r[j]=U})})}else t.exposed||(t.exposed={});T&&t.render===Hr&&(t.render=T),H!=null&&(t.inheritAttrs=H),$&&(t.components=$),F&&(t.directives=F)}function xD(t,e,r=Hr){Ht(t)&&(t=Hf(t));for(const n in t){const i=t[n];let o;Se(i)?"default"in i?o=tu(i.from||n,i.default,!0):o=tu(i.from||n):o=tu(i),br(o)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:u=>o.value=u}):e[n]=o}}function ph(t,e,r){Jr(Ht(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function p0(t,e,r,n){const i=n.includes(".")?D0(r,n):()=>r[n];if(Pe(t)){const o=e[t];Ut(o)&&vn(i,o)}else if(Ut(t))vn(i,t.bind(r));else if(Se(t))if(Ht(t))t.forEach(o=>p0(o,e,r,n));else{const o=Ut(t.handler)?t.handler.bind(r):e[t.handler];Ut(o)&&vn(i,o,t)}}function Fc(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:u}}=t.appContext,l=o.get(e);let f;return l?f=l:!i.length&&!r&&!n?f=e:(f={},i.length&&i.forEach(c=>su(f,c,u,!0)),su(f,e,u)),Se(e)&&o.set(e,f),f}function su(t,e,r,n=!1){const{mixins:i,extends:o}=e;o&&su(t,o,r,!0),i&&i.forEach(u=>su(t,u,r,!0));for(const u in e)if(!(n&&u==="expose")){const l=yD[u]||r&&r[u];t[u]=l?l(t[u],e[u]):e[u]}return t}const yD={data:vh,props:hh,emits:hh,methods:Qa,computed:Qa,beforeCreate:ar,created:ar,beforeMount:ar,mounted:ar,beforeUpdate:ar,updated:ar,beforeDestroy:ar,beforeUnmount:ar,destroyed:ar,unmounted:ar,activated:ar,deactivated:ar,errorCaptured:ar,serverPrefetch:ar,components:Qa,directives:Qa,watch:wD,provide:vh,inject:SD};function vh(t,e){return e?t?function(){return tr(Ut(t)?t.call(this,this):t,Ut(e)?e.call(this,this):e)}:e:t}function SD(t,e){return Qa(Hf(t),Hf(e))}function Hf(t){if(Ht(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function ar(t,e){return t?[...new Set([].concat(t,e))]:e}function Qa(t,e){return t?tr(Object.create(null),t,e):e}function hh(t,e){return t?Ht(t)&&Ht(e)?[...new Set([...t,...e])]:tr(Object.create(null),dh(t),dh(e??{})):e}function wD(t,e){if(!t)return e;if(!e)return t;const r=tr(Object.create(null),t);for(const n in e)r[n]=ar(t[n],e[n]);return r}function v0(){return{app:null,config:{isNativeTag:vE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let CD=0;function ED(t,e){return function(n,i=null){Ut(n)||(n=tr({},n)),i!=null&&!Se(i)&&(i=null);const o=v0(),u=new WeakSet;let l=!1;const f=o.app={_uid:CD++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:fM,get config(){return o.config},set config(c){},use(c,...p){return u.has(c)||(c&&Ut(c.install)?(u.add(c),c.install(f,...p)):Ut(c)&&(u.add(c),c(f,...p))),f},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),f},component(c,p){return p?(o.components[c]=p,f):o.components[c]},directive(c,p){return p?(o.directives[c]=p,f):o.directives[c]},mount(c,p,v){if(!l){const h=Qe(n,i);return h.appContext=o,v===!0?v="svg":v===!1&&(v=void 0),p&&e?e(h,c):t(h,c,v),l=!0,f._container=c,c.__vue_app__=f,Lu(h.component)}},unmount(){l&&(t(null,f._container),delete f._container.__vue_app__)},provide(c,p){return o.provides[c]=p,f},runWithContext(c){const p=va;va=f;try{return c()}finally{va=p}}};return f}}let va=null;function DD(t,e){if(Ve){let r=Ve.provides;const n=Ve.parent&&Ve.parent.provides;n===r&&(r=Ve.provides=Object.create(n)),r[t]=e}}function tu(t,e,r=!1){const n=Ve||$e;if(n||va){const i=va?va._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&Ut(e)?e.call(n&&n.proxy):e}}const h0={},g0=()=>Object.create(h0),m0=t=>Object.getPrototypeOf(t)===h0;function MD(t,e,r,n=!1){const i={},o=g0();t.propsDefaults=Object.create(null),_0(t,e,i,o);for(const u in t.propsOptions[0])u in i||(i[u]=void 0);r?t.props=n?i:qE(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function RD(t,e,r,n){const{props:i,attrs:o,vnode:{patchFlag:u}}=t,l=oe(i),[f]=t.propsOptions;let c=!1;if((n||u>0)&&!(u&16)){if(u&8){const p=t.vnode.dynamicProps;for(let v=0;v<p.length;v++){let h=p[v];if(Iu(t.emitsOptions,h))continue;const g=e[h];if(f)if(ee(o,h))g!==o[h]&&(o[h]=g,c=!0);else{const m=en(h);i[m]=$f(f,l,m,g,t,!1)}else g!==o[h]&&(o[h]=g,c=!0)}}}else{_0(t,e,i,o)&&(c=!0);let p;for(const v in l)(!e||!ee(e,v)&&((p=Fi(v))===v||!ee(e,p)))&&(f?r&&(r[v]!==void 0||r[p]!==void 0)&&(i[v]=$f(f,l,v,void 0,t,!0)):delete i[v]);if(o!==l)for(const v in o)(!e||!ee(e,v))&&(delete o[v],c=!0)}c&&An(t.attrs,"set","")}function _0(t,e,r,n){const[i,o]=t.propsOptions;let u=!1,l;if(e)for(let f in e){if(no(f))continue;const c=e[f];let p;i&&ee(i,p=en(f))?!o||!o.includes(p)?r[p]=c:(l||(l={}))[p]=c:Iu(t.emitsOptions,f)||(!(f in n)||c!==n[f])&&(n[f]=c,u=!0)}if(o){const f=oe(r),c=l||be;for(let p=0;p<o.length;p++){const v=o[p];r[v]=$f(i,f,v,c[v],t,!ee(c,v))}}return u}function $f(t,e,r,n,i,o){const u=t[r];if(u!=null){const l=ee(u,"default");if(l&&n===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&Ut(f)){const{propsDefaults:c}=i;if(r in c)n=c[r];else{const p=Mo(i);n=c[r]=f.call(null,e),p()}}else n=f}u[0]&&(o&&!l?n=!1:u[1]&&(n===""||n===Fi(r))&&(n=!0))}return n}const OD=new WeakMap;function b0(t,e,r=!1){const n=r?OD:e.propsCache,i=n.get(t);if(i)return i;const o=t.props,u={},l=[];let f=!1;if(!Ut(t)){const p=v=>{f=!0;const[h,g]=b0(v,e,!0);tr(u,h),g&&l.push(...g)};!r&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!o&&!f)return Se(t)&&n.set(t,fa),fa;if(Ht(o))for(let p=0;p<o.length;p++){const v=en(o[p]);gh(v)&&(u[v]=be)}else if(o)for(const p in o){const v=en(p);if(gh(v)){const h=o[p],g=u[v]=Ht(h)||Ut(h)?{type:h}:tr({},h),m=g.type;let b=!1,x=!0;if(Ht(m))for(let y=0;y<m.length;++y){const w=m[y],C=Ut(w)&&w.name;if(C==="Boolean"){b=!0;break}else C==="String"&&(x=!1)}else b=Ut(m)&&m.name==="Boolean";g[0]=b,g[1]=x,(b||ee(g,"default"))&&l.push(v)}}const c=[u,l];return Se(t)&&n.set(t,c),c}function gh(t){return t[0]!=="$"&&!no(t)}const x0=t=>t[0]==="_"||t==="$stable",Gc=t=>Ht(t)?t.map(cn):[cn(t)],TD=(t,e,r)=>{if(e._n)return e;const n=gn((...i)=>Gc(e(...i)),r);return n._c=!1,n},y0=(t,e,r)=>{const n=t._ctx;for(const i in t){if(x0(i))continue;const o=t[i];if(Ut(o))e[i]=TD(i,o,n);else if(o!=null){const u=Gc(o);e[i]=()=>u}}},S0=(t,e)=>{const r=Gc(e);t.slots.default=()=>r},w0=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},AD=(t,e,r)=>{const n=t.slots=g0();if(t.vnode.shapeFlag&32){const i=e._;i?(w0(n,e,r),r&&Bg(n,"_",i,!0)):y0(e,n)}else e&&S0(t,e)},ID=(t,e,r)=>{const{vnode:n,slots:i}=t;let o=!0,u=be;if(n.shapeFlag&32){const l=e._;l?r&&l===1?o=!1:w0(i,e,r):(o=!e.$stable,y0(e,i)),u=e}else e&&(S0(t,e),u={default:1});if(o)for(const l in i)!x0(l)&&u[l]==null&&delete i[l]};function Uf(t,e,r,n,i=!1){if(Ht(t)){t.forEach((h,g)=>Uf(h,e&&(Ht(e)?e[g]:e),r,n,i));return}if(ao(n)&&!i)return;const o=n.shapeFlag&4?Lu(n.component):n.el,u=i?null:o,{i:l,r:f}=t,c=e&&e.r,p=l.refs===be?l.refs={}:l.refs,v=l.setupState;if(c!=null&&c!==f&&(Pe(c)?(p[c]=null,ee(v,c)&&(v[c]=null)):br(c)&&(c.value=null)),Ut(f))ri(f,l,12,[u,p]);else{const h=Pe(f),g=br(f);if(h||g){const m=()=>{if(t.f){const b=h?ee(v,f)?v[f]:p[f]:f.value;i?Ht(b)&&Dc(b,o):Ht(b)?b.includes(o)||b.push(o):h?(p[f]=[o],ee(v,f)&&(v[f]=p[f])):(f.value=[o],t.k&&(p[t.k]=f.value))}else h?(p[f]=u,ee(v,f)&&(v[f]=u)):g&&(f.value=u,t.k&&(p[t.k]=u))};u?(m.id=-1,gr(m,r)):m()}}}const PD=Symbol("_vte"),BD=t=>t.__isTeleport,gr=ZD;function LD(t){return zD(t)}function zD(t,e){const r=Lg();r.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:u,createText:l,createComment:f,setText:c,setElementText:p,parentNode:v,nextSibling:h,setScopeId:g=Hr,insertStaticContent:m}=t,b=(B,L,V,rt=null,tt=null,at=null,lt=void 0,ft=null,vt=!!L.dynamicChildren)=>{if(B===L)return;B&&!Za(B,L)&&(rt=St(B),st(B,tt,at,!0),B=null),L.patchFlag===-2&&(vt=!1,L.dynamicChildren=null);const{type:ut,ref:yt,shapeFlag:Ct}=L;switch(ut){case Pu:x(B,L,V,rt);break;case ai:y(B,L,V,rt);break;case eu:B==null&&w(L,V,rt,lt);break;case je:$(B,L,V,rt,tt,at,lt,ft,vt);break;default:Ct&1?T(B,L,V,rt,tt,at,lt,ft,vt):Ct&6?F(B,L,V,rt,tt,at,lt,ft,vt):(Ct&64||Ct&128)&&ut.process(B,L,V,rt,tt,at,lt,ft,vt,kt)}yt!=null&&tt&&Uf(yt,B&&B.ref,at,L||B,!L)},x=(B,L,V,rt)=>{if(B==null)n(L.el=l(L.children),V,rt);else{const tt=L.el=B.el;L.children!==B.children&&c(tt,L.children)}},y=(B,L,V,rt)=>{B==null?n(L.el=f(L.children||""),V,rt):L.el=B.el},w=(B,L,V,rt)=>{[B.el,B.anchor]=m(B.children,L,V,rt,B.el,B.anchor)},C=({el:B,anchor:L},V,rt)=>{let tt;for(;B&&B!==L;)tt=h(B),n(B,V,rt),B=tt;n(L,V,rt)},E=({el:B,anchor:L})=>{let V;for(;B&&B!==L;)V=h(B),i(B),B=V;i(L)},T=(B,L,V,rt,tt,at,lt,ft,vt)=>{L.type==="svg"?lt="svg":L.type==="math"&&(lt="mathml"),B==null?D(L,V,rt,tt,at,lt,ft,vt):I(B,L,tt,at,lt,ft,vt)},D=(B,L,V,rt,tt,at,lt,ft)=>{let vt,ut;const{props:yt,shapeFlag:Ct,transition:wt,dirs:Bt}=B;if(vt=B.el=u(B.type,at,yt&&yt.is,yt),Ct&8?p(vt,B.children):Ct&16&&M(B.children,vt,null,rt,tt,pf(B,at),lt,ft),Bt&&wi(B,null,rt,"created"),A(vt,B,B.scopeId,lt,rt),yt){for(const Qt in yt)Qt!=="value"&&!no(Qt)&&o(vt,Qt,null,yt[Qt],at,rt);"value"in yt&&o(vt,"value",null,yt.value,at),(ut=yt.onVnodeBeforeMount)&&fn(ut,rt,B)}Bt&&wi(B,null,rt,"beforeMount");const Lt=kD(tt,wt);Lt&&wt.beforeEnter(vt),n(vt,L,V),((ut=yt&&yt.onVnodeMounted)||Lt||Bt)&&gr(()=>{ut&&fn(ut,rt,B),Lt&&wt.enter(vt),Bt&&wi(B,null,rt,"mounted")},tt)},A=(B,L,V,rt,tt)=>{if(V&&g(B,V),rt)for(let at=0;at<rt.length;at++)g(B,rt[at]);if(tt){let at=tt.subTree;if(L===at){const lt=tt.vnode;A(B,lt,lt.scopeId,lt.slotScopeIds,tt.parent)}}},M=(B,L,V,rt,tt,at,lt,ft,vt=0)=>{for(let ut=vt;ut<B.length;ut++){const yt=B[ut]=ft?jn(B[ut]):cn(B[ut]);b(null,yt,L,V,rt,tt,at,lt,ft)}},I=(B,L,V,rt,tt,at,lt)=>{const ft=L.el=B.el;let{patchFlag:vt,dynamicChildren:ut,dirs:yt}=L;vt|=B.patchFlag&16;const Ct=B.props||be,wt=L.props||be;let Bt;if(V&&Ci(V,!1),(Bt=wt.onVnodeBeforeUpdate)&&fn(Bt,V,L,B),yt&&wi(L,B,V,"beforeUpdate"),V&&Ci(V,!0),(Ct.innerHTML&&wt.innerHTML==null||Ct.textContent&&wt.textContent==null)&&p(ft,""),ut?P(B.dynamicChildren,ut,ft,V,rt,pf(L,tt),at):lt||j(B,L,ft,null,V,rt,pf(L,tt),at,!1),vt>0){if(vt&16)H(ft,Ct,wt,V,tt);else if(vt&2&&Ct.class!==wt.class&&o(ft,"class",null,wt.class,tt),vt&4&&o(ft,"style",Ct.style,wt.style,tt),vt&8){const Lt=L.dynamicProps;for(let Qt=0;Qt<Lt.length;Qt++){const Zt=Lt[Qt],me=Ct[Zt],Te=wt[Zt];(Te!==me||Zt==="value")&&o(ft,Zt,me,Te,tt,V)}}vt&1&&B.children!==L.children&&p(ft,L.children)}else!lt&&ut==null&&H(ft,Ct,wt,V,tt);((Bt=wt.onVnodeUpdated)||yt)&&gr(()=>{Bt&&fn(Bt,V,L,B),yt&&wi(L,B,V,"updated")},rt)},P=(B,L,V,rt,tt,at,lt)=>{for(let ft=0;ft<L.length;ft++){const vt=B[ft],ut=L[ft],yt=vt.el&&(vt.type===je||!Za(vt,ut)||vt.shapeFlag&70)?v(vt.el):V;b(vt,ut,yt,null,rt,tt,at,lt,!0)}},H=(B,L,V,rt,tt)=>{if(L!==V){if(L!==be)for(const at in L)!no(at)&&!(at in V)&&o(B,at,L[at],null,tt,rt);for(const at in V){if(no(at))continue;const lt=V[at],ft=L[at];lt!==ft&&at!=="value"&&o(B,at,ft,lt,tt,rt)}"value"in V&&o(B,"value",L.value,V.value,tt)}},$=(B,L,V,rt,tt,at,lt,ft,vt)=>{const ut=L.el=B?B.el:l(""),yt=L.anchor=B?B.anchor:l("");let{patchFlag:Ct,dynamicChildren:wt,slotScopeIds:Bt}=L;Bt&&(ft=ft?ft.concat(Bt):Bt),B==null?(n(ut,V,rt),n(yt,V,rt),M(L.children||[],V,yt,tt,at,lt,ft,vt)):Ct>0&&Ct&64&&wt&&B.dynamicChildren?(P(B.dynamicChildren,wt,V,tt,at,lt,ft),(L.key!=null||tt&&L===tt.subTree)&&C0(B,L,!0)):j(B,L,V,yt,tt,at,lt,ft,vt)},F=(B,L,V,rt,tt,at,lt,ft,vt)=>{L.slotScopeIds=ft,B==null?L.shapeFlag&512?tt.ctx.activate(L,V,rt,lt,vt):Z(L,V,rt,tt,at,lt,vt):X(B,L,vt)},Z=(B,L,V,rt,tt,at,lt)=>{const ft=B.component=rM(B,rt,tt);if(u0(B)&&(ft.ctx.renderer=kt),iM(ft,!1,lt),ft.asyncDep){if(tt&&tt.registerDep(ft,et,lt),!B.el){const vt=ft.subTree=Qe(ai);y(null,vt,L,V)}}else et(ft,B,L,V,tt,at,lt)},X=(B,L,V)=>{const rt=L.component=B.component;if(VD(B,L,V))if(rt.asyncDep&&!rt.asyncResolved){G(rt,L,V);return}else rt.next=L,rD(rt.update),rt.effect.dirty=!0,rt.update();else L.el=B.el,rt.vnode=L},et=(B,L,V,rt,tt,at,lt)=>{const ft=()=>{if(B.isMounted){let{next:yt,bu:Ct,u:wt,parent:Bt,vnode:Lt}=B;{const cr=E0(B);if(cr){yt&&(yt.el=Lt.el,G(B,yt,lt)),cr.asyncDep.then(()=>{B.isUnmounted||ft()});return}}let Qt=yt,Zt;Ci(B,!1),yt?(yt.el=Lt.el,G(B,yt,lt)):yt=Lt,Ct&&ff(Ct),(Zt=yt.props&&yt.props.onVnodeBeforeUpdate)&&fn(Zt,Bt,yt,Lt),Ci(B,!0);const me=vf(B),Te=B.subTree;B.subTree=me,b(Te,me,v(Te.el),St(Te),B,tt,at),yt.el=me.el,Qt===null&&qD(B,me.el),wt&&gr(wt,tt),(Zt=yt.props&&yt.props.onVnodeUpdated)&&gr(()=>fn(Zt,Bt,yt,Lt),tt)}else{let yt;const{el:Ct,props:wt}=L,{bm:Bt,m:Lt,parent:Qt}=B,Zt=ao(L);if(Ci(B,!1),Bt&&ff(Bt),!Zt&&(yt=wt&&wt.onVnodeBeforeMount)&&fn(yt,Qt,L),Ci(B,!0),Ct&&Mt){const me=()=>{B.subTree=vf(B),Mt(Ct,B.subTree,B,tt,null)};Zt?L.type.__asyncLoader().then(()=>!B.isUnmounted&&me()):me()}else{const me=B.subTree=vf(B);b(null,me,V,rt,B,tt,at),L.el=me.el}if(Lt&&gr(Lt,tt),!Zt&&(yt=wt&&wt.onVnodeMounted)){const me=L;gr(()=>fn(yt,Qt,me),tt)}(L.shapeFlag&256||Qt&&ao(Qt.vnode)&&Qt.vnode.shapeFlag&256)&&B.a&&gr(B.a,tt),B.isMounted=!0,L=V=rt=null}},vt=B.effect=new Rc(ft,Hr,()=>zc(ut),B.scope),ut=B.update=()=>{vt.dirty&&vt.run()};ut.i=B,ut.id=B.uid,Ci(B,!0),ut()},G=(B,L,V)=>{L.component=B;const rt=B.vnode.props;B.vnode=L,B.next=null,RD(B,L.props,rt,V),ID(B,L.children,V),fi(),fh(B),ci()},j=(B,L,V,rt,tt,at,lt,ft,vt=!1)=>{const ut=B&&B.children,yt=B?B.shapeFlag:0,Ct=L.children,{patchFlag:wt,shapeFlag:Bt}=L;if(wt>0){if(wt&128){J(ut,Ct,V,rt,tt,at,lt,ft,vt);return}else if(wt&256){U(ut,Ct,V,rt,tt,at,lt,ft,vt);return}}Bt&8?(yt&16&&_t(ut,tt,at),Ct!==ut&&p(V,Ct)):yt&16?Bt&16?J(ut,Ct,V,rt,tt,at,lt,ft,vt):_t(ut,tt,at,!0):(yt&8&&p(V,""),Bt&16&&M(Ct,V,rt,tt,at,lt,ft,vt))},U=(B,L,V,rt,tt,at,lt,ft,vt)=>{B=B||fa,L=L||fa;const ut=B.length,yt=L.length,Ct=Math.min(ut,yt);let wt;for(wt=0;wt<Ct;wt++){const Bt=L[wt]=vt?jn(L[wt]):cn(L[wt]);b(B[wt],Bt,V,null,tt,at,lt,ft,vt)}ut>yt?_t(B,tt,at,!0,!1,Ct):M(L,V,rt,tt,at,lt,ft,vt,Ct)},J=(B,L,V,rt,tt,at,lt,ft,vt)=>{let ut=0;const yt=L.length;let Ct=B.length-1,wt=yt-1;for(;ut<=Ct&&ut<=wt;){const Bt=B[ut],Lt=L[ut]=vt?jn(L[ut]):cn(L[ut]);if(Za(Bt,Lt))b(Bt,Lt,V,null,tt,at,lt,ft,vt);else break;ut++}for(;ut<=Ct&&ut<=wt;){const Bt=B[Ct],Lt=L[wt]=vt?jn(L[wt]):cn(L[wt]);if(Za(Bt,Lt))b(Bt,Lt,V,null,tt,at,lt,ft,vt);else break;Ct--,wt--}if(ut>Ct){if(ut<=wt){const Bt=wt+1,Lt=Bt<yt?L[Bt].el:rt;for(;ut<=wt;)b(null,L[ut]=vt?jn(L[ut]):cn(L[ut]),V,Lt,tt,at,lt,ft,vt),ut++}}else if(ut>wt)for(;ut<=Ct;)st(B[ut],tt,at,!0),ut++;else{const Bt=ut,Lt=ut,Qt=new Map;for(ut=Lt;ut<=wt;ut++){const Le=L[ut]=vt?jn(L[ut]):cn(L[ut]);Le.key!=null&&Qt.set(Le.key,ut)}let Zt,me=0;const Te=wt-Lt+1;let cr=!1,Fn=0;const Ir=new Array(Te);for(ut=0;ut<Te;ut++)Ir[ut]=0;for(ut=Bt;ut<=Ct;ut++){const Le=B[ut];if(me>=Te){st(Le,tt,at,!0);continue}let qe;if(Le.key!=null)qe=Qt.get(Le.key);else for(Zt=Lt;Zt<=wt;Zt++)if(Ir[Zt-Lt]===0&&Za(Le,L[Zt])){qe=Zt;break}qe===void 0?st(Le,tt,at,!0):(Ir[qe-Lt]=ut+1,qe>=Fn?Fn=qe:cr=!0,b(Le,L[qe],V,null,tt,at,lt,ft,vt),me++)}const on=cr?FD(Ir):fa;for(Zt=on.length-1,ut=Te-1;ut>=0;ut--){const Le=Lt+ut,qe=L[Le],Wi=Le+1<yt?L[Le+1].el:rt;Ir[ut]===0?b(null,qe,V,Wi,tt,at,lt,ft,vt):cr&&(Zt<0||ut!==on[Zt]?q(qe,V,Wi,2):Zt--)}}},q=(B,L,V,rt,tt=null)=>{const{el:at,type:lt,transition:ft,children:vt,shapeFlag:ut}=B;if(ut&6){q(B.component.subTree,L,V,rt);return}if(ut&128){B.suspense.move(L,V,rt);return}if(ut&64){lt.move(B,L,V,kt);return}if(lt===je){n(at,L,V);for(let Ct=0;Ct<vt.length;Ct++)q(vt[Ct],L,V,rt);n(B.anchor,L,V);return}if(lt===eu){C(B,L,V);return}if(rt!==2&&ut&1&&ft)if(rt===0)ft.beforeEnter(at),n(at,L,V),gr(()=>ft.enter(at),tt);else{const{leave:Ct,delayLeave:wt,afterLeave:Bt}=ft,Lt=()=>n(at,L,V),Qt=()=>{Ct(at,()=>{Lt(),Bt&&Bt()})};wt?wt(at,Lt,Qt):Qt()}else n(at,L,V)},st=(B,L,V,rt=!1,tt=!1)=>{const{type:at,props:lt,ref:ft,children:vt,dynamicChildren:ut,shapeFlag:yt,patchFlag:Ct,dirs:wt,cacheIndex:Bt}=B;if(Ct===-2&&(tt=!1),ft!=null&&Uf(ft,null,V,B,!0),Bt!=null&&(L.renderCache[Bt]=void 0),yt&256){L.ctx.deactivate(B);return}const Lt=yt&1&&wt,Qt=!ao(B);let Zt;if(Qt&&(Zt=lt&&lt.onVnodeBeforeUnmount)&&fn(Zt,L,B),yt&6)ot(B.component,V,rt);else{if(yt&128){B.suspense.unmount(V,rt);return}Lt&&wi(B,null,L,"beforeUnmount"),yt&64?B.type.remove(B,L,V,kt,rt):ut&&!ut.hasOnce&&(at!==je||Ct>0&&Ct&64)?_t(ut,L,V,!1,!0):(at===je&&Ct&384||!tt&&yt&16)&&_t(vt,L,V),rt&&nt(B)}(Qt&&(Zt=lt&&lt.onVnodeUnmounted)||Lt)&&gr(()=>{Zt&&fn(Zt,L,B),Lt&&wi(B,null,L,"unmounted")},V)},nt=B=>{const{type:L,el:V,anchor:rt,transition:tt}=B;if(L===je){dt(V,rt);return}if(L===eu){E(B);return}const at=()=>{i(V),tt&&!tt.persisted&&tt.afterLeave&&tt.afterLeave()};if(B.shapeFlag&1&&tt&&!tt.persisted){const{leave:lt,delayLeave:ft}=tt,vt=()=>lt(V,at);ft?ft(B.el,at,vt):vt()}else at()},dt=(B,L)=>{let V;for(;B!==L;)V=h(B),i(B),B=V;i(L)},ot=(B,L,V)=>{const{bum:rt,scope:tt,update:at,subTree:lt,um:ft,m:vt,a:ut}=B;mh(vt),mh(ut),rt&&ff(rt),tt.stop(),at&&(at.active=!1,st(lt,B,L,V)),ft&&gr(ft,L),gr(()=>{B.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},_t=(B,L,V,rt=!1,tt=!1,at=0)=>{for(let lt=at;lt<B.length;lt++)st(B[lt],L,V,rt,tt)},St=B=>{if(B.shapeFlag&6)return St(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const L=h(B.anchor||B.el),V=L&&L[PD];return V?h(V):L};let Dt=!1;const At=(B,L,V)=>{B==null?L._vnode&&st(L._vnode,null,null,!0):b(L._vnode||null,B,L,null,null,null,V),L._vnode=B,Dt||(Dt=!0,fh(),i0(),Dt=!1)},kt={p:b,um:st,m:q,r:nt,mt:Z,mc:M,pc:j,pbc:P,n:St,o:t};let bt,Mt;return{render:At,hydrate:bt,createApp:ED(At,bt)}}function pf({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Ci({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function kD(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function C0(t,e,r=!1){const n=t.children,i=e.children;if(Ht(n)&&Ht(i))for(let o=0;o<n.length;o++){const u=n[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=jn(i[o]),l.el=u.el),!r&&l.patchFlag!==-2&&C0(u,l)),l.type===Pu&&(l.el=u.el)}}function FD(t){const e=t.slice(),r=[0];let n,i,o,u,l;const f=t.length;for(n=0;n<f;n++){const c=t[n];if(c!==0){if(i=r[r.length-1],t[i]<c){e[n]=i,r.push(n);continue}for(o=0,u=r.length-1;o<u;)l=o+u>>1,t[r[l]]<c?o=l+1:u=l;c<t[r[o]]&&(o>0&&(e[n]=r[o-1]),r[o]=n)}}for(o=r.length,u=r[o-1];o-- >0;)r[o]=u,u=e[u];return r}function E0(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:E0(e)}function mh(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const GD=Symbol.for("v-scx"),ND=()=>tu(GD);function WD(t,e){return Nc(t,null,{flush:"post"})}const Ps={};function vn(t,e,r){return Nc(t,e,r)}function Nc(t,e,{immediate:r,deep:n,flush:i,once:o,onTrack:u,onTrigger:l}=be){if(e&&o){const D=e;e=(...A)=>{D(...A),T()}}const f=Ve,c=D=>n===!0?D:Jn(D,n===!1?1:void 0);let p,v=!1,h=!1;if(br(t)?(p=()=>t.value,v=ma(t)):io(t)?(p=()=>c(t),v=!0):Ht(t)?(h=!0,v=t.some(D=>io(D)||ma(D)),p=()=>t.map(D=>{if(br(D))return D.value;if(io(D))return c(D);if(Ut(D))return ri(D,f,2)})):Ut(t)?e?p=()=>ri(t,f,2):p=()=>(g&&g(),Jr(t,f,3,[m])):p=Hr,e&&n){const D=p;p=()=>Jn(D())}let g,m=D=>{g=C.onStop=()=>{ri(D,f,4),g=C.onStop=void 0}},b;if(Bu)if(m=Hr,e?r&&Jr(e,f,3,[p(),h?[]:void 0,m]):p(),i==="sync"){const D=ND();b=D.__watcherHandles||(D.__watcherHandles=[])}else return Hr;let x=h?new Array(t.length).fill(Ps):Ps;const y=()=>{if(!(!C.active||!C.dirty))if(e){const D=C.run();(n||v||(h?D.some((A,M)=>ii(A,x[M])):ii(D,x)))&&(g&&g(),Jr(e,f,3,[D,x===Ps?void 0:h&&x[0]===Ps?[]:x,m]),x=D)}else C.run()};y.allowRecurse=!!e;let w;i==="sync"?w=y:i==="post"?w=()=>gr(y,f&&f.suspense):(y.pre=!0,f&&(y.id=f.uid),w=()=>zc(y));const C=new Rc(p,Hr,w),E=RE(),T=()=>{C.stop(),E&&Dc(E.effects,C)};return e?r?y():x=C.run():i==="post"?gr(C.run.bind(C),f&&f.suspense):C.run(),b&&b.push(T),T}function HD(t,e,r){const n=this.proxy,i=Pe(t)?t.includes(".")?D0(n,t):()=>n[t]:t.bind(n,n);let o;Ut(e)?o=e:(o=e.handler,r=e);const u=Mo(this),l=Nc(i,o.bind(n),r);return u(),l}function D0(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function Jn(t,e=1/0,r){if(e<=0||!Se(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,br(t))Jn(t.value,e,r);else if(Ht(t))for(let n=0;n<t.length;n++)Jn(t[n],e,r);else if(Tg(t)||ca(t))t.forEach(n=>{Jn(n,e,r)});else if(Pg(t)){for(const n in t)Jn(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Jn(t[n],e,r)}return t}const $D=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${en(e)}Modifiers`]||t[`${Fi(e)}Modifiers`];function UD(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||be;let i=r;const o=e.startsWith("update:"),u=o&&$D(n,e.slice(7));u&&(u.trim&&(i=r.map(p=>Pe(p)?p.trim():p)),u.number&&(i=r.map(bE)));let l,f=n[l=lf(e)]||n[l=lf(en(e))];!f&&o&&(f=n[l=lf(Fi(e))]),f&&Jr(f,t,6,i);const c=n[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Jr(c,t,6,i)}}function M0(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const o=t.emits;let u={},l=!1;if(!Ut(t)){const f=c=>{const p=M0(c,e,!0);p&&(l=!0,tr(u,p))};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!o&&!l?(Se(t)&&n.set(t,null),null):(Ht(o)?o.forEach(f=>u[f]=null):tr(u,o),Se(t)&&n.set(t,u),u)}function Iu(t,e){return!t||!Cu(e)?!1:(e=e.slice(2).replace(/Once$/,""),ee(t,e[0].toLowerCase()+e.slice(1))||ee(t,Fi(e))||ee(t,e))}function vf(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[o],slots:u,attrs:l,emit:f,render:c,renderCache:p,props:v,data:h,setupState:g,ctx:m,inheritAttrs:b}=t,x=ou(t);let y,w;try{if(r.shapeFlag&4){const E=i||n,T=E;y=cn(c.call(T,E,p,v,g,h,m)),w=l}else{const E=e;y=cn(E.length>1?E(v,{attrs:l,slots:u,emit:f}):E(v,null)),w=e.props?l:YD(l)}}catch(E){so.length=0,Ou(E,t,1),y=Qe(ai)}let C=y;if(w&&b!==!1){const E=Object.keys(w),{shapeFlag:T}=C;E.length&&T&7&&(o&&E.some(Ec)&&(w=XD(w,o)),C=_a(C,w,!1,!0))}return r.dirs&&(C=_a(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(r.dirs):r.dirs),r.transition&&(C.transition=r.transition),y=C,ou(x),y}const YD=t=>{let e;for(const r in t)(r==="class"||r==="style"||Cu(r))&&((e||(e={}))[r]=t[r]);return e},XD=(t,e)=>{const r={};for(const n in t)(!Ec(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function VD(t,e,r){const{props:n,children:i,component:o}=t,{props:u,children:l,patchFlag:f}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&f>=0){if(f&1024)return!0;if(f&16)return n?_h(n,u,c):!!u;if(f&8){const p=e.dynamicProps;for(let v=0;v<p.length;v++){const h=p[v];if(u[h]!==n[h]&&!Iu(c,h))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:n===u?!1:n?u?_h(n,u,c):!0:!!u;return!1}function _h(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(e[o]!==t[o]&&!Iu(r,o))return!0}return!1}function qD({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const KD=t=>t.__isSuspense;function ZD(t,e){e&&e.pendingBranch?Ht(t)?e.effects.push(...t):e.effects.push(t):nD(t)}const je=Symbol.for("v-fgt"),Pu=Symbol.for("v-txt"),ai=Symbol.for("v-cmt"),eu=Symbol.for("v-stc"),so=[];let Or=null;function ue(t=!1){so.push(Or=t?null:[])}function jD(){so.pop(),Or=so[so.length-1]||null}let _o=1;function bh(t){_o+=t,t<0&&Or&&(Or.hasOnce=!0)}function R0(t){return t.dynamicChildren=_o>0?Or||fa:null,jD(),_o>0&&Or&&Or.push(t),t}function Re(t,e,r,n,i,o){return R0(ht(t,e,r,n,i,o,!0))}function di(t,e,r,n,i){return R0(Qe(t,e,r,n,i,!0))}function O0(t){return t?t.__v_isVNode===!0:!1}function Za(t,e){return t.type===e.type&&t.key===e.key}const T0=({key:t})=>t??null,ru=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Pe(t)||br(t)||Ut(t)?{i:$e,r:t,k:e,f:!!r}:t:null);function ht(t,e=null,r=null,n=0,i=null,o=t===je?0:1,u=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&T0(e),ref:e&&ru(e),scopeId:o0,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:$e};return l?(Wc(f,r),o&128&&t.normalize(f)):r&&(f.shapeFlag|=Pe(r)?8:16),_o>0&&!u&&Or&&(f.patchFlag>0||o&6)&&f.patchFlag!==32&&Or.push(f),f}const Qe=JD;function JD(t,e=null,r=null,n=0,i=null,o=!1){if((!t||t===c0)&&(t=ai),O0(t)){const l=_a(t,e,!0);return r&&Wc(l,r),_o>0&&!o&&Or&&(l.shapeFlag&6?Or[Or.indexOf(t)]=l:Or.push(l)),l.patchFlag=-2,l}if(lM(t)&&(t=t.__vccOpts),e){e=QD(e);let{class:l,style:f}=e;l&&!Pe(l)&&(e.class=an(l)),Se(f)&&(jg(f)&&!Ht(f)&&(f=tr({},f)),e.style=Me(f))}const u=Pe(t)?1:KD(t)?128:BD(t)?64:Se(t)?4:Ut(t)?2:0;return ht(t,e,r,n,i,u,o,!0)}function QD(t){return t?jg(t)||m0(t)?tr({},t):t:null}function _a(t,e,r=!1,n=!1){const{props:i,ref:o,patchFlag:u,children:l,transition:f}=t,c=e?ba(i||{},e):i,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&T0(c),ref:e&&e.ref?r&&o?Ht(o)?o.concat(ru(e)):[o,ru(e)]:ru(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==je?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:f,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&_a(t.ssContent),ssFallback:t.ssFallback&&_a(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return f&&n&&s0(p,f.clone(p)),p}function Do(t=" ",e=0){return Qe(Pu,null,t,e)}function Yf(t="",e=!1){return e?(ue(),di(ai,null,t)):Qe(ai,null,t)}function cn(t){return t==null||typeof t=="boolean"?Qe(ai):Ht(t)?Qe(je,null,t.slice()):typeof t=="object"?jn(t):Qe(Pu,null,String(t))}function jn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:_a(t)}function Wc(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Ht(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),Wc(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!m0(e)?e._ctx=$e:i===3&&$e&&($e.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ut(e)?(e={default:e,_ctx:$e},r=32):(e=String(e),n&64?(r=16,e=[Do(e)]):r=8);t.children=e,t.shapeFlag|=r}function ba(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=an([e.class,n.class]));else if(i==="style")e.style=Me([e.style,n.style]);else if(Cu(i)){const o=e[i],u=n[i];u&&o!==u&&!(Ht(o)&&o.includes(u))&&(e[i]=o?[].concat(o,u):u)}else i!==""&&(e[i]=n[i])}return e}function fn(t,e,r,n=null){Jr(t,e,7,[r,n])}const tM=v0();let eM=0;function rM(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||tM,o={uid:eM++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new DE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:b0(n,i),emitsOptions:M0(n,i),emit:null,emitted:null,propsDefaults:be,inheritAttrs:n.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=UD.bind(null,o),t.ce&&t.ce(o),o}let Ve=null;const nM=()=>Ve||$e;let uu,Xf;{const t=Lg(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),o=>{i.length>1?i.forEach(u=>u(o)):i[0](o)}};uu=e("__VUE_INSTANCE_SETTERS__",r=>Ve=r),Xf=e("__VUE_SSR_SETTERS__",r=>Bu=r)}const Mo=t=>{const e=Ve;return uu(t),t.scope.on(),()=>{t.scope.off(),uu(e)}},xh=()=>{Ve&&Ve.scope.off(),uu(null)};function A0(t){return t.vnode.shapeFlag&4}let Bu=!1;function iM(t,e=!1,r=!1){e&&Xf(e);const{props:n,children:i}=t.vnode,o=A0(t);MD(t,n,o,e),AD(t,i,r);const u=o?aM(t,e):void 0;return e&&Xf(!1),u}function aM(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,_D);const{setup:n}=r;if(n){const i=t.setupContext=n.length>1?sM(t):null,o=Mo(t);fi();const u=ri(n,t,0,[t.props,i]);if(ci(),o(),Ag(u)){if(u.then(xh,xh),e)return u.then(l=>{yh(t,l,e)}).catch(l=>{Ou(l,t,0)});t.asyncDep=u}else yh(t,u,e)}else I0(t,e)}function yh(t,e,r){Ut(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Se(e)&&(t.setupState=t0(e)),I0(t,r)}let Sh;function I0(t,e,r){const n=t.type;if(!t.render){if(!e&&Sh&&!n.render){const i=n.template||Fc(t).template;if(i){const{isCustomElement:o,compilerOptions:u}=t.appContext.config,{delimiters:l,compilerOptions:f}=n,c=tr(tr({isCustomElement:o,delimiters:l},u),f);n.render=Sh(i,c)}}t.render=n.render||Hr}{const i=Mo(t);fi();try{bD(t)}finally{ci(),i()}}}const oM={get(t,e){return _r(t,"get",""),t[e]}};function sM(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,oM),slots:t.slots,emit:t.emit,expose:e}}function Lu(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(t0(KE(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in oo)return oo[r](t)},has(e,r){return r in e||r in oo}})):t.proxy}function uM(t,e=!0){return Ut(t)?t.displayName||t.name:t.name||e&&t.__name}function lM(t){return Ut(t)&&"__vccOpts"in t}const ie=(t,e)=>ZE(t,e,Bu),fM="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const cM="http://www.w3.org/2000/svg",dM="http://www.w3.org/1998/Math/MathML",Tn=typeof document<"u"?document:null,wh=Tn&&Tn.createElement("template"),pM={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?Tn.createElementNS(cM,t):e==="mathml"?Tn.createElementNS(dM,t):r?Tn.createElement(t,{is:r}):Tn.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Tn.createTextNode(t),createComment:t=>Tn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Tn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,o){const u=r?r.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===o||!(i=i.nextSibling)););else{wh.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const l=wh.content;if(n==="svg"||n==="mathml"){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}e.insertBefore(l,r)}return[u?u.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},vM=Symbol("_vtc");function hM(t,e,r){const n=t[vM];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const lu=Symbol("_vod"),P0=Symbol("_vsh"),ha={beforeMount(t,{value:e},{transition:r}){t[lu]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):ja(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),ja(t,!0),n.enter(t)):n.leave(t,()=>{ja(t,!1)}):ja(t,e))},beforeUnmount(t,{value:e}){ja(t,e)}};function ja(t,e){t.style.display=e?t[lu]:"none",t[P0]=!e}const B0=Symbol("");function gM(t){const e=nM();if(!e)return;const r=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>qf(o,i))},n=()=>{const i=t(e.proxy);Vf(e.subTree,i),r(i)};f0(()=>{WD(n)}),bn(()=>{const i=new MutationObserver(n);i.observe(e.subTree.el.parentNode,{childList:!0}),Au(()=>i.disconnect())})}function Vf(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Vf(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)qf(t.el,e);else if(t.type===je)t.children.forEach(r=>Vf(r,e));else if(t.type===eu){let{el:r,anchor:n}=t;for(;r&&(qf(r,e),r!==n);)r=r.nextSibling}}function qf(t,e){if(t.nodeType===1){const r=t.style;let n="";for(const i in e)r.setProperty(`--${i}`,e[i]),n+=`--${i}: ${e[i]};`;r[B0]=n}}const mM=/(^|;)\s*display\s*:/;function _M(t,e,r){const n=t.style,i=Pe(r);let o=!1;if(r&&!i){if(e)if(Pe(e))for(const u of e.split(";")){const l=u.slice(0,u.indexOf(":")).trim();r[l]==null&&nu(n,l,"")}else for(const u in e)r[u]==null&&nu(n,u,"");for(const u in r)u==="display"&&(o=!0),nu(n,u,r[u])}else if(i){if(e!==r){const u=n[B0];u&&(r+=";"+u),n.cssText=r,o=mM.test(r)}}else e&&t.removeAttribute("style");lu in t&&(t[lu]=o?n.display:"",t[P0]&&(n.display="none"))}const Ch=/\s*!important$/;function nu(t,e,r){if(Ht(r))r.forEach(n=>nu(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=bM(t,e);Ch.test(r)?t.setProperty(Fi(n),r.replace(Ch,""),"important"):t[n]=r}}const Eh=["Webkit","Moz","ms"],hf={};function bM(t,e){const r=hf[e];if(r)return r;let n=en(e);if(n!=="filter"&&n in t)return hf[e]=n;n=Mu(n);for(let i=0;i<Eh.length;i++){const o=Eh[i]+n;if(o in t)return hf[e]=o}return e}const Dh="http://www.w3.org/1999/xlink";function Mh(t,e,r,n,i,o=EE(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(Dh,e.slice(6,e.length)):t.setAttributeNS(Dh,e,r):r==null||o&&!zg(r)?t.removeAttribute(e):t.setAttribute(e,o?"":li(r)?String(r):r)}function xM(t,e,r,n){if(e==="innerHTML"||e==="textContent"){if(r==null)return;t[e]=r;return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const u=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?"":String(r);(u!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const u=typeof t[e];u==="boolean"?r=zg(r):r==null&&u==="string"?(r="",o=!0):u==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(e)}function yM(t,e,r,n){t.addEventListener(e,r,n)}function SM(t,e,r,n){t.removeEventListener(e,r,n)}const Rh=Symbol("_vei");function wM(t,e,r,n,i=null){const o=t[Rh]||(t[Rh]={}),u=o[e];if(n&&u)u.value=n;else{const[l,f]=CM(e);if(n){const c=o[e]=MM(n,i);yM(t,l,c,f)}else u&&(SM(t,l,u,f),o[e]=void 0)}}const Oh=/(?:Once|Passive|Capture)$/;function CM(t){let e;if(Oh.test(t)){e={};let n;for(;n=t.match(Oh);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Fi(t.slice(2)),e]}let gf=0;const EM=Promise.resolve(),DM=()=>gf||(EM.then(()=>gf=0),gf=Date.now());function MM(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Jr(RM(n,r.value),e,5,[n])};return r.value=t,r.attached=DM(),r}function RM(t,e){if(Ht(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const Th=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,OM=(t,e,r,n,i,o)=>{const u=i==="svg";e==="class"?hM(t,n,u):e==="style"?_M(t,r,n):Cu(e)?Ec(e)||wM(t,e,r,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):TM(t,e,n,u))?(xM(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Mh(t,e,n,u,o,e!=="value")):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Mh(t,e,n,u))};function TM(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Th(e)&&Ut(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Th(e)&&Pe(r)?!1:e in t}const AM=["ctrl","shift","alt","meta"],IM={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>AM.some(r=>t[`${r}Key`]&&!e.includes(r))},Ce=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(i,...o)=>{for(let u=0;u<e.length;u++){const l=IM[e[u]];if(l&&l(i,e))return}return t(i,...o)})},PM=tr({patchProp:OM},pM);let Ah;function BM(){return Ah||(Ah=LD(PM))}const LM=(...t)=>{const e=BM().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=kM(n);if(!i)return;const o=e._component;!Ut(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const u=r(i,!1,zM(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),u},e};function zM(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function kM(t){return Pe(t)?document.querySelector(t):t}const Hc=""+new URL("bg-5l3SmAP9.png",import.meta.url).href,FM=t=>t<=.25?40:t<=.5?20:t<=1?10:t<=2?5:t<=4?2:1,Bs=.83,GM=(t,e,r,n,i,o)=>{const{scale:u,width:l,height:f,ratio:c,palette:p,gridRatio:v}=i,{bgColor:h,fontColor:g,shadowColor:m,longfgColor:b}=p,x=o?i.canvasWidth:i.canvasHeight;t.scale(c,c),t.clearRect(0,0,l/c,f/c),t.fillStyle=h,t.fillRect(0,0,l,f);const w=FM(u)*v*10,C=w*u,E=Math.floor(e/w)*w,T=(E-e)/w*C,D=e+Math.ceil((o?l:f)/u);if(n){const M=(r-e)*u/c,I=n*u/c;t.fillStyle=m,o?t.fillRect(M,0,I,f):t.fillRect(0,M,l,I)}t.beginPath(),t.fillStyle=g,t.strokeStyle=b;for(let M=E,I=0;M<D;M+=w,I++){const P=T+I*C+.5;if(M-w<x&&M>x||M==x){const H=T+I*C+.5+(x-M)*u;A(H,x);return}M>=0&&M<=x&&(M==0?o?t.moveTo(P,0):t.moveTo(0,P):o?t.moveTo(P,20):t.moveTo(20,P),t.save(),M==0?o?t.translate(P-15,f*.2):t.translate(l*.3,P-5):o?t.translate(P-12,f*.05):t.translate(l*.05,P+12),o||t.rotate(-Math.PI/2),t.scale(Bs/c,Bs/c),t.fillText(M.toString(),4*c,7*c),t.restore(),M==0?o?t.lineTo(P,f):t.lineTo(l,P):o?t.lineTo(P,f*10/16):t.lineTo(l*10/16,P)),t.stroke(),t.closePath(),t.setTransform(1,0,0,1,0,0)}function A(M,I){o?t.moveTo(M,0):t.moveTo(0,M),t.save(),o?t.translate(M+5,f*.2):t.translate(l*.1,M+32),o||t.rotate(-Math.PI/2),t.scale(Bs/c,Bs/c),t.fillText(Math.round(I).toString(),4*c,7*c),t.restore(),o?t.lineTo(M,f):t.lineTo(l,M),t.stroke(),t.closePath(),t.setTransform(1,0,0,1,0,0)}};function Kf(t,e=100){let r=null;const n=function(){r!==null&&clearTimeout(r),r=setTimeout(()=>{t()},e)};return n.cancel=function(){r!==null&&(clearTimeout(r),r=null)},n}function L0(t,e){const r=Kt(0),n=Kt(0),i=Kt(!1),o=ie(()=>({backgroundColor:t.palette.hoverBg,color:t.palette.hoverColor,[e?"top":"left"]:"-8px",[e?"left":"top"]:`${r.value+10}px`})),u=({offsetX:b,offsetY:x})=>{r.value=e?b:x},l=(b,x)=>new Promise(y=>{if(t.lockLine)return;const w=e?b.clientY:b.clientX;u(b);const C=x||n.value;let E=C;const T=A=>{let P=((e?A.clientY:A.clientX)-w)/t.scale+C,H=P;const F=(e?t.snapsObj.h:t.snapsObj.v).slice().sort((Z,X)=>Math.abs(H-Z)-Math.abs(H-X));F.length&&Math.abs(F[0]-P)<t.snapThreshold/t.scale&&(H=F[0],P=H),E=Math.round(P),n.value=E},D=()=>{document.removeEventListener("mousemove",T),f(E,t.index),y()};document.addEventListener("mousemove",T),document.addEventListener("mouseup",D,{once:!0})}),f=(b,x)=>{var C,E;const y=e?(C=t.lines)==null?void 0:C.h:(E=t.lines)==null?void 0:E.v,w=c(b);if(y){if(w)if(typeof x=="number")y.splice(x,1);else return;typeof x!="number"&&y.push(b)}},c=b=>{const x=e?t.canvasHeight:t.canvasWidth;return b<0||b>x},p=ie(()=>c(n.value)?"放开删除":`${e?"Y":"X"}：${n.value*t.rate}`),v=Kf(()=>{i.value=!1},200),h=Kf(()=>{i.value=!0},200);return{showLabel:i,startValue:n,actionStyle:o,labelContent:p,handleMouseDown:l,handleMouseenter:b=>{t.lockLine||(u(b),h(),v.cancel())},handleMouseLeave:()=>{v()}}}const NM={key:0,class:"value"},WM=_n({__name:"ruler-line",props:{scale:{},palette:{},index:{},start:{},vertical:{type:Boolean},value:{},canvasWidth:{},canvasHeight:{},lines:{},isShowReferLine:{type:Boolean},rate:{},snapThreshold:{},snapsObj:{},lockLine:{type:Boolean}},setup(t){const e=t,r=Kt(!1),{actionStyle:n,handleMouseDown:i,labelContent:o,startValue:u,showLabel:l,handleMouseenter:f,handleMouseLeave:c}=L0(e,e.vertical),p=ie(()=>u.value>=e.start),v=ie(()=>{const{lineType:g,lockLineColor:m,lineColor:b}=e.palette,x=e.lockLine?m:b??"black",y=e.lockLine||r.value?"none":"auto",w=e.isShowReferLine&&!e.lockLine?e.vertical?"ns-resize":"ew-resize":"default",C=e.vertical?"borderTop":"borderLeft",E=(u.value-e.start)*e.scale;return{[C]:`1px ${g} ${x}`,pointerEvents:y,cursor:w,[e.vertical?"top":"left"]:`${E}px`}});bn(()=>{u.value=e.value??0});const h=Kf(()=>{r.value=!1},1e3);return vn([()=>e.scale],()=>{r.value=!0,h()}),(g,m)=>pa((ue(),Re("div",{class:"line",style:Me(v.value),onMouseenter:m[0]||(m[0]=Ce((...b)=>he(f)&&he(f)(...b),["stop"])),onMouseleave:m[1]||(m[1]=Ce((...b)=>he(c)&&he(c)(...b),["stop"])),onMousedown:m[2]||(m[2]=Ce((...b)=>he(i)&&he(i)(...b),["stop"]))},[ht("div",{class:"action",style:Me(he(n))},[he(l)?(ue(),Re("span",NM,Tr(he(o)),1)):Yf("",!0)],4)],36)),[[ha,p.value]])}}),HM=_n({__name:"index",props:{scale:{},palette:{},vertical:{},start:{},width:{},height:{},selectStart:{},selectLength:{},canvasWidth:{},canvasHeight:{},rate:{},gridRatio:{}},emits:["handleDragStart"],setup(t,{emit:e}){const r=t,n=e,i=lr({isDragging:!1,canvasContext:null});let o=window.devicePixelRatio;const u=Kt(null);bn(()=>{window.addEventListener("resize",l),f(),p(o)});const l=()=>{o=window.devicePixelRatio,p(o),v(o)},f=()=>{i.canvasContext=u.value&&u.value.getContext("2d")},c=ie(()=>({cursor:r.vertical?"ew-resize":"ns-resize",[r.vertical?"borderRight":"borderBottom"]:`1px solid ${r.palette.borderColor||"#eeeeef"} `}));Au(()=>{window.removeEventListener("resize",l)});const p=g=>{if(u.value){u.value.width=r.width,u.value.height=r.height;const m=i.canvasContext;m&&(m.font=`${12*g}px -apple-system,
                "Helvetica Neue", ".SFNSText-Regular",
                "SF UI Text", Arial, "PingFang SC", "Hiragino Sans GB",
                "Microsoft YaHei", "WenQuanYi Zen Hei", sans-serif`,m.lineWidth=1,m.textBaseline="middle")}},v=g=>{const m={scale:r.scale,width:r.width,height:r.height,palette:r.palette,canvasWidth:r.canvasWidth,canvasHeight:r.canvasHeight,ratio:g,rate:r.rate,gridRatio:r.gridRatio};m.scale=r.scale/r.rate,m.canvasWidth=r.canvasWidth*r.rate,m.canvasHeight=r.canvasHeight*r.rate,i.canvasContext&&GM(i.canvasContext,r.start*r.rate,r.selectStart,r.selectLength,m,!r.vertical)};vn([()=>r.width,()=>r.height,()=>r.start,()=>r.selectStart,()=>r.selectLength],()=>{v(o)}),vn([()=>r.width,()=>r.height],()=>{p(o)});const h=g=>{n("handleDragStart",g)};return(g,m)=>(ue(),Re("canvas",{ref_key:"canvas",ref:u,class:"ruler",style:Me(c.value),onMousedown:Ce(h,["stop"])},null,36))}}),$M={class:"lines"},UM={key:0,class:"value"},Ih=_n({__name:"ruler-wrapper",props:{scale:{},thick:{},canvasWidth:{},canvasHeight:{},palette:{},vertical:{type:Boolean},width:{},height:{},start:{},startOther:{},lines:{},selectStart:{},selectLength:{},isShowReferLine:{type:Boolean},rate:{},snapThreshold:{},snapsObj:{},gridRatio:{},lockLine:{type:Boolean}},emits:["changeLineState"],setup(t,{emit:e}){const r=t,{showLabel:n,actionStyle:i,handleMouseenter:o,handleMouseLeave:u,handleMouseDown:l,labelContent:f,startValue:c}=L0(r,!r.vertical),p=Kt(!1),v=Kt(!1),h=ie(()=>r.vertical?"v-container":"h-container"),g=e,m=ie(()=>{var y,w;return r.vertical?(y=r.lines)==null?void 0:y.h:(w=r.lines)==null?void 0:w.v}),b=ie(()=>{const y=r.palette.lineType;let w=r.vertical?"left":"top",C=r.vertical?"top":"left",E=r.vertical?"borderLeft":"borderBottom";const T=(c.value-r.startOther)*r.scale+r.thick;return{[w]:T+"px",[C]:-r.thick+"px",cursor:r.vertical?"ew-resize":"ns-resize",[E]:`1px ${y} ${r.palette.lineColor}`}}),x=async y=>{const{offsetX:w,offsetY:C}=y,{scale:E,vertical:T,thick:D,startOther:A}=r;v.value=!0,p.value=!1,g("changeLineState",!1);let M=Math.round(A-D/E+(T?w:C)/E);c.value=M,await l(y,M),v.value=!1};return vn([()=>r.lockLine],()=>{p.value=r.lockLine}),(y,w)=>(ue(),Re("div",{class:an(h.value)},[Qe(HM,ba(y.$props,{onHandleDragStart:x}),null,16),pa(ht("div",$M,[(ue(!0),Re(je,null,kc(m.value,(C,E)=>(ue(),di(WM,ba({key:C+E,index:E,value:C>>0,ref_for:!0},y.$props),null,16,["index","value"]))),128))],512),[[ha,y.isShowReferLine]]),y.isShowReferLine?pa((ue(),Re("div",{key:0,class:"indicator",onMouseenter:w[0]||(w[0]=(...C)=>he(o)&&he(o)(...C)),onMouseleave:w[1]||(w[1]=(...C)=>he(u)&&he(u)(...C)),style:Me(b.value)},[ht("div",{class:"action",style:Me(he(i))},[he(n)?(ue(),Re("span",UM,Tr(he(f)),1)):Yf("",!0)],4)],36)),[[ha,v.value]]):Yf("",!0)],2))}}),YM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAopJREFUOE/FlE9IVEEcx7+/N9ouds1Mu0QUSFZYdIgoUqQoKPBQHsKozpXE7jbTO/U8xLJvn6usBHWQ6hBFXupSkQeVbh0KJEPp0sH+eLGTsKs77xcj78m0ax0E8cHjzZv5zef3/c33xxA24KENYGJzoEEQbNNaN4Zh2OQ4znwYhr9c1/39vwrXVDo0NNS0tLR0GYB5D64BmAMwzMyvlFKz1es10Hw+f4mZ7wHYBeA9gNdENFepVOaEEM3M3OI4Thczn41gt6WUgQ3+C+r7/h0AWQD3mXnYqPA8L9nQ0HCemduIaFpKOWoAhUJhT6VSuQXgOjP3K6W8GLwKzeVyp4jonR0QBEErM48w8zFLyayUsjX+z+VyHhHdZebTSqkxM78CHRgYOKS1/ghgVErZY214RkQ7ADyRUj72ff8qgCtmXUrZGcf5vv8CwEUhxOF0Ov1pBRpla5dSdseBhUJhpznH6tIsZb1KqacW+BGArUaUXX63UuplHJTNZjuEEONSyhozfd/n6mQ1RkXZL2itz7mu+80EDA4ONi8vL/8AcM2UbikyR2BU9cSmmTU70YqKIAj2hWFo2uenlHK/BRg3Y2aeNO5GyU8S0ZbFxcUuz/NKEXAGQKPjOCcymcyX1dIi8DSAiWQyeaavr68cbSgCuBknYubnQoj+TCYzUywWE6VS6S2ADsdx2gxw1X3L7SNENMbMnwE8qK+vf5NKpRaMaeVyeW8ikfiaSqW+R7BuZr5BRMe11p2u607U9Gk8kc/ntzPzQwCmExYATDLzVBiGE0KIowAOADDf3QA+aK2VDaxRajto3K+rq+tl5nYAzQBamHmeiOYBTGmtR6ph/1Rqg9c73pz7dD1qN0TpHyNQRCUDJXrAAAAAAElFTkSuQmCC",XM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAjtJREFUOE/NlD9oFEEUxn9v9ghC0hpRUogIAUmniGAT/5Q2FrETPSNRJILg7RwimI0ox85eQFCEBGIUO1PYpFM0jSConQoBEZGgGPsgl+w+2eM2bC57SopAFqYZ3v7m+977ZoQt+GQLmGxPaBiGgYiMWWvXBHZUGoZhH3BERPYC+4F+4Keq/urt7b1RLpf/ZEBVHa9Wq0HWyg3QKIoGVPU8cA7wgK/pUtXPQJ8xZk+pVBpuNBqXUoUiEvi+P56fzTpo6+SbwHNg1lo7WzTITGEKXFlZeeB53tVCpa3CK8AFa+1cBgvD8LKIXAQOJkkyICJDeYVBEJS6u7s/qeoLa+1o+l9TqXNuBLhmjDlbqVQ+5ICjInIfOBPH8W9jzGCR5YmJiRNxHM+papgqzqDvgSlr7VTernPuO3An3c9bBt74vv+yrdaKyLDv+/1Sq9UGPc97nY9EVuycU2AQOA7cAm4Dr4D5TvVxHB9rKo2iaEFVp621Ln96FEUngaOqGmSxabVqsh3a2h+x1h5qQjNrae/yE4+iaCwDJkky73neTuBZe129Xk+H+BS4l7ZqLVIZ2BhzuFKpvMsDVXXWGPMxFdAedOfcKeCRqj7MYrUhpz09PfXl5eXrectFWXXODQHpOq2qd/95o/JXr6ura3J1dXU6SZIfwKKIHAD2tVYMPBGRx77vN10UXtO85fTkmZmZHUtLSzUR2QXsBhaAL6r6DXhbrVYXi1yss59GqOgub/bN3Z7v6X/tb9Zmp/q/kN8s+lJb8oEAAAAASUVORK5CYII=";/*!simple-panzoom v1.0.72024年8月Sat Aug 10 2024 16:04:04 GMT+0800 (中国标准时间)制作*/typeof window<"u"&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),typeof window.CustomEvent!="function"&&(window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}));function z0(t,e){let r=t.length;for(;r--;)if(t[r].pointerId===e.pointerId)return r;return-1}function Zf(t,e){let r;if(e.touches){r=0;for(const n of e.touches)n.pointerId=r++,Zf(t,n);return}r=z0(t,e),r>-1&&t.splice(r,1),t.push(e)}function VM(t,e){if(e.touches){for(;t.length;)t.pop();return}const r=z0(t,e);r>-1&&t.splice(r,1)}function Ph(t){t=t.slice(0);let e=t.pop(),r;for(;r=t.pop();)e={clientX:(r.clientX-e.clientX)/2+e.clientX,clientY:(r.clientY-e.clientY)/2+e.clientY};return e}function mf(t){if(t.length<2)return 0;const e=t[0],r=t[1];return Math.sqrt(Math.pow(Math.abs(r.clientX-e.clientX),2)+Math.pow(Math.abs(r.clientY-e.clientY),2))}let bo={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};typeof window<"u"&&(typeof window.PointerEvent=="function"?bo={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:typeof window.TouchEvent=="function"&&(bo={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));function _f(t,e,r,n){bo[t].split(" ").forEach(i=>{e.addEventListener(i,r,n)})}function bf(t,e,r){bo[t].split(" ").forEach(n=>{e.removeEventListener(n,r)})}const qM=typeof document<"u"&&!!document.documentMode;let Bh;function KM(){return Bh||(Bh=document.createElement("div").style)}const Lh=["webkit","moz","ms"],Ls={};function $c(t){if(Ls[t])return Ls[t];const e=KM();if(t in e)return Ls[t]=t;const r=t[0].toUpperCase()+t.slice(1);let n=Lh.length;for(;n--;){const i=`${Lh[n]}${r}`;if(i in e)return Ls[t]=i}}function zs(t,e){return parseFloat(e[$c(t)])||0}function ks(t,e,r=window.getComputedStyle(t)){const n=e==="border"?"Width":"";return{left:zs(`${e}Left${n}`,r),right:zs(`${e}Right${n}`,r),top:zs(`${e}Top${n}`,r),bottom:zs(`${e}Bottom${n}`,r)}}function ia(t,e,r){t.style[$c(e)]=r}function ZM(t,e){const r=$c("transform");ia(t,"transition",`${r} ${e.duration}ms ${e.easing}`)}function jM(t,{x:e,y:r,scale:n,isSVG:i},o){if(ia(t,"transform",`scale(${n}) translate(${e}px, ${r}px)`),i&&qM){const u=window.getComputedStyle(t).getPropertyValue("transform");t.setAttribute("transform",u)}}function Fs(t){const e=t.parentNode,r=window.getComputedStyle(t),n=window.getComputedStyle(e),i=t.getBoundingClientRect(),o=e.getBoundingClientRect();return{elem:{style:r,width:i.width,height:i.height,top:i.top,bottom:i.bottom,left:i.left,right:i.right,margin:ks(t,"margin",r),border:ks(t,"border",r)},parent:{style:n,width:o.width,height:o.height,top:o.top,bottom:o.bottom,left:o.left,right:o.right,padding:ks(e,"padding",n),border:ks(e,"border",n)}}}function JM(t){let e=t;for(;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1}function QM(t){return(t.getAttribute("class")||"").trim()}function tR(t,e){return t.nodeType===1&&` ${QM(t)} `.indexOf(` ${e} `)>-1}function eR(t,e){for(let r=t;r!=null;r=r.parentNode)if(tR(r,e.excludeClass)||e.exclude.indexOf(r)>-1)return!0;return!1}const rR=/^http:[\w\.\/]+svg$/;function nR(t){return rR.test(t.namespaceURI)&&t.nodeName.toLowerCase()!=="svg"}function iR(t){const e={};for(const r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}const k0={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:t=>{t.preventDefault(),t.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,pinchAndPan:!1,relative:!1,setTransform:jM,startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function F0(t,e){if(!t)throw new Error("Panzoom requires an element as an argument");if(t.nodeType!==1)throw new Error("Panzoom requires an element with a nodeType of 1");if(!JM(t))throw new Error("Panzoom should be called on elements that have been attached to the DOM");e={...k0,...e};const r=nR(t),n=t.parentNode;n.style.overflow=e.overflow,n.style.userSelect="none",n.style.touchAction=e.touchAction,(e.canvas?n:t).style.cursor=e.cursor,t.style.userSelect="none",t.style.touchAction=e.touchAction,ia(t,"transformOrigin",typeof e.origin=="string"?e.origin:r?"0 0":"50% 50%");function i(){n.style.overflow="",n.style.userSelect="",n.style.touchAction="",n.style.cursor="",t.style.cursor="",t.style.userSelect="",t.style.touchAction="",ia(t,"transformOrigin","")}function o(U={}){for(const J in U)U.hasOwnProperty(J)&&(e[J]=U[J]);(U.hasOwnProperty("cursor")||U.hasOwnProperty("canvas"))&&(n.style.cursor=t.style.cursor="",(e.canvas?n:t).style.cursor=e.cursor),U.hasOwnProperty("overflow")&&(n.style.overflow=U.overflow),U.hasOwnProperty("touchAction")&&(n.style.touchAction=U.touchAction,t.style.touchAction=U.touchAction)}let u=0,l=0,f=1,c=!1;b(e.startScale,{animate:!1,force:!0}),setTimeout(()=>{m(e.startX,e.startY,{animate:!1,force:!0})});function p(U,J,q){if(q.silent)return;const st=new CustomEvent(U,{detail:J});t.dispatchEvent(st)}function v(U,J,q){const st={x:u,y:l,scale:f,isSVG:r,originalEvent:q,dimsOut:{}};typeof J.animate=="boolean"&&(J.animate?ZM(t,J):ia(t,"transition","none")),J.setTransform(t,st,J);function nt(){const dt=Fs(t);st.dimsOut=dt,p(U,st,J),p("panzoomchange",st,J)}return J.animate?setTimeout(()=>{nt()},J.duration+50):requestAnimationFrame(()=>{nt()}),st}function h(U,J,q,st){const nt={...e,...st},dt={x:u,y:l,opts:nt};if(!nt.force&&(nt.disablePan||nt.panOnlyWhenZoomed&&f===nt.startScale))return dt;if(U=parseFloat(U),J=parseFloat(J),nt.disableXAxis||(dt.x=(nt.relative?u:0)+U),nt.disableYAxis||(dt.y=(nt.relative?l:0)+J),nt.contain){const ot=Fs(t),_t=ot.elem.width/f,St=ot.elem.height/f,Dt=_t*q,At=St*q,kt=(Dt-_t)/2,bt=(At-St)/2;if(nt.contain==="inside"){const Mt=(-ot.elem.margin.left-ot.parent.padding.left+kt)/q,B=(ot.parent.width-Dt-ot.parent.padding.left-ot.elem.margin.left-ot.parent.border.left-ot.parent.border.right+kt)/q;dt.x=Math.max(Math.min(dt.x,B),Mt);const L=(-ot.elem.margin.top-ot.parent.padding.top+bt)/q,V=(ot.parent.height-At-ot.parent.padding.top-ot.elem.margin.top-ot.parent.border.top-ot.parent.border.bottom+bt)/q;dt.y=Math.max(Math.min(dt.y,V),L)}else if(nt.contain==="outside"){const Mt=(-(Dt-ot.parent.width)-ot.parent.padding.left-ot.parent.border.left-ot.parent.border.right+kt)/q,B=(kt-ot.parent.padding.left)/q;dt.x=Math.max(Math.min(dt.x,B),Mt);const L=(-(At-ot.parent.height)-ot.parent.padding.top-ot.parent.border.top-ot.parent.border.bottom+bt)/q,V=(bt-ot.parent.padding.top)/q;dt.y=Math.max(Math.min(dt.y,V),L)}}return nt.roundPixels&&(dt.x=Math.round(dt.x),dt.y=Math.round(dt.y)),dt}function g(U,J){const q={...e,...J},st={scale:f,opts:q};if(!q.force&&q.disableZoom)return st;let nt=e.minScale,dt=e.maxScale;if(q.contain){const ot=Fs(t),_t=ot.elem.width/f,St=ot.elem.height/f;if(_t>1&&St>1){const Dt=ot.parent.width-ot.parent.border.left-ot.parent.border.right,At=ot.parent.height-ot.parent.border.top-ot.parent.border.bottom,kt=Dt/_t,bt=At/St;e.contain==="inside"?dt=Math.min(dt,kt,bt):e.contain==="outside"&&(nt=Math.max(nt,kt,bt))}}return st.scale=Math.min(Math.max(U,nt),dt),st}function m(U,J,q,st){const nt=h(U,J,f,q);return u!==nt.x||l!==nt.y?(u=nt.x,l=nt.y,v("panzoompan",nt.opts,st)):{x:u,y:l,scale:f,isSVG:r,originalEvent:st}}function b(U,J,q){const st=g(U,J),nt=st.opts;if(!nt.force&&nt.disableZoom)return;U=st.scale;let dt=u,ot=l;if(nt.focal){const St=nt.focal;dt=(St.x/U-St.x/f+u*U)/U,ot=(St.y/U-St.y/f+l*U)/U}const _t=h(dt,ot,U,{relative:!1,force:!0});return u=_t.x,l=_t.y,f=U,v("panzoomzoom",nt,q)}function x(U,J){const q={...e,animate:!0,...J};return b(f*Math.exp((U?1:-1)*q.step),q)}function y(U){return x(!0,U)}function w(U){return x(!1,U)}function C(U,J,q,st){const nt=Fs(t),dt={width:nt.parent.width-nt.parent.padding.left-nt.parent.padding.right-nt.parent.border.left-nt.parent.border.right,height:nt.parent.height-nt.parent.padding.top-nt.parent.padding.bottom-nt.parent.border.top-nt.parent.border.bottom};let ot=J.clientX-nt.parent.left-nt.parent.padding.left-nt.parent.border.left-nt.elem.margin.left,_t=J.clientY-nt.parent.top-nt.parent.padding.top-nt.parent.border.top-nt.elem.margin.top;r||(ot-=nt.elem.width/f/2,_t-=nt.elem.height/f/2);const St={x:ot/dt.width*(dt.width*U),y:_t/dt.height*(dt.height*U)};return b(U,{...q,animate:!1,focal:St},st)}function E(U,J){U.preventDefault();const q={...e,...J,animate:!1},st=(U.deltaY===0&&U.deltaX?U.deltaX:U.deltaY)<0?1:-1,nt=g(f*Math.exp(st*q.step/3),q).scale;return C(nt,U,q,U)}function T(U){const J={...e,animate:!0,force:!0,...U};f=g(J.startScale,J).scale;const q=h(J.startX,J.startY,f,J);return u=q.x,l=q.y,v("panzoomreset",J)}let D,A,M,I,P,H;const $=[];function F(U){if(eR(U.target,e))return;Zf($,U),c=!0,e.handleStartEvent(U),D=u,A=l,p("panzoomstart",{x:u,y:l,scale:f,isSVG:r,originalEvent:U},e);const J=Ph($);M=J.clientX,I=J.clientY,P=f,H=mf($)}function Z(U){if(!c||D===void 0||A===void 0||M===void 0||I===void 0)return;Zf($,U);const J=Ph($),q=$.length>1;let st=f;if(q){H===0&&(H=mf($));const nt=mf($)-H;st=g(nt*e.step/80+P).scale,C(st,J,{animate:!1},U)}(!q||e.pinchAndPan)&&m(D+(J.clientX-M)/st,A+(J.clientY-I)/st,{animate:!1},U)}function X(U){$.length===1&&p("panzoomend",{x:u,y:l,scale:f,isSVG:r,originalEvent:U},e),VM($,U),c&&(c=!1,D=A=M=I=void 0)}let et=!1;function G(){et||(et=!0,_f("down",e.canvas?n:t,F),_f("move",document,Z,{passive:!0}),_f("up",document,X,{passive:!0}))}function j(){et=!1,bf("down",e.canvas?n:t,F),bf("move",document,Z),bf("up",document,X)}return e.noBind||G(),{bind:G,destroy:j,eventNames:bo,getPan:()=>({x:u,y:l}),getScale:()=>f,getOptions:()=>iR(e),handleDown:F,handleMove:Z,handleUp:X,pan:m,reset:T,resetStyle:i,setOptions:o,setStyle:(U,J)=>ia(t,U,J),zoom:b,zoomIn:y,zoomOut:w,zoomToPoint:C,zoomWithWheel:E}}F0.defaultOptions=k0;const aR={class:"sketch-ruler"},zu=_n({__name:"index",props:{showRuler:{type:Boolean,default:!0},eyeIcon:{},closeEyeIcon:{},scale:{default:1},rate:{default:1},thick:{default:16},palette:{},width:{default:1400},height:{default:800},paddingRatio:{default:.2},autoCenter:{type:Boolean,default:!0},shadow:{default:()=>({x:0,y:0,width:0,height:0})},lines:{default:()=>({h:[],v:[]})},isShowReferLine:{type:Boolean,default:!0},canvasWidth:{default:700},canvasHeight:{default:700},snapsObj:{default:()=>({h:[],v:[]})},snapThreshold:{default:5},gridRatio:{default:1},lockLine:{type:Boolean,default:!1},selfHandle:{type:Boolean,default:!1},panzoomOption:{}},emits:["onCornerClick","update:scale","zoomchange","update:lockLine"],setup(t,{expose:e,emit:r}){gM(G=>({"0c8da19e":et.value}));const n=t,i=r,o=Kt(null),u=Kt(0),l=Kt(0);let f=0,c=0;const p=Kt(1),v=Kt(n.isShowReferLine),h=Kt(null),g=Kt("defaultCursor"),m=ie(()=>({bgColor:"#f6f7f9",longfgColor:"#BABBBC",fontColor:"#7D8694",shadowColor:"#e9f7fe",lineColor:"#51d6a9",lineType:"solid",lockLineColor:"#d4d7dc",hoverBg:"#000",hoverColor:"#fff",borderColor:"#eeeeef",...n.palette})),b=ie(()=>({backgroundImage:v.value?`url(${n.eyeIcon||YM})`:`url(${n.closeEyeIcon||XM})`,width:n.thick+"px",height:n.thick+"px",borderRight:`1px solid ${m.value.borderColor}`,borderBottom:`1px solid ${m.value.borderColor}`})),x=ie(()=>({background:m.value.bgColor,width:y.value+"px",height:w.value+"px"})),y=ie(()=>n.width-n.thick),w=ie(()=>n.height-n.thick),C=G=>{var j;(G.ctrlKey||G.metaKey)&&((j=h.value)==null||j.zoomWithWheel(G))},E=G=>{var j;G.key===" "&&(g.value="grabCursor",(j=h.value)==null||j.bind(),G.preventDefault())},T=G=>{var j;G.key===" "&&((j=h.value)==null||j.destroy(),g.value="defaultCursor")};bn(()=>{if(M(),!n.selfHandle&&o.value){const G=o.value.parentElement;if(!G)return;G.addEventListener("wheel",C),document.addEventListener("keydown",E),document.addEventListener("keyup",T)}});const D=G=>({noBind:!0,startScale:G,startX:f,startY:c,smoothScroll:!0,...n.panzoomOption}),A=G=>{const{scale:j,dimsOut:U}=G.detail;if(U){const J=j.toFixed(2);i("update:scale",Number(J)),p.value=Number(J);const q=(U.parent.left-U.elem.left)/j,st=(U.parent.top-U.elem.top)/j;u.value=q,i("zoomchange",G.detail),l.value=st}},M=()=>{if(o.value=document.querySelector(".canvasedit"),o.value){let G=n.scale;n.autoCenter&&(G=I()),h.value=F0(o.value,D(G)),o.value&&o.value.addEventListener("panzoomchange",A)}},I=()=>{const G=y.value*(1-n.paddingRatio)/n.canvasWidth,j=w.value*(1-n.paddingRatio)/n.canvasHeight,U=Math.min(G,j);return f=y.value/2-n.canvasWidth/2,U<1?c=(n.canvasHeight*U/2-n.canvasHeight/2)/U-(n.canvasHeight*U-w.value)/U/2:U>1?c=(n.canvasHeight*U-n.canvasHeight)/2/U+(w.value-n.canvasHeight*U)/U/2:c=0,U},P=()=>{var G;return(G=h.value)==null?void 0:G.reset()},H=()=>{var G;return(G=h.value)==null?void 0:G.zoomIn()},$=()=>{var G;return(G=h.value)==null?void 0:G.zoomOut()},F=()=>{var G;(G=h.value)==null||G.setOptions(D(n.scale))},Z=()=>{v.value=!v.value,i("onCornerClick",v.value)},X=G=>{i("update:lockLine",G)},et=ie(()=>n.thick+"px");return vn([()=>n.isShowReferLine],()=>{v.value=n.isShowReferLine}),vn([()=>n.canvasWidth,()=>n.canvasHeight,()=>n.width,()=>n.height],()=>{M()}),vn(()=>n.panzoomOption,()=>{F()},{deep:!0}),e({initPanzoom:M,panzoomInstance:h,reset:P,zoomIn:H,zoomOut:$,cursorClass:g}),(G,j)=>(ue(),Re("div",aR,[Gf(G.$slots,"btn",{reset:P,zoomIn:H,zoomOut:$}),ht("div",{class:"canvasedit-parent",style:Me(x.value)},[ht("div",{class:an(["canvasedit",g.value])},[Gf(G.$slots,"default")],2)],4),pa(Qe(Ih,{style:Me({marginLeft:G.thick+"px",width:y.value+"px"}),vertical:!1,width:G.width,height:G.thick,"is-show-refer-line":v.value,thick:G.thick,start:u.value,startOther:l.value,lines:G.lines,"select-start":G.shadow.x,snapThreshold:G.snapThreshold,snapsObj:G.snapsObj,"select-length":G.shadow.width,scale:p.value,palette:m.value,canvasWidth:G.canvasWidth,canvasHeight:G.canvasHeight,rate:G.rate,gridRatio:G.gridRatio,lockLine:G.lockLine,onChangeLineState:X},null,8,["style","width","height","is-show-refer-line","thick","start","startOther","lines","select-start","snapThreshold","snapsObj","select-length","scale","palette","canvasWidth","canvasHeight","rate","gridRatio","lockLine"]),[[ha,G.showRuler]]),pa(Qe(Ih,{style:Me({marginTop:G.thick+"px",top:0,height:w.value+"px"}),vertical:!0,width:G.thick,height:G.height,"is-show-refer-line":v.value,thick:G.thick,start:l.value,startOther:u.value,lines:G.lines,"select-start":G.shadow.y,"select-length":G.shadow.height,snapThreshold:G.snapThreshold,snapsObj:G.snapsObj,scale:p.value,palette:m.value,canvasWidth:G.canvasWidth,canvasHeight:G.canvasHeight,rate:G.rate,gridRatio:G.gridRatio,lockLine:G.lockLine,onChangeLineState:X},null,8,["style","width","height","is-show-refer-line","thick","start","startOther","lines","select-start","select-length","snapThreshold","snapsObj","scale","palette","canvasWidth","canvasHeight","rate","gridRatio","lockLine"]),[[ha,G.showRuler]]),pa(ht("a",{class:"corner",style:Me(b.value),onClick:Z},null,4),[[ha,G.showRuler]])]))}}),oR={class:"demo"},sR={class:"top font16"},uR={class:"scale mr10"},lR=ht("span",null,"禁止缩放",-1),fR=ht("span",null,"禁止移动",-1),cR=ht("span",null,"框内移动",-1),dR=["value"],pR=ht("div",{class:"mr10"}," 吸附横线: ",-1),vR=["value"],hR=ht("div",{class:"mr10"}," 吸附纵线: ",-1),gR=["value"],mR=ht("a",{href:"https://github.com/kakajun/vue3-sketch-ruler",target:"_blank",rel:"noopener noreferrer"},[ht("i",{class:"fas fa-external-link-alt"}),Do(" git源码 ")],-1),_R=["src"],bR={class:"btns"},xR=["onClick"],yR=["onClick"],SR=["onClick"],zh=_n({__name:"user-rulerts",setup(t){const e=Kt(0),r=Kt(),n=lr({maxScale:3,minScale:.3,disablePan:!1,disableZoom:!1,contain:"none",handleStartEvent:I=>{I.preventDefault(),console.log("handleStartEvent",I)}}),i=Kt(!1),o=()=>{r.value&&r.value.zoomOut()};bn(()=>{window.addEventListener("resize",u)});const u=()=>{r.value&&r.value.initPanzoom()},l=()=>{r.value&&r.value.reset()},f=()=>{c.isBlack=!c.isBlack,e.value++},c=lr({scale:1,isBlack:!1}),p=ie(()=>c.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),v=lr({thick:20,width:1470,height:800,canvasWidth:1e3,canvasHeight:500,showRuler:!0,palette:p.value,snapsObj:{h:[0,100,200],v:[130]},shadow:{x:0,y:0,width:300,height:300},panzoomOption:n,isShowReferLine:!0,lines:{h:[0,250],v:[0,500]}}),h=ie(()=>({width:`${v.width}px`,height:`${v.height}px`})),g=ie(()=>Number(c.scale).toFixed(1)),m=ie(()=>({width:`${v.canvasWidth}px`,height:`${v.canvasHeight}px`})),b=I=>{c.scale=I.target.value*1,r.value&&r.value.panzoomInstance.zoom(c.scale)},x=I=>{console.log("handleCornerClick",I)},y=I=>{console.log("zoomchange",I)},w=I=>{const P=I.target.value.split(",");v.snapsObj.h=P.map(H=>Number(H))},C=I=>{const P=I.target.value.split(",");v.snapsObj.v=P.map(H=>Number(H))},E=I=>{n.disableZoom=I.target.checked},T=I=>{n.disablePan=I.target.checked},D=I=>{n.contain=I.target.checked?"inside":"none"},A=()=>{v.shadow.x=Math.random()*v.canvasWidth,v.shadow.y=Math.random()*v.canvasHeight},M=I=>{console.log("handleMouseDown",I)};return(I,P)=>(ue(),Re("div",oR,[ht("div",sR,[ht("div",uR," 缩放比:"+Tr(g.value),1),ht("button",{class:"mr10 font16",onClick:P[0]||(P[0]=H=>v.showRuler=!v.showRuler)},Tr((v.showRuler?"隐藏":"显示")+"规尺"),1),ht("button",{class:"mr10 font16",onClick:P[1]||(P[1]=H=>v.isShowReferLine=!v.isShowReferLine)},Tr((v.isShowReferLine?"隐藏":"显示")+"参考线"),1),ht("button",{class:"mr10 font16",onClick:P[2]||(P[2]=H=>i.value=!0)},"锁定参考线"),ht("button",{class:"mr10 font16",onClick:A},"模拟阴影切换"),ht("button",{class:"mr10 font16",onClick:f},"主题切换"),ht("button",{class:"mr10 font16",onClick:Ce(l,["stop"])},"还原"),ht("button",{class:"mr10 font16",onClick:Ce(o,["stop"])},"缩小"),lR,ht("input",{type:"checkbox",class:"switch",onChange:E},null,32),fR,ht("input",{type:"checkbox",class:"switch mr10",onChange:T},null,32),cR,ht("input",{type:"checkbox",class:"switch mr10",onChange:D},null,32),ht("input",{class:"mr10 font16",value:c.scale,onInput:b,type:"range",min:"0.3",max:"3",step:"0.1",defaultValue:"1"},null,40,dR),pR,ht("input",{class:"mr10",style:{width:"90px"},value:v.snapsObj.h,onBlur:w},null,40,vR),hR,ht("input",{class:"mr10",style:{width:"90px"},value:v.snapsObj.v,onBlur:C},null,40,gR),mR]),ht("div",{class:an(["wrapper",[c.isBlack?"balckwrapper":"whitewrapper"]]),style:Me(h.value)},[(ue(),di(he(zu),ba({ref_key:"sketchruleRef",ref:r,key:e.value,scale:c.scale,"onUpdate:scale":P[3]||(P[3]=H=>c.scale=H),lockLine:i.value,"onUpdate:lockLine":P[4]||(P[4]=H=>i.value=H)},v,{onOnCornerClick:x,onZoomchange:y}),{default:gn(()=>[ht("div",{"data-type":"page",onMousedown:M,style:Me(m.value)},[ht("img",{class:"img-style",src:he(Hc),alt:""},null,8,_R)],36)]),btn:gn(({reset:H,zoomIn:$,zoomOut:F})=>[ht("div",bR,[ht("button",{onClick:Ce(H,["stop"])},"还原",8,xR),ht("button",{onClick:Ce($,["stop"])},"放大",8,yR),ht("button",{onClick:Ce(F,["stop"])},"缩小",8,SR)])]),_:1},16,["scale","lockLine"]))],6)]))}}),wR={class:"demo"},CR={class:"top font16"},ER={class:"scale mr10"},DR=ht("span",null,"禁止缩放",-1),MR=ht("span",null,"禁止移动",-1),RR=ht("span",null,"框内移动",-1),OR=["value"],TR=ht("div",{class:"mr10"}," 吸附横线: ",-1),AR=["value"],IR=ht("div",{class:"mr10"}," 吸附纵线: ",-1),PR=["value"],BR=ht("a",{href:"https://github.com/kakajun/vue3-sketch-ruler",target:"_blank",rel:"noopener noreferrer"},[ht("i",{class:"fas fa-external-link-alt"}),Do(" git源码 ")],-1),LR=["src"],zR={class:"btns"},kR=["onClick"],FR=["onClick"],GR=["onClick"],NR=_n({__name:"user-rulerts2",setup(t){const e=Kt(1470),r=Kt(800),n=Kt(1e3),i=Kt(500),o=Kt(0);Kt(1);const u=Kt(),l=Kt(!0),f=lr({maxScale:3,minScale:.3,disablePan:!1,disableZoom:!1,contain:"none",handleStartEvent:X=>{X.preventDefault(),console.log("handleStartEvent",X)}}),c=Kt(!1),p=Kt({h:[0,100,200],v:[130]}),v=()=>{u.value&&u.value.zoomOut()};bn(()=>{window.addEventListener("resize",g)});const h=()=>{l.value=!l.value},g=()=>{u.value&&u.value.initPanzoom()},m=()=>{u.value&&u.value.reset()},b=()=>{x.isBlack=!x.isBlack,o.value++},x=lr({scale:1,isBlack:!1,lines:{h:[0,250],v:[0,500]},thick:20,shadow:{x:0,y:0,width:300,height:300},isShowRuler:!0,isShowReferLine:!0}),y=ie(()=>({width:`${e.value}px`,height:`${r.value}px`})),w=ie(()=>x.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),C=ie(()=>Number(x.scale).toFixed(1)),E=ie(()=>({width:`${n.value}px`,height:`${i.value}px`})),T=X=>{x.scale=X.target.value*1,u.value&&u.value.panzoomInstance.zoom(x.scale)},D=X=>{console.log("handleCornerClick",X)},A=X=>{console.log("zoomchange",X)},M=()=>{x.isShowReferLine=!x.isShowReferLine,console.log(x.isShowReferLine,"state.isShowReferLine")},I=X=>{const et=X.target.value.split(",");p.value.h=et.map(G=>Number(G))},P=X=>{const et=X.target.value.split(",");p.value.v=et.map(G=>Number(G))},H=X=>{f.disableZoom=X.target.checked},$=X=>{f.disablePan=X.target.checked},F=X=>{f.contain=X.target.checked?"inside":"none"},Z=()=>{x.shadow.x=Math.random()*n.value,x.shadow.y=Math.random()*i.value};return(X,et)=>(ue(),Re("div",wR,[ht("div",CR,[ht("div",ER," 缩放比:"+Tr(C.value),1),l.value?(ue(),Re("button",{key:0,class:"mr10 font16",onClick:et[0]||(et[0]=G=>l.value=!1)},"隐藏规尺")):(ue(),Re("button",{key:1,class:"mr10 font16",onClick:h},"显示规尺")),ht("button",{class:"mr10 font16",onClick:M},"辅助线开关"),ht("button",{class:"mr10 font16",onClick:et[1]||(et[1]=G=>c.value=!0)},"锁定参考线"),ht("button",{class:"mr10 font16",onClick:Z},"模拟阴影切换"),ht("button",{class:"mr10 font16",onClick:b},"主题切换"),ht("button",{class:"mr10 font16",onClick:Ce(m,["stop"])},"还原"),ht("button",{class:"mr10 font16",onClick:Ce(v,["stop"])},"缩小"),DR,ht("input",{type:"checkbox",class:"switch",onChange:H},null,32),MR,ht("input",{type:"checkbox",class:"switch mr10",onChange:$},null,32),RR,ht("input",{type:"checkbox",class:"switch mr10",onChange:F},null,32),ht("input",{class:"mr10 font16",value:x.scale,onInput:T,type:"range",min:"0.3",max:"3",step:"0.1",defaultValue:"1"},null,40,OR),TR,ht("input",{class:"mr10",style:{width:"90px"},value:p.value.h,onBlur:I},null,40,AR),IR,ht("input",{class:"mr10",style:{width:"90px"},value:p.value.v,onBlur:P},null,40,PR),BR]),ht("div",{class:an(["wrapper",[x.isBlack?"balckwrapper":"whitewrapper"]]),style:Me(y.value)},[(ue(),di(he(zu),{key:o.value,scale:x.scale,"onUpdate:scale":et[2]||(et[2]=G=>x.scale=G),lockLine:c.value,"onUpdate:lockLine":et[3]||(et[3]=G=>c.value=G),thick:x.thick,width:e.value,showRuler:l.value,height:r.value,palette:w.value,snapsObj:p.value,shadow:x.shadow,canvasWidth:n.value,canvasHeight:i.value,panzoomOption:f,ref_key:"sketchruleRef",ref:u,isShowReferLine:x.isShowReferLine,onOnCornerClick:D,onZoomchange:A,lines:x.lines},{default:gn(()=>[ht("div",{"data-type":"page",style:Me(E.value)},[ht("img",{class:"img-style",src:he(Hc),alt:""},null,8,LR)],4)]),btn:gn(({reset:G,zoomIn:j,zoomOut:U})=>[ht("div",zR,[ht("button",{onClick:Ce(G,["stop"])},"还原",8,kR),ht("button",{onClick:Ce(j,["stop"])},"放大",8,FR),ht("button",{onClick:Ce(U,["stop"])},"缩小",8,GR)])]),_:1},8,["scale","lockLine","thick","width","showRuler","height","palette","snapsObj","shadow","canvasWidth","canvasHeight","panzoomOption","isShowReferLine","lines"]))],6)]))}}),WR={class:"demo"},HR={class:"top font16"},$R=ht("div",{class:"mr10"},"鼠标中键移动画布 ",-1),UR={class:"scale mr10"},YR=ht("span",null,"禁止缩放",-1),XR=ht("span",null,"禁止移动",-1),VR=ht("span",null,"框内移动",-1),qR=["value"],KR=ht("div",{class:"mr10"}," 吸附横线: ",-1),ZR=["value"],jR=ht("div",{class:"mr10"}," 吸附纵线: ",-1),JR=["value"],QR=ht("a",{href:"https://github.com/kakajun/vue3-sketch-ruler",target:"_blank",rel:"noopener noreferrer"},[ht("i",{class:"fas fa-external-link-alt"}),Do(" git源码 ")],-1),tO=["src"],eO={class:"btns"},rO=["onClick"],nO=["onClick"],iO=["onClick"],aO=_n({__name:"user-rulerts3",setup(t){const e=Kt(0),r=Kt(),n=lr({maxScale:3,minScale:.3,disablePan:!1,disableZoom:!1,contain:"none",handleStartEvent:M=>{M.preventDefault(),console.log("handleStartEvent",M)}}),i=Kt(!1),o=()=>{r.value&&r.value.zoomOut()};bn(()=>{window.addEventListener("resize",u);const M=r.value.panzoomInstance,I=document.getElementsByClassName("canvasedit-parent");if(I[0]){const P=I[0];P&&P.addEventListener("wheel",function(H){(H.ctrlKey||H.metaKey)&&M.zoomWithWheel(H)}),document.addEventListener("pointerdown",function(H){H.button===1&&(r.value.cursorClass="grabCursor",M.bind(),M.handleDown(H),H.preventDefault())}),document.addEventListener("pointerup",function(H){H.button===1&&(M.destroy(),console.log("放开了"),r.value.cursorClass="defaultCursor")})}});const u=()=>{r.value&&r.value.initPanzoom()},l=()=>{r.value&&r.value.reset()},f=()=>{c.isBlack=!c.isBlack,e.value++},c=lr({scale:1,isBlack:!1}),p=ie(()=>c.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),v=lr({thick:20,width:1470,height:800,canvasWidth:1e3,canvasHeight:500,showRuler:!0,palette:p.value,snapsObj:{h:[0,100,200],v:[130]},shadow:{x:0,y:0,width:300,height:300},panzoomOption:n,isShowReferLine:!0,lines:{h:[0,250],v:[0,500]}}),h=ie(()=>({width:`${v.width}px`,height:`${v.height}px`})),g=ie(()=>Number(c.scale).toFixed(1)),m=ie(()=>({width:`${v.canvasWidth}px`,height:`${v.canvasHeight}px`})),b=M=>{c.scale=M.target.value*1,r.value&&r.value.panzoomInstance.zoom(c.scale)},x=M=>{console.log("handleCornerClick",M)},y=M=>{},w=M=>{const I=M.target.value.split(",");v.snapsObj.h=I.map(P=>Number(P))},C=M=>{const I=M.target.value.split(",");v.snapsObj.v=I.map(P=>Number(P))},E=M=>{n.disableZoom=M.target.checked},T=M=>{n.disablePan=M.target.checked},D=M=>{n.contain=M.target.checked?"inside":"none"},A=()=>{v.shadow.x=Math.random()*v.canvasWidth,v.shadow.y=Math.random()*v.canvasHeight};return(M,I)=>(ue(),Re("div",WR,[ht("div",HR,[$R,ht("div",UR," 缩放比:"+Tr(g.value),1),ht("button",{class:"mr10 font16",onClick:I[0]||(I[0]=P=>v.showRuler=!v.showRuler)},Tr((v.showRuler?"隐藏":"显示")+"规尺"),1),ht("button",{class:"mr10 font16",onClick:I[1]||(I[1]=P=>v.isShowReferLine=!v.isShowReferLine)},Tr((v.isShowReferLine?"隐藏":"显示")+"参考线"),1),ht("button",{class:"mr10 font16",onClick:I[2]||(I[2]=P=>i.value=!0)},"锁定参考线"),ht("button",{class:"mr10 font16",onClick:A},"模拟阴影切换"),ht("button",{class:"mr10 font16",onClick:f},"主题切换"),ht("button",{class:"mr10 font16",onClick:Ce(l,["stop"])},"还原"),ht("button",{class:"mr10 font16",onClick:Ce(o,["stop"])},"缩小"),YR,ht("input",{type:"checkbox",class:"switch",onChange:E},null,32),XR,ht("input",{type:"checkbox",class:"switch mr10",onChange:T},null,32),VR,ht("input",{type:"checkbox",class:"switch mr10",onChange:D},null,32),ht("input",{class:"mr10 font16",value:c.scale,onInput:b,type:"range",min:"0.3",max:"3",step:"0.1",defaultValue:"1"},null,40,qR),KR,ht("input",{class:"mr10",style:{width:"90px"},value:v.snapsObj.h,onBlur:w},null,40,ZR),jR,ht("input",{class:"mr10",style:{width:"90px"},value:v.snapsObj.v,onBlur:C},null,40,JR),QR]),ht("div",{class:an(["wrapper",[c.isBlack?"balckwrapper":"whitewrapper"]]),style:Me(h.value)},[(ue(),di(he(zu),ba({ref_key:"sketchruleRef",ref:r,key:e.value,scale:c.scale,"onUpdate:scale":I[3]||(I[3]=P=>c.scale=P),lockLine:i.value,"onUpdate:lockLine":I[4]||(I[4]=P=>i.value=P)},v,{selfHandle:!0,onOnCornerClick:x,onZoomchange:y}),{default:gn(()=>[ht("div",{"data-type":"page",style:Me(m.value)},[ht("img",{class:"img-style",src:he(Hc),alt:""},null,8,tO)],4)]),btn:gn(({reset:P,zoomIn:H,zoomOut:$})=>[ht("div",eO,[ht("button",{onClick:Ce(P,["stop"])},"还原",8,rO),ht("button",{onClick:Ce(H,["stop"])},"放大",8,nO),ht("button",{onClick:Ce($,["stop"])},"缩小",8,iO)])]),_:1},16,["scale","lockLine"]))],6)]))}});function oO(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.map(function(n){return n.split(" ").map(function(i){return i?""+t+i:""}).join(" ")}).join(" ")}function sO(t,e){return e.replace(/([^}{]*){/gm,function(r,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"})}function In(t,e){return function(r){r&&(t[e]=r)}}function G0(t,e,r){return function(n){n&&(t[e][r]=n)}}function kh(t,e){return function(r){var n=r.prototype;t.forEach(function(i){e(n,i)})}}function uO(t,e){return e===void 0&&(e={}),function(r,n){t.forEach(function(i){var o=e[i]||i;o in r||(r[o]=function(){for(var u,l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var c=(u=this[n])[i].apply(u,l);return c===this[n]?this:c})})}}var lO="function",fO="object",cO="string",dO="number",Uc="undefined",N0=typeof window!==Uc,pO=typeof document!==Uc&&document,vO=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Ie=1e-7,Gs={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,e){return t*e/100},vw:function(t,e){return e===void 0&&(e=window.innerWidth),t/100*e},vh:function(t,e){return e===void 0&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return e===void 0&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return e===void 0&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function hO(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],u=0,l=o.length;u<l;u++,i++)n[i]=o[u];return n}function fu(t,e,r,n){return(t*n+e*r)/(r+n)}function Ro(t){return typeof t===Uc}function rn(t){return t&&typeof t===fO}function Be(t){return Array.isArray(t)}function xr(t){return typeof t===cO}function xa(t){return typeof t===dO}function Yc(t){return typeof t===lO}function gO(t,e){var r=t===""||t==" ",n=e===""||e==" ";return n&&r||t===e}function W0(t,e,r,n,i){var o=Xc(t,e,r);return o?r:mO(t,e,r+1,n,i)}function Xc(t,e,r){if(!t.ignore)return null;var n=e.slice(Math.max(r-3,0),r+3).join("");return new RegExp(t.ignore).exec(n)}function mO(t,e,r,n,i){for(var o=function(c){var p=e[c].trim();if(p===t.close&&!Xc(t,e,c))return{value:c};var v=c,h=yr(i,function(g){var m=g.open;return m===p});if(h&&(v=W0(h,e,c,n,i)),v===-1)return u=c,"break";c=v,u=c},u,l=r;l<n;++l){var f=o(l);if(l=u,typeof f=="object")return f.value;if(f==="break")break}return-1}function Vc(t,e){var r=xr(e)?{separator:e}:e,n=r.separator,i=n===void 0?",":n,o=r.isSeparateFirst,u=r.isSeparateOnlyOpenClose,l=r.isSeparateOpenClose,f=l===void 0?u:l,c=r.openCloseCharacters,p=c===void 0?vO:c,v=p.map(function(A){var M=A.open,I=A.close;return M===I?M:M+"|"+I}).join("|"),h="(\\s*"+i+"\\s*|"+v+"|\\s+)",g=new RegExp(h,"g"),m=t.split(g).filter(function(A){return A&&A!=="undefined"}),b=m.length,x=[],y=[];function w(){return y.length?(x.push(y.join("")),y=[],!0):!1}for(var C=function(A){var M=m[A].trim(),I=A,P=yr(p,function(F){var Z=F.open;return Z===M}),H=yr(p,function(F){var Z=F.close;return Z===M});if(P){if(I=W0(P,m,A,b,p),I!==-1&&f)return w()&&o||(x.push(m.slice(A,I+1).join("")),A=I,o)?(E=A,"break"):(E=A,"continue")}else if(H&&!Xc(H,m,A)){var $=hO(p);return $.splice(p.indexOf(H),1),{value:Vc(t,{separator:i,isSeparateFirst:o,isSeparateOnlyOpenClose:u,isSeparateOpenClose:f,openCloseCharacters:$})}}else if(gO(M,i)&&!u)return w(),o?(E=A,"break"):(E=A,"continue");I===-1&&(I=b-1),y.push(m.slice(A,I+1).join("")),A=I,E=A},E,T=0;T<b;++T){var D=C(T);if(T=E,typeof D=="object")return D.value;if(D==="break")break}return y.length&&x.push(y.join("")),x}function oi(t){return Vc(t,"")}function Ti(t){return Vc(t,",")}function H0(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function Oo(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var r=e[1],n=e[2],i=e[3];return{prefix:r,unit:i,value:parseFloat(n)}}function _O(t){return t.replace(/[\s-_]+([^\s-_])/g,function(e,r){return r.toUpperCase()})}function iu(t,e){return t.replace(/([a-z])([A-Z])/g,function(r,n,i){return""+n+e+i.toLowerCase()})}function xo(){return Date.now?Date.now():new Date().getTime()}function Ln(t,e,r){r===void 0&&(r=-1);for(var n=t.length,i=0;i<n;++i)if(e(t[i],i,t))return i;return r}function yr(t,e,r){var n=Ln(t,e);return n>-1?t[n]:r}var $0=function(){var t=xo(),e=N0&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(r){var n=xo(),i=setTimeout(function(){r(n-t)},1e3/60);return i}}(),bO=function(){var t=N0&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(e){clearTimeout(e)}}();function zn(t){return Object.keys(t)}function xO(t){var e=zn(t);return e.map(function(r){return t[r]})}function fe(t,e){var r=Oo(t),n=r.value,i=r.unit;if(rn(e)){var o=e[i];if(o){if(Yc(o))return o(n);if(Gs[i])return Gs[i](n,o)}}else if(i==="%")return n*e/100;return Gs[i]?Gs[i](n):n}function jf(t,e,r){return Math.max(e,Math.min(t,r))}function Fh(t,e,r,n){return n===void 0&&(n=t[0]/t[1]),[[Nt(e[0],Ie),Nt(e[0]/n,Ie)],[Nt(e[1]*n,Ie),Nt(e[1],Ie)]].filter(function(i){return i.every(function(o,u){var l=e[u],f=Nt(l,Ie);return r?o<=l||o<=f:o>=l||o>=f})})[0]||t}function U0(t,e,r,n){if(!n)return t.map(function(g,m){return jf(g,e[m],r[m])});var i=t[0],o=t[1],u=n===!0?i/o:n,l=Fh(t,e,!1,u),f=l[0],c=l[1],p=Fh(t,r,!0,u),v=p[0],h=p[1];return i<f||o<c?(i=f,o=c):(i>v||o>h)&&(i=v,o=h),[i,o]}function yO(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return r}function Jf(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return e?r/e:0}function Oe(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function SO(t){return[0,1].map(function(e){return Jf(t.map(function(r){return r[e]}))})}function Gh(t){var e=SO(t),r=Oe(e,t[0]),n=Oe(e,t[1]);return r<n&&n-r<Math.PI||r>n&&n-r<-Math.PI?1:-1}function Pn(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function Nt(t,e){if(!e)return t;var r=1/e;return Math.round(t/e)/r}function Nh(t,e){return t.forEach(function(r,n){t[n]=Nt(t[n],e)}),t}function wO(t){for(var e=[],r=0;r<t;++r)e.push(r);return e}function Y0(t){return t.reduce(function(e,r){return e.concat(r)},[])}function X0(t,e){t.indexOf(e)===-1&&t.push(e)}function Ge(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function V0(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function q0(t,e){if(t.classList)t.classList.remove(e);else{var r=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(r," ")}}function Xe(t,e,r,n){t.addEventListener(e,r,n)}function Fe(t,e,r,n){t.removeEventListener(e,r,n)}function Ma(t){return(t==null?void 0:t.ownerDocument)||pO}function qc(t){return Ma(t).documentElement}function pi(t){return Ma(t).body}function ni(t){var e;return((e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||window}function K0(t){return t&&"postMessage"in t&&"blur"in t&&"self"in t}function Ra(t){return rn(t)&&t.nodeName&&t.nodeType&&"ownerDocument"in t}var CO=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(r){return this.values[this.keys.indexOf(r)]},e.set=function(r,n){var i=this.keys,o=this.values,u=i.indexOf(r),l=u===-1?i.length:u;i[l]=r,o[l]=n},t}(),EO=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(r){return this.object[r]},e.set=function(r,n){this.object[r]=n},t}(),DO=typeof Map=="function",MO=function(){function t(){}var e=t.prototype;return e.connect=function(r,n){this.prev=r,this.next=n,r&&(r.next=this),n&&(n.prev=this)},e.disconnect=function(){var r=this.prev,n=this.next;r&&(r.next=n),n&&(n.prev=r)},e.getIndex=function(){for(var r=this,n=-1;r;)r=r.prev,++n;return n},t}();function RO(t,e){var r=[],n=[];return t.forEach(function(i){var o=i[0],u=i[1],l=new MO;r[o]=l,n[u]=l}),r.forEach(function(i,o){i.connect(r[o-1])}),t.filter(function(i,o){return!e[o]}).map(function(i,o){var u=i[0],l=i[1];if(u===l)return[0,0];var f=r[u],c=n[l-1],p=f.getIndex();f.disconnect(),c?f.connect(c,c.next):f.connect(void 0,r[0]);var v=f.getIndex();return[p,v]})}var OO=function(){function t(r,n,i,o,u,l,f,c){this.prevList=r,this.list=n,this.added=i,this.removed=o,this.changed=u,this.maintained=l,this.changedBeforeAdded=f,this.fixed=c}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var r=RO(this.changedBeforeAdded,this.fixed),n=this.changed,i=[];this.cacheOrdered=r.filter(function(o,u){var l=o[0],f=o[1],c=n[u],p=c[0],v=c[1];if(l!==f)return i.push([p,v]),!0}),this.cachePureChanged=i},t}();function To(t,e,r){var n=DO?Map:r?EO:CO,i=r||function(w){return w},o=[],u=[],l=[],f=t.map(i),c=e.map(i),p=new n,v=new n,h=[],g=[],m={},b=[],x=0,y=0;return f.forEach(function(w,C){p.set(w,C)}),c.forEach(function(w,C){v.set(w,C)}),f.forEach(function(w,C){var E=v.get(w);typeof E>"u"?(++y,u.push(C)):m[E]=y}),c.forEach(function(w,C){var E=p.get(w);typeof E>"u"?(o.push(C),++x):(l.push([E,C]),y=m[C]||0,h.push([E-y,C-x]),g.push(C===E),E!==C&&b.push([E,C]))}),u.reverse(),new OO(t,e,o,u,b,l,h,g)}var TO=function(){function t(r,n){r===void 0&&(r=[]),this.findKeyCallback=n,this.list=[].slice.call(r)}var e=t.prototype;return e.update=function(r){var n=[].slice.call(r),i=To(this.list,n,this.findKeyCallback);return this.list=n,i},t}(),Qf=function(t,e){return Qf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Qf(t,e)};function Ao(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var pn=function(){return pn=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},pn.apply(this,arguments)};function Z0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Wh(t,e,r){for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Hh(t){var e=0;return t.map(function(r){return r==null?"$compat".concat(++e):"".concat(r)})}function j0(t){var e=[];return t.forEach(function(r){e=e.concat(Be(r)?j0(r):r)}),e}function xf(t,e){if(!e)return t;for(var r in e)Ro(t[r])&&(t[r]=e[r]);return t}function cu(t,e){if(t===e)return!1;for(var r in t)if(!(r in e))return!0;for(var r in e)if(t[r]!==e[r])return!0;return!1}function $h(t){var e=t.className,r=Z0(t,["className"]);return e!=null&&(r.class=e),delete r.style,delete r.children,r}function Uh(t){var e={},r={};for(var n in t)n.indexOf("on")===0?r[n]=t[n]:e[n]=t[n];return[e,r]}function ku(t){if(!t)return null;var e=t.b;return Ra(e)?e:ku(t.c)}function J0(t){var e=t.parentNode;e&&e.removeChild(t)}function Q0(t){t.forEach(function(e){e()})}function AO(){return this.constructor(this.props,this.context)}var Kc=0,Fu=function(){function t(r,n,i,o,u,l,f){f===void 0&&(f={}),this.t=r,this.d=n,this.k=i,this.i=o,this.c=u,this.ref=l,this.ps=f,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var e=t.prototype;return e.s=function(){return!0},e.u=function(r,n,i,o,u){var l=this,f=l.d,c=xO(n).filter(function(m){return m.$_req}),p=j0(c.map(function(m){return m.$_subs})),v=yr(p,function(m){return m.d===f});if(l.b&&!xr(i)&&!u&&!l.s(i.props,o)&&!v){var h=p.reduce(function(m,b){var x=b.d;return m[0]?m[0].d===x&&m.push(b):x>f&&m.push(b),m},[]);return h.forEach(function(m){Io(m,m._ps,[m.o],r,n,!0)}),!1}l.o=i,l.ss(o);var g=l.ps;return xr(i)||(l.ps=i.props,l.ref=i.ref),Zc(this),l.r(r,n,l.b?g:{},o),!0},e.md=function(){this.rr()},e.ss=function(){},e.ud=function(){this.rr()},e.rr=function(){var r=this,n=r.ref,i=r.fr;n&&n(i?i.current:r.b)},t}();function t1(){return Object.__CROACT_CURRENT_INSTNACE__}function IO(){return Kc}function PO(t){Kc=t}function Zc(t){return Object.__CROACT_CURRENT_INSTNACE__=t,Kc=0,t}var jc=function(){function t(r,n){r===void 0&&(r={}),this.props=r,this.context=n,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var e=t.prototype;return e.render=function(){return null},e.shouldComponentUpdate=function(r,n){return this.props!==r||this.state!==n},e.setState=function(r,n,i){var o=this;o.$_timer||(o.$_state={}),clearTimeout(o.$_timer),o.$_timer=0,o.$_state=pn(pn({},o.$_state),r),i?o.$_setState(n,i):o.$_timer=window.setTimeout(function(){o.$_timer=0,o.$_setState(n,i)})},e.forceUpdate=function(r){this.setState({},r,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(r,n){},e.componentWillUnmount=function(){},e.$_setState=function(r,n){var i=[],o=this.$_p,u=Io(o.c,[o],[o.o],i,o._cs,pn(pn({},this.state),this.$_state),n);u&&(r&&i.push(r),Q0(i),Zc(null))},t}(),e1=function(t){Ao(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var r=e.prototype;return r.shouldComponentUpdate=function(n,i){return cu(this.props,n)||cu(this.state,i)},e}(jc);function r1(t){var e=function(r){e.current=r};return e.current=t,e}function BO(t){return t._fr=!0,t}function LO(t,e,r,n){var i,o;return!((i=t==null?void 0:t.prototype)===null||i===void 0)&&i.render?o=new t(e,r):(o=new jc(e,r),o.constructor=t,t._fr?(n.fr=r1(),o.render=function(){return this.constructor(this.props,n.fr)}):o.render=AO),o.$_p=n,o}var zO=function(t){Ao(e,t);function e(n,i,o,u,l,f,c){c===void 0&&(c={});var p=t.call(this,n,i,o,u,l,f,xf(c,n.defaultProps))||this;return p.typ="comp",p._usefs=[],p._uefs=[],p._defs=[],p}var r=e.prototype;return r.s=function(n,i){var o=this.b;return o.shouldComponentUpdate(xf(n,this.t.defaultProps),i||o.state)!==!1},r.r=function(n,i,o){var u,l,f=this,c=f.t;f.ps=xf(f.ps,f.t.defaultProps);var p=f.ps,v=!f.b,h=c.contextType,g=f.b,m=h==null?void 0:h.get(f);f._cs=i,v?(g=LO(c,p,m,f),f.b=g):(g.props=p,g.context=m);var b=g.state;f._usefs=[],f._uefs=[];var x=g.render();((l=(u=x==null?void 0:x.props)===null||u===void 0?void 0:u.children)===null||l===void 0?void 0:l.length)===0&&(x.props.children=f.ps.children);var y=pn(pn({},i),g.$_cs);Io(f,f._ps,x?[x]:[],n,y),v?f._uefs.push(function(){h==null||h.register(f),g.componentDidMount()}):f._uefs.push(function(){g.componentDidUpdate(o,b)}),n.push(function(){f._usefs.forEach(function(w){w()}),v?f.md():f.ud(),f._defs=f._uefs.map(function(w){return w()})})},r.ss=function(n){var i=this.b;!i||!n||(i.state=n)},r.un=function(){var n,i=this;i._ps.forEach(function(u){u.un()});var o=i.t;(n=o.contextType)===null||n===void 0||n.unregister(i),clearTimeout(i.b.$_timer),i._defs.forEach(function(u){u&&u()}),i.b.componentWillUnmount()},e}(Fu);function kO(t,e,r){var n=Jc($h(t),$h(e)),i=n.added,o=n.removed,u=n.changed;for(var l in i)r.setAttribute(l,i[l]);for(var f in u)r.setAttribute(f,u[f][1]);for(var c in o)r.removeAttribute(c)}function FO(t,e,r){var n=Jc(t,e),i=n.added,o=n.removed;for(var u in o)r.e(u,!0);for(var l in i)r.e(l)}function Jc(t,e){var r=zn(t),n=zn(e),i=To(r,n,function(f){return f}),o={},u={},l={};return i.added.forEach(function(f){var c=n[f];o[c]=e[c]}),i.removed.forEach(function(f){var c=r[f];u[c]=t[c]}),i.maintained.forEach(function(f){var c=f[0],p=r[c],v=[t[p],e[p]];t[p]!==e[p]&&(l[p]=v)}),{added:o,removed:u,changed:l}}function GO(t,e,r){var n=r.style,i=Jc(t,e),o=i.added,u=i.removed,l=i.changed;for(var f in o){var c=iu(f,"-");n.setProperty(c,o[f])}for(var f in l){var p=iu(f,"-");n.setProperty(p,l[f][1])}for(var f in u){var v=iu(f,"-");n.removeProperty(v)}}function NO(t){return t.replace(/^on/g,"").toLowerCase()}var WO=function(t){Ao(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.typ="elem",n._es={},n._svg=!1,n}var r=e.prototype;return r.e=function(n,i){var o=this,u=o._es,l=o.b,f=NO(n);i?(Fe(l,f,u[n]),delete u[n]):(u[n]=function(c){var p,v;(v=(p=o.ps)[n])===null||v===void 0||v.call(p,c)},Xe(l,f,u[n]))},r.s=function(n){return cu(this.ps,n)},r.r=function(n,i,o){var u,l=this,f=!l.b,c=l.ps;if(f){var p=ku(l.c),v=!1;l._svg||l.t==="svg"?v=!0:v=p&&p.ownerSVGElement,l._svg=v;var h=(u=l._hyd)===null||u===void 0?void 0:u.splice(0,1)[0],g=l.t;if(h)l._hyd=[].slice.call(h.children||[]);else{var m=Ma(p);v?h=m.createElementNS("http://www.w3.org/2000/svg",g):h=m.createElement(g)}l.b=h}Io(l,l._ps,c.children,n,i);var b=l.b,x=Uh(o),y=x[0],w=x[1],C=Uh(c),E=C[0],T=C[1];return kO(y,E,b),FO(w,T,l),GO(o.style||{},c.style||{},b),n.push(function(){f?l.md():l.ud()}),!0},r.un=function(){var n=this,i=n._es,o=n.b;for(var u in i)Fe(o,u,i[u]);n._ps.forEach(function(l){l.un()}),n._es={},n._sel||J0(o)},e}(Fu);function yo(t){if(!t||Ra(t))return t;var e=t.$_p._ps;return e.length?yo(e[0].b):null}function n1(t){if(t){if(t.b&&Ra(t.b))return t;var e=t._ps;return e.length?n1(e[0]):null}}function Qr(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=e||{},o=i.key,u=i.ref,l=Z0(i,["key","ref"]);return{type:t,key:o,ref:u,props:pn(pn({},l),{children:Y0(r).filter(function(f){return f!=null&&f!==!1})})}}var i1=function(t){Ao(e,t);function e(n,i){i===void 0&&(i=0);var o=t.call(this,"container",i,"container",0,null)||this;return o.typ="container",o.b=n,o}var r=e.prototype;return r.r=function(){return!0},r.un=function(){},e}(Fu),HO=function(t){Ao(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.typ="text",n}var r=e.prototype;return r.r=function(n){var i,o=this,u=!o.b;if(u){var l=ku(o.c),f=(i=o._hyd)===null||i===void 0?void 0:i.splice(0,1)[0];o.b=f||Ma(l).createTextNode(o.t.replace("text_",""))}return n.push(function(){u?o.md():o.ud()}),!0},r.un=function(){J0(this.b)},e}(Fu);function $O(t,e,r){var n=r.map(function(f){return xr(f)?null:f.key}),i=Hh(e.map(function(f){return f.k})),o=Hh(n),u=To(i,o,function(f){return f});u.removed.forEach(function(f){e.splice(f,1)[0].un()}),u.ordered.forEach(function(f){var c=f[0],p=f[1],v=e.splice(c,1)[0];e.splice(p,0,v);var h=yo(v.b),g=yo(e[p+1]&&e[p+1].b);h&&h.parentNode.insertBefore(h,g)}),u.added.forEach(function(f){e.splice(f,0,Yh(r[f],n[f],f,t))});var l=u.maintained.filter(function(f){f[0];var c=f[1],p=r[c],v=e[c],h=xr(p)?"text_".concat(p):p.type;return h!==v.t?(v.un(),e.splice(c,1,Yh(p,n[c],c,t)),!0):(v.i=c,!1)});return Wh(Wh([],u.added,!0),l.map(function(f){f[0];var c=f[1];return c}))}function UO(t,e){for(var r=t._ps,n=r.length,i=e.i+1;i<n;++i){var o=yo(r[i].b);if(o)return o}return null}function Yh(t,e,r,n){var i=n.d+1;if(xr(t)||xa(t))return new HO("text_".concat(t),i,e,r,n,null,{});var o=t.type,u=typeof o=="string"?WO:zO;return new u(o,i,e,r,n,t.ref,t.props)}function Io(t,e,r,n,i,o,u){var l=$O(t,e,r),f=t._hyd,c=e.filter(function(v,h){return v._hyd=f,v.u(n,i,r[h],o,u)});t.typ==="container"&&t._sel&&e.forEach(function(v){var h=n1(v);h&&(h._sel=!0)}),t._hyd=null;var p=ku(t);return p&&l.reverse().forEach(function(v){var h=e[v],g=yo(h.b);if(g&&p!==g&&!g.parentNode){var m=UO(t,h);p.insertBefore(g,m)}}),c.length>0}function YO(t,e,r,n){r===void 0&&(r=e.__CROACT__),n===void 0&&(n={});var i=!!r;r||(r=new i1(e));var o=[];return Io(r,r._ps,t?[t]:[],o,n,void 0,void 0),Q0(o),Zc(null),i||(e.__CROACT__=r),r}function Xh(t,e,r){return!r&&t&&(r=new i1(e.parentElement),r._hyd=[e],r._sel=!0),YO(t,e,r),r}function a1(t){var e=t1(),r=e._hs||(e._hs=[]),n=IO(),i=r[n];if(PO(n+1),i){if(!cu(i.deps,t.deps))return i.updated=!1,i;r[n]=t}else r.push(t);return t.value=t.func(),t.updated=!0,t}function XO(t,e){var r=a1({func:t,deps:e});return r.value}function VO(t){return XO(function(){return r1(t)},[])}function o1(t,e,r){var n=t1(),i=a1({func:function(){return t},deps:e}),o=r?n._usefs:n._uefs;i.updated?o.push(function(){return i.effect&&i.effect(),i.effect=t(),i.effect}):o.push(function(){return i.effect})}function qO(t,e,r){o1(function(){t==null||t(e())},r,!0)}function Qc(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return!0;return!1}function s1(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return t[n];return null}function u1(t){var e=t;if(typeof e>"u"){if(typeof navigator>"u"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function td(t,e){try{return new RegExp(t,"g").exec(e)}catch{return null}}function KO(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!!(e&&e.length)}function ZO(t,e){var r=td("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return r?r[3]:""}function tc(t){return t.replace(/_/g,".")}function to(t,e){var r=null,n="-1";return Qc(t,function(i){var o=td("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!o||i.brand?!1:(r=i,n=o[3]||"-1",i.versionAlias?n=i.versionAlias:i.versionTest&&(n=ZO(i.versionTest.toLowerCase(),e)||n),n=tc(n),!0)}),{preset:r,version:n}}function Ns(t,e){var r={brand:"",version:"-1"};return Qc(t,function(n){var i=l1(e,n);return i?(r.brand=n.id,r.version=n.versionAlias||i.version,r.version!=="-1"):!1}),r}function l1(t,e){return s1(t,function(r){var n=r.brand;return td(""+e.test,n.toLowerCase())})}var f1=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],c1=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],ec=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],d1=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],p1=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function v1(t){return!!to(d1,t).preset}function jO(t){var e=u1(t),r=!!/mobi/g.exec(e),n={name:"unknown",version:"-1",majorVersion:-1,webview:v1(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},o=to(f1,e),u=o.preset,l=o.version,f=to(p1,e),c=f.preset,p=f.version,v=to(c1,e);if(n.chromium=!!v.preset,n.chromiumVersion=v.version,!n.chromium){var h=to(ec,e);n.webkit=!!h.preset,n.webkitVersion=h.version}return c&&(i.name=c.id,i.version=p,i.majorVersion=parseInt(p,10)),u&&(n.name=u.id,n.version=l,n.webview&&i.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:i,isMobile:r,isHints:!1}}function JO(t){var e=navigator.userAgentData,r=(e.uaList||e.brands).slice(),n=e.mobile||!1,i=r[0],o=(e.platform||navigator.platform).toLowerCase(),u={name:i.brand,version:i.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Ns(d1,r).brand||v1(u1())},l={name:"unknown",version:"-1",majorVersion:-1};u.webkit=!u.chromium&&Qc(ec,function(h){return l1(r,h)});var f=Ns(c1,r);if(u.chromium=!!f.brand,u.chromiumVersion=f.version,!u.chromium){var c=Ns(ec,r);u.webkit=!!c.brand,u.webkitVersion=c.version}var p=s1(p1,function(h){return new RegExp(""+h.test,"g").exec(o)});l.name=p?p.id:"";{var v=Ns(f1,r);u.name=v.brand||u.name,u.version=v.brand&&t?t.uaFullVersion:v.version}return u.webkit&&(l.name=n?"ios":"mac"),l.name==="ios"&&u.webview&&(u.version="-1"),l.version=tc(l.version),u.version=tc(u.version),l.majorVersion=parseInt(l.version,10),u.majorVersion=parseInt(u.version,10),{browser:u,os:l,isMobile:n,isHints:!0}}function QO(t){return KO()?JO():jO(t)}function tT(t,e,r,n,i,o){for(var u=0;u<i;++u){var l=r+u*i,f=n+u*i;t[l]+=t[f]*o,e[l]+=e[f]*o}}function eT(t,e,r,n,i){for(var o=0;o<i;++o){var u=r+o*i,l=n+o*i,f=t[u],c=e[u];t[u]=t[l],t[l]=f,e[u]=e[l],e[l]=c}}function rT(t,e,r,n,i){for(var o=0;o<n;++o){var u=r+o*n;t[u]/=i,e[u]/=i}}function h1(t,e,r){for(var n=t.slice(),i=0;i<r;++i)n[i*r+e-1]=0,n[(e-1)*r+i]=0;return n[(e-1)*(r+1)]=1,n}function mn(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=t.slice(),n=ge(e),i=0;i<e;++i){var o=e*i+i;if(!Nt(r[o],Ie)){for(var u=i+1;u<e;++u)if(r[e*i+u]){eT(r,n,i,u,e);break}}if(!Nt(r[o],Ie))return[];rT(r,n,i,e,r[o]);for(var u=0;u<e;++u){var l=u,f=u+i*e,c=r[f];!Nt(c,Ie)||i===u||tT(r,n,l,i,e,-c)}}return n}function nT(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=0;n<e;++n)for(var i=0;i<e;++i)r[i*e+n]=t[e*n+i];return r}function g1(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=t[e*e-1],i=0;i<e-1;++i)r[i]=t[e*(e-1)+i]/n;return r[e-1]=0,r}function iT(t,e){for(var r=ge(e),n=0;n<e-1;++n)r[e*(e-1)+n]=t[n]||0;return r}function Bi(t,e){for(var r=t.slice(),n=t.length;n<e-1;++n)r[n]=0;return r[e-1]=1,r}function nn(t,e,r){if(e===void 0&&(e=Math.sqrt(t.length)),e===r)return t;for(var n=ge(r),i=Math.min(e,r),o=0;o<i-1;++o){for(var u=0;u<i-1;++u)n[o*r+u]=t[o*e+u];n[(o+1)*r-1]=t[(o+1)*e-1],n[(r-1)*r+o]=t[(e-1)*e+o]}return n[r*r-1]=t[e*e-1],n}function du(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=ge(t);return e.forEach(function(i){n=ce(n,i,t)}),n}function ce(t,e,r){r===void 0&&(r=Math.sqrt(t.length));var n=[],i=t.length/r,o=e.length/i;if(i){if(!o)return t}else return e;for(var u=0;u<r;++u)for(var l=0;l<o;++l){n[l*r+u]=0;for(var f=0;f<i;++f)n[l*r+u]+=t[f*r+u]*e[l*i+f]}return n}function re(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]+e[i];return n}function Pt(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]-e[i];return n}function aT(t,e){return e===void 0&&(e=t.length===6),e?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t}function m1(t,e){return e===void 0&&(e=t.length===9),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function er(t,e,r){r===void 0&&(r=e.length);var n=ce(t,e,r),i=n[r-1];return n.map(function(o){return o/i})}function oT(t,e){return ce(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function sT(t,e){return ce(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function uT(t,e){return ce(t,Bo(e,4))}function Ws(t,e){var r=e[0],n=r===void 0?1:r,i=e[1],o=i===void 0?1:i,u=e[2],l=u===void 0?1:u;return ce(t,[n,0,0,0,0,o,0,0,0,0,l,0,0,0,0,1],4)}function Po(t,e){return er(Bo(e,3),Bi(t,3))}function yf(t,e){var r=e[0],n=r===void 0?0:r,i=e[1],o=i===void 0?0:i,u=e[2],l=u===void 0?0:u;return ce(t,[1,0,0,0,0,1,0,0,0,0,1,0,n,o,l,1],4)}function Vh(t,e){return ce(t,e,4)}function Bo(t,e){var r=Math.cos(t),n=Math.sin(t),i=ge(e);return i[0]=r,i[1]=n,i[e]=-n,i[e+1]=r,i}function ge(t){for(var e=t*t,r=[],n=0;n<e;++n)r[n]=n%(t+1)?0:1;return r}function ed(t,e){for(var r=ge(e),n=Math.min(t.length,e-1),i=0;i<n;++i)r[(e+1)*i]=t[i];return r}function Li(t,e){for(var r=ge(e),n=Math.min(t.length,e-1),i=0;i<n;++i)r[e*(e-1)+i]=t[i];return r}function rd(t,e,r,n,i,o,u,l){var f=t[0],c=t[1],p=e[0],v=e[1],h=r[0],g=r[1],m=n[0],b=n[1],x=i[0],y=i[1],w=o[0],C=o[1],E=u[0],T=u[1],D=l[0],A=l[1],M=[f,0,p,0,h,0,m,0,c,0,v,0,g,0,b,0,1,0,1,0,1,0,1,0,0,f,0,p,0,h,0,m,0,c,0,v,0,g,0,b,0,1,0,1,0,1,0,1,-x*f,-y*f,-w*p,-C*p,-E*h,-T*h,-D*m,-A*m,-x*c,-y*c,-w*v,-C*v,-E*g,-T*g,-D*b,-A*b],I=mn(M,8);if(!I.length)return[];var P=ce(I,[x,y,w,C,E,T,D,A],8);return P[8]=1,nn(nT(P),3,4)}var uo=function(){return uo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},uo.apply(this,arguments)};function lT(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function So(t,e){return e===void 0&&(e=0),na(ya(t,e))}function fT(t,e){var r=er(t,[e[0],e[1]||0,e[2]||0,1],4),n=r[3]||1;return[r[0]/n,r[1]/n,r[2]/n]}function na(t){var e=lT();return t.forEach(function(r){var n=r.matrixFunction,i=r.functionValue;n&&(e=n(e,i))}),e}function ya(t,e){e===void 0&&(e=0);var r=Be(t)?t:oi(t);return r.map(function(n){var i=H0(n),o=i.prefix,u=i.value,l=null,f=o,c="";if(o==="translate"||o==="translateX"||o==="translate3d"){var p=rn(e)?uo(uo({},e),{"o%":e["%"]}):{"%":e,"o%":e},v=Ti(u).map(function(F,Z){return Z===0&&"x%"in p?p["%"]=e["x%"]:Z===1&&"y%"in p?p["%"]=e["y%"]:p["%"]=e["o%"],fe(F,p)}),h=v[0],g=v[1],m=g===void 0?0:g,b=v[2],x=b===void 0?0:b;l=yf,c=[h,m,x]}else if(o==="translateY"){var y=rn(e)?uo({"%":e["y%"]},e):{"%":e},m=fe(u,y);l=yf,c=[0,m,0]}else if(o==="translateZ"){var x=parseFloat(u);l=yf,c=[0,0,x]}else if(o==="scale"||o==="scale3d"){var w=Ti(u).map(function(F){return parseFloat(F)}),C=w[0],E=w[1],T=E===void 0?C:E,D=w[2],A=D===void 0?1:D;l=Ws,c=[C,T,A]}else if(o==="scaleX"){var C=parseFloat(u);l=Ws,c=[C,1,1]}else if(o==="scaleY"){var T=parseFloat(u);l=Ws,c=[1,T,1]}else if(o==="scaleZ"){var A=parseFloat(u);l=Ws,c=[1,1,A]}else if(o==="rotate"||o==="rotateZ"||o==="rotateX"||o==="rotateY"){var M=Oo(u),I=M.unit,P=M.value,H=I==="rad"?P:P*Math.PI/180;o==="rotate"||o==="rotateZ"?(f="rotateZ",l=uT):o==="rotateX"?l=oT:o==="rotateY"&&(l=sT),c=H}else if(o==="matrix3d")l=Vh,c=Ti(u).map(function(F){return parseFloat(F)});else if(o==="matrix"){var $=Ti(u).map(function(F){return parseFloat(F)});l=Vh,c=[$[0],$[1],0,0,$[2],$[3],0,0,0,0,1,0,$[4],$[5],0,1]}else f="";return{name:o,functionName:f,value:u,matrixFunction:l,functionValue:c}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var rc=function(t,e){return rc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},rc(t,e)};function cT(t,e){rc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _1=typeof Map=="function"?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}(),b1=function(t){cT(e,t);function e(r){return r===void 0&&(r=[]),t.call(this,r,_1)||this}return e}(TO);function dT(t,e){return To(t,e,_1)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nc=function(){return nc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},nc.apply(this,arguments)};function pT(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],u=0,l=o.length;u<l;u++,i++)n[i]=o[u];return n}var Gu=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(r,n){if(rn(r))for(var i in r)this.on(i,r[i]);else this._addEvent(r,n,{});return this},e.off=function(r,n){if(!r)this._events={};else if(rn(r))for(var i in r)this.off(i);else if(!n)this._events[r]=[];else{var o=this._events[r];if(o){var u=Ln(o,function(l){return l.listener===n});u>-1&&o.splice(u,1)}}return this},e.once=function(r,n){var i=this;return n&&this._addEvent(r,n,{once:!0}),new Promise(function(o){i._addEvent(r,o,{once:!0})})},e.emit=function(r,n){var i=this;n===void 0&&(n={});var o=this._events[r];if(!r||!o)return!0;var u=!1;return n.eventType=r,n.stop=function(){u=!0},n.currentTarget=this,pT(o).forEach(function(l){l.listener(n),l.once&&i.off(r,l.listener)}),!u},e.trigger=function(r,n){return n===void 0&&(n={}),this.emit(r,n)},e._addEvent=function(r,n,i){var o=this._events;o[r]=o[r]||[];var u=o[r];u.push(nc({listener:n},i))},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ic=function(t,e){return ic=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ic(t,e)};function vT(t,e){ic(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var aa=function(){return aa=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},aa.apply(this,arguments)};function hT(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}function qh(t,e){return t.addEventListener("scroll",e),function(){t.removeEventListener("scroll",e)}}function Hs(t){if(t){if(xr(t))return document.querySelector(t)}else return null;if(Yc(t))return t();if(t instanceof Element)return t;if("current"in t)return t.current;if("value"in t)return t.value}var gT=function(t){vT(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n._currentOptions=null,n._lock=!1,n._unregister=null,n._onScroll=function(){var i=n._currentOptions;n._lock||!i||n.emit("scrollDrag",{next:function(o){n.checkScroll({container:i.container,inputEvent:o})}})},n}var r=e.prototype;return r.dragStart=function(n,i){var o=Hs(i.container);if(!o){this._flag=!1;return}var u=0,l=0,f=0,c=0;if(o===document.body)f=window.innerWidth,c=window.innerHeight;else{var p=o.getBoundingClientRect();u=p.top,l=p.left,f=p.width,c=p.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:u,left:l,width:f,height:c},this._prevScrollPos=this._getScrollPosition([0,0],i),this._currentOptions=i,this._registerScrollEvent(i)},r.drag=function(n,i){if(clearTimeout(this._timer),!!this._flag){var o=n.clientX,u=n.clientY,l=i.threshold,f=l===void 0?0:l,c=this,p=c._startRect,v=c._startPos;this._currentOptions=i;var h=[0,0];return p.top>u-f?(v[1]>p.top||u<v[1])&&(h[1]=-1):p.top+p.height<u+f&&(v[1]<p.top+p.height||u>v[1])&&(h[1]=1),p.left>o-f?(v[0]>p.left||o<v[0])&&(h[0]=-1):p.left+p.width<o+f&&(v[0]<p.left+p.width||o>v[0])&&(h[0]=1),!h[0]&&!h[1]?!1:this._continueDrag(aa(aa({},i),{direction:h,inputEvent:n,isDrag:!0}))}},r.checkScroll=function(n){var i=this;if(this._isWait)return!1;var o=n.prevScrollPos,u=o===void 0?this._prevScrollPos:o,l=n.direction,f=n.throttleTime,c=f===void 0?0:f,p=n.inputEvent,v=n.isDrag,h=this._getScrollPosition(l||[0,0],n),g=h[0]-u[0],m=h[1]-u[1],b=l||[g?Math.abs(g)/g:0,m?Math.abs(m)/m:0];return this._prevScrollPos=h,this._lock=!1,!g&&!m?!1:(this.emit("move",{offsetX:b[0]?g:0,offsetY:b[1]?m:0,inputEvent:p}),c&&v&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},c)),!0)},r.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},r._getScrollPosition=function(n,i){var o=i.container,u=i.getScrollPosition,l=u===void 0?hT:u;return l({container:Hs(o),direction:n})},r._continueDrag=function(n){var i=this,o,u=n.container,l=n.direction,f=n.throttleTime,c=n.useScroll,p=n.isDrag,v=n.inputEvent;if(!(!this._flag||p&&this._isWait)){var h=xo(),g=Math.max(f+this._prevTime-h,0);if(g>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},g),!1;this._prevTime=h;var m=this._getScrollPosition(l,n);this._prevScrollPos=m,p&&(this._isWait=!0),c||(this._lock=!0);var b={container:Hs(u),direction:l,inputEvent:v};return(o=n.requestScroll)===null||o===void 0||o.call(n,b),this.emit("scroll",b),this._isWait=!1,c||this.checkScroll(aa(aa({},n),{prevScrollPos:m,direction:l,inputEvent:v}))}},r._registerScrollEvent=function(n){this._unregisterScrollEvent();var i=n.checkScrollEvent;if(i){var o=i===!0?qh:i,u=Hs(n.container);i===!0&&(u===document.body||u===document.documentElement)?this._unregister=qh(window,this._onScroll):this._unregister=o(u,this._onScroll)}},r._unregisterScrollEvent=function(){var n;(n=this._unregister)===null||n===void 0||n.call(this),this._unregister=null},e}(Gu);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function mT(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],u=0,l=o.length;u<l;u++,i++)n[i]=o[u];return n}function mr(t){return Nt(t,Ie)}function _T(t,e){return t.every(function(r,n){return mr(r-e[n])===0})}function bT(t,e){return!mr(t[0]-e[0])&&!mr(t[1]-e[1])}function x1(t){return t.length<3?0:Math.abs(yO(t.map(function(e,r){var n=t[r+1]||t[0];return e[0]*n[1]-n[0]*e[1]})))/2}function Kh(t,e){var r=e.width,n=e.height,i=e.left,o=e.top,u=zi(t),l=u.minX,f=u.minY,c=u.maxX,p=u.maxY,v=r/(c-l),h=n/(p-f);return t.map(function(g){return[i+(g[0]-l)*v,o+(g[1]-f)*h]})}function zi(t){var e=t.map(function(n){return n[0]}),r=t.map(function(n){return n[1]});return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,r),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,r)}}function ac(t,e,r){var n=t[0],i=t[1],o=zi(e),u=o.minX,l=o.maxX,f=[[u,i],[l,i]],c=pu(f[0],f[1]),p=oc(e),v=[];if(p.forEach(function(m){var b=pu(m[0],m[1]),x=m[0];if(_T(c,b))v.push({pos:t,line:m,type:"line"});else{var y=y1(nd(c,b),[f,m]);y.forEach(function(w){m.some(function(C){return bT(C,w)})?v.push({pos:w,line:m,type:"point"}):mr(x[1]-i)!==0&&v.push({pos:w,line:m,type:"intersection"})})}}),yr(v,function(m){return m[0]===n}))return!0;var h=0,g={};return v.forEach(function(m){var b=m.pos,x=m.type,y=m.line;if(!(b[0]>n))if(x==="intersection")++h;else{if(x==="line")return;if(x==="point"){var w=yr(y,function(T){return T[1]!==i}),C=g[b[0]],E=w[1]>i?1:-1;C?C!==E&&++h:g[b[0]]=E}}}),h%2===1}function pu(t,e){var r=t[0],n=t[1],i=e[0],o=e[1],u=i-r,l=o-n;Math.abs(u)<Ie&&(u=0),Math.abs(l)<Ie&&(l=0);var f=0,c=0,p=0;return u?l?(f=-l/u,c=1,p=-f*r-n):(c=1,p=-n):l&&(f=-1,p=r),[f,c,p]}function nd(t,e){var r=t[0],n=t[1],i=t[2],o=e[0],u=e[1],l=e[2],f=r===0&&o===0,c=n===0&&u===0,p=[];if(f&&c)return[];if(f){var v=-i/n,h=-l/u;return v!==h?[]:[[-1/0,v],[1/0,v]]}else if(c){var g=-i/r,m=-l/o;return g!==m?[]:[[g,-1/0],[g,1/0]]}else if(r===0){var b=-i/n,x=-(u*b+l)/o;p=[[x,b]]}else if(o===0){var b=-l/u,x=-(n*b+i)/r;p=[[x,b]]}else if(n===0){var x=-i/r,b=-(o*x+l)/u;p=[[x,b]]}else if(u===0){var x=-l/o,b=-(r*x+i)/n;p=[[x,b]]}else{var x=(n*l-u*i)/(u*r-n*o),b=-(r*x+i)/n;p=[[x,b]]}return p.map(function(y){return[y[0],y[1]]})}function y1(t,e){var r=e.map(function(v){return[0,1].map(function(h){return[Math.min(v[0][h],v[1][h]),Math.max(v[0][h],v[1][h])]})}),n=[];if(t.length===2){var i=t[0],o=i[0],u=i[1];if(mr(o-t[1][0])){if(!mr(u-t[1][1])){var c=Math.max.apply(Math,r.map(function(v){return v[0][0]})),p=Math.min.apply(Math,r.map(function(v){return v[0][1]}));if(mr(c-p)>0)return[];n=[[c,u],[p,u]]}}else{var l=Math.max.apply(Math,r.map(function(v){return v[1][0]})),f=Math.min.apply(Math,r.map(function(v){return v[1][1]}));if(mr(l-f)>0)return[];n=[[o,l],[o,f]]}}return n.length||(n=t.filter(function(v){var h=v[0],g=v[1];return r.every(function(m){return 0<=mr(h-m[0][0])&&0<=mr(m[0][1]-h)&&0<=mr(g-m[1][0])&&0<=mr(m[1][1]-g)})})),n.map(function(v){return[mr(v[0]),mr(v[1])]})}function oc(t){return mT(t.slice(1),[t[0]]).map(function(e,r){return[t[r],e]})}function xT(t,e){var r=t.slice(),n=e.slice();Gh(r)===-1&&r.reverse(),Gh(n)===-1&&n.reverse();var i=oc(r),o=oc(n),u=i.map(function(p){return pu(p[0],p[1])}),l=o.map(function(p){return pu(p[0],p[1])}),f=[];u.forEach(function(p,v){var h=i[v],g=[];l.forEach(function(m,b){var x=nd(p,m),y=y1(x,[h,o[b]]);g.push.apply(g,y.map(function(w){return{index1:v,index2:b,pos:w,type:"intersection"}}))}),g.sort(function(m,b){return Pn(h[0],m.pos)-Pn(h[0],b.pos)}),f.push.apply(f,g),ac(h[1],n)&&f.push({index1:v,index2:-1,pos:h[1],type:"inside"})}),o.forEach(function(p,v){if(ac(p[1],r)){var h=!1,g=Ln(f,function(m){var b=m.index2;return b===v?(h=!0,!1):!!h});g===-1&&(h=!1,g=Ln(f,function(m){var b=m.index1,x=m.index2;return b===-1&&x+1===v?(h=!0,!1):!!h})),g===-1?f.push({index1:-1,index2:v,pos:p[1],type:"inside"}):f.splice(g,0,{index1:-1,index2:v,pos:p[1],type:"inside"})}});var c={};return f.filter(function(p){var v=p.pos,h=v[0]+"x"+v[1];return c[h]?!1:(c[h]=!0,!0)})}function yT(t,e){var r=xT(t,e);return r.map(function(n){var i=n.pos;return i})}function ST(t,e){var r=yT(t,e);return x1(r)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sc=function(t,e){return sc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},sc(t,e)};function wT(t,e){sc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ae=function(){return Ae=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ae.apply(this,arguments)};function CT(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function Sf(t){return CT([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function ET(t){return t.touches&&t.touches.length>=2}function $s(t){return t?t.touches?MT(t.touches):[S1(t)]:[]}function DT(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}function Zh(t,e,r){var n=r.length,i=lo(t,n),o=i.clientX,u=i.clientY,l=i.originalClientX,f=i.originalClientY,c=lo(e,n),p=c.clientX,v=c.clientY,h=lo(r,n),g=h.clientX,m=h.clientY,b=o-p,x=u-v,y=o-g,w=u-m;return{clientX:l,clientY:f,deltaX:b,deltaY:x,distX:y,distY:w}}function wf(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function MT(t){for(var e=Math.min(t.length,2),r=[],n=0;n<e;++n)r.push(S1(t[n]));return r}function S1(t){return{clientX:t.clientX,clientY:t.clientY}}function lo(t,e){e===void 0&&(e=t.length);for(var r={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=Math.min(t.length,e),i=0;i<n;++i){var o=t[i];r.originalClientX+="originalClientX"in o?o.originalClientX:o.clientX,r.originalClientY+="originalClientY"in o?o.originalClientY:o.clientY,r.clientX+=o.clientX,r.clientY+=o.clientY}return e?{clientX:r.clientX/e,clientY:r.clientY/e,originalClientX:r.originalClientX/e,originalClientY:r.originalClientY/e}:r}var Cf=function(){function t(e){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=e,this.prevClients=e,this.length=e.length}return t.prototype.getAngle=function(e){return e===void 0&&(e=this.prevClients),Sf(e)},t.prototype.getRotation=function(e){return e===void 0&&(e=this.prevClients),Sf(e)-Sf(this.startClients)},t.prototype.getPosition=function(e,r){e===void 0&&(e=this.prevClients);var n=Zh(e||this.prevClients,this.prevClients,this.startClients),i=n.deltaX,o=n.deltaY;return this.movement+=Math.sqrt(i*i+o*o),this.prevClients=e,n},t.prototype.getPositions=function(e){e===void 0&&(e=this.prevClients);for(var r=this.prevClients,n=this.startClients,i=Math.min(this.length,r.length),o=[],u=0;u<i;++u)o[u]=Zh([e[u]],[r[u]],[n[u]]);return o},t.prototype.getMovement=function(e){var r=this.movement;if(!e)return r;var n=lo(e,this.length),i=lo(this.prevClients,this.length),o=n.clientX-i.clientX,u=n.clientY-i.clientY;return Math.sqrt(o*o+u*u)+r},t.prototype.getDistance=function(e){return e===void 0&&(e=this.prevClients),wf(e)},t.prototype.getScale=function(e){return e===void 0&&(e=this.prevClients),wf(e)/wf(this.startClients)},t.prototype.move=function(e,r){this.startClients.forEach(function(n){n.clientX-=e,n.clientY-=r}),this.prevClients.forEach(function(n){n.clientX-=e,n.clientY-=r})},t}(),jh=["textarea","input"],RT=function(t){wT(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.data={},i.isDrag=!1,i.isPinch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._useMouse=!1,i._useTouch=!1,i._useDrag=!1,i._dragFlag=!1,i._isTrusted=!1,i._isMouseEvent=!1,i._isSecondaryButton=!1,i._preventMouseEvent=!1,i._prevInputEvent=null,i._isDragAPI=!1,i._isIdle=!0,i._preventMouseEventId=0,i._window=window,i.onDragStart=function(h,g){if(g===void 0&&(g=!0),!(!i.flag&&h.cancelable===!1)){var m=h.type.indexOf("drag")>=-1;if(!(i.flag&&m)){i._isDragAPI=!0;var b=i.options,x=b.container,y=b.pinchOutside,w=b.preventWheelClick,C=b.preventRightClick,E=b.preventDefault,T=b.checkInput,D=b.dragFocusedInput,A=b.preventClickEventOnDragStart,M=b.preventClickEventOnDrag,I=b.preventClickEventByCondition,P=i._useTouch,H=!i.flag;if(i._isSecondaryButton=h.which===3||h.button===2,w&&(h.which===2||h.button===1)||C&&(h.which===3||h.button===2))return i.stop(),!1;if(H){var $=i._window.document.activeElement,F=h.target;if(F){var Z=F.tagName.toLowerCase(),X=jh.indexOf(Z)>-1,et=F.isContentEditable;if(X||et){if(T||!D&&$===F)return!1;if($&&($===F||et&&$.isContentEditable&&$.contains(F)))if(D)F.blur();else return!1}else if((E||h.type==="touchstart")&&$){var G=$.tagName.toLowerCase();($.isContentEditable||jh.indexOf(G)>-1)&&$.blur()}(A||M||I)&&Xe(i._window,"click",i._onClick,!0)}i.clientStores=[new Cf($s(h))],i._isIdle=!1,i.flag=!0,i.isDrag=!1,i._isTrusted=g,i._dragFlag=!0,i._prevInputEvent=h,i.data={},i.doubleFlag=xo()-i.prevTime<200,i._isMouseEvent=DT(h),!i._isMouseEvent&&i._preventMouseEvent&&i._allowMouseEvent();var j=i._preventMouseEvent||i.emit("dragStart",Ae(Ae({data:i.data,datas:i.data,inputEvent:h,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,isTrusted:g,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){h.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));j===!1&&i.stop(),i._isMouseEvent&&i.flag&&E&&h.preventDefault()}if(!i.flag)return!1;var U=0;if(H?(i._attchDragEvent(),P&&y&&(U=setTimeout(function(){Xe(x,"touchstart",i.onDragStart,{passive:!1})}))):P&&y&&Fe(x,"touchstart",i.onDragStart),i.flag&&ET(h)){if(clearTimeout(U),H&&h.touches.length!==h.changedTouches.length)return;i.pinchFlag||i.onPinchStart(h)}}}},i.onDrag=function(h,g){if(i.flag){var m=i.options.preventDefault;!i._isMouseEvent&&m&&h.preventDefault(),i._prevInputEvent=h;var b=$s(h),x=i.moveClients(b,h,!1);if(i._dragFlag){if(i.pinchFlag||x.deltaX||x.deltaY){var y=i._preventMouseEvent||i.emit("drag",Ae(Ae({},x),{isScroll:!!g,inputEvent:h}));if(y===!1){i.stop();return}}i.pinchFlag&&i.onPinch(h,b)}i.getCurrentStore().getPosition(b,!0)}},i.onDragEnd=function(h){if(i.flag){var g=i.options,m=g.pinchOutside,b=g.container,x=g.preventClickEventOnDrag,y=g.preventClickEventOnDragStart,w=g.preventClickEventByCondition,C=i.isDrag;(x||y||w)&&requestAnimationFrame(function(){i._allowClickEvent()}),!w&&!y&&x&&!C&&i._allowClickEvent(),i._useTouch&&m&&Fe(b,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(h);var E=h!=null&&h.touches?$s(h):[],T=E.length;T===0||!i.options.keepDragging?i.flag=!1:i._addStore(new Cf(E));var D=i._getPosition(),A=xo(),M=!C&&i.doubleFlag;i._prevInputEvent=null,i.prevTime=C||M?0:A,i.flag||(i._dettachDragEvent(),i._preventMouseEvent||i.emit("dragEnd",Ae({data:i.data,datas:i.data,isDouble:M,isDrag:C,isClick:!C,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,inputEvent:h,isTrusted:i._isTrusted},D)),i.clientStores=[],i._isMouseEvent||(i._preventMouseEvent=!0,clearTimeout(i._preventMouseEventId),i._preventMouseEventId=setTimeout(function(){i._preventMouseEvent=!1},200)),i._isIdle=!0)}},i.onBlur=function(){i.onDragEnd()},i._allowClickEvent=function(){Fe(i._window,"click",i._onClick,!0)},i._onClick=function(h){i._allowClickEvent(),i._allowMouseEvent();var g=i.options.preventClickEventByCondition;g!=null&&g(h)||(h.stopPropagation(),h.preventDefault())},i._onContextMenu=function(h){var g=i.options;g.preventRightClick?i.onDragEnd(h):h.preventDefault()},i._passCallback=function(){};var o=[].concat(r),u=o[0];i._window=K0(u)?u:ni(u),i.options=Ae({checkInput:!1,container:u&&!("document"in u)?ni(u):u,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var l=i.options,f=l.container,c=l.events,p=l.checkWindowBlur;if(i._useDrag=c.indexOf("drag")>-1,i._useTouch=c.indexOf("touch")>-1,i._useMouse=c.indexOf("mouse")>-1,i.targets=o,i._useDrag&&o.forEach(function(h){Xe(h,"dragstart",i.onDragStart)}),i._useMouse&&(o.forEach(function(h){Xe(h,"mousedown",i.onDragStart),Xe(h,"mousemove",i._passCallback)}),Xe(f,"contextmenu",i._onContextMenu)),p&&Xe(ni(),"blur",i.onBlur),i._useTouch){var v={passive:!1};o.forEach(function(h){Xe(h,"touchstart",i.onDragStart,v),Xe(h,"touchmove",i._passCallback,v)})}return i}return e.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},e.prototype.getMovement=function(r){return this.getCurrentStore().getMovement(r)+this.clientStores.slice(1).reduce(function(n,i){return n+i.movement},0)},e.prototype.isDragging=function(){return this.isDrag},e.prototype.isIdle=function(){return this._isIdle},e.prototype.isFlag=function(){return this.flag},e.prototype.isPinchFlag=function(){return this.pinchFlag},e.prototype.isDoubleFlag=function(){return this.doubleFlag},e.prototype.isPinching=function(){return this.isPinch},e.prototype.scrollBy=function(r,n,i,o){o===void 0&&(o=!0),this.flag&&(this.clientStores[0].move(r,n),o&&this.onDrag(i,!0))},e.prototype.move=function(r,n){var i=r[0],o=r[1],u=this.getCurrentStore(),l=u.prevClients;return this.moveClients(l.map(function(f){var c=f.clientX,p=f.clientY;return{clientX:c+i,clientY:p+o,originalClientX:c,originalClientY:p}}),n,!0)},e.prototype.triggerDragStart=function(r){this.onDragStart(r,!1)},e.prototype.setEventData=function(r){var n=this.data;for(var i in r)n[i]=r[i];return this},e.prototype.setEventDatas=function(r){return this.setEventData(r)},e.prototype.getCurrentEvent=function(r){return r===void 0&&(r=this._prevInputEvent),Ae(Ae({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:r})},e.prototype.getEventData=function(){return this.data},e.prototype.getEventDatas=function(){return this.data},e.prototype.unset=function(){var r=this,n=this.targets,i=this.options.container;this.off(),Fe(this._window,"blur",this.onBlur),this._useDrag&&n.forEach(function(o){Fe(o,"dragstart",r.onDragStart)}),this._useMouse&&(n.forEach(function(o){Fe(o,"mousedown",r.onDragStart)}),Fe(i,"contextmenu",this._onContextMenu)),this._useTouch&&(n.forEach(function(o){Fe(o,"touchstart",r.onDragStart)}),Fe(i,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},e.prototype.onPinchStart=function(r){var n=this,i=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>i)){var o=new Cf($s(r));this.pinchFlag=!0,this._addStore(o);var u=this.emit("pinchStart",Ae(Ae({data:this.data,datas:this.data,angle:o.getAngle(),touches:this.getCurrentStore().getPositions()},o.getPosition()),{inputEvent:r,isTrusted:this._isTrusted,preventDefault:function(){r.preventDefault()},preventDrag:function(){n._dragFlag=!1}}));u===!1&&(this.pinchFlag=!1)}},e.prototype.onPinch=function(r,n){if(!(!this.flag||!this.pinchFlag||n.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Ae(Ae({data:this.data,datas:this.data,movement:this.getMovement(n),angle:i.getAngle(n),rotation:i.getRotation(n),touches:i.getPositions(n),scale:i.getScale(n),distance:i.getDistance(n)},i.getPosition(n)),{inputEvent:r,isTrusted:this._isTrusted}))}},e.prototype.onPinchEnd=function(r){if(this.pinchFlag){var n=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",Ae(Ae({data:this.data,datas:this.data,isPinch:n,touches:i.getPositions()},i.getPosition()),{inputEvent:r}))}},e.prototype.getCurrentStore=function(){return this.clientStores[0]},e.prototype.moveClients=function(r,n,i){var o=this._getPosition(r,i),u=this.isDrag;(o.deltaX||o.deltaY)&&(this.isDrag=!0);var l=!1;return!u&&this.isDrag&&(l=!0),Ae(Ae({data:this.data,datas:this.data},o),{movement:this.getMovement(r),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:n,isTrusted:this._isTrusted,isFirstDrag:l})},e.prototype._addStore=function(r){this.clientStores.splice(0,0,r)},e.prototype._getPosition=function(r,n){var i=this.getCurrentStore(),o=i.getPosition(r,n),u=this.clientStores.slice(1).reduce(function(c,p){var v=p.getPosition();return c.distX+=v.distX,c.distY+=v.distY,c},o),l=u.distX,f=u.distY;return Ae(Ae({},o),{distX:l,distY:f})},e.prototype._attchDragEvent=function(){var r=this._window,n=this.options.container,i={passive:!1};this._isDragAPI&&(Xe(n,"dragover",this.onDrag,i),Xe(r,"dragend",this.onDragEnd)),this._useMouse&&(Xe(n,"mousemove",this.onDrag),Xe(r,"mouseup",this.onDragEnd)),this._useTouch&&(Xe(n,"touchmove",this.onDrag,i),Xe(r,"touchend",this.onDragEnd,i),Xe(r,"touchcancel",this.onDragEnd,i))},e.prototype._dettachDragEvent=function(){var r=this._window,n=this.options.container;this._isDragAPI&&(Fe(n,"dragover",this.onDrag),Fe(r,"dragend",this.onDragEnd)),this._useMouse&&(Fe(n,"mousemove",this.onDrag),Fe(r,"mouseup",this.onDragEnd)),this._useTouch&&(Fe(n,"touchstart",this.onDragStart),Fe(n,"touchmove",this.onDrag),Fe(r,"touchend",this.onDragEnd),Fe(r,"touchcancel",this.onDragEnd))},e.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},e}(Gu);function OT(t){for(var e=5381,r=t.length;r;)e=e*33^t.charCodeAt(--r);return e>>>0}var TT=OT;function AT(t){return TT(t).toString(36)}function IT(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function PT(t,e,r){return r.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,i){var o=i.trim();return(o?Ti(o):[""]).map(function(u){var l=u.trim();return l.indexOf("@")===0?l:l.indexOf(":global")>-1?l.replace(/\:global/g,""):l.indexOf(":host")>-1?"".concat(l.replace(/\:host/g,".".concat(t))):l?".".concat(t," ").concat(l):".".concat(t)}).join(", ")+" {"})}function BT(t,e,r,n,i){var o=Ma(n),u=o.createElement("style");return u.setAttribute("type","text/css"),u.setAttribute("data-styled-id",t),u.setAttribute("data-styled-count","1"),r.nonce&&u.setAttribute("nonce",r.nonce),u.innerHTML=PT(t,e,r),(i||o.head||o.body).appendChild(u),u}function LT(t){var e="rCS"+AT(t);return{className:e,inject:function(r,n){n===void 0&&(n={});var i=IT(r),o=(i||r.ownerDocument||document).querySelector('style[data-styled-id="'.concat(e,'"]'));if(!o)o=BT(e,t,n,r,i);else{var u=parseFloat(o.getAttribute("data-styled-count"))||0;o.setAttribute("data-styled-count","".concat(u+1))}return{destroy:function(){var l,f=parseFloat(o.getAttribute("data-styled-count"))||0;f<=1?(o.remove?o.remove():(l=o.parentNode)===null||l===void 0||l.removeChild(o),o=null):o.setAttribute("data-styled-count","".concat(f-1))}}}}}var uc=function(){return uc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},uc.apply(this,arguments)};function zT(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function w1(t,e){var r=LT(e),n=r.className;return BO(function(i,o){var u=i.className,l=u===void 0?"":u;i.cspNonce;var f=zT(i,["className","cspNonce"]),c=VO();return qO(o,function(){return c.current},[]),o1(function(){var p=r.inject(c.current,{nonce:i.cspNonce});return function(){p.destroy()}},[]),Qr(t,uc({ref:c,"data-styled-id":n,className:"".concat(l," ").concat(n)},f))})}var lc=function(t,e){return lc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lc(t,e)};function Lo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var k=function(){return k=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},k.apply(this,arguments)};function kT(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function FT(t,e,r,n){var i=arguments.length,o=i<3?e:n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(u=t[l])&&(o=(i<3?u(o):i>3?u(e,r,o):u(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function GT(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],u;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){u={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return o}function xt(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function zo(t,e){return k({events:[],props:[],name:t},e)}var NT=["n","w","s","e"],id=["n","w","s","e","nw","ne","sw","se"];function WT(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}function HT(t){var e=WT(1,t),r=Math.round(t/45)*45%180,n="ns-resize";return r===135?n="nwse-resize":r===45?n="nesw-resize":r===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(e,"') 16 16, ").concat(n,";")}var Oa=QO(),C1=Oa.browser.webkit,E1=C1&&function(){var t=typeof window>"u"?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return e?parseFloat(e[1])<605:!1}(),D1=Oa.browser.name,M1=parseInt(Oa.browser.version,10),$T=D1==="chrome",UT=Oa.browser.chromium,YT=parseInt(Oa.browser.chromiumVersion,10)||0,XT=$T&&M1>=109||UT&&YT>=109,VT=D1==="firefox",qT=parseInt(Oa.browser.webkitVersion,10)>=612||M1>=15,ad="moveable-",KT=id.map(function(t){var e="",r="",n="center",i="center",o="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(e="top: ".concat(o,";"),i="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",i="top"),t.indexOf("w")>-1&&(r="left: ".concat(o,";"),n="right"),t.indexOf("e")>-1&&(r="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(t,`"] {
        `).concat(r).concat(e,`
        transform-origin: `).concat(n," ").concat(i,`;
    }`)}).join(`
`),ZT=`
{
position: absolute;
width: 1px;
height: 1px;
left: 0;
top: 0;
z-index: 3000;
--moveable-color: #4af;
--zoom: 1;
--zoompx: 1px;
--moveable-line-padding: 0;
--moveable-control-padding: 0;
will-change: transform;
outline: 1px solid transparent;
}
.control-box {
z-index: 0;
}
.line, .control {
position: absolute;
left: 0;
top: 0;
will-change: transform;
}
.control {
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid #fff;
box-sizing: border-box;
background: #4af;
background: var(--moveable-color);
margin-top: -7px;
margin-left: -7px;
border: 2px solid #fff;
z-index: 10;
}
.around-control {
position: absolute;
will-change: transform;
width: calc(var(--moveable-control-padding, 20) * 1px);
height: calc(var(--moveable-control-padding, 20) * 1px);
left: calc(var(--moveable-control-padding, 20) * -0.5px);
top: calc(var(--moveable-control-padding, 20) * -0.5px);
box-sizing: border-box;
background: transparent;
z-index: 8;
cursor: alias;
transform-origin: center center;
}
`.concat(KT,`
.padding {
position: absolute;
top: 0px;
left: 0px;
width: 100px;
height: 100px;
transform-origin: 0 0;
}
.line {
width: 1px;
height: 1px;
background: #4af;
background: var(--moveable-color);
transform-origin: 0px 50%;
}
.line.edge {
z-index: 1;
background: transparent;
}
.line.dashed {
box-sizing: border-box;
background: transparent;
}
.line.dashed.horizontal {
border-top: 1px dashed #4af;
border-top-color: #4af;
border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
border-left: 1px dashed #4af;
border-left-color: #4af;
border-left-color: var(--moveable-color);
}
.line.vertical {
transform: translateX(-50%);
}
.line.horizontal {
transform: translateY(-50%);
}
.line.vertical.bold {
width: 2px;
}
.line.horizontal.bold {
height: 2px;
}

.control.origin {
border-color: #f55;
background: #fff;
width: 12px;
height: 12px;
margin-top: -6px;
margin-left: -6px;
pointer-events: none;
}
`).concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return`
.direction[data-rotation="`.concat(t,'"], :global .view-control-rotation').concat(t,` {
`).concat(HT(t),`
}
`)}).join(`
`),`

.line.direction:before {
content: "";
position: absolute;
width: 100%;
height: calc(var(--moveable-line-padding, 0) * 1px);
bottom: 0;
left: 0;
}
.group {
z-index: -1;
}
.area {
position: absolute;
}
.area-pieces {
position: absolute;
top: 0;
left: 0;
display: none;
}
.area.avoid, .area.pass {
pointer-events: none;
}
.area.avoid+.area-pieces {
display: block;
}
.area-piece {
position: absolute;
}

`).concat(E1?`:global svg *:before {
content:"";
transform-origin: inherit;
}`:"",`
`),jT=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],fc=1e-4,fr=1e-7,Us=1e-9,cc=Math.pow(10,10),Jh=-cc,JT={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},od={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},R1={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},O1=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function ko(t,e,r,n,i,o){var u,l;o===void 0&&(o="draggable");var f=(l=(u=e.gestos[o])===null||u===void 0?void 0:u.move(r,t.inputEvent))!==null&&l!==void 0?l:{},c=f.originalDatas||f.datas,p=c[o]||(c[o]={});return k(k({},f),{isPinch:!!n,parentEvent:!0,datas:p,originalDatas:t.originalDatas})}var Sa=function(){function t(e){var r;e===void 0&&(e="draggable"),this.ableName=e,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(r={},r[e]={},r)}return t.prototype.dragStart=function(e,r){this.isDrag=!1,this.isFlag=!1;var n=r.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),k(k({},this.move(e,r.inputEvent)),{type:"dragstart"})},t.prototype.drag=function(e,r){return this.move([e[0]-this.prevX,e[1]-this.prevY],r)},t.prototype.move=function(e,r){var n,i,o=!1;if(!this.isFlag)this.prevX=e[0],this.prevY=e[1],this.startX=e[0],this.startY=e[1],n=e[0],i=e[1],this.isFlag=!0;else{var u=this.isDrag;n=this.prevX+e[0],i=this.prevY+e[1],(e[0]||e[1])&&(this.isDrag=!0),!u&&this.isDrag&&(o=!0)}return this.prevX=n,this.prevY=i,{type:"drag",clientX:n,clientY:i,inputEvent:r,isFirstDrag:o,isDrag:this.isDrag,distX:n-this.startX,distY:i-this.startY,deltaX:e[0],deltaY:e[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function ga(t,e,r,n){var i=t.length===16,o=i?4:3,u=Ni(t,r,n,o),l=W(u,4),f=W(l[0],2),c=f[0],p=f[1],v=W(l[1],2),h=v[0],g=v[1],m=W(l[2],2),b=m[0],x=m[1],y=W(l[3],2),w=y[0],C=y[1],E=W(ye(t,e,o),2),T=E[0],D=E[1],A=Math.min(c,h,b,w),M=Math.min(p,g,x,C),I=Math.max(c,h,b,w),P=Math.max(p,g,x,C);c=c-A||0,h=h-A||0,b=b-A||0,w=w-A||0,p=p-M||0,g=g-M||0,x=x-M||0,C=C-M||0,T=T-A||0,D=D-M||0;var H=t[0],$=t[o+1],F=sr(H*$);return{left:A,top:M,right:I,bottom:P,origin:[T,D],pos1:[c,p],pos2:[h,g],pos3:[b,x],pos4:[w,C],direction:F}}function T1(t,e){var r=e.clientX,n=e.clientY,i=e.datas,o=t.state,u=o.moveableClientRect,l=o.rootMatrix,f=o.is3d,c=o.pos1,p=u.left,v=u.top,h=f?4:3,g=W(Pt(Ea(l,[r-p,n-v],h),c),2),m=g[0],b=g[1],x=W(xn({datas:i,distX:m,distY:b}),2),y=x[0],w=x[1];return[y,w]}function Gi(t,e){var r=e.datas,n=t.state,i=n.allMatrix,o=n.beforeMatrix,u=n.is3d,l=n.left,f=n.top,c=n.origin,p=n.offsetMatrix,v=n.targetMatrix,h=n.transformOrigin,g=u?4:3;r.is3d=u,r.matrix=i,r.targetMatrix=v,r.beforeMatrix=o,r.offsetMatrix=p,r.transformOrigin=h,r.inverseMatrix=mn(i,g),r.inverseBeforeMatrix=mn(o,g),r.absoluteOrigin=Bi(re([l,f],c),g),r.startDragBeforeDist=er(r.inverseBeforeMatrix,r.absoluteOrigin,g),r.startDragDist=er(r.inverseMatrix,r.absoluteOrigin,g)}function QT(t){return ga(t.datas.beforeTransform,[50,50],100,100).direction}function Nu(t,e,r){var n=e.datas,i=e.originalDatas.beforeRenderable,o=n.transformIndex,u=i.nextTransforms,l=u.length,f=i.nextTransformAppendedIndexes,c=-1;o===-1?(r==="translate"?c=0:r==="rotate"&&(c=Ln(u,function(g){return g.match(/scale\(/g)})),c===-1&&(c=u.length),n.transformIndex=c):yr(f,function(g){return g.index===o&&g.functionName===r})?c=o:c=o+f.filter(function(g){return g.index<o}).length;var p=EI(u,t.state,c),v=p.targetFunction,h=r==="rotate"?"rotateZ":r;n.beforeFunctionTexts=p.beforeFunctionTexts,n.afterFunctionTexts=p.afterFunctionTexts,n.beforeTransform=p.beforeFunctionMatrix,n.beforeTransform2=p.beforeFunctionMatrix2,n.targetTansform=p.targetFunctionMatrix,n.afterTransform=p.afterFunctionMatrix,n.afterTransform2=p.afterFunctionMatrix2,n.targetAllTransform=p.allFunctionMatrix,v.functionName===h?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):l>c&&(n.isAppendTransform=!0,i.nextTransformAppendedIndexes=xt(xt([],W(f),!1),[{functionName:r,index:c,isAppend:!0}],!1))}function Wu(t,e,r){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?r:e," ").concat(t.afterFunctionTexts.join(" "))}function tA(t){var e=t.datas,r=t.distX,n=t.distY,i=W(I1({datas:e,distX:r,distY:n}),2),o=i[0],u=i[1],l=A1(e,iT([o,u],4));return er(l,Bi([0,0,0],4),4)}function A1(t,e,r){var n=t.beforeTransform,i=t.afterTransform,o=t.beforeTransform2,u=t.afterTransform2,l=t.targetAllTransform,f=r?ce(l,e,4):ce(e,l,4),c=ce(mn(r?o:n,4),f,4),p=ce(c,mn(r?u:i,4),4);return p}function I1(t){var e=t.datas,r=t.distX,n=t.distY,i=e.inverseBeforeMatrix,o=e.is3d,u=e.startDragBeforeDist,l=e.absoluteOrigin,f=o?4:3;return Pt(er(i,re(l,[r,n]),f),u)}function xn(t,e){var r=t.datas,n=t.distX,i=t.distY,o=r.inverseBeforeMatrix,u=r.inverseMatrix,l=r.is3d,f=r.startDragBeforeDist,c=r.startDragDist,p=r.absoluteOrigin,v=l?4:3;return Pt(er(e?o:u,re(p,[n,i]),v),e?f:c)}function eA(t,e){var r=t.datas,n=t.distX,i=t.distY;r.beforeMatrix;var o=r.matrix,u=r.is3d;r.startDragBeforeDist;var l=r.startDragDist,f=r.absoluteOrigin,c=u?4:3;return Pt(er(o,re(l,[n,i]),c),f)}function rA(t,e,r,n,i,o){return n===void 0&&(n=e),i===void 0&&(i=r),o===void 0&&(o=[0,0]),t?t.map(function(u,l){var f=Oo(u),c=f.value,p=f.unit,v=l?i:n,h=l?r:e;if(u==="%"||isNaN(c)){var g=v?o[l]/v:0;return h*g}else if(p!=="%")return c;return h*c/100}):o}function P1(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function nA(t,e){return P1(e).map(function(r){return t[r]})}function Ef(t,e){var r=(e+1)/2;return[fu(t[0][0],t[1][0],r,1-r),fu(t[0][1],t[1][1],r,1-r)]}function Ne(t,e){var r=Ef([t[0],t[1]],e[0]),n=Ef([t[2],t[3]],e[0]);return Ef([r,n],e[1])}function iA(t,e,r,n,i,o){var u=Ni(e,r,n,i),l=Ne(u,o),f=t[0]-l[0],c=t[1]-l[1];return[f,c]}function Fo(t,e,r,n){return ce(t,co(e,n,r),n)}function aA(t,e,r,n){var i=t.transformOrigin,o=t.offsetMatrix,u=t.is3d,l=u?4:3,f;if(xr(r)){var c=e.beforeTransform,p=e.afterTransform;n?f=nn(So(r),4,l):f=nn(ce(ce(c,So([r]),4),p,4),4,l)}else f=r;return Fo(o,f,i,l)}function oA(t,e){var r=t.transformOrigin,n=t.offsetMatrix,i=t.is3d,o=t.targetMatrix,u=t.targetAllTransform,l=i?4:3;return Fo(n,ce(u||o,ed(e,l),l),r,l)}function Hu(t,e){var r=Ta(e);return{setTransform:function(n,i){i===void 0&&(i=-1),r.startTransforms=Be(n)?n:oi(n),dc(t,e,i)},setTransformIndex:function(n){dc(t,e,n)}}}function $u(t,e,r){var n=Ta(e),i=n.startTransforms;dc(t,e,Ln(i,function(o){return o.indexOf("".concat(r,"("))===0}))}function dc(t,e,r){var n=Ta(e),i=e.datas;if(i.transformIndex=r,r!==-1){var o=n.startTransforms[r];if(o){var u=t.state,l=ya([o],{"x%":function(f){return f/100*u.offsetWidth},"y%":function(f){return f/100*u.offsetHeight}});i.startValue=l[0].functionValue}}}function sd(t,e){var r=Ta(t);r.nextTransforms=oi(e)}function Ta(t){return t.originalDatas.beforeRenderable}function vu(t){var e=t.originalDatas.beforeRenderable;return e.nextTransforms}function Ys(t){return(vu(t)||[]).join(" ")}function Xs(t){return Ta(t).nextStyle}function B1(t,e,r,n,i){sd(i,e);var o=or.drag(t,ko(i,t.state,r,n)),u=o?o.transform:e;return k(k({transform:e,drag:o},ur({transform:u},i)),{afterTransform:u})}function ud(t,e,r,n,i,o){var u=aA(t.state,i,e,o),l=lA(t,r,n,u);return l}function L1(t,e,r,n,i,o,u){var l=ud(t,e,r,i,o,u),f=t.state,c=f.left,p=f.top,v=t.props.groupable,h=v?c:0,g=v?p:0,m=Pt(n,l);return Pt(m,[h,g])}function sA(t,e,r,n,i,o,u){var l=L1(t,e,r,n,i,o,u);return l}function uA(t,e,r){return[e?-1+t[0]/(e/2):0,r?-1+t[1]/(r/2):0]}function lA(t,e,r,n){n===void 0&&(n=t.state.allMatrix);var i=t.state,o=i.width,u=i.height,l=i.is3d,f=l?4:3,c=[o/2*(1+e[0])+r[0],u/2*(1+e[1])+r[1]];return ye(n,c,f)}function fA(t,e,r){var n=r.fixedDirection,i=r.fixedPosition,o=r.fixedOffset;return L1(t,"rotate(".concat(e,"deg)"),n,i,o,r)}function cA(t,e,r,n,i,o){var u=t.props.groupable,l=t.state,f=l.transformOrigin,c=l.offsetMatrix,p=l.is3d,v=l.width,h=l.height,g=l.left,m=l.top,b=o.fixedDirection,x=o.nextTargetMatrix||l.targetMatrix,y=p?4:3,w=rA(i,e,r,v,h,f),C=u?g:0,E=u?m:0,T=Fo(c,x,w,y),D=iA(n,T,e,r,y,b);return Pt(D,[C,E])}function dA(t,e){return Ne(Yr(t.state),e)}function pA(t,e){var r=t.targetGesto,n=t.controlGesto,i;return r!=null&&r.isFlag()&&(i=r.getEventData()[e]),!i&&(n!=null&&n.isFlag())&&(i=n.getEventData()[e]),i||{}}function vA(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function hA(t){var e=t("scale"),r=t("rotate"),n=t("translate"),i=[];return n&&n!=="0px"&&n!=="none"&&i.push("translate(".concat(n.split(/\s+/).join(","),")")),r&&r!=="1"&&r!=="none"&&i.push("rotate(".concat(r,")")),e&&e!=="1"&&e!=="none"&&i.push("scale(".concat(e.split(/\s+/).join(","),")")),i}function z1(t,e,r){for(var n=t,i=[],o=qc(t)||pi(t),u=!r&&t===e||t===o,l=u,f=!1,c=3,p,v,h,g=!1,m=Co(e,e,!0).offsetParent,b=1;n&&!l;){l=u;var x=Sr(n),y=x("position"),w=om(n),C=y==="fixed",E=hA(x),T=aT(dI(w)),D=void 0,A=!1,M=!1,I=0,P=0,H=0,$=0,F={hasTransform:!1,fixedContainer:null};C&&(g=!0,F=mI(n),m=F.fixedContainer);var Z=T.length;!f&&(Z===16||E.length)&&(f=!0,c=4,_c(i),h&&(h=nn(h,3,4))),f&&Z===9&&(T=nn(T,3,4));var X=gI(n,t),et=X.tagName,G=X.hasOffset,j=X.isSVG,U=X.origin,J=X.targetOrigin,q=X.offset,st=W(q,2),nt=st[0],dt=st[1];et==="svg"&&!n.ownerSVGElement&&h&&(i.push({type:"target",target:n,matrix:_I(n,c)}),i.push({type:"offset",target:n,matrix:ge(c)}));var ot=parseFloat(x("zoom"))||1;if(C)D=F.fixedContainer,A=!0;else{var _t=Co(n,e,!1,!0,x),St=_t.offsetZoom;if(D=_t.offsetParent,A=_t.isEnd,M=_t.isStatic,b*=St,(_t.isCustomElement||St!==1)&&M)nt-=D.offsetLeft,dt-=D.offsetTop;else if(VT||XT){var Dt=_t.parentSlotElement;if(Dt){for(var At=D,kt=0,bt=0;At&&vA(At);)kt+=At.offsetLeft,bt+=At.offsetTop,At=At.offsetParent;nt-=kt,dt-=bt}}}if(C1&&!qT&&G&&!j&&M&&(y==="relative"||y==="static")&&(nt-=D.offsetLeft,dt-=D.offsetTop,u=u||A),C)G&&F.hasTransform&&(H=D.clientLeft,$=D.clientTop);else if(G&&m!==D&&(I=D.clientLeft,P=D.clientTop),G&&D===o){var Mt=sm(n,!1);nt+=Mt[0],dt+=Mt[1]}if(i.push({type:"target",target:n,matrix:co(T,c,U)}),E.length&&(i.push({type:"offset",target:n,matrix:ge(c)}),i.push({type:"target",target:n,matrix:co(So(E),c,U)})),G){var B=n===t,L=B?0:n.scrollLeft,V=B?0:n.scrollTop;i.push({type:"offset",target:n,matrix:Li([nt-L+I-H,dt-V+P-$],c)})}else i.push({type:"offset",target:n,origin:U});if(ot!==1&&i.push({type:"zoom",target:n,matrix:co(ed([ot,ot],c),c,[0,0])}),h||(h=T),p||(p=U),v||(v=J),l||C)break;n=D,u=A,(!r||n===o)&&(l=u)}return h||(h=ge(c)),p||(p=[0,0]),v||(v=[0,0]),{zoom:b,offsetContainer:m,matrixes:i,targetMatrix:h,transformOrigin:p,targetOrigin:v,is3d:f,hasFixed:g}}var Di=null,Mi=null,oa=null;function wa(t){t?(window.Map&&(Di=new Map,Mi=new Map),oa=[]):(Di=null,oa=null,Mi=null)}function gA(t){var e=Mi==null?void 0:Mi.get(t);if(e)return e;var r=po(t,!0);return Mi&&Mi.set(t,r),r}function mA(t,e){if(oa){var r=yr(oa,function(i){return i[0][0]==t&&i[0][1]==e});if(r)return r[1]}var n=z1(t,e,!0);return oa&&oa.push([[t,e],n]),n}function Sr(t){var e=Di==null?void 0:Di.get(t);if(!e){var r=ni(t).getComputedStyle(t);if(!Di)return function(o){return r[o]};e={style:r,cached:{}},Di.set(t,e)}var n=e.cached,i=e.style;return function(o){return o in n||(n[o]=i[o]),n[o]}}function tn(t,e,r){var n=r.originalDatas;n.groupable=n.groupable||{};var i=n.groupable;i.childDatas=i.childDatas||[];var o=i.childDatas;return t.moveables.map(function(u,l){return o[l]=o[l]||{},o[l][e]=o[l][e]||{},k(k({},r),{isRequestChild:!0,datas:o[l][e],originalDatas:o[l]})})}function Df(t,e,r,n,i,o,u){var l=!!r.match(/Start$/g),f=!!r.match(/End$/g),c=i.isPinch,p=i.datas,v=tn(t,e.name,i),h=t.moveables,g=[],m=v.map(function(b,x){var y=h[x],w=y.state,C=w.gestos,E=b;if(l)E=new Sa(u).dragStart(n,b),g.push(E);else{if(C[u]||(C[u]=p.childGestos[x]),!C[u])return;E=ko(b,w,n,c,o,u),g.push(E)}var T=e[r](y,k(k({},E),{parentFlag:!0}));return f&&(C[u]=null),T});return l&&(p.childGestos=h.map(function(b){return b.state.gestos[u]})),{eventParams:m,childEvents:g}}function Bn(t,e,r,n,i,o){i===void 0&&(i=function(p,v){return v});var u=!!r.match(/End$/g),l=tn(t,e.name,n),f=t.moveables,c=l.map(function(p,v){var h=f[v],g=p;g=i(h,p);var m=e[r](h,k(k({},g),{parentFlag:!0}));return m&&o&&o(h,p,m,v),u&&(h.state.gestos={}),m});return c}function hu(t,e,r,n){var i=r.fixedDirection,o=r.fixedPosition,u=n.datas.startPositions||Yr(e.state),l=Ne(u,i),f=W(er(Bo(-t.rotation/180*Math.PI,3),[l[0]-o[0],l[1]-o[1],1],3),2),c=f[0],p=f[1];return n.datas.originalX=c,n.datas.originalY=p,n}function k1(t,e,r,n){var i=t.getState(),o=i.renderPoses,u=i.rotation,l=i.direction,f=ki(t.props,e).zoom,c=fo(u/Math.PI*180),p={},v=t.renderState;v.renderDirectionMap||(v.renderDirectionMap={});var h=v.renderDirectionMap;r.forEach(function(m){var b=m.dir;p[b]=!0});var g=sr(l);return r.map(function(m){var b=m.data,x=m.classNames,y=m.dir,w=od[y];if(!w||!p[y])return null;h[y]=!0;var C=(Nt(c,15)+g*R1[y]+720)%180,E={};return zn(b).forEach(function(T){E["data-".concat(T)]=b[T]}),n.createElement("div",k({className:It.apply(void 0,xt(["control","direction",y,e],W(x),!1)),"data-rotation":C,"data-direction":y},E,{key:"direction-".concat(y),style:bu.apply(void 0,xt([u,f],W(w.map(function(T){return o[T]})),!1))}))})}function F1(t,e,r,n){var i=ki(t.props,r),o=i.renderDirections,u=o===void 0?e:o,l=i.displayAroundControls;if(!u)return[];var f=u===!0?id:u;return xt(xt([],W(l?H1(t,n,r,f):[]),!1),W(k1(t,r,f.map(function(c){return{data:{},classNames:[],dir:c}}),n)),!1)}function wo(t,e,r,n,i,o){for(var u=[],l=6;l<arguments.length;l++)u[l-6]=arguments[l];var f=Oe(r,n),c=e?Nt(f/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(o),className:It.apply(void 0,xt(["line","direction",e?"edge":"",e],W(u),!1)),"data-rotation":c,"data-line-key":o,"data-direction":e,style:ro(r,n,i,f)})}function G1(t,e,r,n,i){var o=r===!0?NT:r;return o.map(function(u,l){var f=W(od[u],2),c=f[0],p=f[1];if(p!=null)return wo(t,u,n[c],n[p],i,"".concat(e,"Edge").concat(l),e)}).filter(Boolean)}function N1(t){return function(e,r){var n=ki(e.props,t).edge;return n&&(n===!0||n.length)?xt(xt([],W(G1(r,t,n,e.getState().renderPoses,e.props.zoom)),!1),W(_A(e,t,r)),!1):W1(e,t,r)}}function W1(t,e,r){return F1(t,id,e,r)}function _A(t,e,r){return F1(t,["nw","ne","sw","se"],e,r)}function H1(t,e,r,n){var i=t.renderState;i.renderDirectionMap||(i.renderDirectionMap={});var o=t.getState(),u=o.renderPoses,l=o.rotation,f=o.direction,c=i.renderDirectionMap,p=t.props.zoom,v=sr(f),h=l/Math.PI*180;return(n||zn(c)).map(function(g){var m=od[g];if(!m)return null;var b=(Nt(h,15)+v*R1[g]+720)%180,x=["around-control"];return r&&x.push("direction",r),e.createElement("div",{className:It.apply(void 0,xt([],W(x),!1)),"data-rotation":b,"data-direction":g,key:"direction-around-".concat(g),style:bu.apply(void 0,xt([l,p],W(m.map(function(y){return u[y]})),!1))})})}function ld(t,e,r){var n=t||{},i=n.position,o=i===void 0?"client":i,u=n.left,l=u===void 0?-1/0:u,f=n.top,c=f===void 0?-1/0:f,p=n.right,v=p===void 0?1/0:p,h=n.bottom,g=h===void 0?1/0:h,m={position:o,left:l,top:c,right:v,bottom:g};return{vertical:Qh(m,e,!0),horizontal:Qh(m,r,!1)}}function Uu(t,e){var r=t.state,n=r.containerClientRect,i=n.clientHeight,o=n.clientWidth,u=n.clientLeft,l=n.clientTop,f=r.snapOffset,c=f.left,p=f.top,v=f.right,h=f.bottom,g=e||t.props.bounds||{},m=g.position||"client",b=m==="css",x=g.left,y=x===void 0?-1/0:x,w=g.top,C=w===void 0?-1/0:w,E=g.right,T=E===void 0?b?-1/0:1/0:E,D=g.bottom,A=D===void 0?b?-1/0:1/0:D;return b&&(T=o+v-c-T,A=i+h-p-A),{left:y+c-u,right:T+c-u,top:C+p-l,bottom:A+p-l}}function bA(t,e,r){var n=Uu(t),i=n.left,o=n.top,u=n.right,l=n.bottom,f=W(r,2),c=f[0],p=f[1],v=W(Pt(r,e),2),h=v[0],g=v[1];gt(h)<fr&&(h=0),gt(g)<fr&&(g=0);var m=g>0,b=h>0,x={isBound:!1,offset:0,pos:0},y={isBound:!1,offset:0,pos:0};if(h===0&&g===0)return{vertical:x,horizontal:y};if(h===0)m?l<p&&(y.pos=l,y.offset=p-l):o>p&&(y.pos=o,y.offset=p-o);else if(g===0)b?u<c&&(x.pos=u,x.offset=c-u):i>c&&(x.pos=i,x.offset=c-i);else{var w=g/h,C=r[1]-w*c,E=0,T=0,D=!1;b&&u<=c?(E=w*u+C,T=u,D=!0):!b&&c<=i&&(E=w*i+C,T=i,D=!0),D&&(E<o||E>l)&&(D=!1),D||(m&&l<=p?(E=l,T=(E-C)/w,D=!0):!m&&p<=o&&(E=o,T=(E-C)/w,D=!0)),D&&(x.isBound=!0,x.pos=T,x.offset=c-T,y.isBound=!0,y.pos=E,y.offset=p-E)}return{vertical:x,horizontal:y}}function Qh(t,e,r){var n=t[r?"left":"top"],i=t[r?"right":"bottom"],o=Math.min.apply(Math,xt([],W(e),!1)),u=Math.max.apply(Math,xt([],W(e),!1)),l=[];return n+1>o&&l.push({direction:"start",isBound:!0,offset:o-n,pos:n}),i-1<u&&l.push({direction:"end",isBound:!0,offset:u-i,pos:i}),l.length||l.push({isBound:!1,offset:0,pos:0}),l.sort(function(f,c){return gt(c.offset)-gt(f.offset)})}function tg(t,e,r){var n=r?t.map(function(i){return Po(i,r)}):t;return n.some(function(i){return i[0]<e.left&&gt(i[0]-e.left)>.1||i[0]>e.right&&gt(i[0]-e.right)>.1||i[1]<e.top&&gt(i[1]-e.top)>.1||i[1]>e.bottom&&gt(i[1]-e.bottom)>.1})}function xA(t,e,r){var n=Ur(t),i=Math.sqrt(n*n-e*e)||0;return[i,-i].sort(function(o,u){return gt(o-t[r?0:1])-gt(u-t[r?0:1])}).map(function(o){return Oe([0,0],r?[o,e]:[e,o])})}function yA(t,e,r,n,i){if(!t.props.bounds)return[];var o=i*Math.PI/180,u=Uu(t),l=u.left,f=u.top,c=u.right,p=u.bottom,v=l-n[0],h=c-n[0],g=f-n[1],m=p-n[1],b={left:v,top:g,right:h,bottom:m};if(!tg(r,b,0))return[];var x=[];return[[v,0],[h,0],[g,1],[m,1]].forEach(function(y){var w=W(y,2),C=w[0],E=w[1];r.forEach(function(T){var D=Oe([0,0],T);x.push.apply(x,xt([],W(xA(T,C,E).map(function(A){return o+A-D}).filter(function(A){return!tg(e,b,A)}).map(function(A){return Nt(A*180/Math.PI,fr)})),!1))})}),x}var SA=["left","right","center"],wA=["top","bottom","middle"],eg={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},si={start:"left",end:"right",center:"center"},ui={start:"top",end:"bottom",center:"middle"};function sa(){return{left:!1,top:!1,right:!1,bottom:!1}}function Aa(t,e){var r=t.props,n=r.snappable,i=r.bounds,o=r.innerBounds,u=r.verticalGuidelines,l=r.horizontalGuidelines,f=r.snapGridWidth,c=r.snapGridHeight,p=t.state,v=p.guidelines,h=p.enableSnap;return!n||!h||e&&n!==!0&&n.indexOf(e)<0?!1:!!(f||c||i||o||v&&v.length||u&&u.length||l&&l.length)}function fd(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function CA(t,e){var r=fd(t),n={};for(var i in r)i in e&&r[i]&&(n[i]=e[i]);return n}function cd(t,e){var r=CA(t,e),n=wA.filter(function(o){return o in r}),i=SA.filter(function(o){return o in r});return{horizontalNames:n,verticalNames:i,horizontal:n.map(function(o){return r[o]}),vertical:i.map(function(o){return r[o]})}}function EA(t,e,r){var n=ye(t,[e.clientLeft,e.clientTop],r);return[e.left+n[0],e.top+n[1]]}function DA(t){var e=W(t,2),r=e[0],n=e[1],i=n[0]-r[0],o=n[1]-r[1];Math.abs(i)<Ie&&(i=0),Math.abs(o)<Ie&&(o=0);var u=0,l=0,f=0;return i?o?(u=-o/i,l=1,f=u*r[0]-r[1]):(l=1,f=-r[1]):(u=-1,f=r[0]),[u,l,f].map(function(c){return Nt(c,Ie)})}var $1="snapRotationThreshold",U1="snapRotationDegrees",Y1="snapHorizontalThreshold",X1="snapVerticalThreshold";function Yu(t,e,r,n,i,o,u){var l;n===void 0&&(n=[]),i===void 0&&(i=[]);var f=t.props,c=((l=t.state.snapThresholdInfo)===null||l===void 0?void 0:l.multiples)||[1,1],p=gg(u,f[Y1],5),v=gg(o,f[X1],5);return V1(t.state.guidelines,e,r,n,i,p,v,c)}function V1(t,e,r,n,i,o,u,l){return{vertical:ng(t,"vertical",e,u*l[0],n),horizontal:ng(t,"horizontal",r,o*l[1],i)}}function MA(t,e,r){var n=W(r,2),i=n[0],o=n[1],u=W(e,2),l=u[0],f=u[1],c=W(Pt(r,e),2),p=c[0],v=c[1],h=v>0,g=p>0;p=xu(p),v=xu(v);var m={isSnap:!1,offset:0,pos:0},b={isSnap:!1,offset:0,pos:0};if(p===0&&v===0)return{vertical:m,horizontal:b};var x=Yu(t,p?[i]:[],v?[o]:[],[],[],void 0,void 0),y=x.vertical,w=x.horizontal;y.posInfos.filter(function(et){var G=et.pos;return g?G>=l:G<=l}),w.posInfos.filter(function(et){var G=et.pos;return h?G>=f:G<=f}),y.isSnap=y.posInfos.length>0,w.isSnap=w.posInfos.length>0;var C=pc(y),E=C.isSnap,T=C.guideline,D=pc(w),A=D.isSnap,M=D.guideline,I=A?M.pos[1]:0,P=E?T.pos[0]:0;if(p===0)A&&(b.isSnap=!0,b.pos=M.pos[1],b.offset=o-b.pos);else if(v===0)E&&(m.isSnap=!0,m.pos=P,m.offset=i-P);else{var H=v/p,$=r[1]-H*i,F=0,Z=0,X=!1;E?(Z=P,F=H*Z+$,X=!0):A&&(F=I,Z=(F-$)/H,X=!0),X&&(m.isSnap=!0,m.pos=Z,m.offset=i-Z,b.isSnap=!0,b.pos=F,b.offset=o-F)}return{vertical:m,horizontal:b}}function Qn(t){var e="";return t===-1||t==="top"||t==="left"?e="start":t===0||t==="center"||t==="middle"?e="center":(t===1||t==="right"||t==="bottom")&&(e="end"),e}function rg(t,e,r,n){var i=cd(t.props.snapDirections,e),o=Yu(t,i.vertical,i.horizontal,i.verticalNames.map(function(f){return Qn(f)}),i.horizontalNames.map(function(f){return Qn(f)}),r,n),u=Qn(i.horizontalNames[o.horizontal.index]),l=Qn(i.verticalNames[o.vertical.index]);return{vertical:k(k({},o.vertical),{direction:l}),horizontal:k(k({},o.horizontal),{direction:u})}}function pc(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=t.posInfos[0],n=r.guidelineInfos[0],i=n.offset,o=n.dist,u=n.guideline;return{isSnap:e,offset:i,dist:o,pos:r.pos,guideline:u}}function ng(t,e,r,n,i){var o,u;if(i===void 0&&(i=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var l=e==="vertical",f=l?0:1,c=r.map(function(v,h){var g=i[h]||"",m=t.map(function(b){var x=b.pos,y=v-x[f];return{offset:y,dist:gt(y),guideline:b,direction:g}}).filter(function(b){var x=b.guideline,y=b.dist,w=x.type;return!(w!==e||y>n)}).sort(function(b,x){return b.dist-x.dist});return{pos:v,index:h,guidelineInfos:m,direction:g}}).filter(function(v){return v.guidelineInfos.length>0}).sort(function(v,h){return v.guidelineInfos[0].dist-h.guidelineInfos[0].dist}),p=c.length>0;return{isSnap:p,index:p?c[0].index:-1,direction:(u=(o=c[0])===null||o===void 0?void 0:o.direction)!==null&&u!==void 0?u:"",posInfos:c}}function RA(t,e,r,n,i){var o=[];r[0]&&r[1]?o=[r,[-r[0],r[1]],[r[0],-r[1]]]:!r[0]&&!r[1]?[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(h,g,m){var b=m[g+1]||m[0];o.push(h),o.push([(h[0]+b[0])/2,(h[1]+b[1])/2])}):t.props.keepRatio?o.push([-1,-1],[-1,1],[1,-1],[1,1],r):(o.push.apply(o,xt([],W(nA([[-1,-1],[1,-1],[-1,-1],[1,1]],r)),!1)),o.length>1&&o.push([(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]));var u=o.map(function(h){return Ne(e,h)}),l=u.map(function(h){return h[0]}),f=u.map(function(h){return h[1]}),c=Yu(t,l,f,o.map(function(h){return Qn(h[0])}),o.map(function(h){return Qn(h[1])}),n,i),p=Qn(o.map(function(h){return h[0]})[c.vertical.index]),v=Qn(o.map(function(h){return h[1]})[c.horizontal.index]);return{vertical:k(k({},c.vertical),{direction:p}),horizontal:k(k({},c.horizontal),{direction:v})}}function q1(t,e){var r=gt(t.offset),n=gt(e.offset);return t.isBound&&e.isBound?n-r:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?n-r:t.isSnap?-1:e.isSnap||r<fr?1:n<fr?-1:r-n}function gu(t,e){return t.slice().sort(function(r,n){var i=r.sign[e],o=n.sign[e],u=r.offset[e],l=n.offset[e];if(i){if(!o)return-1}else return 1;return q1({isBound:r.isBound,isSnap:r.isSnap,offset:u},{isBound:n.isBound,isSnap:n.isSnap,offset:l})})[0]}function OA(t,e,r){var n=[];if(r)gt(e[0])!==1||gt(e[1])!==1?n.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):n.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),n.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var i=t[0]?t:[1,1];[1,-1].forEach(function(u){[1,-1].forEach(function(l){var f=[u*i[0],l*i[1]];e[0]===f[0]&&e[1]===f[1]||n.push([e,f])})})}else if(t[0]){var o=gt(e[0])===1?[1]:[1,-1];o.forEach(function(u){n.push([[e[0],-1],[u*t[0],-1]],[[e[0],0],[u*t[0],0]],[[e[0],1],[u*t[0],1]])})}else if(t[1]){var o=gt(e[1])===1?[1]:[1,-1];o.forEach(function(l){n.push([[-1,e[1]],[-1,l*t[1]]],[[0,e[1]],[0,l*t[1]]],[[1,e[1]],[1,l*t[1]]])})}return n}function K1(t,e){var r=Jf([e[0][0],e[1][0]]),n=Jf([e[0][1],e[1][1]]);return{vertical:r<=t[0],horizontal:n<=t[1]}}function dd(t,e){var r=W(e,2),n=r[0],i=r[1],o=i[0]-n[0],u=i[1]-n[1];gt(o)<fr&&(o=0),gt(u)<fr&&(u=0);var l,f;if(!o)l=n[0],f=t[0];else if(!u)l=n[1],f=t[1];else{var c=u/o;l=c*(t[0]-n[0])+n[1],f=t[1]}return l-f}function Z1(t,e,r,n){return n===void 0&&(n=fr),t.every(function(i){var o=dd(i,e),u=o<=0;return u===r||gt(o)<=n})}function ig(t,e,r,n,i){return i===void 0&&(i=0),n&&e-i<=t||!n&&t<=r+i?{isBound:!0,offset:n?e-t:r-t}:{isBound:!1,offset:0}}function TA(t,e){var r=e.line,n=e.centerSign,i=e.verticalSign,o=e.horizontalSign,u=e.lineConstants,l=t.props.innerBounds;if(!l)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var f=l.left,c=l.top,p=l.width,v=l.height,h=[[f,c],[f,c+v]],g=[[f,c],[f+p,c]],m=[[f+p,c],[f+p,c+v]],b=[[f,c+v],[f+p,c+v]];if(Z1([[f,c],[f+p,c],[f,c+v],[f+p,c+v]],r,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var x=ti(r,u,g,i),y=ti(r,u,b,i),w=ti(r,u,h,o),C=ti(r,u,m,o),E=x.isBound&&y.isBound,T=x.isBound||y.isBound,D=w.isBound&&C.isBound,A=w.isBound||C.isBound,M=Ca(x.offset,y.offset),I=Ca(w.offset,C.offset),P=[0,0],H=!1,$=!1;return gt(I)<gt(M)?(P=[M,0],H=T,$=E):(P=[0,I],H=A,$=D),{isAllBound:$,isVerticalBound:T,isHorizontalBound:A,isBound:H,offset:P}}function ti(t,e,r,n,i,o){var u=W(e,2),l=u[0],f=u[1],c=t[0],p=r[0],v=r[1],h=xu(v[1]-p[1]),g=xu(v[0]-p[0]),m=f,b=l,x=-l/f;if(g){if(!h){if(o&&!m)return{isBound:!1,offset:0};if(b){var E=(p[1]-c[1])/x+c[0];return ig(E,p[0],v[0],n,i)}else{var w=p[1]-c[1],C=gt(w)<=(i||0);return{isBound:C,offset:C?w:0}}}}else{if(o&&!b)return{isBound:!1,offset:0};if(m){var y=x*(p[0]-c[0])+c[1];return ig(y,p[1],v[1],n,i)}else{var w=p[0]-c[0],C=gt(w)<=(i||0);return{isBound:C,offset:C?w:0}}}return{isBound:!1,offset:0}}function j1(t,e,r){return e.map(function(n){var i=TA(t,n),o=i.isBound,u=i.offset,l=i.isVerticalBound,f=i.isHorizontalBound,c=n.multiple,p=xn({datas:r,distX:u[0],distY:u[1]}).map(function(v,h){return v*(c[h]?2/c[h]:0)});return{sign:c,isBound:o,isVerticalBound:l,isHorizontalBound:f,isSnap:!1,offset:p}})}function AA(t,e,r){var n,i=pd(t,e,[0,0],!1).map(function(h){return k(k({},h),{multiple:h.multiple.map(function(g){return gt(g)*2})})}),o=j1(t,i,r),u=gu(o,0),l=gu(o,1),f=0,c=0,p=u.isVerticalBound||l.isVerticalBound,v=u.isHorizontalBound||l.isHorizontalBound;return(p||v)&&(n=W(eA({datas:r,distX:-u.offset[0],distY:-l.offset[1]}),2),f=n[0],c=n[1]),{vertical:{isBound:p,offset:f},horizontal:{isBound:v,offset:c}}}function IA(t,e){var r=[],n=t[0],i=t[1];return n&&i?r.push([[0,i*2],t,[-n,i]],[[n*2,0],t,[n,-i]]):n?(r.push([[n*2,0],[n,1],[n,-1]]),e&&r.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):i?(r.push([[0,i*2],[1,i],[-1,i]]),e&&r.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}function pd(t,e,r,n){var i=t.state,o=i.allMatrix,u=i.is3d,l=Ni(o,100,100,u?4:3),f=Ne(l,[0,0]);return IA(r,n).map(function(c){var p=W(c,3),v=p[0],h=p[1],g=p[2],m=[Ne(l,h),Ne(l,g)],b=DA(m),x=K1(f,m),y=x.vertical,w=x.horizontal,C=dd(f,m)<=0;return{multiple:v,centerSign:C,verticalSign:y,horizontalSign:w,lineConstants:b,line:[Ne(e,h),Ne(e,g)]}})}function ag(t,e,r,n){var i=n?t.map(function(o){return Po(o,n)}):t;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some(function(o){var u=dd(r,o)<=0;return!Z1(e,o,u)})}function PA(t){var e=W(t,2),r=e[0],n=e[1],i=n[0]-r[0],o=n[1]-r[1];if(!i)return gt(r[0]);if(!o)return gt(r[1]);var u=o/i;return gt((-u*r[0]+r[1])/Math.sqrt(Math.pow(u,2)+1))}function BA(t){var e=W(t,2),r=e[0],n=e[1],i=n[0]-r[0],o=n[1]-r[1];if(!i)return[r[0],0];if(!o)return[0,r[1]];var u=o/i,l=-u*r[0]+r[1];return[-l/(u+1/u),l/(u*u+1)]}function LA(t,e,r,n,i){var o=t.props.innerBounds,u=i*Math.PI/180;if(!o)return[];var l=o.left,f=o.top,c=o.width,p=o.height,v=l-n[0],h=l+c-n[0],g=f-n[1],m=f+p-n[1],b=[[v,g],[h,g],[v,m],[h,m]],x=Ne(r,[0,0]);if(!ag(r,b,x,0))return[];var y=[],w=b.map(function(C){return[Ur(C),Oe([0,0],C)]});return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].forEach(function(C){var E=Oe([0,0],BA(C)),T=PA(C);y.push.apply(y,xt([],W(w.filter(function(D){var A=W(D,1),M=A[0];return M&&T<=M}).map(function(D){var A=W(D,2),M=A[0],I=A[1],P=Math.acos(M?T/M:0),H=I+P,$=I-P;return[u+H-E,u+$-E]}).reduce(function(D,A){return D.push.apply(D,xt([],W(A),!1)),D},[]).filter(function(D){return!ag(e,b,x,D)}).map(function(D){return Nt(D*180/Math.PI,fr)})),!1))}),y}function zA(t){var e=t.props.innerBounds,r=sa();if(!e)return{boundMap:r,vertical:[],horizontal:[]};var n=t.getRect(),i=n.pos1,o=n.pos2,u=n.pos3,l=n.pos4,f=[i,o,u,l],c=Ne(f,[0,0]),p=e.left,v=e.top,h=e.width,g=e.height,m=[[p,v],[p,v+g]],b=[[p,v],[p+h,v]],x=[[p+h,v],[p+h,v+g]],y=[[p,v+g],[p+h,v+g]],w=pd(t,f,[0,0],!1),C=[],E=[];return w.forEach(function(T){var D=T.line,A=T.lineConstants,M=K1(c,D),I=M.horizontal,P=M.vertical,H=ti(D,A,b,P,1,!0),$=ti(D,A,y,P,1,!0),F=ti(D,A,m,I,1,!0),Z=ti(D,A,x,I,1,!0);H.isBound&&!r.top&&(C.push(v),r.top=!0),$.isBound&&!r.bottom&&(C.push(v+g),r.bottom=!0),F.isBound&&!r.left&&(E.push(p),r.left=!0),Z.isBound&&!r.right&&(E.push(p+h),r.right=!0)}),{boundMap:r,horizontal:C,vertical:E}}function kA(t,e,r,n){var i=e[0]-t[0],o=e[1]-t[1];if(gt(i)<Ie&&(i=0),gt(o)<Ie&&(o=0),!i)return n?[0,0]:[0,r];if(!o)return n?[r,0]:[0,0];var u=o/i,l=t[1]-u*t[0];if(n){var f=u*(e[0]+r)+l;return[r,f-e[1]]}else{var c=(e[1]+r-l)/u;return[c-e[0],r]}}function vc(t,e,r,n,i){var o=kA(t,e,r,n);if(!o)return{isOutside:!1,offset:[0,0]};var u=Pn(t,e),l=Pn(o,t),f=Pn(o,e),c=l>u||f>u,p=W(xn({datas:i,distX:o[0],distY:o[1]}),2),v=p[0],h=p[1];return{offset:[v,h],isOutside:c}}function mu(t,e){return t.isBound?t.offset:e.isSnap?pc(e).offset:0}function FA(t,e,r,n,i){var o=W(e,2),u=o[0],l=o[1],f=W(r,2),c=f[0],p=f[1],v=W(n,2),h=v[0],g=v[1],m=W(i,2),b=m[0],x=m[1],y=-b,w=-x;if(t&&u&&l){y=0,w=0;var C=[];if(c&&p?C.push([0,x],[b,0]):c?C.push([b,0]):p?C.push([0,x]):h&&g?C.push([0,x],[b,0]):h?C.push([b,0]):g&&C.push([0,x]),C.length){C.sort(function(A,M){return Ur(Pt([u,l],A))-Ur(Pt([u,l],M))});var E=C[0];if(E[0]&&gt(u)>Ie)y=-E[0],w=l*gt(u+y)/gt(u)-l;else if(E[1]&&gt(l)>Ie){var T=l;w=-E[1],y=u*gt(l+w)/gt(T)-u}if(t&&p&&c)if(gt(y)>Ie&&gt(y)<gt(b)){var D=gt(b)/gt(y);y*=D,w*=D}else if(gt(w)>Ie&&gt(w)<gt(x)){var D=gt(x)/gt(w);y*=D,w*=D}else y=Ca(-b,y),w=Ca(-x,w)}}else y=u||c?-b:0,w=l||p?-x:0;return[y,w]}function GA(t,e,r,n,i,o){if(!Aa(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var u=gd(o.absolutePoses,[e,r]),l=$r(u),f=l.left,c=l.right,p=l.top,v=l.bottom,h={horizontal:u.map(function(Z){return Z[1]}),vertical:u.map(function(Z){return Z[0]})},g=fd(t.props.snapDirections),m=cd(g,{left:f,right:c,top:p,bottom:v,center:(f+c)/2,middle:(p+v)/2}),b=Xu(t,i,m,h),x=b.vertical,y=b.horizontal,w=AA(t,u,o),C=w.vertical,E=w.horizontal,T=x.isSnap,D=y.isSnap,A=x.isBound||C.isBound,M=y.isBound||E.isBound,I=Ca(x.offset,C.offset),P=Ca(y.offset,E.offset),H=W(FA(n,[e,r],[A,M],[T,D],[I,P]),2),$=H[0],F=H[1];return[{isBound:A,isSnap:T,offset:$},{isBound:M,isSnap:D,offset:F}]}function Xu(t,e,r,n){n===void 0&&(n=r);var i=ld(Uu(t),n.vertical,n.horizontal),o=i.horizontal,u=i.vertical,l=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Yu(t,r.vertical,r.horizontal,void 0,void 0,void 0,void 0),f=l.horizontal,c=l.vertical,p=mu(o[0],f),v=mu(u[0],c),h=gt(p),g=gt(v);return{horizontal:{isBound:o[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:p,dist:h,bounds:o,snap:f},vertical:{isBound:u[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:v,dist:g,bounds:u,snap:c}}}function og(t,e,r,n,i,o,u){u===void 0&&(u=[1,1]);var l=ld(e,r,n),f=l.horizontal,c=l.vertical,p=V1(t,r,n,[],[],i,o,u),v=p.horizontal,h=p.vertical,g=mu(f[0],v),m=mu(c[0],h),b=gt(g),x=gt(m);return{horizontal:{isBound:f[0].isBound,isSnap:v.isSnap,snapIndex:v.index,offset:g,dist:b,bounds:f,snap:v},vertical:{isBound:c[0].isBound,isSnap:h.isSnap,snapIndex:h.index,offset:m,dist:x,bounds:c,snap:h}}}function NA(t,e,r,n){var i=Oe(t,e)/Math.PI*180,o=r.vertical,u=o.isBound,l=o.isSnap,f=o.dist,c=r.horizontal,p=c.isBound,v=c.isSnap,h=c.dist,g=i%180,m=g<3||g>177,b=g>87&&g<93;return h<f&&(u||l&&!b&&(!n||!m))?"vertical":p||v&&!m&&(!n||!b)?"horizontal":""}function WA(t,e,r,n,i,o){return r.map(function(u){var l=W(u,2),f=l[0],c=l[1],p=Ne(e,f),v=Ne(e,c),h=n?HA(t,p,v,i):Xu(t,i,{vertical:[v[0]],horizontal:[v[1]]}),g=h.horizontal,m=g.offset,b=g.isBound,x=g.isSnap,y=h.vertical,w=y.offset,C=y.isBound,E=y.isSnap,T=Pt(c,f);if(!w&&!m)return{isBound:C||b,isSnap:E||x,sign:T,offset:[0,0]};var D=NA(p,v,h,n);if(!D)return{sign:T,isBound:!1,isSnap:!1,offset:[0,0]};var A=D==="vertical",M=[0,0];return!n&&gt(c[0])===1&&gt(c[1])===1&&f[0]!==c[0]&&f[1]!==c[1]?M=xn({datas:o,distX:-w,distY:-m}):M=vc(p,v,-(A?w:m),A,o).offset,M=M.map(function(I,P){return I*(T[P]?2/T[P]:0)}),{sign:T,isBound:A?C:b,isSnap:A?E:x,offset:M}})}function sg(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function HA(t,e,r,n){var i=bA(t,e,r),o=i.horizontal,u=i.vertical,l=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:MA(t,e,r),f=l.horizontal,c=l.vertical,p=sg(o,f),v=sg(u,c),h=gt(p),g=gt(v);return{horizontal:{isBound:o.isBound,isSnap:f.isSnap,offset:p,dist:h},vertical:{isBound:u.isBound,isSnap:c.isSnap,offset:v,dist:g}}}function $A(t,e,r,n,i){var o=[-r[0],-r[1]],u=t.state,l=u.width,f=u.height,c=t.props.bounds,p=1/0,v=1/0;if(c){var h=[[r[0],-r[1]],[-r[0],r[1]]],g=c.left,m=g===void 0?-1/0:g,b=c.top,x=b===void 0?-1/0:b,y=c.right,w=y===void 0?1/0:y,C=c.bottom,E=C===void 0?1/0:C;h.forEach(function(T){var D=T[0]!==o[0],A=T[1]!==o[1],M=Ne(e,T),I=Oe(n,M)*360/Math.PI;if(A){var P=M.slice();(gt(I-360)<2||gt(I-180)<2)&&(P[1]=n[1]);var H=vc(n,P,(n[1]<M[1]?E:x)-M[1],!1,i),$=W(H.offset,2),F=$[1],Z=H.isOutside;isNaN(F)||(v=f+(Z?1:-1)*gt(F))}if(D){var P=M.slice();(gt(I-90)<2||gt(I-270)<2)&&(P[0]=n[0]);var X=vc(n,P,(n[0]<M[0]?w:m)-M[0],!0,i),et=W(X.offset,1),G=et[0],j=X.isOutside;isNaN(G)||(p=l+(j?1:-1)*gt(G))}})}return{maxWidth:p,maxHeight:v}}var or={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var r=t.props,n=r.hideThrottleDragRotateLine,i=r.throttleDragRotate,o=r.zoom,u=t.getState(),l=u.dragInfo,f=u.beforeOrigin;if(n||!i||!l)return[];var c=l.dist;if(!c[0]&&!c[1])return[];var p=Ur(c),v=Oe(c,[0,0]);return[e.createElement("div",{className:It("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(p,"px"),transform:"translate(".concat(f[0],"px, ").concat(f[1],"px) rotate(").concat(v,"rad) scaleY(").concat(o,")")}})]},dragStart:function(t,e){var r=e.datas,n=e.parentEvent,i=e.parentGesto,o=t.state,u=o.gestos,l=o.style;if(u.draggable)return!1;u.draggable=i||t.targetGesto,r.datas={},r.left=parseFloat(l.left||"")||0,r.top=parseFloat(l.top||"")||0,r.bottom=parseFloat(l.bottom||"")||0,r.right=parseFloat(l.right||"")||0,r.startValue=[0,0],Gi(t,e),$u(t,e,"translate"),uI(t,r),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,r.deltaOffset=[0,0];var f=Yt(t,e,k({set:function(p){r.startValue=p}},Hu(t,e))),c=n||Rt(t,"onDragStart",f);return c!==!1?(r.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(u.draggable=null,r.isPinch=!1),r.isDrag?f:!1},drag:function(t,e){if(e){Nu(t,e,"translate");var r=e.datas,n=e.parentEvent,i=e.parentFlag,o=e.isPinch,u=e.deltaOffset,l=e.useSnap,f=e.isRequest,c=e.isGroup,p=e.parentThrottleDrag,v=e.distX,h=e.distY,g=r.isDrag,m=r.prevDist,b=r.prevBeforeDist,x=r.startValue;if(g){u&&(v+=u[0],h+=u[1]);var y=t.props,w=y.parentMoveable,C=c?0:y.throttleDrag||p||0,E=n?0:y.throttleDragRotate||0,T=0,D=!1,A=!1,M=!1,I=!1;if(!n&&E>0&&(v||h)){var P=y.startDragRotate||0,H=Nt(P+Oe([0,0],[v,h])*180/Math.PI,E)-P,$=h*Math.abs(Math.cos((H-90)/180*Math.PI)),F=v*Math.abs(Math.cos(H/180*Math.PI)),Z=Ur([F,$]);T=H*Math.PI/180,v=Z*Math.cos(T),h=Z*Math.sin(T)}if(!o&&!n&&!i){var X=W(GA(t,v,h,E,!l&&f||u,r),2),et=X[0],G=X[1];D=et.isSnap,A=et.isBound,M=G.isSnap,I=G.isBound;var j=et.offset,U=G.offset;v+=j,h+=U}var J=re(I1({datas:r,distX:v,distY:h}),x),q=re(tA({datas:r,distX:v,distY:h}),x);Nh(q,fr),Nh(J,fr),E||(!D&&!A&&(q[0]=Nt(q[0],C),J[0]=Nt(J[0],C)),!M&&!I&&(q[1]=Nt(q[1],C),J[1]=Nt(J[1],C)));var st=Pt(J,x),nt=Pt(q,x),dt=Pt(nt,m),ot=Pt(st,b);r.prevDist=nt,r.prevBeforeDist=st,r.passDelta=dt,r.passDist=nt;var _t=r.left+st[0],St=r.top+st[1],Dt=r.right-st[0],At=r.bottom-st[1],kt=Wu(r,"translate(".concat(q[0],"px, ").concat(q[1],"px)"),"translate(".concat(nt[0],"px, ").concat(nt[1],"px)"));if(sd(e,kt),t.state.dragInfo.dist=n?[0,0]:nt,!(!n&&!w&&dt.every(function(V){return!V})&&ot.some(function(V){return!V}))){var bt=t.state,Mt=bt.width,B=bt.height,L=Yt(t,e,k({transform:kt,dist:nt,delta:dt,translate:q,beforeDist:st,beforeDelta:ot,beforeTranslate:J,left:_t,top:St,right:Dt,bottom:At,width:Mt,height:B,isPinch:o},ur({transform:kt},e)));return!n&&Rt(t,"onDrag",L),L}}}},dragAfter:function(t,e){var r=e.datas,n=r.deltaOffset;return n[0]||n[1]?(r.deltaOffset=[0,0],this.drag(t,k(k({},e),{deltaOffset:n}))):!1},dragEnd:function(t,e){var r=e.parentEvent,n=e.datas;if(t.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var i=Ar(t,e,{});return!r&&Rt(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var r,n,i=e.datas,o=e.clientX,u=e.clientY,l=this.dragStart(t,e);if(!l)return!1;var f=Df(t,this,"dragStart",[o||0,u||0],e,!1,"draggable"),c=f.childEvents,p=f.eventParams,v=k(k({},l),{targets:t.props.targets,events:p}),h=Rt(t,"onDragGroupStart",v);i.isDrag=h!==!1;var g=(n=(r=c[0])===null||r===void 0?void 0:r.datas.startValue)!==null&&n!==void 0?n:[0,0];return i.throttleOffset=[g[0]%1,g[1]%1],i.isDrag?l:!1},dragGroup:function(t,e){var r=e.datas;if(r.isDrag){var n=this.drag(t,k(k({},e),{parentThrottleDrag:t.props.throttleDrag})),i=e.datas.passDelta,o=Df(t,this,"drag",i,e,!1,"draggable").eventParams;if(n){var u=k({targets:t.props.targets,events:o},n);return Rt(t,"onDragGroup",u),u}}},dragGroupEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isDrag){this.dragEnd(t,e);var i=Df(t,this,"dragEnd",[0,0],e,!1,"draggable").eventParams;return Rt(t,"onDragGroupEnd",Ar(t,e,{targets:t.props.targets,events:i})),r}},request:function(t){var e={},r=t.getRect(),n=0,i=0,o=!1;return{isControl:!1,requestStart:function(u){return o=u.useSnap,{datas:e,useSnap:o}},request:function(u){return"x"in u?n=u.x-r.left:"deltaX"in u&&(n+=u.deltaX),"y"in u?i=u.y-r.top:"deltaY"in u&&(i+=u.deltaY),{datas:e,distX:n,distY:i,useSnap:o}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:o}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function J1(t,e){var r=Ne(t,e),n=[0,0];return{fixedPosition:r,fixedDirection:e,fixedOffset:n}}function UA(t,e){var r=t.allMatrix,n=t.is3d,i=t.width,o=t.height,u=n?4:3,l=[i/2*(1+e[0]),o/2*(1+e[1])],f=ye(r,l,u),c=[0,0];return{fixedPosition:f,fixedDirection:e,fixedOffset:c}}function Q1(t,e){var r=t.allMatrix,n=t.is3d,i=t.width,o=t.height,u=n?4:3,l=uA(e,i,o),f=ye(r,e,u),c=[i?0:e[0],o?0:e[1]];return{fixedPosition:f,fixedDirection:l,fixedOffset:c}}var ug=bd("resizable"),hc={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:N1("resizable"),dragControlCondition:ug,viewClassName:_d("resizable"),dragControlStart:function(t,e){var r,n=e.inputEvent,i=e.isPinch,o=e.isGroup,u=e.parentDirection,l=e.parentGesto,f=e.datas,c=e.parentFixedDirection,p=e.parentEvent,v=dm(u,i,n,f),h=t.state,g=h.target,m=h.width,b=h.height,x=h.gestos;if(!v||!g||x.resizable)return!1;x.resizable=l||t.controlGesto,!i&&Gi(t,e),f.datas={},f.direction=v,f.startOffsetWidth=m,f.startOffsetHeight=b,f.prevWidth=0,f.prevHeight=0,f.minSize=[0,0],f.startWidth=h.inlineCSSWidth||h.cssWidth,f.startHeight=h.inlineCSSHeight||h.cssHeight,f.maxSize=[1/0,1/0],o||(f.minSize=[h.minOffsetWidth,h.minOffsetHeight],f.maxSize=[h.maxOffsetWidth,h.maxOffsetHeight]);var y=t.props.transformOrigin||"% %";f.transformOrigin=y&&xr(y)?y.split(" "):y,f.startOffsetMatrix=h.offsetMatrix,f.startTransformOrigin=h.transformOrigin,f.isWidth=(r=e==null?void 0:e.parentIsWidth)!==null&&r!==void 0?r:!v[0]&&!v[1]||v[0]||!v[1];function w(I){f.ratio=I&&isFinite(I)?I:0}f.startPositions=Yr(t.state);function C(I){var P=J1(f.startPositions,I);f.fixedDirection=P.fixedDirection,f.fixedPosition=P.fixedPosition,f.fixedOffset=P.fixedOffset}function E(I){var P=Q1(t.state,I);f.fixedDirection=P.fixedDirection,f.fixedPosition=P.fixedPosition,f.fixedOffset=P.fixedOffset}function T(I){f.minSize=[fe("".concat(I[0]),0)||0,fe("".concat(I[1]),0)||0]}function D(I){var P=[I[0]||1/0,I[1]||1/0];(!xa(P[0])||isFinite(P[0]))&&(P[0]=fe("".concat(P[0]),0)||1/0),(!xa(P[1])||isFinite(P[1]))&&(P[1]=fe("".concat(P[1]),0)||1/0),f.maxSize=P}w(m/b),C(c||[-v[0],-v[1]]),f.setFixedDirection=C,f.setFixedPosition=E,f.setMin=T,f.setMax=D;var A=Yt(t,e,{direction:v,startRatio:f.ratio,set:function(I){var P=W(I,2),H=P[0],$=P[1];f.startWidth=H,f.startHeight=$},setMin:T,setMax:D,setRatio:w,setFixedDirection:C,setFixedPosition:E,setOrigin:function(I){f.transformOrigin=I},dragStart:or.dragStart(t,new Sa().dragStart([0,0],e))}),M=p||Rt(t,"onResizeStart",A);return f.startFixedDirection=f.fixedDirection,f.startFixedPosition=f.fixedPosition,M!==!1&&(f.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:v}),f.isResize?A:!1},dragControl:function(t,e){var r,n=e.datas,i=e.parentFlag,o=e.isPinch,u=e.parentKeepRatio,l=e.dragClient,f=e.parentDist,c=e.useSnap,p=e.isRequest,v=e.isGroup,h=e.parentEvent,g=e.resolveMatrix,m=n.isResize,b=n.transformOrigin,x=n.startWidth,y=n.startHeight,w=n.prevWidth,C=n.prevHeight,E=n.minSize,T=n.maxSize,D=n.ratio,A=n.startOffsetWidth,M=n.startOffsetHeight,I=n.isWidth;if(!m)return;if(g){var P=t.state.is3d,H=n.startOffsetMatrix,$=n.startTransformOrigin,F=P?4:3,Z=So(vu(e)),X=Math.sqrt(Z.length);F!==X&&(Z=nn(Z,X,F));var et=Fo(H,Z,$,F),G=Ni(et,A,M,F);n.startPositions=G,n.nextTargetMatrix=Z,n.nextAllMatrix=et}var j=ki(t.props,"resizable"),U=j.resizeFormat,J=j.throttleResize,q=J===void 0?i?0:1:J,st=j.parentMoveable,nt=j.keepRatioFinally,dt=n.direction,ot=dt,_t=0,St=0;!dt[0]&&!dt[1]&&(ot=[1,1]);var Dt=D&&(u??j.keepRatio)||!1;function At(){var Ct=n.fixedDirection,wt=_m(ot,Dt,n,e);_t=wt.distWidth,St=wt.distHeight;var Bt=ot[0]-Ct[0]||Dt?Math.max(A+_t,fr):A,Lt=ot[1]-Ct[1]||Dt?Math.max(M+St,fr):M;return Dt&&A&&M&&(I?Lt=Bt/D:Bt=Lt*D),[Bt,Lt]}var kt=W(At(),2),bt=kt[0],Mt=kt[1];h||(n.setFixedDirection(n.fixedDirection),Rt(t,"onBeforeResize",Yt(t,e,{startFixedDirection:n.startFixedDirection,startFixedPosition:n.startFixedPosition,setFixedDirection:function(Ct){var wt;return n.setFixedDirection(Ct),wt=W(At(),2),bt=wt[0],Mt=wt[1],[bt,Mt]},setFixedPosition:function(Ct){var wt;return n.setFixedPosition(Ct),wt=W(At(),2),bt=wt[0],Mt=wt[1],[bt,Mt]},boundingWidth:bt,boundingHeight:Mt,setSize:function(Ct){var wt;wt=W(Ct,2),bt=wt[0],Mt=wt[1]}},!0)));var B=l;l||(!i&&o?B=dA(t,[0,0]):B=n.fixedPosition);var L=[0,0];o||(L=oI(t,bt,Mt,dt,B,!c&&p,n)),f&&(!f[0]&&(L[0]=0),!f[1]&&(L[1]=0));function V(){var Ct;U&&(Ct=W(U([bt,Mt]),2),bt=Ct[0],Mt=Ct[1]),bt=Nt(bt,q),Mt=Nt(Mt,q)}if(Dt){ot[0]&&ot[1]&&L[0]&&L[1]&&(gt(L[0])>gt(L[1])?L[1]=0:L[0]=0);var rt=!L[0]&&!L[1];rt&&V(),ot[0]&&!ot[1]||L[0]&&!L[1]||rt&&I?(bt+=L[0],Mt=bt/D):(!ot[0]&&ot[1]||!L[0]&&L[1]||rt&&!I)&&(Mt+=L[1],bt=Mt*D)}else bt+=L[0],Mt+=L[1],bt=Math.max(0,bt),Mt=Math.max(0,Mt);r=W(U0([bt,Mt],E,T,Dt?D:!1),2),bt=r[0],Mt=r[1],V(),Dt&&(v||nt)&&(I?Mt=bt/D:bt=Mt*D),_t=bt-A,St=Mt-M;var tt=[_t-w,St-C];n.prevWidth=_t,n.prevHeight=St;var at=cA(t,bt,Mt,B,b,n);if(!(!st&&tt.every(function(Ct){return!Ct})&&at.every(function(Ct){return!Ct}))){var lt=or.drag(t,ko(e,t.state,at,!!o,!1,"draggable")),ft=lt.transform,vt=x+_t,ut=y+St,yt=Yt(t,e,k({width:vt,height:ut,offsetWidth:Math.round(bt),offsetHeight:Math.round(Mt),startRatio:D,boundingWidth:bt,boundingHeight:Mt,direction:dt,dist:[_t,St],delta:tt,isPinch:!!o,drag:lt},vm({style:{width:"".concat(vt,"px"),height:"".concat(ut,"px")},transform:ft},lt,e)));return!h&&Rt(t,"onResize",yt),yt}},dragControlAfter:function(t,e){var r=e.datas,n=r.isResize,i=r.startOffsetWidth,o=r.startOffsetHeight,u=r.prevWidth,l=r.prevHeight;if(!(!n||t.props.checkResizableError===!1)){var f=t.state,c=f.width,p=f.height,v=c-(i+u),h=p-(o+l),g=gt(v)>3,m=gt(h)>3;if(g&&(r.startWidth+=v,r.startOffsetWidth+=v,r.prevWidth+=v),m&&(r.startHeight+=h,r.startOffsetHeight+=h,r.prevHeight+=h),g||m)return this.dragControl(t,e)}},dragControlEnd:function(t,e){var r=e.datas,n=e.parentEvent;if(r.isResize){r.isResize=!1;var i=Ar(t,e,{});return!n&&Rt(t,"onResizeEnd",i),i}},dragGroupControlCondition:ug,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,k(k({},e),{isGroup:!0}));if(!n)return!1;var i=tn(t,"resizable",e),o=r.startOffsetWidth,u=r.startOffsetHeight;function l(){var g=r.minSize;i.forEach(function(m){var b=m.datas,x=b.minSize,y=b.startOffsetWidth,w=b.startOffsetHeight,C=o*(y?x[0]/y:0),E=u*(w?x[1]/w:0);g[0]=Math.max(g[0],C),g[1]=Math.max(g[1],E)})}function f(){var g=r.maxSize;i.forEach(function(m){var b=m.datas,x=b.maxSize,y=b.startOffsetWidth,w=b.startOffsetHeight,C=o*(y?x[0]/y:0),E=u*(w?x[1]/w:0);g[0]=Math.min(g[0],C),g[1]=Math.min(g[1],E)})}var c=Bn(t,this,"dragControlStart",e,function(g,m){return hu(t,g,r,m)});l(),f();var p=function(g){n.setFixedDirection(g),c.forEach(function(m,b){m.setFixedDirection(g),hu(t,m.moveable,r,i[b])})};r.setFixedDirection=p;var v=k(k({},n),{targets:t.props.targets,events:c.map(function(g){return k(k({},g),{setMin:function(m){g.setMin(m),l()},setMax:function(m){g.setMax(m),f()}})}),setFixedDirection:p,setMin:function(g){n.setMin(g),l()},setMax:function(g){n.setMax(g),f()}}),h=Rt(t,"onResizeGroupStart",v);return r.isResize=h!==!1,r.isResize?n:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isResize){var n=ki(t.props,"resizable");qu(t,"onBeforeResize",function(g){Rt(t,"onBeforeResizeGroup",Yt(t,e,k(k({},g),{targets:n.targets}),!0))});var i=this.dragControl(t,k(k({},e),{isGroup:!0}));if(i){var o=i.boundingWidth,u=i.boundingHeight,l=i.dist,f=n.keepRatio,c=[o/(o-l[0]),u/(u-l[1])],p=r.fixedPosition,v=Bn(t,this,"dragControl",e,function(g,m){var b=W(er(Bo(t.rotation/180*Math.PI,3),[m.datas.originalX*c[0],m.datas.originalY*c[1],1],3),2),x=b[0],y=b[1];return k(k({},m),{parentDist:null,parentScale:c,dragClient:re(p,[x,y]),parentKeepRatio:f})}),h=k({targets:n.targets,events:v},i);return Rt(t,"onResizeGroup",h),h}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isResize){this.dragControlEnd(t,e);var i=Bn(t,this,"dragControlEnd",e),o=Ar(t,e,{targets:t.props.targets,events:i});return Rt(t,"onResizeGroupEnd",o),r}},request:function(t){var e={},r=0,n=0,i=!1,o=t.getRect();return{isControl:!0,requestStart:function(u){var l;return i=u.useSnap,{datas:e,parentDirection:u.direction||[1,1],parentIsWidth:(l=u==null?void 0:u.horizontal)!==null&&l!==void 0?l:!0,useSnap:i}},request:function(u){return"offsetWidth"in u?r=u.offsetWidth-o.offsetWidth:"deltaWidth"in u&&(r+=u.deltaWidth),"offsetHeight"in u?n=u.offsetHeight-o.offsetHeight:"deltaHeight"in u&&(n+=u.deltaHeight),{datas:e,parentDist:[r,n],parentKeepRatio:u.keepRatio,useSnap:i}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:i}}}},unset:function(t){t.state.gestos.resizable=null}};function Mf(t,e,r,n,i){var o=t.props.groupable,u=t.state,l=u.is3d?4:3,f=e.origin,c=ye(t.state.rootMatrix,Pt([f[0],f[1]],o?[0,0]:[u.left,u.top]),l),p=re([i.left,i.top],c);e.startAbsoluteOrigin=p,e.prevDeg=Oe(p,[r,n])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=Pn(p,[r,n])}function au(t,e,r){var n=r.defaultDeg,i=r.prevDeg,o=i%360,u=Math.floor(i/360);o<0&&(o+=360),o>t&&o>270&&t<90?++u:o<t&&o<90&&t>270&&--u;var l=e*(u*360+t-n);return r.prevDeg=n+l,l}function Rf(t,e,r,n){return au(Oe(n.startAbsoluteOrigin,[t,e])/Math.PI*180,r,n)}function Of(t,e,r,n,i,o){var u=t.props.throttleRotate,l=u===void 0?0:u,f=r.prevSnapDeg,c=0,p=!1;if(o){var v=aI(t,e,n,i+n);p=v.isSnap,c=i+v.dist}p||(c=Nt(i+n,l));var h=c-i;return r.prevSnapDeg=h,[h-f,h,c]}function tm(t,e,r){var n=W(e,4),i=n[0],o=n[1],u=n[2],l=n[3];if(t==="none")return[];if(Be(t))return t.map(function(x){return tm(x,[i,o,u,l],r)[0]});var f=W((t||"top").split("-"),2),c=f[0],p=f[1],v=[i,o];c==="left"?v=[u,i]:c==="right"?v=[o,l]:c==="bottom"&&(v=[l,u]);var h=[(v[0][0]+v[1][0])/2,(v[0][1]+v[1][1])/2],g=fm(v,r);if(p){var m=p==="top"||p==="left",b=c==="bottom"||c==="left";h=v[m&&!b||!m&&b?0:1]}return[[h,g]]}function gc(t,e){if(e.isRequest)return e.requestAble==="rotatable";var r=e.inputEvent.target;if(Ge(r,It("rotation-control"))||t.props.rotateAroundControls&&Ge(r,It("around-control"))||Ge(r,It("control"))&&Ge(r,It("rotatable")))return!0;var n=t.props.rotationTarget;return n?xd(n,!0).some(function(i){return i?r===i||r.contains(i):!1}):!1}var YA=`.rotation {
position: absolute;
height: 40px;
width: 1px;
transform-origin: 50% 100%;
height: calc(40px * var(--zoom));
top: auto;
left: 0;
bottom: 100%;
will-change: transform;
}
.rotation .rotation-line {
display: block;
width: 100%;
height: 100%;
transform-origin: 50% 50%;
}
.rotation .rotation-control {
border-color: #4af;
border-color: var(--moveable-color);
background:#fff;
cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
cursor: alias;
}
.rotatable.direction.control.move {
cursor: move;
}
`,XA={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[YA],viewClassName:function(t){return t.isDragging("rotatable")?It("view-rotation-dragging"):""},render:function(t,e){var r=ki(t.props,"rotatable"),n=r.rotatable,i=r.rotationPosition,o=r.zoom,u=r.renderDirections,l=r.rotateAroundControls,f=r.resolveAblesWithRotatable,c=t.getState(),p=c.renderPoses,v=c.direction;if(!n)return null;var h=tm(i,p,v),g=[];if(h.forEach(function(y,w){var C=W(y,2),E=C[0],T=C[1];g.push(e.createElement("div",{key:"rotation".concat(w),className:It("rotation"),style:{transform:"translate(-50%) translate(".concat(E[0],"px, ").concat(E[1],"px) rotate(").concat(T,"rad)")}},e.createElement("div",{className:It("line rotation-line"),style:{transform:"scaleX(".concat(o,")")}}),e.createElement("div",{className:It("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(o,")")}})))}),u){var m=zn(f||{}),b={};m.forEach(function(y){f[y].forEach(function(w){b[w]=y})});var x=[];Be(u)&&(x=u.map(function(y){var w=b[y];return{data:w?{resolve:w}:{},classNames:w?["move"]:[],dir:y}})),g.push.apply(g,xt([],W(k1(t,"rotatable",x,e)),!1))}return l&&g.push.apply(g,xt([],W(H1(t,e)),!1)),g},dragControlCondition:gc,dragControlStart:function(t,e){var r,n,i=e.datas,o=e.clientX,u=e.clientY,l=e.parentRotate,f=e.parentFlag,c=e.isPinch,p=e.isRequest,v=t.state,h=v.target,g=v.left,m=v.top,b=v.direction,x=v.beforeDirection,y=v.targetTransform,w=v.moveableClientRect,C=v.offsetMatrix,E=v.targetMatrix,T=v.allMatrix,D=v.width,A=v.height;if(!p&&!h)return!1;var M=t.getRect();i.rect=M,i.transform=y,i.left=g,i.top=m;var I=function(ot){var _t=Q1(t.state,ot);i.fixedDirection=_t.fixedDirection,i.fixedOffset=_t.fixedOffset,i.fixedPosition=_t.fixedPosition,q&&q.setFixedPosition(ot)},P=function(ot){var _t=UA(t.state,ot);i.fixedDirection=_t.fixedDirection,i.fixedOffset=_t.fixedOffset,i.fixedPosition=_t.fixedPosition,q&&q.setFixedDirection(ot)},H=o,$=u;if(p||c||f){var F=l||0;i.beforeInfo={origin:M.beforeOrigin,prevDeg:F,defaultDeg:F,prevSnapDeg:0,startDist:0},i.afterInfo=k(k({},i.beforeInfo),{origin:M.origin}),i.absoluteInfo=k(k({},i.beforeInfo),{origin:M.origin,startValue:F})}else{var Z=(n=e.inputEvent)===null||n===void 0?void 0:n.target;if(Z){var X=Z.getAttribute("data-direction")||"",et=JT[X];if(et){i.isControl=!0,i.isAroundControl=Ge(Z,It("around-control")),i.controlDirection=et;var G=Z.getAttribute("data-resolve");G&&(i.resolveAble=G);var j=yI(v.rootMatrix,v.renderPoses,w);r=W(Ne(j,et),2),H=r[0],$=r[1]}}i.beforeInfo={origin:M.beforeOrigin},i.afterInfo={origin:M.origin},i.absoluteInfo={origin:M.origin,startValue:M.rotation};var U=I;I=function(ot){var _t=v.is3d?4:3,St=W(re(g1(E,_t),ot),2),Dt=St[0],At=St[1],kt=er(C,Bi([Dt,At],_t)),bt=er(T,Bi([ot[0],ot[1]],_t));U(ot);var Mt=v.posDelta;i.beforeInfo.origin=Pt(kt,Mt),i.afterInfo.origin=Pt(bt,Mt),i.absoluteInfo.origin=Pt(bt,Mt),Mf(t,i.beforeInfo,H,$,w),Mf(t,i.afterInfo,H,$,w),Mf(t,i.absoluteInfo,H,$,w)},P=function(ot){var _t=Ne([[0,0],[D,0],[0,A],[D,A]],ot);I(_t)}}i.startClientX=H,i.startClientY=$,i.direction=b,i.beforeDirection=x,i.startValue=0,i.datas={},$u(t,e,"rotate");var J=!1,q=!1;if(i.isControl&&i.resolveAble){var st=i.resolveAble;st==="resizable"&&(q=hc.dragControlStart(t,k(k({},new Sa("resizable").dragStart([0,0],e)),{parentPosition:i.controlPosition,parentFixedPosition:i.fixedPosition})))}q||(J=or.dragStart(t,new Sa().dragStart([0,0],e))),I(SI(t));var nt=Yt(t,e,k(k({set:function(ot){i.startValue=ot*Math.PI/180},setFixedDirection:P,setFixedPosition:I},Hu(t,e)),{dragStart:J,resizeStart:q})),dt=Rt(t,"onRotateStart",nt);return i.isRotate=dt!==!1,v.snapRenderInfo={request:e.isRequest},i.isRotate?nt:!1},dragControl:function(t,e){var r,n,i,o=e.datas,u=e.clientDistX,l=e.clientDistY,f=e.parentRotate,c=e.parentFlag,p=e.isPinch,v=e.groupDelta,h=e.resolveMatrix,g=o.beforeDirection,m=o.beforeInfo,b=o.afterInfo,x=o.absoluteInfo,y=o.isRotate,w=o.startValue,C=o.rect,E=o.startClientX,T=o.startClientY;if(y){Nu(t,e,"rotate");var D=QT(e),A=g*D,M=t.props.parentMoveable,I=0,P,H,$=0,F,Z,X=0,et,G,j=180/Math.PI*w,U=x.startValue,J=!1,q=E+u,st=T+l;if(!c&&"parentDist"in e){var nt=e.parentDist;P=nt,F=nt,et=nt}else p||c?(P=au(f,g,m),F=au(f,A,b),et=au(f,A,x)):(P=Rf(q,st,g,m),F=Rf(q,st,A,b),et=Rf(q,st,A,x),J=!0);if(H=j+P,Z=j+F,G=U+et,Rt(t,"onBeforeRotate",Yt(t,e,{beforeRotation:H,rotation:Z,absoluteRotation:G,setRotation:function(B){F=B-j,P=F,et=F}},!0)),r=W(Of(t,C,m,P,j,J),3),I=r[0],P=r[1],H=r[2],n=W(Of(t,C,b,F,j,J),3),$=n[0],F=n[1],Z=n[2],i=W(Of(t,C,x,et,U,J),3),X=i[0],et=i[1],G=i[2],!(!X&&!$&&!I&&!M&&!h)){var dt=Wu(o,"rotate(".concat(Z,"deg)"),"rotate(".concat(F,"deg)"));h&&(o.fixedPosition=ud(t,o.targetAllTransform,o.fixedDirection,o.fixedOffset,o));var ot=fA(t,F,o),_t=Pt(re(v||[0,0],ot),o.prevInverseDist||[0,0]);o.prevInverseDist=ot,o.requestValue=null;var St=B1(t,dt,_t,p,e),Dt=St,At=Pn([q,st],x.startAbsoluteOrigin)-x.startDist,kt=void 0;if(o.resolveAble==="resizable"){var bt=hc.dragControl(t,k(k({},ko(e,t.state,[e.deltaX,e.deltaY],!!p,!1,"resizable")),{resolveMatrix:!0,parentDistance:At}));bt&&(kt=bt,Dt=vm(Dt,bt,e))}var Mt=Yt(t,e,k(k({delta:$,dist:F,rotate:Z,rotation:Z,beforeDist:P,beforeDelta:I,beforeRotate:H,beforeRotation:H,absoluteDist:et,absoluteDelta:X,absoluteRotate:G,absoluteRotation:G,isPinch:!!p,resize:kt},St),Dt));return Rt(t,"onRotate",Mt),Mt}}},dragControlEnd:function(t,e){var r=e.datas;if(r.isRotate){r.isRotate=!1;var n=Ar(t,e,{});return Rt(t,"onRotateEnd",n),n}},dragGroupControlCondition:gc,dragGroupControlStart:function(t,e){var r=e.datas,n=t.state,i=n.left,o=n.top,u=n.beforeOrigin,l=this.dragControlStart(t,e);if(!l)return!1;l.set(r.beforeDirection*t.rotation);var f=Bn(t,this,"dragControlStart",e,function(v,h){var g=v.state,m=g.left,b=g.top,x=g.beforeOrigin,y=re(Pt([m,b],[i,o]),Pt(x,u));return h.datas.startGroupClient=y,h.datas.groupClient=y,k(k({},h),{parentRotate:0})}),c=k(k({},l),{targets:t.props.targets,events:f}),p=Rt(t,"onRotateGroupStart",c);return r.isRotate=p!==!1,r.isRotate?l:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isRotate){qu(t,"onBeforeRotate",function(c){Rt(t,"onBeforeRotateGroup",Yt(t,e,k(k({},c),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(n){var i=r.beforeDirection,o=n.beforeDist,u=o/180*Math.PI,l=Bn(t,this,"dragControl",e,function(c,p){var v=p.datas.startGroupClient,h=W(p.datas.groupClient,2),g=h[0],m=h[1],b=W(Po(v,u*i),2),x=b[0],y=b[1],w=[x-g,y-m];return p.datas.groupClient=[x,y],k(k({},p),{parentRotate:o,groupDelta:w})});t.rotation=i*n.beforeRotation;var f=k({targets:t.props.targets,events:l,set:function(c){t.rotation=c},setGroupRotation:function(c){t.rotation=c}},n);return Rt(t,"onRotateGroup",f),f}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isRotate){this.dragControlEnd(t,e);var i=Bn(t,this,"dragControlEnd",e),o=Ar(t,e,{targets:t.props.targets,events:i});return Rt(t,"onRotateGroupEnd",o),r}},request:function(t){var e={},r=0,n=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(i){return"deltaRotate"in i?r+=i.deltaRotate:"rotate"in i&&(r=i.rotate-n),{datas:e,parentDist:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function VA(t,e){var r,n=t.direction,i=t.classNames,o=t.size,u=t.pos,l=t.zoom,f=t.key,c=n==="horizontal",p=c?"Y":"X";return e.createElement("div",{key:f,className:i.join(" "),style:(r={},r[c?"width":"height"]="".concat(o),r.transform="translate(".concat(u[0],", ").concat(u[1],") translate").concat(p,"(-50%) scale").concat(p,"(").concat(l,")"),r)})}function vd(t,e){return VA(k(k({},t),{classNames:xt([It("line","guideline",t.direction)],W(t.classNames),!1).filter(function(r){return r}),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map(function(r){return"".concat(Nt(r,.1),"px")})}),e)}function lg(t,e,r,n,i,o,u,l){var f=t.props.zoom;return r.map(function(c,p){var v=c.type,h=c.pos,g=[0,0];return g[u]=n,g[u?0:1]=-i+h,vd({key:"".concat(e,"TargetGuideline").concat(p),classNames:[It("target","bold",v)],posValue:g,sizeValue:o,zoom:f,direction:e},l)})}function fg(t,e,r,n,i,o){var u=t.props,l=u.zoom,f=u.isDisplayInnerSnapDigit,c=e==="horizontal"?si:ui,p=i[c.start],v=i[c.end];return r.filter(function(h){var g=h.hide,m=h.elementRect;if(g)return!1;if(f&&m){var b=m.rect;if(b[c.start]<=p&&v<=b[c.end])return!1}return!0}).map(function(h,g){var m=h.pos,b=h.size,x=h.element,y=h.className,w=[-n[0]+m[0],-n[1]+m[1]];return vd({key:"".concat(e,"-default-guideline-").concat(g),classNames:x?[It("bold"),y]:[It("normal"),y],direction:e,posValue:w,sizeValue:b,zoom:l},o)})}function eo(t,e,r,n,i,o,u,l){var f,c=t.props,p=c.snapDigit,v=p===void 0?0:p,h=c.isDisplaySnapDigit,g=h===void 0?!0:h,m=c.snapDistFormat,b=m===void 0?function(T,D){return T}:m,x=c.zoom,y=e==="horizontal"?"X":"Y",w=e==="vertical"?"height":"width",C=Math.abs(i),E=g?parseFloat(C.toFixed(v)):0;return l.createElement("div",{key:"".concat(e,"-").concat(r,"-guideline-").concat(n),className:It("guideline-group",e),style:(f={left:"".concat(o[0],"px"),top:"".concat(o[1],"px")},f[w]="".concat(C,"px"),f)},vd({direction:e,classNames:[It(r),u],size:"100%",posValue:[0,0],sizeValue:C,zoom:x},l),l.createElement("div",{className:It("size-value","gap"),style:{transform:"translate".concat(y,"(-50%) scale(").concat(x,")")}},E>0?b(E,e):""))}function qA(t,e,r,n){var i=t==="vertical"?0:1,o=t==="vertical"?1:0,u=i?si:ui,l=r[u.start],f=r[u.end];return hm(e,function(c){return c.pos[i]}).map(function(c){var p=[],v=[],h=[];return c.forEach(function(g){var m,b,x=g.element,y=g.elementRect.rect;if(y[u.end]<l)p.push(g);else if(f<y[u.start])v.push(g);else if(y[u.start]<=l&&f<=y[u.end]&&n){var w=g.pos,C={element:x,rect:k(k({},y),(m={},m[u.end]=y[u.start],m))},E={element:x,rect:k(k({},y),(b={},b[u.start]=y[u.end],b))},T=[0,0],D=[0,0];T[i]=w[i],T[o]=w[o],D[i]=w[i],D[o]=w[o]+g.size,p.push({type:t,pos:T,size:0,elementRect:C,direction:"",elementDirection:"end"}),v.push({type:t,pos:D,size:0,elementRect:E,direction:"",elementDirection:"start"})}}),p.sort(function(g,m){return m.pos[o]-g.pos[o]}),v.sort(function(g,m){return g.pos[o]-m.pos[o]}),{total:c,start:p,end:v,inner:h}})}function KA(t,e,r,n,i){var o=t.props.isDisplayInnerSnapDigit,u=[];return["vertical","horizontal"].forEach(function(l){var f=e.filter(function(x){return x.type===l}),c=l==="vertical"?1:0,p=c?0:1,v=qA(l,f,n,o),h=c?ui:si,g=c?si:ui,m=n[h.start],b=n[h.end];v.forEach(function(x){var y=x.total,w=x.start,C=x.end,E=x.inner,T=r[p]+y[0].pos[p]-n[g.start],D=n;w.forEach(function(A){var M=A.elementRect.rect,I=D[h.start]-M[h.end];if(I>0){var P=[0,0];P[c]=r[c]+D[h.start]-m-I,P[p]=T,u.push(eo(t,l,"dashed",u.length,I,P,A.className,i))}D=M}),D=n,C.forEach(function(A){var M=A.elementRect.rect,I=M[h.start]-D[h.end];if(I>0){var P=[0,0];P[c]=r[c]+D[h.end]-m,P[p]=T,u.push(eo(t,l,"dashed",u.length,I,P,A.className,i))}D=M}),E.forEach(function(A){var M=A.elementRect.rect,I=m-M[h.start],P=M[h.end]-b,H=[0,0],$=[0,0];H[c]=r[c]-I,H[p]=T,$[c]=r[c]+b-m,$[p]=T,u.push(eo(t,l,"dashed",u.length,I,H,A.className,i)),u.push(eo(t,l,"dashed",u.length,P,$,A.className,i))})})}),u}function ZA(t,e,r,n,i){var o=[];return["horizontal","vertical"].forEach(function(u){var l=e.filter(function(x){return x.type===u}).slice(0,1),f=u==="vertical"?0:1,c=f?0:1,p=f?ui:si,v=f?si:ui,h=n[p.start],g=n[p.end],m=n[v.start],b=n[v.end];l.forEach(function(x){var y=x.gap,w=x.gapRects,C=Math.max.apply(Math,xt([m],W(w.map(function(D){var A=D.rect;return A[v.start]})),!1)),E=Math.min.apply(Math,xt([b],W(w.map(function(D){var A=D.rect;return A[v.end]})),!1)),T=(C+E)/2;C===E||T===(m+b)/2||w.forEach(function(D){var A=D.rect,M=D.className,I=[r[0],r[1]];if(A[p.end]<h)I[f]+=A[p.end]-h;else if(g<A[p.start])I[f]+=A[p.start]-h-y;else return;I[c]+=T-m,o.push(eo(t,f?"vertical":"horizontal","gap",o.length,y,I,M,i))})})}),o}function mc(t){var e,r,n=t.state,i=n.containerClientRect,o=n.hasFixed,u=i.overflow,l=i.scrollHeight,f=i.scrollWidth,c=i.clientHeight,p=i.clientWidth,v=i.clientLeft,h=i.clientTop,g=t.props,m=g.snapGap,b=m===void 0?!0:m,x=g.verticalGuidelines,y=g.horizontalGuidelines,w=g.snapThreshold,C=w===void 0?5:w,E=g.maxSnapElementGuidelineDistance,T=E===void 0?1/0:E,D=g.isDisplayGridGuidelines,A=$r(Yr(t.state)),M=A.top,I=A.left,P=A.bottom,H=A.right,$={top:M,left:I,bottom:P,right:H,center:(I+H)/2,middle:(M+P)/2},F=tI(t),Z=xt([],W(F),!1),X=((r=(e=n.snapThresholdInfo)===null||e===void 0?void 0:e.multiples)!==null&&r!==void 0?r:[1,1]).map(function(U){return U*C});b&&Z.push.apply(Z,xt([],W(jA(t,$,X)),!1));var et=k({},n.snapOffset||{left:0,top:0,bottom:0,right:0});if(Z.push.apply(Z,xt([],W(QA(t,u?f:p,u?l:c,v,h,et,D)),!1)),o){var G=i.left,j=i.top;et.left+=G,et.top+=j,et.right+=G,et.bottom+=j}return Z.push.apply(Z,xt([],W(rm(y||!1,x||!1,u?f:p,u?l:c,v,h,et)),!1)),Z=Z.filter(function(U){var J=U.element,q=U.elementRect,st=U.type;if(!J||!q)return!0;var nt=q.rect;return em($,nt,st,T)}),Z}function jA(t,e,r){var n=t.props,i=n.maxSnapElementGuidelineDistance,o=i===void 0?1/0:i,u=n.maxSnapElementGapDistance,l=u===void 0?1/0:u,f=t.state.elementRects,c=[];return[["vertical",si,ui],["horizontal",ui,si]].forEach(function(p){var v=W(p,3),h=v[0],g=v[1],m=v[2],b=e[g.start],x=e[g.end],y=e[g.center],w=e[m.start],C=e[m.end],E={left:r[0],top:r[1]};function T(M){var I=M.rect,P=E[g.start];return I[g.end]<b+P?b-I[g.end]:x-P<I[g.start]?I[g.start]-x:-1}var D=f.filter(function(M){var I=M.rect;return I[m.start]>C||I[m.end]<w?!1:T(M)>0}).sort(function(M,I){return T(M)-T(I)}),A=[];D.forEach(function(M){D.forEach(function(I){if(M!==I){var P=M.rect,H=I.rect,$=P[m.start],F=P[m.end],Z=H[m.start],X=H[m.end];$>X||Z>F||A.push([M,I])}})}),A.forEach(function(M){var I=W(M,2),P=I[0],H=I[1],$=P.rect,F=H.rect,Z=$[g.start],X=$[g.end],et=F[g.start],G=F[g.end],j=E[g.start],U=0,J=0,q=!1,st=!1,nt=!1;if(X<=b&&x<=et){if(st=!0,U=(et-X-(x-b))/2,J=X+U+(x-b)/2,gt(J-y)>j)return}else if(X<et&&G<b+j){if(q=!0,U=et-X,J=G+U,gt(J-b)>j)return}else if(X<et&&x-j<Z){if(nt=!0,U=et-X,J=Z-U,gt(J-x)>j)return}else return;U&&em(e,F,h,o)&&(U>l||c.push({type:h,pos:h==="vertical"?[J,0]:[0,J],element:H.element,size:0,className:H.className,isStart:q,isCenter:st,isEnd:nt,gap:U,hide:!0,gapRects:[P,H],direction:"",elementDirection:""}))})}),c}function JA(t,e,r,n){var i,o,u=t.props,l=t.state,f=u.snapGridAll,c=u.snapGridWidth,p=c===void 0?0:c,v=u.snapGridHeight,h=v===void 0?0:v,g=l.snapRenderInfo,m=g&&(((i=g.direction)===null||i===void 0?void 0:i[0])||((o=g.direction)===null||o===void 0?void 0:o[1])),b=t.moveables;if(f&&b&&m&&(p||h)){if(l.snapThresholdInfo)return;l.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var x=t.getRect(),y=x.children,w=g.direction;if(y){var C=w.map(function(T,D){var A=D===0?{snapSize:p,posName:"left",sizeName:"width",clientOffset:n.left-e}:{snapSize:h,posName:"top",sizeName:"height",clientOffset:n.top-r},M=A.snapSize,I=A.posName,P=A.sizeName,H=A.clientOffset;if(!M)return{dir:T,multiple:1,snapSize:M,snapOffset:0};var $=x[P],F=x[I],Z=Y0(y.map(function(q){return[q[I]-F,q[P],$-q[P]-q[I]+F]})).filter(function(q){return q}).sort(function(q,st){return q-st}),X=Z[0],et=Z.map(function(q){return Nt(q/X,.1)*M}),G=1,j=Nt($/X,.1);for(G=1;G<=10&&!et.every(function(q){return q*G%1===0});++G);var U=(-T+1)/2,J=fu(F-H,F-H+$,U,1-U);return{multiple:j*G,dir:T,snapSize:M,snapOffset:Math.round(J/M)}}),E=C.map(function(T){return T.multiple||1});l.snapThresholdInfo.multiples=E,l.snapThresholdInfo.offset=C.map(function(T){return T.snapOffset}),C.forEach(function(T,D){T.snapSize})}}else l.snapThresholdInfo=null}function QA(t,e,r,n,i,o,u){n===void 0&&(n=0),i===void 0&&(i=0);var l=t.props,f=t.state,c=l.snapGridWidth,p=c===void 0?0:c,v=l.snapGridHeight,h=v===void 0?0:v,g=[],m=o.left,b=o.top,x=[0,0];JA(t,n,i,o);var y=f.snapThresholdInfo,w=p,C=h;if(y&&(p*=y.multiples[0]||1,h*=y.multiples[1]||1,x=y.offset),h){for(var E=function(D){g.push({type:"horizontal",pos:[m,Nt(x[1]*C+D-i+b,.1)],className:It("grid-guideline"),size:e,hide:!u,direction:"",grid:!0})},T=0;T<=r*2;T+=h)E(T);for(var T=-h;T>=-r;T-=h)E(T)}if(p){for(var E=function(A){g.push({type:"vertical",pos:[Nt(x[0]*w+A-n+m,.1),b],className:It("grid-guideline"),size:r,hide:!u,direction:"",grid:!0})},T=0;T<=e*2;T+=p)E(T);for(var T=-p;T>=-e;T-=p)E(T)}return g}function em(t,e,r,n){return r==="horizontal"?gt(t.right-e.left)<=n||gt(t.left-e.right)<=n||t.left<=e.right&&e.left<=t.right:r==="vertical"?gt(t.bottom-e.top)<=n||gt(t.top-e.bottom)<=n||t.top<=e.bottom&&e.top<=t.bottom:!0}function tI(t){var e=t.state,r=t.props.elementGuidelines,n=r===void 0?[]:r;if(!n.length)return e.elementRects=[],[];var i=(e.elementRects||[]).filter(function(h){return!h.refresh}),o=n.map(function(h){return rn(h)&&"element"in h?k(k({},h),{element:hn(h.element,!0)}):{element:hn(h,!0)}}).filter(function(h){return h.element}),u=dT(i.map(function(h){return h.element}),o.map(function(h){return h.element})),l=u.maintained,f=u.added,c=[];l.forEach(function(h){var g=W(h,2),m=g[0],b=g[1];c[b]=i[m]}),eI(t,f.map(function(h){return o[h]})).map(function(h,g){c[f[g]]=h}),e.elementRects=c;var p=fd(t.props.elementSnapDirections),v=[];return c.forEach(function(h){var g=h.element,m=h.top,b=m===void 0?p.top:m,x=h.left,y=x===void 0?p.left:x,w=h.right,C=w===void 0?p.right:w,E=h.bottom,T=E===void 0?p.bottom:E,D=h.center,A=D===void 0?p.center:D,M=h.middle,I=M===void 0?p.middle:M,P=h.className,H=h.rect,$=cd({top:b,right:C,left:y,bottom:T,center:A,middle:I},H),F=$.horizontal,Z=$.vertical,X=$.horizontalNames,et=$.verticalNames,G=H.top,j=H.left,U=H.right-j,J=H.bottom-G,q=[U,J];Z.forEach(function(st,nt){v.push({type:"vertical",element:g,pos:[Nt(st,.1),G],size:J,sizes:q,className:P,elementRect:h,elementDirection:eg[et[nt]]||et[nt],direction:""})}),F.forEach(function(st,nt){v.push({type:"horizontal",element:g,pos:[j,Nt(st,.1)],size:U,sizes:q,className:P,elementRect:h,elementDirection:eg[X[nt]]||X[nt],direction:""})})}),v}function cg(t,e){return t?t.map(function(r){var n=rn(r)?r:{pos:r},i=n.pos;return xa(i)?n:k(k({},n),{pos:fe(i,e)})}):[]}function rm(t,e,r,n,i,o,u){i===void 0&&(i=0),o===void 0&&(o=0),u===void 0&&(u={left:0,top:0,right:0,bottom:0});var l=[],f=u.left,c=u.top,p=u.bottom,v=u.right,h=r+v-f,g=n+p-c;return cg(t,g).forEach(function(m){l.push({type:"horizontal",pos:[f,Nt(m.pos-o+c,.1)],size:h,className:m.className,direction:""})}),cg(e,h).forEach(function(m){l.push({type:"vertical",pos:[Nt(m.pos-i+f,.1),c],size:g,className:m.className,direction:""})}),l}function eI(t,e){if(!e.length)return[];var r=t.props.groupable,n=t.state,i=n.containerClientRect,o=n.rootMatrix,u=n.is3d,l=n.offsetDelta,f=u?4:3,c=W(EA(o,i,f),2),p=c[0],v=c[1],h=r?0:l[0],g=r?0:l[1];return e.map(function(m){var b=m.element.getBoundingClientRect(),x=b.left-p-h,y=b.top-v-g,w=y+b.height,C=x+b.width,E=W(Ea(o,[x,y],f),2),T=E[0],D=E[1],A=W(Ea(o,[C,w],f),2),M=A[0],I=A[1];return k(k({},m),{rect:{left:T,right:M,top:D,bottom:I,center:(T+M)/2,middle:(D+I)/2}})})}function Vs(t){var e=t.state,r=e.container,n=t.props.snapContainer||r;if(e.snapContainer===n&&e.guidelines&&e.guidelines.length)return!1;var i=e.containerClientRect,o={left:0,top:0,bottom:0,right:0};if(r!==n){var u=hn(n,!0);if(u){var l=po(u),f=mg(e,[l.left-i.left,l.top-i.top]),c=mg(e,[l.right-i.right,l.bottom-i.bottom]);o.left=Nt(f[0],1e-5),o.top=Nt(f[1],1e-5),o.right=Nt(c[0],1e-5),o.bottom=Nt(c[1],1e-5)}}return e.snapContainer=n,e.snapOffset=o,e.guidelines=mc(t),e.enableSnap=!0,!0}function nm(t,e,r,n,i,o){var u=Ni(t,e,r,o?4:3),l=Ne(u,n);return gd(u,Pt(i,l))}function dg(t){return t?t/gt(t):0}function rI(t,e,r,n,i,o){var u=o.fixedDirection,l=OA(r,u,n),f=pd(t,e,r,n),c=xt(xt([],W(WA(t,e,l,n,i,o)),!1),W(j1(t,f,o)),!1),p=gu(c,0),v=gu(c,1);return{width:{isBound:p.isBound,offset:p.offset[0]},height:{isBound:v.isBound,offset:v.offset[1]}}}function nI(t,e,r,n,i,o,u,l,f){var c=Ne(e,u),p=Xu(t,l,{vertical:[c[0]],horizontal:[c[1]]}),v=p.horizontal.offset,h=p.vertical.offset;if(Nt(h,fc)||Nt(v,fc)){var g=W(xn({datas:f,distX:-h,distY:-v}),2),m=g[0],b=g[1],x=Math.min(i||1/0,r+u[0]*m),y=Math.min(o||1/0,n+u[1]*b);return[x-r,y-n]}return[0,0]}function im(t,e,r,n,i,o,u,l){for(var f=Yr(t.state),c=t.props.keepRatio,p=0,v=0,h=0;h<2;++h){var g=e(p,v),m=rI(t,g,i,c,u,l),b=m.width,x=m.height,y=b.isBound,w=x.isBound,C=b.offset,E=x.offset;if(h===1&&(y||(C=0),w||(E=0)),h===0&&u&&!y&&!w)return[0,0];if(c){var T=gt(C)*(r?1/r:1),D=gt(E)*(n?1/n:1),A=y&&w?T<D:w||!y&&T<D;A?C=r*E/n:E=n*C/r}p+=C,v+=E}if(!c&&i[0]&&i[1]){var M=$A(t,f,i,o,l),I=M.maxWidth,P=M.maxHeight,H=W(nI(t,e(p,v).map(function(Z){return Z.map(function(X){return Nt(X,fc)})}),r+p,n+v,I,P,i,u,l),2),C=H[0],E=H[1];p+=C,v+=E}return[p,v]}function fo(t){return t<0&&(t=t%360+360),t%=360,t}function iI(t,e){e=fo(e);var r=Math.floor(t/360),n=r*360+360-e,i=r*360+e;return gt(t-n)<gt(t-i)?n:i}function Tf(t,e){t=fo(t),e=fo(e);var r=fo(t-e);return Math.min(r,360-r)}function aI(t,e,r,n){var i,o=t.props,u=(i=o[$1])!==null&&i!==void 0?i:5,l=o[U1];if(Aa(t,"rotatable")){var f=e.pos1,c=e.pos2,p=e.pos3,v=e.pos4,h=e.origin,g=r*Math.PI/180,m=[f,c,p,v].map(function(E){return Pt(E,h)}),b=m.map(function(E){return Po(E,g)}),x=xt(xt([],W(yA(t,m,b,h,r)),!1),W(LA(t,m,b,h,r)),!1);x.sort(function(E,T){return gt(E-r)-gt(T-r)});var y=x.length>0;if(y)return{isSnap:y,dist:y?x[0]:r}}if(l!=null&&l.length&&u){var w=l.slice().sort(function(E,T){return Tf(E,n)-Tf(T,n)}),C=w[0];if(Tf(C,n)<=u)return{isSnap:!0,dist:r+iI(n,C)-n}}return{isSnap:!1,dist:r}}function oI(t,e,r,n,i,o,u){if(!Aa(t,"resizable"))return[0,0];var l=u.fixedDirection,f=u.nextAllMatrix,c=t.state,p=c.allMatrix,v=c.is3d;return im(t,function(h,g){return nm(f||p,e+h,r+g,l,i,v)},e,r,n,i,o,u)}function sI(t,e,r,n,i){if(!Aa(t,"scalable"))return[0,0];var o=i.startOffsetWidth,u=i.startOffsetHeight,l=i.fixedPosition,f=i.fixedDirection,c=i.is3d,p=im(t,function(v,h){return nm(oA(i,re(e,[v/o,h/u])),o,u,f,l,c)},o,u,r,l,n,i);return[p[0]/o,p[1]/u]}function uI(t,e){e.absolutePoses=Yr(t.state)}function pg(t){var e=[];return t.forEach(function(r){r.guidelineInfos.forEach(function(n){var i=n.guideline;yr(e,function(o){return o.guideline===i})||(i.direction="",e.push({guideline:i,posInfo:r}))})}),e.map(function(r){var n=r.guideline,i=r.posInfo;return k(k({},n),{direction:i.direction})})}function vg(t,e,r,n,i,o){var u=ld(Uu(t,o),e,r),l=u.vertical,f=u.horizontal,c=sa();l.forEach(function(m){m.isBound&&(m.direction==="start"&&(c.left=!0),m.direction==="end"&&(c.right=!0),n.push({type:"bounds",pos:m.pos}))}),f.forEach(function(m){m.isBound&&(m.direction==="start"&&(c.top=!0),m.direction==="end"&&(c.bottom=!0),i.push({type:"bounds",pos:m.pos}))});var p=zA(t),v=p.boundMap,h=p.vertical,g=p.horizontal;return h.forEach(function(m){Ln(n,function(b){var x=b.type,y=b.pos;return x==="bounds"&&y===m})>=0||n.push({type:"bounds",pos:m})}),g.forEach(function(m){Ln(i,function(b){var x=b.type,y=b.pos;return x==="bounds"&&y===m})>=0||i.push({type:"bounds",pos:m})}),{boundMap:c,innerBoundMap:v}}var lI=bd("",["resizable","scalable"]),fI={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",$1,U1,Y1,X1,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[`:host {
--bounds-color: #d66;
}
.guideline {
pointer-events: none;
z-index: 2;
}
.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}
.guideline-group {
position: absolute;
top: 0;
left: 0;
}
.guideline-group .size-value {
position: absolute;
color: #f55;
font-size: 12px;
font-size: calc(12px * var(--zoom));
font-weight: bold;
}
.guideline-group.horizontal .size-value {
transform-origin: 50% 100%;
transform: translateX(-50%);
left: 50%;
bottom: 5px;
bottom: calc(2px + 3px * var(--zoom));
}
.guideline-group.vertical .size-value {
transform-origin: 0% 50%;
top: 50%;
transform: translateY(-50%);
left: 5px;
left: calc(2px + 3px * var(--zoom));
}
.guideline.gap {
background: #f55;
}
.size-value.gap {
color: #f55;
}
`],render:function(t,e){var r=t.state,n=r.top,i=r.left,o=r.pos1,u=r.pos2,l=r.pos3,f=r.pos4,c=r.snapRenderInfo,p=t.props.snapRenderThreshold,v=p===void 0?1:p;if(!c||!c.render||!Aa(t,""))return la(t,"boundMap",sa(),function(dt){return JSON.stringify(dt)}),la(t,"innerBoundMap",sa(),function(dt){return JSON.stringify(dt)}),[];r.guidelines=mc(t);var h=Math.min(o[0],u[0],l[0],f[0]),g=Math.min(o[1],u[1],l[1],f[1]),m=c.externalPoses||[],b=Yr(t.state),x=[],y=[],w=[],C=[],E=[],T=$r(b),D=T.width,A=T.height,M=T.top,I=T.left,P=T.bottom,H=T.right,$={left:I,right:H,top:M,bottom:P,center:(I+H)/2,middle:(M+P)/2},F=m.length>0,Z=F?$r(m):{};if(!c.request){if(c.direction&&E.push(RA(t,b,c.direction,v,v)),c.snap){var X=$r(b);c.center&&(X.middle=(X.top+X.bottom)/2,X.center=(X.left+X.right)/2),E.push(rg(t,X,v,v))}F&&(c.center&&(Z.middle=(Z.top+Z.bottom)/2,Z.center=(Z.left+Z.right)/2),E.push(rg(t,Z,v,v))),E.forEach(function(dt){var ot=dt.vertical.posInfos,_t=dt.horizontal.posInfos;x.push.apply(x,xt([],W(ot.filter(function(St){var Dt=St.guidelineInfos;return Dt.some(function(At){var kt=At.guideline;return!kt.hide})}).map(function(St){return{type:"snap",pos:St.pos}})),!1)),y.push.apply(y,xt([],W(_t.filter(function(St){var Dt=St.guidelineInfos;return Dt.some(function(At){var kt=At.guideline;return!kt.hide})}).map(function(St){return{type:"snap",pos:St.pos}})),!1)),w.push.apply(w,xt([],W(pg(ot)),!1)),C.push.apply(C,xt([],W(pg(_t)),!1))})}var et=vg(t,[I,H],[M,P],x,y),G=et.boundMap,j=et.innerBoundMap;F&&vg(t,[Z.left,Z.right],[Z.top,Z.bottom],x,y,c.externalBounds);var U=xt(xt([],W(w),!1),W(C),!1),J=U.filter(function(dt){return dt.element&&!dt.gapRects}),q=U.filter(function(dt){return dt.gapRects}).sort(function(dt,ot){return dt.gap-ot.gap});Rt(t,"onSnap",{guidelines:U.filter(function(dt){var ot=dt.element;return!ot}),elements:J,gaps:q},!0);var st=la(t,"boundMap",G,function(dt){return JSON.stringify(dt)},sa()),nt=la(t,"innerBoundMap",j,function(dt){return JSON.stringify(dt)},sa());return(G===st||j===nt)&&Rt(t,"onBound",{bounds:G,innerBounds:j},!0),xt(xt(xt(xt(xt(xt([],W(KA(t,J,[h,g],$,e)),!1),W(ZA(t,q,[h,g],$,e)),!1),W(fg(t,"horizontal",C,[i,n],$,e)),!1),W(fg(t,"vertical",w,[i,n],$,e)),!1),W(lg(t,"horizontal",y,h,n,D,0,e)),!1),W(lg(t,"vertical",x,g,i,A,1,e)),!1)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},Vs(t)},drag:function(t){var e=t.state;Vs(t)||(e.guidelines=mc(t)),e.snapRenderInfo&&(e.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){if(lI(t,e)||gc(t,e))return!0;if(!e.isRequest&&e.inputEvent)return Ge(e.inputEvent.target,It("snap-control"))},dragControlStart:function(t){t.state.snapRenderInfo=null,Vs(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,Vs(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function cI(t,e){return[t[0]*e[0],t[1]*e[1]]}function It(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return oO.apply(void 0,xt([ad],W(t),!1))}function am(t){t()}function dI(t){return!t||t==="none"?[1,0,0,1,0,0]:rn(t)?t:So(t)}function co(t,e,r){return du(e,Li(r,e),t,Li(r.map(function(n){return-n}),e))}function pI(t,e,r){if(e==="%"){var n=hd(t.ownerSVGElement);return n[r?"width":"height"]/100}return 1}function vI(t){var e=hI(md(t,":before"));return e.map(function(r,n){var i=Oo(r),o=i.value,u=i.unit;return o*pI(t,u,n===0)})}function _u(t){return t?t.split(" "):["0","0"]}function hI(t){return _u(t.transformOrigin)}function om(t){var e=Sr(t),r=e("transform");if(r&&r!=="none")return r;if("transform"in t){var n=t.transform,i=n.baseVal;if(!i)return"";var o=i.length;if(!o)return"";for(var u=[],l=function(c){var p=i[c].matrix;u.push("matrix(".concat(["a","b","c","d","e","f"].map(function(v){return p[v]}).join(", "),")"))},f=0;f<o;++f)l(f);return u.join(" ")}return""}function Co(t,e,r,n,i){var o,u,l=qc(t)||pi(t),f=!1,c,p;if(!t||r)c=t;else{var v=(o=t==null?void 0:t.assignedSlot)===null||o===void 0?void 0:o.parentElement,h=t.parentElement;v?(f=!0,p=h,c=v):c=h}for(var g=!1,m=t===e||c===e,b="relative",x=1,y=parseFloat(i==null?void 0:i("zoom"))||1,w=i==null?void 0:i("position");c&&c!==l;){e===c&&(m=!0);var C=Sr(c),E=c.tagName.toLowerCase(),T=om(c),D=C("willChange"),A=parseFloat(C("zoom"))||1;if(b=C("position"),n&&A!==1){x=A;break}if(!r&&n&&y!==1&&w&&w!=="absolute"||E==="svg"||E==="foreignobject"||b!=="static"||T&&T!=="none"||D==="transform")break;var M=(u=t==null?void 0:t.assignedSlot)===null||u===void 0?void 0:u.parentNode,I=c.parentNode;M&&(f=!0,p=I);var P=I;if(P&&P.nodeType===11){c=P.host,g=!0,b=Sr(c)("position");break}c=P,b="relative"}return{offsetZoom:x,hasSlot:f,parentSlotElement:p,isCustomElement:g,isStatic:b==="static",isEnd:m||!c||c===l,offsetParent:c||l}}function gI(t,e){var r,n=t.tagName.toLowerCase(),i=t.offsetLeft,o=t.offsetTop,u=Sr(t),l=Ro(i),f=!l,c,p;return!f&&(n!=="svg"||t.ownerSVGElement)?(c=E1?vI(t):_u(u("transformOrigin")).map(function(v){return parseFloat(v)}),p=c.slice(),f=!0,n==="svg"?(i=0,o=0):(r=W(bI(t,c,t===e&&e.tagName.toLowerCase()==="g"),4),i=r[0],o=r[1],c[0]=r[2],c[1]=r[3])):(c=_u(u("transformOrigin")).map(function(v){return parseFloat(v)}),p=c.slice()),{tagName:n,isSVG:l,hasOffset:f,offset:[i||0,o||0],origin:c,targetOrigin:p}}function sm(t,e){var r=Sr(t),n=Sr(pi(t)),i=n("position");if(!e&&(!i||i==="static"))return[0,0];var o=parseInt(n("marginLeft"),10),u=parseInt(n("marginTop"),10);return r("position")==="absolute"&&((r("top")!=="auto"||r("bottom")!=="auto")&&(u=0),(r("left")!=="auto"||r("right")!=="auto")&&(o=0)),[o,u]}function _c(t){t.forEach(function(e){var r=e.matrix;r&&(e.matrix=nn(r,3,4))})}function mI(t){for(var e=t.parentElement,r=!1,n=pi(t);e;){var i=md(e).transform;if(i&&i!=="none"){r=!0;break}if(e===n)break;e=e.parentElement}return{fixedContainer:e||n,hasTransform:r}}function Vu(t,e){return e===void 0&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(m1(t,!e).join(","),")")}function hd(t){var e=t.clientWidth,r=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:r};var n=t.viewBox,i=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||r,clientWidth:e,clientHeight:r}}function _I(t,e){var r,n=hd(t),i=n.width,o=n.height,u=n.clientWidth,l=n.clientHeight,f=u/i,c=l/o,p=t.preserveAspectRatio.baseVal,v=p.align,h=p.meetOrSlice,g=[0,0],m=[f,c],b=[0,0];if(v!==1){var x=(v-2)%3,y=Math.floor((v-2)/3);g[0]=i*x/2,g[1]=o*y/2;var w=h===2?Math.max(c,f):Math.min(f,c);m[0]=w,m[1]=w,b[0]=(u-i)/2*x,b[1]=(l-o)/2*y}var C=ed(m,e);return r=W(b,2),C[e*(e-1)]=r[0],C[e*(e-1)+1]=r[1],co(C,e,g)}function bI(t,e,r){var n=t.tagName.toLowerCase();if(!t.getBBox||!r&&n==="g")return[0,0,0,0];var i=Sr(t),o=i("transform-box")==="fill-box",u=t.getBBox(),l=hd(t.ownerSVGElement),f=u.x,c=u.y;n==="foreignobject"&&!f&&!c&&(f=parseFloat(t.getAttribute("x"))||0,c=parseFloat(t.getAttribute("y"))||0);var p=f-l.x,v=c-l.y,h=o?e[0]:e[0]-p,g=o?e[1]:e[1]-v;return[p,v,h,g]}function ye(t,e,r){return er(t,Bi(e,r),r)}function Ni(t,e,r,n){return[[0,0],[e,0],[0,r],[e,r]].map(function(i){return ye(t,i,n)})}function $r(t){var e=t.map(function(c){return c[0]}),r=t.map(function(c){return c[1]}),n=Math.min.apply(Math,xt([],W(e),!1)),i=Math.min.apply(Math,xt([],W(r),!1)),o=Math.max.apply(Math,xt([],W(e),!1)),u=Math.max.apply(Math,xt([],W(r),!1)),l=o-n,f=u-i;return{left:n,top:i,right:o,bottom:u,width:l,height:f}}function hg(t,e,r,n){var i=Ni(t,e,r,n);return $r(i)}function xI(t,e,r,n,i){var o,u=t.target,l=t.origin,f=e.matrix,c=lm(u),p=c.offsetWidth,v=c.offsetHeight,h=r.getBoundingClientRect(),g=[0,0];r===pi(r)&&(g=sm(u,!0));for(var m=u.getBoundingClientRect(),b=m.left-h.left+r.scrollLeft-(r.clientLeft||0)+g[0],x=m.top-h.top+r.scrollTop-(r.clientTop||0)+g[1],y=m.width,w=m.height,C=du(n,i,f),E=hg(C,p,v,n),T=E.left,D=E.top,A=E.width,M=E.height,I=ye(C,l,n),P=Pt(I,[T,D]),H=[b+P[0]*y/A,x+P[1]*w/M],$=[0,0],F=0;++F<10;){var Z=mn(i,n);o=W(Pt(ye(Z,H,n),ye(Z,I,n)),2),$[0]=o[0],$[1]=o[1];var X=du(n,i,Li($,n),f),et=hg(X,p,v,n),G=et.left,j=et.top,U=G-b,J=j-x;if(gt(U)<2&&gt(J)<2)break;H[0]-=U,H[1]-=J}return $.map(function(q){return Math.round(q)})}function yI(t,e,r){var n=t.length===16,i=n?4:3,o=e.map(function(f){return ye(t,f,i)}),u=r.left,l=r.top;return o.map(function(f){return[f[0]+u,f[1]+l]})}function Ur(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function um(t,e){return Ur([e[0]-t[0],e[1]-t[1]])}function ro(t,e,r,n){r===void 0&&(r=1),n===void 0&&(n=Oe(t,e));var i=um(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(n,"rad) scaleY(").concat(r,")"),width:"".concat(i,"px")}}function bu(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r.length,o=r.reduce(function(l,f){return l+f[0]},0)/i,u=r.reduce(function(l,f){return l+f[1]},0)/i;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(u,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function ki(t,e){var r=t[e];return rn(r)?k(k({},t),r):t}function lm(t){var e=t&&!Ro(t.offsetWidth),r=0,n=0,i=0,o=0,u=0,l=0,f=0,c=0,p=0,v=0,h=0,g=0,m=1/0,b=1/0,x=1/0,y=1/0,w=0,C=0,E=!1;if(t)if(!e&&t.ownerSVGElement){var T=t.getBBox();E=!0,r=T.width,n=T.height,u=r,l=n,f=r,c=n,i=r,o=n}else{var D=Sr(t),A=t.style,M=D("boxSizing")==="border-box",I=parseFloat(D("borderLeftWidth"))||0,P=parseFloat(D("borderRightWidth"))||0,H=parseFloat(D("borderTopWidth"))||0,$=parseFloat(D("borderBottomWidth"))||0,F=parseFloat(D("paddingLeft"))||0,Z=parseFloat(D("paddingRight"))||0,X=parseFloat(D("paddingTop"))||0,et=parseFloat(D("paddingBottom"))||0,G=F+Z,j=X+et,U=I+P,J=H+$,q=G+U,st=j+J,nt=D("position"),dt=0,ot=0;if("clientLeft"in t){var _t=null;if(nt==="absolute"){var St=Co(t,pi(t));_t=St.offsetParent}else _t=t.parentElement;if(_t){var Dt=Sr(_t);dt=parseFloat(Dt("width")),ot=parseFloat(Dt("height"))}}p=Math.max(G,fe(D("minWidth"),dt)||0),v=Math.max(j,fe(D("minHeight"),ot)||0),m=fe(D("maxWidth"),dt),b=fe(D("maxHeight"),ot),isNaN(m)&&(m=1/0),isNaN(b)&&(b=1/0),w=fe(A.width,0)||0,C=fe(A.height,0)||0,u=parseFloat(D("width"))||0,l=parseFloat(D("height"))||0,f=gt(u-w)<1?jf(p,w||u,m):u,c=gt(l-C)<1?jf(v,C||l,b):l,r=f,n=c,i=f,o=c,M?(x=m,y=b,h=p,g=v,f=r-q,c=n-st):(x=m+q,y=b+st,h=p+q,g=v+st,r=f+q,n=c+st),i=f+G,o=c+j}return{svg:E,offsetWidth:r,offsetHeight:n,clientWidth:i,clientHeight:o,contentWidth:f,contentHeight:c,inlineCSSWidth:w,inlineCSSHeight:C,cssWidth:u,cssHeight:l,minWidth:p,minHeight:v,maxWidth:m,maxHeight:b,minOffsetWidth:h,minOffsetHeight:g,maxOffsetWidth:x,maxOffsetHeight:y}}function fm(t,e){return Oe(e>0?t[0]:t[1],e>0?t[1]:t[0])}function qs(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function cm(t,e){var r=t===pi(t)||t===qc(t),n={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return r&&(n.clientHeight=Math.max(e.height,n.clientHeight),n.scrollHeight=Math.max(e.height,n.scrollHeight)),n.overflow=Sr(t)("overflow")!=="visible",k(k({},e),n)}function Af(t,e,r,n){var i=t.left,o=t.right,u=t.top,l=t.bottom,f=e.top,c=e.left,p={left:c+i,top:f+u,right:c+o,bottom:f+l,width:o-i,height:l-u};return r&&n?cm(r,p):p}function po(t,e){var r=0,n=0,i=0,o=0;if(t){var u=t.getBoundingClientRect();r=u.left,n=u.top,i=u.width,o=u.height}var l={left:r,top:n,width:i,height:o,right:r+i,bottom:n+o};return t&&e?cm(t,l):l}function SI(t){var e=t.props,r=e.groupable,n=e.svgOrigin,i=t.getState(),o=i.offsetWidth,u=i.offsetHeight,l=i.svg,f=i.transformOrigin;return!r&&l&&n?yd(n,o,u):f}function dm(t,e,r,n){var i;if(t)i=t;else if(e)i=[0,0];else{var o=r.target;i=pm(o,n)}return i}function pm(t,e){if(t){var r=t.getAttribute("data-rotation")||"",n=t.getAttribute("data-direction");if(e.deg=r,!!n){var i=[0,0];return n.indexOf("w")>-1&&(i[0]=-1),n.indexOf("e")>-1&&(i[0]=1),n.indexOf("n")>-1&&(i[1]=-1),n.indexOf("s")>-1&&(i[1]=1),i}}}function gd(t,e){return[re(e,t[0]),re(e,t[1]),re(e,t[2]),re(e,t[3])]}function Yr(t){var e=t.left,r=t.top,n=t.pos1,i=t.pos2,o=t.pos3,u=t.pos4;return gd([n,i,o,u],[e,r])}function bc(t,e){t[e?"controlAbles":"targetAbles"].forEach(function(r){r.unset&&r.unset(t)})}function ua(t,e){var r=e?"controlGesto":"targetGesto",n=t[r];(n==null?void 0:n.isIdle())===!1&&bc(t,e),n==null||n.unset(),t[r]=null}function ur(t,e){if(e){var r=Ta(e);r.nextStyle=k(k({},r.nextStyle),t)}return{style:t,cssText:zn(t).map(function(n){return"".concat(iu(n,"-"),": ").concat(t[n],";")}).join("")}}function vm(t,e,r){var n=e.afterTransform||e.transform;return k(k({},ur(k(k(k({},t.style),e.style),{transform:n}),r)),{afterTransform:n,transform:t.transform})}function Yt(t,e,r,n){var i=e.datas;i.datas||(i.datas={});var o=k(k({},r),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isRequest:e.isRequest,isRequestChild:e.isRequestChild,isFirstDrag:!!e.isFirstDrag,isTrusted:e.isTrusted!==!1,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var u;(u=e.stop)===null||u===void 0||u.call(e)}});return i.isStartEvent?n||(i.lastEvent=o):i.isStartEvent=!0,o}function Ar(t,e,r){var n=e.datas,i="isDrag"in r?r.isDrag:e.isDrag;return n.datas||(n.datas={}),k(k({isDrag:i},r),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:e.isDouble,datas:n.datas,isFirstDrag:!!e.isFirstDrag})}function qu(t,e,r){t._emitter.on(e,r)}function Rt(t,e,r,n,i){return t.triggerEvent(e,r,n,i)}function md(t,e){return ni(t).getComputedStyle(t,e)}function Ks(t,e,r){var n={},i={};return t.filter(function(o){var u=o.name;if(n[u]||!e.some(function(l){return o[l]}))return!1;if(!r&&o.ableGroup){if(i[o.ableGroup])return!1;i[o.ableGroup]=!0}return n[u]=!0,!0})}function xc(t,e){return t===e||t==null&&e==null}function gg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length-1,n=0;n<r;++n){var i=t[n];if(!Ro(i))return i}return t[r]}function hm(t,e){var r=[],n=[];return t.forEach(function(i,o){var u=e(i,o,t),l=n.indexOf(u),f=r[l]||[];l===-1&&(n.push(u),r.push(f)),f.push(i)}),r}function wI(t,e){var r=[],n={};return t.forEach(function(i,o){var u=e(i,o,t),l=n[u];l||(l=[],n[u]=l,r.push(l)),l.push(i)}),r}function gm(t){return t.reduce(function(e,r){return e.concat(r)},[])}function Ca(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort(function(r,n){return gt(n)-gt(r)}),t[0]}function Ea(t,e,r){return er(mn(t,r),Bi(e,r),r)}function CI(t,e){var r,n=t.is3d,i=t.rootMatrix,o=n?4:3;return r=W(Ea(i,[e.distX,e.distY],o),2),e.distX=r[0],e.distY=r[1],e}function Wr(t,e,r,n){if(!r[0]&&!r[1])return e;var i=ye(t,[dg(r[0]||1),0],n),o=ye(t,[0,dg(r[1]||1)],n),u=ye(t,[r[0]/Ur(i),r[1]/Ur(o)],n);return re(e,u)}function jr(t,e,r){return r?"".concat(t/e*100,"%"):"".concat(t,"px")}function xu(t){return gt(t)<=fr?0:t}function _d(t){return function(e){if(!e.isDragging(t))return"";var r=pA(e,t),n=r.deg;return n?It("view-control-rotation".concat(n)):""}}function bd(t,e){return e===void 0&&(e=[t]),function(r,n){if(n.isRequest)return e.some(function(o){return n.requestAble===o})?n.parentDirection:!1;var i=n.inputEvent.target;return Ge(i,It("direction"))&&(!t||Ge(i,It(t)))}}function EI(t,e,r){var n,i=ya(t,{"x%":function(T){return T/100*e.offsetWidth},"y%":function(T){return T/100*e.offsetHeight}}),o=t.slice(0,r<0?void 0:r),u=t.slice(0,r<0?void 0:r+1),l=t[r]||"",f=r<0?[]:t.slice(r),c=r<0?[]:t.slice(r+1),p=i.slice(0,r<0?void 0:r),v=i.slice(0,r<0?void 0:r+1),h=(n=i[r])!==null&&n!==void 0?n:ya([""])[0],g=r<0?[]:i.slice(r),m=r<0?[]:i.slice(r+1),b=h?[h]:[],x=na(p),y=na(v),w=na(g),C=na(m),E=ce(x,w,4);return{transforms:t,beforeFunctionMatrix:x,beforeFunctionMatrix2:y,targetFunctionMatrix:na(b),afterFunctionMatrix:w,afterFunctionMatrix2:C,allFunctionMatrix:E,beforeFunctions:p,beforeFunctions2:v,targetFunction:b[0],afterFunctions:g,afterFunctions2:m,beforeFunctionTexts:o,beforeFunctionTexts2:u,targetFunctionText:l,afterFunctionTexts:f,afterFunctionTexts2:c}}function DI(t){return!t||!rn(t)||Ra(t)?!1:Be(t)||"length"in t}function hn(t,e){return t?Ra(t)?t:xr(t)?e?document.querySelector(t):t:Yc(t)?t():K0(t)?t:"current"in t?t.current:t:null}function xd(t,e){if(!t)return[];var r=DI(t)?[].slice.call(t):[t];return r.reduce(function(n,i){return xr(i)&&e?xt(xt([],W(n),!1),W([].slice.call(document.querySelectorAll(i))),!1):(Be(i)?n.push(xd(i,e)):n.push(hn(i,e)),n)},[])}function MI(t,e,r){var n=Oe(t,e)/Math.PI*180;return n=r>=0?n:180-n,n=n>=0?n:360+n,n}function mg(t,e){var r=t.rootMatrix,n=t.is3d,i=n?4:3,o=mn(r,i);return n||(o=nn(o,3,4)),o[12]=0,o[13]=0,o[14]=0,fT(o,e)}function mm(t,e,r,n,i){var o=W(t,2),u=o[0],l=o[1],f=0,c=0;if(i&&u&&l){var p=Oe([0,0],e),v=Oe([0,0],n),h=Ur(e),g=Math.cos(p-v)*h;if(!n[0])c=g,f=c*r;else if(!n[1])f=g,c=f/r;else{var m=n[0]*u,b=n[1]*l,x=Math.atan2(m+e[0],b+e[1]),y=Math.atan2(m,b);x<0&&(x+=Math.PI*2),y<0&&(y+=Math.PI*2);var w=0;gt(x-y)<Math.PI/2||gt(x-y)>Math.PI/2*3||(y+=Math.PI),w=x-y,w>Math.PI*2?w-=Math.PI*2:w>Math.PI?w=2*Math.PI-w:w<-Math.PI&&(w=-2*Math.PI-w);var C=Ur([m+e[0],b+e[1]])*Math.cos(w);f=C*Math.sin(y)-m,c=C*Math.cos(y)-b,n[0]<0&&(f*=-1),n[1]<0&&(c*=-1)}}else f=n[0]*e[0],c=n[1]*e[1];return[f,c]}function _m(t,e,r,n){var i,o=r.ratio,u=r.startOffsetWidth,l=r.startOffsetHeight,f=0,c=0,p=n.distX,v=n.distY,h=n.pinchScale,g=n.parentDistance,m=n.parentDist,b=n.parentScale,x=r.fixedDirection,y=[0,1].map(function(A){return gt(t[A]-x[A])}),w=[0,1].map(function(A){var M=y[A];return M!==0&&(M=2/M),M});if(m)f=m[0],c=m[1],e&&(f?c||(c=f/o):f=c*o);else if(xa(h))f=(h-1)*u,c=(h-1)*l;else if(b)f=(b[0]-1)*u,c=(b[1]-1)*l;else if(g){var C=u*y[0],E=l*y[1],T=Ur([C,E]);f=g/T*C*w[0],c=g/T*E*w[1]}else{var D=xn({datas:r,distX:p,distY:v});D=w.map(function(A,M){return D[M]*A}),i=W(mm([u,l],D,o,t,e),2),f=i[0],c=i[1]}return{distWidth:f,distHeight:c}}function yc(t,e){if(e){if(t==="left")return{x:"0%",y:"50%"};if(t==="top")return{x:"50%",y:"50%"};if(t==="center")return{x:"50%",y:"50%"};if(t==="right")return{x:"100%",y:"50%"};if(t==="bottom")return{x:"50%",y:"100%"};var r=W(t.split(" "),2),n=r[0],i=r[1],o=yc(n||""),u=yc(i||""),l=k(k({},o),u),f={x:"50%",y:"50%"};return l.x&&(f.x=l.x),l.y&&(f.y=l.y),l.value&&(l.x&&!l.y&&(f.y=l.value),!l.x&&l.y&&(f.x=l.value)),f}return t==="left"?{x:"0%"}:t==="right"?{x:"100%"}:t==="top"?{y:"0%"}:t==="bottom"?{y:"100%"}:t?t==="center"?{value:"50%"}:{value:t}:{}}function yd(t,e,r){var n=yc(t,!0),i=n.x,o=n.y;return[fe(i,e)||0,fe(o,r)||0]}function RI(t,e,r){var n=t.map(function(o){return Pt(o,e)}),i=n.map(function(o){return Po(o,r)});return{prev:n,next:i,result:i.map(function(o){return re(o,e)})}}function bm(t,e){return t.length===e.length&&t.every(function(r,n){var i=e[n],o=Be(r),u=Be(i);return o&&u?bm(r,i):!o&&!u?r===i:!1})}function la(t,e,r,n,i){var o=t._store,u=o[e];if(!(e in o))if(i!=null)o[e]=i,u=i;else return o[e]=r,r;return u===r||n(u)===n(r)?u:(o[e]=r,r)}function sr(t){return t>=0?1:-1}function gt(t){return Math.abs(t)}function If(t,e){return wO(t).map(function(r){return e(r)})}function xm(t){return xa(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}var OI=zo("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,e){var r=e.datas,n=e.targets,i=e.angle,o=e.originalDatas,u=t.props,l=u.pinchable,f=u.ables;if(!l)return!1;var c="onPinch".concat(n?"Group":"","Start"),p="drag".concat(n?"Group":"","ControlStart"),v=(l===!0?t.controlAbles:f.filter(function(b){return l.indexOf(b.name)>-1})).filter(function(b){return b.canPinch&&b[p]}),h=Yt(t,e,{});n&&(h.targets=n);var g=Rt(t,c,h);r.isPinch=g!==!1,r.ables=v;var m=r.isPinch;return m?(v.forEach(function(b){if(o[b.name]=o[b.name]||{},!!b[p]){var x=k(k({},e),{datas:o[b.name],parentRotate:i,isPinch:!0});b[p](t,x)}}),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},m):!1},pinch:function(t,e){var r=e.datas,n=e.scale,i=e.distance,o=e.originalDatas,u=e.inputEvent,l=e.targets,f=e.angle;if(r.isPinch){var c=i*(1-1/n),p=Yt(t,e,{});l&&(p.targets=l);var v="onPinch".concat(l?"Group":"");Rt(t,v,p);var h=r.ables,g="drag".concat(l?"Group":"","Control");return h.forEach(function(m){m[g]&&m[g](t,k(k({},e),{datas:o[m.name],inputEvent:u,resolveMatrix:!0,pinchScale:n,parentDistance:c,parentRotate:f,isPinch:!0}))}),p}},pinchEnd:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,o=e.targets,u=e.originalDatas;if(r.isPinch){var l="onPinch".concat(o?"Group":"","End"),f=Ar(t,e,{isDrag:n});o&&(f.targets=o),Rt(t,l,f);var c=r.ables,p="drag".concat(o?"Group":"","ControlEnd");return c.forEach(function(v){v[p]&&v[p](t,k(k({},e),{isDrag:n,datas:u[v.name],inputEvent:i,isPinch:!0}))}),n}},pinchGroupStart:function(t,e){return this.pinchStart(t,k(k({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,k(k({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,k(k({},e),{targets:t.props.targets}))}}),_g=bd("scalable"),TI={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:N1("scalable"),dragControlCondition:_g,viewClassName:_d("scalable"),dragControlStart:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,o=e.parentDirection,u=dm(o,n,i,r),l=t.state,f=l.width,c=l.height,p=l.targetTransform,v=l.target,h=l.pos1,g=l.pos2,m=l.pos4;if(!u||!v)return!1;n||Gi(t,e),r.datas={},r.transform=p,r.prevDist=[1,1],r.direction=u,r.startOffsetWidth=f,r.startOffsetHeight=c,r.startValue=[1,1];var b=!u[0]&&!u[1]||u[0]||!u[1];$u(t,e,"scale"),r.isWidth=b;function x(D){r.ratio=D&&isFinite(D)?D:0}r.startPositions=Yr(t.state);function y(D){var A=J1(r.startPositions,D);r.fixedDirection=A.fixedDirection,r.fixedPosition=A.fixedPosition,r.fixedOffset=A.fixedOffset}r.setFixedDirection=y,x(Pn(h,g)/Pn(g,m)),y([-u[0],-u[1]]);var w=function(D){r.minScaleSize=D},C=function(D){r.maxScaleSize=D};w([-1/0,-1/0]),C([1/0,1/0]);var E=Yt(t,e,k(k({direction:u,set:function(D){r.startValue=D},setRatio:x,setFixedDirection:y,setMinScaleSize:w,setMaxScaleSize:C},Hu(t,e)),{dragStart:or.dragStart(t,new Sa().dragStart([0,0],e))})),T=Rt(t,"onScaleStart",E);return r.startFixedDirection=r.fixedDirection,T!==!1&&(r.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:u}),r.isScale?E:!1},dragControl:function(t,e){Nu(t,e,"scale");var r=e.datas,n=e.parentKeepRatio,i=e.parentFlag,o=e.isPinch,u=e.dragClient,l=e.isRequest,f=e.useSnap,c=e.resolveMatrix,p=r.prevDist,v=r.direction,h=r.startOffsetWidth,g=r.startOffsetHeight,m=r.isScale,b=r.startValue,x=r.isWidth,y=r.ratio;if(!m)return!1;var w=t.props,C=w.throttleScale,E=w.parentMoveable,T=v;!v[0]&&!v[1]&&(T=[1,1]);var D=y&&(n??w.keepRatio)||!1,A=t.state,M=[b[0],b[1]];function I(){var bt=_m(T,D,r,e),Mt=bt.distWidth,B=bt.distHeight,L=h?(h+Mt)/h:1,V=g?(g+B)/g:1;b[0]||(M[0]=Mt/h),b[1]||(M[1]=B/g);var rt=(T[0]||D?L:1)*M[0],tt=(T[1]||D?V:1)*M[1];return rt===0&&(rt=sr(p[0])*Us),tt===0&&(tt=sr(p[1])*Us),[rt,tt]}var P=I();if(!o&&t.props.groupable){var H=A.snapRenderInfo||{},$=H.direction;Be($)&&($[0]||$[1])&&(A.snapRenderInfo={direction:v,request:e.isRequest})}Rt(t,"onBeforeScale",Yt(t,e,{scale:P,setFixedDirection:function(bt){return r.setFixedDirection(bt),P=I(),P},startFixedDirection:r.startFixedDirection,setScale:function(bt){P=bt}},!0));var F=[P[0]/M[0],P[1]/M[1]],Z=u,X=[0,0],et=sr(F[0]*F[1]),G=!u&&!i&&o;if(G||c?Z=ud(t,r.targetAllTransform,[0,0],[0,0],r):u||(Z=r.fixedPosition),o||(X=sI(t,F,v,!f&&l,r)),D){T[0]&&T[1]&&X[0]&&X[1]&&(Math.abs(X[0]*h)>Math.abs(X[1]*g)?X[1]=0:X[0]=0);var j=!X[0]&&!X[1];if(j&&(x?F[0]=Nt(F[0]*M[0],C)/M[0]:F[1]=Nt(F[1]*M[1],C)/M[1]),T[0]&&!T[1]||X[0]&&!X[1]||j&&x){F[0]+=X[0];var U=h*F[0]*M[0]/y;F[1]=sr(et*F[0])*gt(U/g/M[1])}else if(!T[0]&&T[1]||!X[0]&&X[1]||j&&!x){F[1]+=X[1];var J=g*F[1]*M[1]*y;F[0]=sr(et*F[1])*gt(J/h/M[0])}}else F[0]+=X[0],F[1]+=X[1],X[0]||(F[0]=Nt(F[0]*M[0],C)/M[0]),X[1]||(F[1]=Nt(F[1]*M[1],C)/M[1]);F[0]===0&&(F[0]=sr(p[0])*Us),F[1]===0&&(F[1]=sr(p[1])*Us),P=cI(F,[M[0],M[1]]);var q=[h,g],st=[h*P[0],g*P[1]];st=U0(st,r.minScaleSize,r.maxScaleSize,D?y:!1),P=If(2,function(bt){return q[bt]?st[bt]/q[bt]:st[bt]}),F=If(2,function(bt){return P[bt]/M[bt]});var nt=If(2,function(bt){return p[bt]?F[bt]/p[bt]:F[bt]}),dt="scale(".concat(F.join(", "),")"),ot="scale(".concat(P.join(", "),")"),_t=Wu(r,ot,dt),St=!b[0]||!b[1],Dt=sA(t,St?ot:dt,r.fixedDirection,Z,r.fixedOffset,r,St),At=G?Dt:Pt(Dt,r.prevInverseDist||[0,0]);if(r.prevDist=F,r.prevInverseDist=Dt,P[0]===p[0]&&P[1]===p[1]&&At.every(function(bt){return!bt})&&!E&&!G)return!1;var kt=Yt(t,e,k({offsetWidth:h,offsetHeight:g,direction:v,scale:P,dist:F,delta:nt,isPinch:!!o},B1(t,_t,At,o,e)));return Rt(t,"onScale",kt),kt},dragControlEnd:function(t,e){var r=e.datas;if(!r.isScale)return!1;r.isScale=!1;var n=Ar(t,e,{});return Rt(t,"onScaleEnd",n),n},dragGroupControlCondition:_g,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,e);if(!n)return!1;var i=tn(t,"resizable",e);r.moveableScale=t.scale;var o=Bn(t,this,"dragControlStart",e,function(c,p){return hu(t,c,r,p)}),u=function(c){n.setFixedDirection(c),o.forEach(function(p,v){p.setFixedDirection(c),hu(t,p.moveable,r,i[v])})};r.setFixedDirection=u;var l=k(k({},n),{targets:t.props.targets,events:o,setFixedDirection:u}),f=Rt(t,"onScaleGroupStart",l);return r.isScale=f!==!1,r.isScale?l:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isScale){qu(t,"onBeforeScale",function(p){Rt(t,"onBeforeScaleGroup",Yt(t,e,k(k({},p),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(n){var i=n.dist,o=r.moveableScale;t.scale=[i[0]*o[0],i[1]*o[1]];var u=t.props.keepRatio,l=r.fixedPosition,f=Bn(t,this,"dragControl",e,function(p,v){var h=W(er(Bo(t.rotation/180*Math.PI,3),[v.datas.originalX*i[0],v.datas.originalY*i[1],1],3),2),g=h[0],m=h[1];return k(k({},v),{parentDist:null,parentScale:i,parentKeepRatio:u,dragClient:re(l,[g,m])})}),c=k({targets:t.props.targets,events:f},n);return Rt(t,"onScaleGroup",c),c}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isScale){this.dragControlEnd(t,e);var i=Bn(t,this,"dragControlEnd",e),o=Ar(t,e,{targets:t.props.targets,events:i});return Rt(t,"onScaleGroupEnd",o),r}},request:function(){var t={},e=0,r=0,n=!1;return{isControl:!0,requestStart:function(i){return n=i.useSnap,{datas:t,parentDirection:i.direction||[1,1],useSnap:n}},request:function(i){return e+=i.deltaWidth,r+=i.deltaHeight,{datas:t,parentDist:[e,r],parentKeepRatio:i.keepRatio,useSnap:n}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:n}}}}};function Kn(t,e){return t.map(function(r,n){return fu(r,e[n],1,2)})}function bg(t,e,r){var n=Oe(t,e),i=Oe(t,r),o=i-n;return o>=0?o:o+2*Math.PI}function AI(t,e){var r=bg(t[0],t[1],t[2]),n=bg(e[0],e[1],e[2]),i=Math.PI;return!(r>=i&&n<=i||r<=i&&n>=i)}var II={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:_d("warpable"),render:function(t,e){var r=t.props,n=r.resizable,i=r.scalable,o=r.warpable,u=r.zoom;if(n||i||!o)return[];var l=t.state,f=l.pos1,c=l.pos2,p=l.pos3,v=l.pos4,h=Kn(f,c),g=Kn(c,f),m=Kn(f,p),b=Kn(p,f),x=Kn(p,v),y=Kn(v,p),w=Kn(c,v),C=Kn(v,c);return xt([e.createElement("div",{className:It("line"),key:"middeLine1",style:ro(h,x,u)}),e.createElement("div",{className:It("line"),key:"middeLine2",style:ro(g,y,u)}),e.createElement("div",{className:It("line"),key:"middeLine3",style:ro(m,w,u)}),e.createElement("div",{className:It("line"),key:"middeLine4",style:ro(b,C,u)})],W(W1(t,"warpable",e)),!1)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var r=e.inputEvent.target;return Ge(r,It("direction"))&&Ge(r,It("warpable"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,i=t.props.target,o=n.target,u=pm(o,r);if(!u||!i)return!1;var l=t.state,f=l.transformOrigin,c=l.is3d,p=l.targetTransform,v=l.targetMatrix,h=l.width,g=l.height,m=l.left,b=l.top;r.datas={},r.targetTransform=p,r.warpTargetMatrix=c?v:nn(v,3,4),r.targetInverseMatrix=h1(mn(r.warpTargetMatrix,4),3,4),r.direction=u,r.left=m,r.top=b,r.poses=[[0,0],[h,0],[0,g],[h,g]].map(function(w){return Pt(w,f)}),r.nextPoses=r.poses.map(function(w){var C=W(w,2),E=C[0],T=C[1];return er(r.warpTargetMatrix,[E,T,0,1],4)}),r.startValue=ge(4),r.prevMatrix=ge(4),r.absolutePoses=Yr(l),r.posIndexes=P1(u),Gi(t,e),$u(t,e,"matrix3d"),l.snapRenderInfo={request:e.isRequest,direction:u};var x=Yt(t,e,k({set:function(w){r.startValue=w}},Hu(t,e))),y=Rt(t,"onWarpStart",x);return y!==!1&&(r.isWarp=!0),r.isWarp},dragControl:function(t,e){var r=e.datas,n=e.isRequest,i=e.distX,o=e.distY,u=r.targetInverseMatrix,l=r.prevMatrix,f=r.isWarp,c=r.startValue,p=r.poses,v=r.posIndexes,h=r.absolutePoses;if(!f)return!1;if(Nu(t,e,"matrix3d"),Aa(t,"warpable")){var g=v.map(function(I){return h[I]});g.length>1&&g.push([(g[0][0]+g[1][0])/2,(g[0][1]+g[1][1])/2]);var m=Xu(t,n,{horizontal:g.map(function(I){return I[1]+o}),vertical:g.map(function(I){return I[0]+i})}),b=m.horizontal,x=m.vertical;o-=b.offset,i-=x.offset}var y=xn({datas:r,distX:i,distY:o},!0),w=r.nextPoses.slice();if(v.forEach(function(I){w[I]=re(w[I],y)}),!jT.every(function(I){return AI(I.map(function(P){return p[P]}),I.map(function(P){return w[P]}))}))return!1;var C=rd(p[0],p[2],p[1],p[3],w[0],w[2],w[1],w[3]);if(!C.length)return!1;var E=ce(u,C,4),T=A1(r,E,!0),D=ce(mn(l,4),T,4);r.prevMatrix=T;var A=ce(c,T,4),M=Wu(r,"matrix3d(".concat(A.join(", "),")"),"matrix3d(".concat(T.join(", "),")"));return sd(e,M),Rt(t,"onWarp",Yt(t,e,k({delta:D,matrix:A,dist:T,multiply:ce,transform:M},ur({transform:M},e)))),!0},dragControlEnd:function(t,e){var r=e.datas,n=e.isDrag;return r.isWarp?(r.isWarp=!1,Rt(t,"onWarpEnd",Ar(t,e,{})),n):!1}},PI=It("area-pieces"),Zs=It("area-piece"),ym=It("avoid"),BI=It("view-dragging");function Pf(t){var e=t.areaElement;if(e){var r=t.state,n=r.width,i=r.height;q0(e,ym),e.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(i,"px")}}function xg(t){return t.createElement("div",{key:"area_pieces",className:PI},t.createElement("div",{className:Zs}),t.createElement("div",{className:Zs}),t.createElement("div",{className:Zs}),t.createElement("div",{className:Zs}))}var Sm={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(t,e){var r=t.props,n=r.target,i=r.dragArea,o=r.groupable,u=r.passDragArea,l=t.getState(),f=l.width,c=l.height,p=l.renderPoses,v=u?It("area","pass"):It("area");if(o)return[e.createElement("div",{key:"area",ref:In(t,"areaElement"),className:v}),xg(e)];if(!n||!i)return[];var h=rd([0,0],[f,0],[0,c],[f,c],p[0],p[1],p[2],p[3]),g=h.length?Vu(h,!0):"none";return[e.createElement("div",{key:"area",ref:In(t,"areaElement"),className:v,style:{top:"0px",left:"0px",width:"".concat(f,"px"),height:"".concat(c,"px"),transformOrigin:"0 0",transform:g}}),xg(e)]},dragStart:function(t,e){var r=e.datas,n=e.clientX,i=e.clientY,o=e.inputEvent;if(!o)return!1;r.isDragArea=!1;var u=t.areaElement,l=t.state,f=l.moveableClientRect,c=l.renderPoses,p=l.rootMatrix,v=l.is3d,h=f.left,g=f.top,m=$r(c),b=m.left,x=m.top,y=m.width,w=m.height,C=v?4:3,E=W(Ea(p,[n-h,i-g],C),2),T=E[0],D=E[1];T-=b,D-=x;var A=[{left:b,top:x,width:y,height:D-10},{left:b,top:x,width:T-10,height:w},{left:b,top:x+D+10,width:y,height:w-D-10},{left:b+T+10,top:x,width:y-T-10,height:w}],M=[].slice.call(u.nextElementSibling.children);A.forEach(function(I,P){M[P].style.cssText="left: ".concat(I.left,"px;top: ").concat(I.top,"px; width: ").concat(I.width,"px; height: ").concat(I.height,"px;")}),V0(u,ym),l.disableNativeEvent=!0},drag:function(t,e){var r=e.datas,n=e.inputEvent;if(this.enableNativeEvent(t),!n)return!1;r.isDragArea||(r.isDragArea=!0,Pf(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var r=e.inputEvent,n=e.datas;if(!r)return!1;n.isDragArea||Pf(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){Pf(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&$0(function(){e.disableNativeEvent=!1})}},LI=zo("origin",{props:["origin","svgOrigin"],render:function(t,e){var r=t.props,n=r.zoom,i=r.svgOrigin,o=r.groupable,u=t.getState(),l=u.beforeOrigin,f=u.rotation,c=u.svg,p=u.allMatrix,v=u.is3d,h=u.left,g=u.top,m=u.offsetWidth,b=u.offsetHeight,x;if(!o&&c&&i){var y=W(yd(i,m,b),2),w=y[0],C=y[1],E=v?4:3,T=ye(p,[w,C],E);x=bu(f,n,Pt(T,[h,g]))}else x=bu(f,n,l);return[e.createElement("div",{className:It("control","origin"),style:x,key:"beforeOrigin"})]}});function zI(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var kI={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(t,e){var r=t.props,n=r.scrollContainer,i=n===void 0?t.getContainer():n,o=r.scrollOptions,u=new gT,l=hn(i,!0);e.datas.dragScroll=u,t.state.dragScroll=u;var f=e.isControl?"controlGesto":"targetGesto",c=e.targets;u.on("scroll",function(p){var v=p.container,h=p.direction,g=Yt(t,e,{scrollContainer:v,direction:h}),m=c?"onScrollGroup":"onScroll";c&&(g.targets=c),Rt(t,m,g)}).on("move",function(p){var v=p.offsetX,h=p.offsetY,g=p.inputEvent;t[f].scrollBy(v,h,g.inputEvent,!1)}).on("scrollDrag",function(p){var v=p.next;v(t[f].getCurrentEvent())}),u.dragStart(e,k({container:l},o))},checkScroll:function(t,e){var r=e.datas.dragScroll;if(r){var n=t.props,i=n.scrollContainer,o=i===void 0?t.getContainer():i,u=n.scrollThreshold,l=u===void 0?0:u,f=n.scrollThrottleTime,c=f===void 0?0:f,p=n.getScrollPosition,v=p===void 0?zI:p,h=n.scrollOptions;return r.drag(e,k({container:o,threshold:l,throttleTime:c,getScrollPosition:function(g){return v({scrollContainer:g.container,direction:g.direction})}},h)),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,k(k({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,k(k({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,k(k({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,k(k({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,k(k({},e),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,e){return this.drag(t,k(k({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,k(k({},e),{targets:t.props.targets}))},unset:function(t){var e,r=t.state;(e=r.dragScroll)===null||e===void 0||e.dragEnd(),r.dragScroll=null}},wm={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},FI=zo("padding",{props:["padding"],render:function(t,e){var r=t.props;if(r.dragArea)return[];var n=xm(r.padding||{}),i=n.left,o=n.top,u=n.right,l=n.bottom,f=t.getState(),c=f.renderPoses,p=f.pos1,v=f.pos2,h=f.pos3,g=f.pos4,m=[p,v,h,g],b=[];return i>0&&b.push([0,2]),o>0&&b.push([0,1]),u>0&&b.push([1,3]),l>0&&b.push([2,3]),b.map(function(x,y){var w=W(x,2),C=w[0],E=w[1],T=m[C],D=m[E],A=c[C],M=c[E],I=rd([0,0],[100,0],[0,100],[100,100],T,D,A,M);if(I.length)return e.createElement("div",{key:"padding".concat(y),className:It("padding"),style:{transform:Vu(I,!0)}})})}}),yg=["nw","ne","se","sw"];function js(t,e){var r=t[0]+t[1],n=r>e?e/r:1;return t[0]*=n,t[1]=e-t[1]*n,t}var GI=[1,2,5,6],NI=[0,3,4,7],Ri=[1,-1,-1,1],Oi=[1,1,-1,-1];function Sd(t,e,r,n,i,o,u,l){i===void 0&&(i=0),o===void 0&&(o=0),u===void 0&&(u=r),l===void 0&&(l=n);var f=[],c=!1,p=t.filter(function(h){return!h.virtual}),v=p.map(function(h){var g=h.horizontal,m=h.vertical,b=h.pos;if(m&&!c&&(c=!0,f.push("/")),c){var x=Math.max(0,m===1?b[1]-o:l-b[1]);return f.push(jr(x,n,e)),x}else{var x=Math.max(0,g===1?b[0]-i:u-b[0]);return f.push(jr(x,r,e)),x}});return{radiusPoses:p,styles:f,raws:v}}function Cm(t){for(var e=[0,0],r=[0,0],n=t.length,i=0;i<n;++i){var o=t[i];o.sub&&(o.horizontal&&(e[1]===0&&(e[0]=i),e[1]=i-e[0]+1,r[0]=i+1),o.vertical&&(r[1]===0&&(r[0]=i),r[1]=i-r[0]+1))}return{horizontalRange:e,verticalRange:r}}function Em(t,e,r,n,i,o,u){var l,f,c,p;o===void 0&&(o=[0,0]),u===void 0&&(u=!1);var v=t.indexOf("/"),h=(v>-1?t.slice(0,v):t).length,g=t.slice(0,h),m=t.slice(h+1),b=g.length,x=m.length,y=x>0,w=W(g,4),C=w[0],E=C===void 0?"0px":C,T=w[1],D=T===void 0?E:T,A=w[2],M=A===void 0?E:A,I=w[3],P=I===void 0?D:I,H=W(m,4),$=H[0],F=$===void 0?E:$,Z=H[1],X=Z===void 0?y?F:D:Z,et=H[2],G=et===void 0?y?F:M:et,j=H[3],U=j===void 0?y?X:P:j,J=[E,D,M,P].map(function(_t){return fe(_t,e)}),q=[F,X,G,U].map(function(_t){return fe(_t,r)}),st=J.slice(),nt=q.slice();l=W(js([st[0],st[1]],e),2),st[0]=l[0],st[1]=l[1],f=W(js([st[3],st[2]],e),2),st[3]=f[0],st[2]=f[1],c=W(js([nt[0],nt[3]],r),2),nt[0]=c[0],nt[3]=c[1],p=W(js([nt[1],nt[2]],r),2),nt[1]=p[0],nt[2]=p[1];var dt=u?st:st.slice(0,Math.max(o[0],b)),ot=u?nt:nt.slice(0,Math.max(o[1],x));return xt(xt([],W(dt.map(function(_t,St){var Dt=yg[St];return{virtual:St>=b,horizontal:Ri[St],vertical:0,pos:[n+_t,i+(Oi[St]===-1?r:0)],sub:!0,raw:J[St],direction:Dt}})),!1),W(ot.map(function(_t,St){var Dt=yg[St];return{virtual:St>=x,horizontal:0,vertical:Oi[St],pos:[n+(Ri[St]===-1?e:0),i+_t],sub:!0,raw:q[St],direction:Dt}})),!1)}function WI(t,e,r,n,i){i===void 0&&(i=e.length);var o=Cm(t.slice(n)),u=o.horizontalRange,l=o.verticalRange,f=r-n,c=0;if(f===0)c=i;else if(f>0&&f<u[1])c=u[1]-f;else if(f>=l[0])c=l[0]+l[1]-f;else return;t.splice(r,c),e.splice(r,c)}function HI(t,e,r,n,i,o,u,l,f,c,p){c===void 0&&(c=0),p===void 0&&(p=0);var v=Cm(t.slice(r)),h=v.horizontalRange,g=v.verticalRange;if(n>-1)for(var m=Ri[n]===1?o-c:l-o,b=h[1];b<=n;++b){var x=Oi[b]===1?p:f,y=0;if(n===b?y=o:b===0?y=c+m:Ri[b]===-1&&(y=l-(e[r][0]-c)),t.splice(r+b,0,{horizontal:Ri[b],vertical:0,pos:[y,x]}),e.splice(r+b,0,[y,x]),b===0)break}else if(i>-1){var w=Oi[i]===1?u-p:f-u;if(h[1]===0&&g[1]===0){var C=[c+w,p];t.push({horizontal:Ri[0],vertical:0,pos:C}),e.push(C)}for(var E=g[0],b=g[1];b<=i;++b){var y=Ri[b]===1?c:l,x=0;if(i===b?x=u:b===0?x=p+w:Oi[b]===1?x=e[r+E][1]:Oi[b]===-1&&(x=f-(e[r+E][1]-p)),t.push({horizontal:0,vertical:Oi[b],pos:[y,x]}),e.push([y,x]),b===0)break}}}function $I(t,e){e===void 0&&(e=t.map(function(i){return i.raw}));var r=t.map(function(i,o){return i.horizontal?e[o]:null}).filter(function(i){return i!=null}),n=t.map(function(i,o){return i.vertical?e[o]:null}).filter(function(i){return i!=null});return{horizontals:r,verticals:n}}var UI=[[0,-1,"n"],[1,0,"e"]],YI=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function wd(t,e,r){var n=t.props.clipRelative,i=t.state,o=i.width,u=i.height,l=e,f=l.type,c=l.poses,p=f==="rect",v=f==="circle";if(f==="polygon")return r.map(function(D){return"".concat(jr(D[0],o,n)," ").concat(jr(D[1],u,n))});if(p||f==="inset"){var h=r[1][1],g=r[3][0],m=r[7][0],b=r[5][1];if(p)return[h,g,b,m].map(function(D){return"".concat(D,"px")});var x=[h,o-g,u-b,m].map(function(D,A){return jr(D,A%2?o:u,n)});if(r.length>8){var y=W(Pt(r[4],r[0]),2),w=y[0],C=y[1];x.push.apply(x,xt(["round"],W(Sd(c.slice(8).map(function(D,A){return k(k({},D),{pos:r[A]})}),n,w,C,m,h,g,b).styles),!1))}return x}else if(v||f==="ellipse"){var E=r[0],T=jr(gt(r[1][1]-E[1]),v?Math.sqrt((o*o+u*u)/2):u,n),x=v?[T]:[jr(gt(r[2][0]-E[0]),o,n),T];return x.push("at",jr(E[0],o,n),jr(E[1],u,n)),x}}function yu(t,e,r,n){var i=[n,(n+e)/2,e],o=[t,(t+r)/2,r];return YI.map(function(u){var l=W(u,3),f=l[0],c=l[1],p=l[2],v=i[f+1],h=o[c+1];return{vertical:gt(c),horizontal:gt(f),direction:p,pos:[v,h]}})}function Dm(t){var e=[1/0,-1/0],r=[1/0,-1/0];return t.forEach(function(n){var i=n.pos;e[0]=Math.min(e[0],i[0]),e[1]=Math.max(e[1],i[0]),r[0]=Math.min(r[0],i[1]),r[1]=Math.max(r[1],i[1])}),[gt(e[1]-e[0]),gt(r[1]-r[0])]}function Sg(t,e,r,n,i){var o,u,l,f,c,p,v,h,g;if(t){var m=i;if(!m){var b=Sr(t),x=b("clipPath");m=x!=="none"?x:b("clip")}if(!((!m||m==="none"||m==="auto")&&(m=n,!m))){var y=H0(m),w=y.prefix,C=w===void 0?m:w,E=y.value,T=E===void 0?"":E,D=C==="circle",A=" ";if(C==="polygon"){var M=Ti(T||"0% 0%, 100% 0%, 100% 100%, 0% 100%");A=",";var I=M.map(function(vt){var ut=W(vt.split(" "),2),yt=ut[0],Ct=ut[1];return{vertical:1,horizontal:1,pos:[fe(yt,e),fe(Ct,r)]}}),P=zi(I.map(function(vt){return vt.pos}));return{type:C,clipText:m,poses:I,splitter:A,left:P.minX,right:P.maxX,top:P.minY,bottom:P.maxY}}else if(D||C==="ellipse"){var H="",$="",F=0,Z=0,M=oi(T);if(D){var X="";o=W(M,4),u=o[0],X=u===void 0?"50%":u,l=o[2],H=l===void 0?"50%":l,f=o[3],$=f===void 0?"50%":f,F=fe(X,Math.sqrt((e*e+r*r)/2)),Z=F}else{var et="",G="";c=W(M,5),p=c[0],et=p===void 0?"50%":p,v=c[1],G=v===void 0?"50%":v,h=c[3],H=h===void 0?"50%":h,g=c[4],$=g===void 0?"50%":g,F=fe(et,e),Z=fe(G,r)}var j=[fe(H,e),fe($,r)],I=xt([{vertical:1,horizontal:1,pos:j,direction:"nesw"}],W(UI.slice(0,D?1:2).map(function(yt){return{vertical:gt(yt[1]),horizontal:yt[0],direction:yt[2],sub:!0,pos:[j[0]+yt[0]*F,j[1]+yt[1]*Z]}})),!1);return{type:C,clipText:m,radiusX:F,radiusY:Z,left:j[0]-F,top:j[1]-Z,right:j[0]+F,bottom:j[1]+Z,poses:I,splitter:A}}else if(C==="inset"){var M=oi(T||"0 0 0 0"),U=M.indexOf("round"),J=(U>-1?M.slice(0,U):M).length,q=M.slice(J+1),st=W(M.slice(0,J),4),nt=st[0],dt=st[1],ot=dt===void 0?nt:dt,_t=st[2],St=_t===void 0?nt:_t,Dt=st[3],At=Dt===void 0?ot:Dt,kt=W([nt,St].map(function(yt){return fe(yt,r)}),2),bt=kt[0],Mt=kt[1],B=W([At,ot].map(function(yt){return fe(yt,e)}),2),L=B[0],V=B[1],rt=e-V,tt=r-Mt,at=Em(q,rt-L,tt-bt,L,bt),I=xt(xt([],W(yu(bt,rt,tt,L)),!1),W(at),!1);return{type:"inset",clipText:m,poses:I,top:bt,left:L,right:rt,bottom:tt,radius:q,splitter:A}}else if(C==="rect"){var M=Ti(T||"0px, ".concat(e,"px, ").concat(r,"px, 0px"));A=",";var lt=W(M.map(function(Bt){var Lt=Oo(Bt).value;return Lt}),4),ft=lt[0],V=lt[1],Mt=lt[2],L=lt[3],I=yu(ft,V,Mt,L);return{type:"rect",clipText:m,poses:I,top:ft,right:V,bottom:Mt,left:L,values:M,splitter:A}}}}}function XI(t,e,r,n,i){var o=t[e],u=o.direction,l=o.sub,f=t.map(function(){return[0,0]}),c=u?u.split(""):[];if(n&&e<8){var p=c.filter(function(F){return F==="w"||F==="e"}),v=c.filter(function(F){return F==="n"||F==="s"}),h=p[0],g=v[0];f[e]=r;var m=W(Dm(t),2),b=m[0],x=m[1],y=b&&x?b/x:0;if(y&&i){var w=(e+4)%8,C=t[w].pos,E=[0,0];u.indexOf("w")>-1?E[0]=-1:u.indexOf("e")>-1&&(E[0]=1),u.indexOf("n")>-1?E[1]=-1:u.indexOf("s")>-1&&(E[1]=1);var T=mm([b,x],r,y,E,!0),D=b+T[0],A=x+T[1],M=C[1],I=C[1],P=C[0],H=C[0];E[0]===-1?P=H-D:E[0]===1?H=P+D:(P=P-D/2,H=H+D/2),E[1]===-1?M=I-A:(E[1]===1||(M=I-A/2),I=M+A);var $=yu(M,H,I,P);t.forEach(function(F,Z){f[Z][0]=$[Z].pos[0]-F.pos[0],f[Z][1]=$[Z].pos[1]-F.pos[1]})}else t.forEach(function(F,Z){var X=F.direction;X&&(X.indexOf(h)>-1&&(f[Z][0]=r[0]),X.indexOf(g)>-1&&(f[Z][1]=r[1]))}),h&&(f[1][0]=r[0]/2,f[5][0]=r[0]/2),g&&(f[3][1]=r[1]/2,f[7][1]=r[1]/2)}else u&&!l?c.forEach(function(F){var Z=F==="n"||F==="s";t.forEach(function(X,et){var G=X.direction,j=X.horizontal,U=X.vertical;!G||G.indexOf(F)===-1||(f[et]=[Z||!j?0:r[0],!Z||!U?0:r[1]])})}):f[e]=r;return f}function VI(t,e){var r=W(T1(t,e),2),n=r[0],i=r[1],o=e.datas,u=o.clipPath,l=o.clipIndex,f=u,c=f.type,p=f.poses,v=f.splitter,h=p.map(function(w){return w.pos});if(c==="polygon")h.splice(l,0,[n,i]);else if(c==="inset"){var g=GI.indexOf(l),m=NI.indexOf(l),b=p.length;if(HI(p,h,8,g,m,n,i,h[4][0],h[4][1],h[0][0],h[0][1]),b===p.length)return}else return;var x=wd(t,u,h),y="".concat(c,"(").concat(x.join(v),")");Rt(t,"onClip",Yt(t,e,k({clipEventType:"added",clipType:c,poses:h,clipStyles:x,clipStyle:y,distX:0,distY:0},ur({clipPath:y},e))))}function qI(t,e){var r=e.datas,n=r.clipPath,i=r.clipIndex,o=n,u=o.type,l=o.poses,f=o.splitter,c=l.map(function(g){return g.pos}),p=c.length;if(u==="polygon")l.splice(i,1),c.splice(i,1);else if(u==="inset"){if(i<8||(WI(l,c,i,8,p),p===l.length))return}else return;var v=wd(t,n,c),h="".concat(u,"(").concat(v.join(f),")");Rt(t,"onClip",Yt(t,e,k({clipEventType:"removed",clipType:u,poses:c,clipStyles:v,clipStyle:h,distX:0,distY:0},ur({clipPath:h},e))))}var KI={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[`.control.clip-control {
background: #6d6;
cursor: pointer;
}
.control.clip-control.clip-radius {
background: #d66;
}
.line.clip-line {
background: #6e6;
cursor: move;
z-index: 1;
}
.clip-area {
position: absolute;
top: 0;
left: 0;
}
.clip-ellipse {
position: absolute;
cursor: move;
border: 1px solid #6d6;
border: var(--zoompx) solid #6d6;
border-radius: 50%;
transform-origin: 0px 0px;
}`,`:host {
--bounds-color: #d66;
}`,`.guideline {
pointer-events: none;
z-index: 2;
}`,`.line.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}`],render:function(t,e){var r=t.props,n=r.customClipPath,i=r.defaultClipPath,o=r.clipArea,u=r.zoom,l=r.groupable,f=t.getState(),c=f.target,p=f.width,v=f.height,h=f.allMatrix,g=f.is3d,m=f.left,b=f.top,x=f.pos1,y=f.pos2,w=f.pos3,C=f.pos4,E=f.clipPathState,T=f.snapBoundInfos,D=f.rotation;if(!c||l)return[];var A=Sg(c,p,v,i||"inset",E||n);if(!A)return[];var M=g?4:3,I=A.type,P=A.poses,H=P.map(function(V){var rt=ye(h,V.pos,M);return[rt[0]-m,rt[1]-b]}),$=[],F=[],Z=I==="rect",X=I==="inset",et=I==="polygon";if(Z||X||et){var G=X?H.slice(0,8):H;F=G.map(function(V,rt){var tt=rt===0?G[G.length-1]:G[rt-1],at=Oe(tt,V),lt=um(tt,V);return e.createElement("div",{key:"clipLine".concat(rt),className:It("line","clip-line","snap-control"),"data-clip-index":rt,style:{width:"".concat(lt,"px"),transform:"translate(".concat(tt[0],"px, ").concat(tt[1],"px) rotate(").concat(at,"rad) scaleY(").concat(u,")")}})})}if($=H.map(function(V,rt){return e.createElement("div",{key:"clipControl".concat(rt),className:It("control","clip-control","snap-control"),"data-clip-index":rt,style:{transform:"translate(".concat(V[0],"px, ").concat(V[1],"px) rotate(").concat(D,"rad) scale(").concat(u,")")}})}),X&&$.push.apply($,xt([],W(H.slice(8).map(function(V,rt){return e.createElement("div",{key:"clipRadiusControl".concat(rt),className:It("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+rt,style:{transform:"translate(".concat(V[0],"px, ").concat(V[1],"px) rotate(").concat(D,"rad) scale(").concat(u,")")}})})),!1)),I==="circle"||I==="ellipse"){var j=A.left,U=A.top,J=A.radiusX,q=A.radiusY,st=W(Pt(ye(h,[j,U],M),ye(h,[0,0],M)),2),nt=st[0],dt=st[1],ot="none";if(!o){for(var _t=Math.max(10,J/5,q/5),St=[],Dt=0;Dt<=_t;++Dt){var At=Math.PI*2/_t*Dt;St.push([J+(J-u)*Math.cos(At),q+(q-u)*Math.sin(At)])}St.push([J,-2]),St.push([-2,-2]),St.push([-2,q*2+2]),St.push([J*2+2,q*2+2]),St.push([J*2+2,-2]),St.push([J,-2]),ot="polygon(".concat(St.map(function(V){return"".concat(V[0],"px ").concat(V[1],"px")}).join(", "),")")}$.push(e.createElement("div",{key:"clipEllipse",className:It("clip-ellipse","snap-control"),style:{width:"".concat(J*2,"px"),height:"".concat(q*2,"px"),clipPath:ot,transform:"translate(".concat(-m+nt,"px, ").concat(-b+dt,"px) ").concat(Vu(h))}}))}if(o){var kt=$r(xt([x,y,w,C],W(H),!1)),bt=kt.width,Mt=kt.height,B=kt.left,L=kt.top;if(et||Z||X){var St=X?H.slice(0,8):H;$.push(e.createElement("div",{key:"clipArea",className:It("clip-area","snap-control"),style:{width:"".concat(bt,"px"),height:"".concat(Mt,"px"),transform:"translate(".concat(B,"px, ").concat(L,"px)"),clipPath:"polygon(".concat(St.map(function(rt){return"".concat(rt[0]-B,"px ").concat(rt[1]-L,"px")}).join(", "),")")}}))}}return T&&["vertical","horizontal"].forEach(function(V){var rt=T[V],tt=V==="horizontal";rt.isSnap&&F.push.apply(F,xt([],W(rt.snap.posInfos.map(function(at,lt){var ft=at.pos,vt=Pt(ye(h,tt?[0,ft]:[ft,0],M),[m,b]),ut=Pt(ye(h,tt?[p,ft]:[ft,v],M),[m,b]);return wo(e,"",vt,ut,u,"clip".concat(V,"snap").concat(lt),"guideline")})),!1)),rt.isBound&&F.push.apply(F,xt([],W(rt.bounds.map(function(at,lt){var ft=at.pos,vt=Pt(ye(h,tt?[0,ft]:[ft,0],M),[m,b]),ut=Pt(ye(h,tt?[p,ft]:[ft,v],M),[m,b]);return wo(e,"",vt,ut,u,"clip".concat(V,"bounds").concat(lt),"guideline","bounds","bold")})),!1))}),xt(xt([],W($),!1),W(F),!1)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var r=t.props,n=r.dragWithClip,i=n===void 0?!0:n;return i?!1:this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,k(k({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var r=t.state,n=t.props,i=n.defaultClipPath,o=n.customClipPath,u=r.target,l=r.width,f=r.height,c=e.inputEvent?e.inputEvent.target:null,p=c&&c.getAttribute("class")||"",v=e.datas,h=Sg(u,l,f,i||"inset",o);if(!h)return!1;var g=h.clipText,m=h.type,b=h.poses,x=Rt(t,"onClipStart",Yt(t,e,{clipType:m,clipStyle:g,poses:b.map(function(y){return y.pos})}));return x===!1?(v.isClipStart=!1,!1):(v.isControl=p&&p.indexOf("clip-control")>-1,v.isLine=p.indexOf("clip-line")>-1,v.isArea=p.indexOf("clip-area")>-1||p.indexOf("clip-ellipse")>-1,v.clipIndex=c?parseInt(c.getAttribute("data-clip-index"),10):-1,v.clipPath=h,v.isClipStart=!0,r.clipPathState=g,Gi(t,e),!0)},dragControl:function(t,e){var r,n,i,o=e.datas,u=e.originalDatas,l=e.isDragTarget;if(!o.isClipStart)return!1;var f=o,c=f.isControl,p=f.isLine,v=f.isArea,h=f.clipIndex,g=f.clipPath;if(!g)return!1;var m=ki(t.props,"clippable"),b=m.keepRatio,x=0,y=0,w=u.draggable,C=xn(e);l&&w?(r=W(w.prevBeforeDist,2),x=r[0],y=r[1]):(n=W(C,2),x=n[0],y=n[1]);var E=[x,y],T=t.state,D=T.width,A=T.height,M=!v&&!c&&!p,I=g.type,P=g.poses,H=g.splitter,$=P.map(function(le){return le.pos});M&&(x=-x,y=-y);var F=!c||P[h].direction==="nesw",Z=I==="inset"||I==="rect",X=P.map(function(){return[0,0]});if(c&&!F){var et=P[h],G=et.horizontal,j=et.vertical,U=[x*gt(G),y*gt(j)];X=XI(P,h,U,Z,b)}else F&&(X=$.map(function(){return[x,y]}));var J=$.map(function(le,We){return re(le,X[We])}),q=xt([],W(J),!1);T.snapBoundInfos=null;var st=g.type==="circle",nt=g.type==="ellipse";if(st||nt){var dt=$r(J),ot=gt(dt.bottom-dt.top),_t=gt(nt?dt.right-dt.left:ot),St=J[0][1]+ot,Dt=J[0][0]-_t,At=J[0][0]+_t;st&&(q.push([At,dt.bottom]),X.push([1,0])),q.push([dt.left,St]),X.push([0,1]),q.push([Dt,dt.bottom]),X.push([1,0])}var kt=rm((m.clipHorizontalGuidelines||[]).map(function(le){return fe("".concat(le),A)}),(m.clipVerticalGuidelines||[]).map(function(le){return fe("".concat(le),D)}),D,A),bt=[],Mt=[];if(st||nt)bt=[q[4][0],q[2][0]],Mt=[q[1][1],q[3][1]];else if(Z){var B=[q[0],q[2],q[4],q[6]],L=[X[0],X[2],X[4],X[6]];bt=B.filter(function(le,We){return L[We][0]}).map(function(le){return le[0]}),Mt=B.filter(function(le,We){return L[We][1]}).map(function(le){return le[1]})}else bt=q.filter(function(le,We){return X[We][0]}).map(function(le){return le[0]}),Mt=q.filter(function(le,We){return X[We][1]}).map(function(le){return le[1]});var V=[0,0],rt=og(kt,m.clipTargetBounds&&{left:0,top:0,right:D,bottom:A},bt,Mt,5,5),tt=rt.horizontal,at=rt.vertical,lt=tt.offset,ft=at.offset;if(tt.isBound&&(V[1]+=lt),at.isBound&&(V[0]+=ft),(nt||st)&&X[0][0]===0&&X[0][1]===0){var dt=$r(J),vt=dt.bottom-dt.top,ut=nt?dt.right-dt.left:vt,yt=at.isBound?gt(ft):at.snapIndex===0?-ft:ft,Ct=tt.isBound?gt(lt):tt.snapIndex===0?-lt:lt;ut-=yt,vt-=Ct,st&&(vt=q1(at,tt)>0?vt:ut,ut=vt);var wt=q[0];q[1][1]=wt[1]-vt,q[2][0]=wt[0]+ut,q[3][1]=wt[1]+vt,q[4][0]=wt[0]-ut}else if(Z&&b&&c){var Bt=W(Dm(P),2),Lt=Bt[0],Qt=Bt[1],Zt=Lt&&Qt?Lt/Qt:0,me=P[h],Te=me.direction||"",cr=q[1][1],St=q[5][1],Dt=q[7][0],At=q[3][0];gt(lt)<=gt(ft)?lt=sr(lt)*gt(ft)/Zt:ft=sr(ft)*gt(lt)*Zt,Te.indexOf("w")>-1?Dt-=ft:Te.indexOf("e")>-1?At-=ft:(Dt+=ft/2,At-=ft/2),Te.indexOf("n")>-1?cr-=lt:Te.indexOf("s")>-1?St-=lt:(cr+=lt/2,St-=lt/2);var Fn=yu(cr,At,St,Dt);q.forEach(function(Go,Ku){var Ba;Ba=W(Fn[Ku].pos,2),Go[0]=Ba[0],Go[1]=Ba[1]})}else q.forEach(function(le,We){var Pa=X[We];Pa[0]&&(le[0]-=ft),Pa[1]&&(le[1]-=lt)});var Ir=wd(t,g,J),on="".concat(I,"(").concat(Ir.join(H),")");if(T.clipPathState=on,st||nt)bt=[q[4][0],q[2][0]],Mt=[q[1][1],q[3][1]];else if(Z){var B=[q[0],q[2],q[4],q[6]];bt=B.map(function(We){return We[0]}),Mt=B.map(function(We){return We[1]})}else bt=q.map(function(le){return le[0]}),Mt=q.map(function(le){return le[1]});if(T.snapBoundInfos=og(kt,m.clipTargetBounds&&{left:0,top:0,right:D,bottom:A},bt,Mt,1,1),w){var Le=T.is3d,qe=T.allMatrix,Wi=Le?4:3,Ia=V;l&&(Ia=[E[0]+V[0]-C[0],E[1]+V[1]-C[1]]),w.deltaOffset=ce(qe,[Ia[0],Ia[1],0,0],Wi)}return Rt(t,"onClip",Yt(t,e,k({clipEventType:"changed",clipType:I,poses:J,clipStyle:on,clipStyles:Ir,distX:x,distY:y},ur((i={},i[I==="rect"?"clip":"clipPath"]=on,i),e)))),!0},dragControlEnd:function(t,e){this.unset(t);var r=e.isDrag,n=e.datas,i=e.isDouble,o=n.isLine,u=n.isClipStart,l=n.isControl;return u?(Rt(t,"onClipEnd",Ar(t,e,{})),i&&(l?qI(t,e):o&&VI(t,e)),i||r):!1},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},ZI={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[`:host[data-able-origindraggable] .control.origin {
pointer-events: auto;
}`],dragControlCondition:function(t,e){return e.isRequest?e.requestAble==="originDraggable":Ge(e.inputEvent.target,It("origin"))},dragControlStart:function(t,e){var r=e.datas;Gi(t,e);var n=Yt(t,e,{dragStart:or.dragStart(t,new Sa().dragStart([0,0],e))}),i=Rt(t,"onDragOriginStart",n);return r.startOrigin=t.state.transformOrigin,r.startTargetOrigin=t.state.targetOrigin,r.prevOrigin=[0,0],r.isDragOrigin=!0,i===!1?(r.isDragOrigin=!1,!1):n},dragControl:function(t,e){var r=e.datas,n=e.isPinch,i=e.isRequest;if(!r.isDragOrigin)return!1;var o=W(xn(e),2),u=o[0],l=o[1],f=t.state,c=f.width,p=f.height,v=f.offsetMatrix,h=f.targetMatrix,g=f.is3d,m=t.props.originRelative,b=m===void 0?!0:m,x=g?4:3,y=[u,l];if(i){var w=e.distOrigin;(w[0]||w[1])&&(y=w)}var C=re(r.startOrigin,y),E=re(r.startTargetOrigin,y),T=Pt(y,r.prevOrigin),D=Fo(v,h,C,x),A=t.getRect(),M=$r(Ni(D,c,p,x)),I=[A.left-M.left,A.top-M.top];r.prevOrigin=y;var P=[jr(E[0],c,b),jr(E[1],p,b)].join(" "),H=or.drag(t,ko(e,t.state,I,!!n)),$=Yt(t,e,k(k({width:c,height:p,origin:C,dist:y,delta:T,transformOrigin:P,drag:H},ur({transformOrigin:P,transform:H.transform},e)),{afterTransform:H.transform}));return Rt(t,"onDragOrigin",$),$},dragControlEnd:function(t,e){var r=e.datas;return r.isDragOrigin?(Rt(t,"onDragOriginEnd",Ar(t,e,{})),!0):!1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);return!!r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);return r?(t.transformOrigin=r.transformOrigin,!0):!1},request:function(t){var e={},r=t.getRect(),n=0,i=0,o=r.transformOrigin,u=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(l){return"deltaOrigin"in l?(u[0]+=l.deltaOrigin[0],u[1]+=l.deltaOrigin[1]):"origin"in l?(u[0]=l.origin[0]-o[0],u[1]=l.origin[1]-o[1]):("x"in l?n=l.x-r.left:"deltaX"in l&&(n+=l.deltaX),"y"in l?i=l.y-r.top:"deltaY"in l&&(i+=l.deltaY)),{datas:e,distX:n,distY:i,distOrigin:u}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function jI(t,e,r,n){var i=t.filter(function(f){var c=f.virtual,p=f.horizontal;return p&&!c}).length,o=t.filter(function(f){var c=f.virtual,p=f.vertical;return p&&!c}).length,u=-1;if(e===0&&(i===0?u=0:i===1&&(u=1)),e===2&&(i<=2?u=2:i<=3&&(u=3)),e===3&&(o===0?u=4:o<4&&(u=7)),e===1&&(o<=1?u=5:o<=2&&(u=6)),!(u===-1||!t[u].virtual)){var l=t[u];JI(t,u),u<4?l.pos[0]=r:l.pos[1]=n}}function JI(t,e){e<4?t.slice(0,e+1).forEach(function(r){r.virtual=!1}):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach(function(r){r.virtual=!1}))}function QI(t,e){e<4?t.slice(e,4).forEach(function(r){r.virtual=!0}):t.slice(e).forEach(function(r){r.virtual=!0})}function wg(t,e,r,n,i){n===void 0&&(n=[0,0]);var o=[];return!t||t==="0px"?o=[]:o=oi(t),Em(o,e,r,0,0,n,i)}function Cg(t,e,r,n,i){var o=t.state,u=o.width,l=o.height,f=Sd(i,t.props.roundRelative,u,l),c=f.raws,p=f.styles,v=f.radiusPoses,h=$I(v,c),g=h.horizontals,m=h.verticals,b=p.join(" ");o.borderRadiusState=b;var x=Yt(t,e,k({horizontals:g,verticals:m,borderRadius:b,width:u,height:l,delta:n,dist:r},ur({borderRadius:b},e)));return Rt(t,"onRound",x),x}function Eg(t){var e,r,n=t.getState().style,i=n.borderRadius||"";if(!i&&t.props.groupable){var o=t.moveables[0],u=t.getTargets()[0];u&&((o==null?void 0:o.props.target)===u?(i=(r=(e=t.moveables[0])===null||e===void 0?void 0:e.state.style.borderRadius)!==null&&r!==void 0?r:"",n.borderRadius=i):(i=md(u).borderRadius,n.borderRadius=i))}return i}var tP={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[`.control.border-radius {
background: #d66;
cursor: pointer;
z-index: 3;
}`,`.control.border-radius.vertical {
background: #d6d;
z-index: 2;
}`,`.control.border-radius.virtual {
opacity: 0.5;
z-index: 1;
}`,`:host.round-line-clickable .line.direction {
cursor: pointer;
}`],className:function(t){var e=t.props.roundClickable;return e===!0||e==="line"?It("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(t,e){var r=t.getState(),n=r.target,i=r.width,o=r.height,u=r.allMatrix,l=r.is3d,f=r.left,c=r.top,p=r.borderRadiusState,v=t.props,h=v.minRoundControls,g=h===void 0?[0,0]:h,m=v.maxRoundControls,b=m===void 0?[4,4]:m,x=v.zoom,y=v.roundPadding,w=y===void 0?0:y,C=v.isDisplayShadowRoundControls,E=v.groupable;if(!n)return null;var T=p||Eg(t),D=l?4:3,A=wg(T,i,o,g,!0);if(!A)return null;var M=0,I=0,P=E?[0,0]:[f,c];return A.map(function(H,$){var F=H.horizontal,Z=H.vertical,X=H.direction||"",et=xt([],W(H.pos),!1);I+=Math.abs(F),M+=Math.abs(Z),F&&X.indexOf("n")>-1&&(et[1]-=w),Z&&X.indexOf("w")>-1&&(et[0]-=w),F&&X.indexOf("s")>-1&&(et[1]+=w),Z&&X.indexOf("e")>-1&&(et[0]+=w);var G=Pt(ye(u,et,D),P),j=C&&C!=="horizontal",U=H.vertical?M<=b[1]&&(j||!H.virtual):I<=b[0]&&(C||!H.virtual);return e.createElement("div",{key:"borderRadiusControl".concat($),className:It("control","border-radius",H.vertical?"vertical":"",H.virtual?"virtual":""),"data-radius-index":$,style:{display:U?"block":"none",transform:"translate(".concat(G[0],"px, ").concat(G[1],"px) scale(").concat(x,")")}})})},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var r=e.inputEvent.target.getAttribute("class")||"";return r.indexOf("border-radius")>-1||r.indexOf("moveable-line")>-1&&r.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragControlStart:function(t,e){var r=e.inputEvent,n=e.datas,i=r.target,o=i.getAttribute("class")||"",u=o.indexOf("border-radius")>-1,l=o.indexOf("moveable-line")>-1&&o.indexOf("moveable-direction")>-1,f=u?parseInt(i.getAttribute("data-radius-index"),10):-1,c=-1;if(l){var p=i.getAttribute("data-line-key")||"";p&&(c=parseInt(p.replace(/render-line-/g,""),10),isNaN(c)&&(c=-1))}if(!u&&!l)return!1;var v=Yt(t,e,{}),h=Rt(t,"onRoundStart",v);if(h===!1)return!1;n.lineIndex=c,n.controlIndex=f,n.isControl=u,n.isLine=l,Gi(t,e);var g=t.props,m=g.roundRelative,b=g.minRoundControls,x=b===void 0?[0,0]:b,y=t.state,w=y.width,C=y.height;n.isRound=!0,n.prevDist=[0,0];var E=Eg(t),T=wg(E||"",w,C,x,!0)||[];return n.controlPoses=T,y.borderRadiusState=Sd(T,m,w,C).styles.join(" "),v},dragControl:function(t,e){var r=e.datas,n=r.controlPoses;if(!r.isRound||!r.isControl||!n.length)return!1;var i=r.controlIndex,o=W(xn(e),2),u=o[0],l=o[1],f=[u,l],c=Pt(f,r.prevDist),p=t.props.maxRoundControls,v=p===void 0?[4,4]:p,h=t.state,g=h.width,m=h.height,b=n[i],x=b.vertical,y=b.horizontal,w=n.map(function(E){var T=E.horizontal,D=E.vertical,A=[T*y*f[0],D*x*f[1]];if(T){if(v[0]===1)return A;if(v[0]<4&&T!==y)return A}else{if(v[1]===0)return A[1]=D*y*f[0]/g*m,A;if(x){if(v[1]===1)return A;if(v[1]<4&&D!==x)return A}}return[0,0]});w[i]=f;var C=n.map(function(E,T){return k(k({},E),{pos:re(E.pos,w[T])})});return i<4?C.slice(0,i+1).forEach(function(E){E.virtual=!1}):C.slice(4,i+1).forEach(function(E){E.virtual=!1}),r.prevDist=[u,l],Cg(t,e,f,c,C)},dragControlEnd:function(t,e){var r=t.state;r.borderRadiusState="";var n=e.datas,i=e.isDouble;if(!n.isRound)return!1;var o=n.isControl,u=n.controlIndex,l=n.isLine,f=n.lineIndex,c=n.controlPoses,p=c.filter(function(y){var w=y.virtual;return w}).length,v=t.props.roundClickable,h=v===void 0?!0:v;if(i&&h){if(o&&(h===!0||h==="control"))QI(c,u);else if(l&&(h===!0||h==="line")){var g=W(T1(t,e),2),m=g[0],b=g[1];jI(c,f,m,b)}p!==c.filter(function(y){var w=y.virtual;return w}).length&&Cg(t,e,[0,0],[0,0],c)}var x=Ar(t,e,{});return Rt(t,"onRoundEnd",x),r.borderRadiusState="",x},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);if(!r)return!1;var n=t.moveables,i=t.props.targets,o=tn(t,"roundable",e),u=k({targets:t.props.targets,events:o.map(function(l,f){return k(k({},l),{target:i[f],moveable:n[f],currentTarget:n[f]})})},r);return Rt(t,"onRoundGroupStart",u),r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);if(!r)return!1;var n=t.moveables,i=t.props.targets,o=tn(t,"roundable",e),u=k({targets:t.props.targets,events:o.map(function(l,f){return k(k(k({},l),{target:i[f],moveable:n[f],currentTarget:n[f]}),ur({borderRadius:r.borderRadius},l))})},r);return Rt(t,"onRoundGroup",u),u},dragGroupControlEnd:function(t,e){var r=t.moveables,n=t.props.targets,i=tn(t,"roundable",e);qu(t,"onRound",function(l){var f=k({targets:t.props.targets,events:i.map(function(c,p){return k(k(k({},c),{target:n[p],moveable:r[p],currentTarget:r[p]}),ur({borderRadius:l.borderRadius},c))})},l);Rt(t,"onRoundGroup",f)});var o=this.dragControlEnd(t,e);if(!o)return!1;var u=k({targets:t.props.targets,events:i.map(function(l,f){var c;return k(k({},l),{target:n[f],moveable:r[f],currentTarget:r[f],lastEvent:(c=l.datas)===null||c===void 0?void 0:c.lastEvent})})},o);return Rt(t,"onRoundGroupEnd",u),u},unset:function(t){t.state.borderRadiusState=""}};function eP(t,e){var r=e?4:3,n=ge(r),i="matrix".concat(e?"3d":"","(").concat(n.join(","),")");return t===i||t==="matrix(1,0,0,1,0,0)"}var Mm={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(t,e){var r=t.state,n=r.is3d,i=r.targetMatrix,o=r.inlineTransform,u=n?"matrix3d(".concat(i.join(","),")"):"matrix(".concat(m1(i,!0),")"),l=!o||o==="none"?u:o;e.datas.startTransforms=eP(l,n)?[]:oi(l)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return Yt(t,e,{setTransform:function(r){e.datas.startTransforms=Be(r)?r:oi(r)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return Yt(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),Rt(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){e.datas.startTransforms||this.setTransform(t,e),this.resetStyle(e),Rt(t,"onBeforeRender",Yt(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){e.datas.startTransforms||(this.setTransform(t,e),this.resetStyle(e)),Rt(t,"onBeforeRenderEnd",Yt(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var r=this;this.dragStart(t,e);var n=tn(t,"beforeRenderable",e),i=t.moveables,o=n.map(function(u,l){var f=i[l];return r.setTransform(f,u),r.resetStyle(u),r.fillDragStartParams(f,u)});Rt(t,"onBeforeRenderGroupStart",Yt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:o}))},dragGroup:function(t,e){var r=this;this.drag(t,e);var n=tn(t,"beforeRenderable",e),i=t.moveables,o=n.map(function(u,l){var f=i[l];return r.resetStyle(u),r.fillDragParams(f,u)});Rt(t,"onBeforeRenderGroup",Yt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:o}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),Rt(t,"onBeforeRenderGroupEnd",Yt(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},Rm={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(t,e){Rt(t,"onRenderStart",Yt(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){Rt(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){return this.drag(t,e)},dragEnd:function(t,e){Rt(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){Rt(t,"onRenderGroupStart",Yt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var r=this,n=tn(t,"beforeRenderable",e),i=t.moveables,o=n.map(function(u,l){var f=i[l];return r.fillDragParams(f,u)});Rt(t,"onRenderGroup",Yt(t,e,k(k({isPinch:!!e.isPinch,targets:t.props.targets,transform:Ys(e),transformObject:{}},ur(Xs(e))),{events:o})))},dragGroupEnd:function(t,e){var r=this,n=tn(t,"beforeRenderable",e),i=t.moveables,o=n.map(function(u,l){var f=i[l];return r.fillDragEndParams(f,u)});Rt(t,"onRenderGroupEnd",Yt(t,e,k({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:o,transformObject:{},transform:Ys(e)},ur(Xs(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){var r={};return ya(vu(e)||[]).forEach(function(n){r[n.name]=n.functionValue}),Yt(t,e,k({isPinch:!!e.isPinch,transformObject:r,transform:Ys(e)},ur(Xs(e))))},fillDragEndParams:function(t,e){var r={};return ya(vu(e)||[]).forEach(function(n){r[n.name]=n.functionValue}),Yt(t,e,k({isPinch:!!e.isPinch,isDrag:e.isDrag,transformObject:r,transform:Ys(e)},ur(Xs(e))))}};function vo(t,e,r,n,i,o,u){o.clientDistX=o.distX,o.clientDistY=o.distY;var l=i==="Start",f=i==="End",c=i==="After",p=t.state.target,v=o.isRequest,h=n.indexOf("Control")>-1;if(!p||l&&h&&!v&&t.areaElement===o.inputEvent.target)return!1;var g=xt([],W(e),!1);if(v){var m=o.requestAble;g.some(function($){return $.name===m})||g.push.apply(g,xt([],W(t.props.ables.filter(function($){return $.name===m})),!1))}if(!g.length||g.every(function($){return $.dragRelation}))return!1;var b=o.inputEvent,x;f&&b&&(x=document.elementFromPoint(o.clientX,o.clientY)||b.target);var y=!1,w=function(){var $;y=!0,($=o.stop)===null||$===void 0||$.call(o)},C=l&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());C&&t.updateRect(i,!0,!1);var E=o.datas,T=h?"controlGesto":"targetGesto",D=t[T],A=function($,F,Z){if(!(F in $)||D!==t[T])return!1;var X=$.name,et=E[X]||(E[X]={});if(l&&(et.isEventStart=!Z||!$[Z]||$[Z](t,o)),!et.isEventStart)return!1;var G=$[F](t,k(k({},o),{stop:w,datas:et,originalDatas:E,inputTarget:x}));return t._emitter.off(),l&&G===!1&&(et.isEventStart=!1),G};C&&g.forEach(function($){$.unset&&$.unset(t)}),A(Mm,"drag".concat(n).concat(i));var M=0,I=0;r.forEach(function($){if(y)return!1;var F="".concat($).concat(n).concat(i),Z="".concat($).concat(n,"Condition");i===""&&!v&&CI(t.state,o);var X=g.filter(function(j){return j[F]});X=X.filter(function(j,U){return j.name&&X.indexOf(j)===U});var et=X.filter(function(j){return A(j,F,Z)}),G=et.length;y&&++M,G&&++I,!y&&l&&X.length&&!G&&(M+=X.filter(function(j){var U=j.name,J=E[U];return J.isEventStart?j.dragRelation!=="strong":!1}).length?1:0)}),(!c||I)&&A(Rm,"drag".concat(n).concat(i));var P=D!==t[T]||M===r.length;if((f||y||P)&&(t.state.gestos={},t.moveables&&t.moveables.forEach(function($){$.state.gestos={}}),g.forEach(function($){$.unset&&$.unset(t)})),l&&!P&&!v&&I&&t.props.preventDefault&&(o==null||o.preventDefault()),t.isUnmounted||P)return!1;if(!l&&I&&!u||f){var H=t.props.flushSync||am;H(function(){t.updateRect(f?i:"",!0,!1),t.forceUpdate()})}return!l&&!f&&!c&&I&&!u&&vo(t,e,r,n,i+"After",o),!0}function Cd(t,e){return function(r,n){var i;n===void 0&&(n=r.inputEvent.target);var o=n,u=t.areaElement,l=t._dragTarget;return!l||!e&&(!((i=t.controlGesto)===null||i===void 0)&&i.isFlag())?!1:o===l||l.contains(o)||o===u||!t.isMoveableElement(o)&&!t.controlBox.contains(o)||Ge(o,"moveable-area")||Ge(o,"moveable-padding")||Ge(o,"moveable-edgeDraggable")}}function Om(t,e,r){var n=t.controlBox,i=[],o=t.props,u=o.dragArea,l=t.state.target,f=o.dragTarget;i.push(n),(!u||f)&&i.push(e),!u&&f&&l&&e!==l&&o.dragTargetSelf&&i.push(l);var c=Cd(t);return Am(t,i,"targetAbles",r,{dragStart:c,pinchStart:c})}function Tm(t,e){var r=t.controlBox,n=[];n.push(r);var i=Cd(t,!0),o=function(u,l){if(l===void 0&&(l=u.inputEvent.target),l===r)return!0;var f=i(u,l);return!f};return Am(t,n,"controlAbles",e,{dragStart:o,pinchStart:o})}function Am(t,e,r,n,i){i===void 0&&(i={});var o=r==="targetAbles",u=t.props,l=u.pinchOutside,f=u.pinchThreshold,c=u.preventClickEventOnDrag,p=u.preventClickDefault,v=u.checkInput,h=u.dragFocusedInput,g=u.preventDefault,m=g===void 0?!0:g,b=u.preventRightClick,x=b===void 0?!0:b,y=u.preventWheelClick,w=y===void 0?!0:y,C=u.dragContainer,E=hn(C,!0),T={preventDefault:m,preventRightClick:x,preventWheelClick:w,container:E||ni(t.getControlBoxElement()),pinchThreshold:f,pinchOutside:l,preventClickEventOnDrag:o?c:!1,preventClickEventOnDragStart:o?p:!1,preventClickEventByCondition:o?null:function(M){return t.controlBox.contains(M.target)},checkInput:o?v:!1,dragFocusedInput:h},D=new RT(e,T),A=n==="Control";return["drag","pinch"].forEach(function(M){["Start","","End"].forEach(function(I){D.on("".concat(M).concat(I),function(P){var H,$=P.eventType,F=M==="drag"&&P.isPinch;if(i[$]&&!i[$](P)){P.stop();return}if(!F){var Z=M==="drag"?[M]:["drag",M],X=xt([],W(t[r]),!1),et=vo(t,X,Z,n,I,P);et?(t.props.stopPropagation||I==="Start"&&A)&&((H=P==null?void 0:P.inputEvent)===null||H===void 0||H.stopPropagation()):P.stop()}})})}),D}var rP=function(){function t(e,r,n){var i=this;this.target=e,this.moveable=r,this.eventName=n,this.ables=[],this._onEvent=function(o){var u=i.eventName,l=i.moveable;l.state.disableNativeEvent||i.ables.forEach(function(f){f[u](l,{inputEvent:o})})},e.addEventListener(n.toLowerCase(),this._onEvent)}return t.prototype.setAbles=function(e){this.ables=e},t.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function nP(t,e,r,n){var i;r===void 0&&(r=e);var o=z1(t,e),u=o.matrixes,l=o.is3d,f=o.targetMatrix,c=o.transformOrigin,p=o.targetOrigin,v=o.offsetContainer,h=o.hasFixed,g=o.zoom,m=mA(v,r),b=m.matrixes,x=m.is3d,y=m.offsetContainer,w=m.zoom,C=n,E=4,T=t.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in t,D=f,A=ge(E),M=ge(E),I=ge(E),P=ge(E),H=u.length,$=b.map(function(U){return k(k({},U),{matrix:U.matrix?xt([],W(U.matrix),!1):void 0})}).reverse();u.reverse(),!l&&C&&(D=nn(D,3,4),_c(u)),!x&&C&&_c($),$.forEach(function(U){M=ce(M,U.matrix,E)});var F=r||pi(t),Z=((i=$[0])===null||i===void 0?void 0:i.target)||Co(F,F,!0).offsetParent,X=$.slice(1).reduce(function(U,J){return ce(U,J.matrix,E)},ge(E));u.forEach(function(U,J){if(H-2===J&&(I=A.slice()),H-1===J&&(P=A.slice()),!U.matrix){var q=u[J+1],st=xI(U,q,Z,E,ce(X,A,E));U.matrix=Li(st,E)}A=ce(A,U.matrix,E)});var et=!T&&l;D||(D=ge(et?4:3));var G=Vu(T&&D.length===16?nn(D,4,3):D,et),j=M;return M=h1(M,E,E),{hasZoom:g!==1||w!==1,hasFixed:h,matrixes:u,rootMatrix:M,originalRootMatrix:j,beforeMatrix:I,offsetMatrix:P,allMatrix:A,targetMatrix:D,targetTransform:G,inlineTransform:t.style.transform,transformOrigin:c,targetOrigin:p,is3d:C,offsetContainer:v,offsetRootContainer:y}}function iP(t,e,r,n){r===void 0&&(r=e);var i=0,o=0,u=0,l={},f=lm(t);if(t&&(i=f.offsetWidth,o=f.offsetHeight),t){var c=nP(t,e,r,n),p=ga(c.allMatrix,c.transformOrigin,i,o);l=k(k({},c),p);var v=ga(c.allMatrix,[50,50],100,100);u=fm([v.pos1,v.pos2],v.direction)}var h=4;return k(k(k({hasZoom:!1,width:i,height:o,rotation:u},f),{originalRootMatrix:ge(h),rootMatrix:ge(h),beforeMatrix:ge(h),offsetMatrix:ge(h),allMatrix:ge(h),targetMatrix:ge(h),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),l)}function Sc(t,e,r,n,i,o){o===void 0&&(o=[]);var u=1,l=[0,0],f=qs(),c=qs(),p=qs(),v=qs(),h=[0,0],g={},m=iP(e,r,i,!0);if(e){var b=Sr(e);o.forEach(function($){g[$]=b($)});var x=m.is3d?4:3,y=ga(m.offsetMatrix,re(m.transformOrigin,g1(m.targetMatrix,x)),m.width,m.height);u=y.direction,l=re(y.origin,[y.left-m.left,y.top-m.top]),v=po(m.offsetRootContainer);var w=Co(n,n,!0).offsetParent||m.offsetRootContainer;if(m.hasZoom){var C=ga(ce(m.originalRootMatrix,m.allMatrix),m.transformOrigin,m.width,m.height),E=ga(m.originalRootMatrix,_u(Sr(w)("transformOrigin")).map(function($){return parseFloat($)}),w.offsetWidth,w.offsetHeight);if(f=Af(C,v),p=Af(E,v,w,!0),t){var T=C.left,D=C.top;c=Af({left:T,top:D,bottom:D,right:D},v)}}else{f=po(e),p=gA(w),t&&(c=po(t));var A=p.left,M=p.top,I=p.clientLeft,P=p.clientTop,H=[f.left-A,f.top-M];h=Pt(Ea(m.rootMatrix,H,4),[I+m.left,P+m.top])}}return k({targetClientRect:f,containerClientRect:p,moveableClientRect:c,rootContainerClientRect:v,beforeDirection:u,beforeOrigin:l,originalBeforeOrigin:l,target:e,style:g,offsetDelta:h},m)}function Dg(t){var e=t.pos1,r=t.pos2,n=t.pos3,i=t.pos4;if(!e||!r||!n||!i)return null;var o=zi([e,r,n,i]),u=[o.minX,o.minY],l=Pt(t.origin,u);return e=Pt(e,u),r=Pt(r,u),n=Pt(n,u),i=Pt(i,u),k(k({},t),{left:t.left,top:t.top,posDelta:u,pos1:e,pos2:r,pos3:n,pos4:i,origin:l,beforeOrigin:l,isPersisted:!0})}var Da=function(t){Lo(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state=k({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},Sc(null)),r.renderState={},r.enabledAbles=[],r.targetAbles=[],r.controlAbles=[],r.rotation=0,r.scale=[1,1],r.isMoveableMounted=!1,r.isUnmounted=!1,r.events={mouseEnter:null,mouseLeave:null},r._emitter=new Gu,r._prevOriginalDragTarget=null,r._originalDragTarget=null,r._prevDragTarget=null,r._dragTarget=null,r._prevPropTarget=null,r._propTarget=null,r._prevDragArea=!1,r._isPropTargetChanged=!1,r._hasFirstTarget=!1,r._reiszeObserver=null,r._observerId=0,r._mutationObserver=null,r._rootContainer=null,r._viewContainer=null,r._viewClassNames=[],r._store={},r.checkUpdateRect=function(){if(!r.isDragging()){var n=r.props.parentMoveable;if(n){n.checkUpdateRect();return}bO(r._observerId),r._observerId=$0(function(){r.isDragging()||r.updateRect()})}},r._onPreventClick=function(n){n.stopPropagation(),n.preventDefault()},r}return e.prototype.render=function(){var r=this.props,n=this.getState(),i=r.parentPosition,o=r.className,u=r.target,l=r.zoom,f=r.cspNonce,c=r.translateZ,p=r.cssStyled,v=r.groupable,h=r.linePadding,g=r.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var m=W(i||[0,0],2),b=m[0],x=m[1],y=n.left,w=n.top,C=n.target,E=n.direction,T=n.hasFixed,D=n.offsetDelta,A=r.targets,M=this.isDragging(),I={};this.getEnabledAbles().forEach(function(X){I["data-able-".concat(X.name.toLowerCase())]=!0});var P=this._getAbleClassName(),H=A&&A.length&&(C||v)||u||!this._hasFirstTarget&&this.state.isPersisted,$=this.controlBox||this.props.firstRenderState||this.props.persistData,F=[y-b,w-x];!v&&r.useAccuratePosition&&(F[0]+=D[0],F[1]+=D[1]);var Z={position:T?"fixed":"absolute",display:H?"block":"none",visibility:$?"visible":"hidden",transform:"translate3d(".concat(F[0],"px, ").concat(F[1],"px, ").concat(c,")"),"--zoom":l,"--zoompx":"".concat(l,"px")};return h&&(Z["--moveable-line-padding"]=h),g&&(Z["--moveable-control-padding"]=g),Qr(p,k({cspNonce:f,ref:In(this,"controlBox"),className:"".concat(It("control-box",E===-1?"reverse":"",M?"dragging":"")," ").concat(P," ").concat(o)},I,{onClick:this._onPreventClick,style:Z}),this.renderAbles(),this._renderLines())},e.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var r=this.props,n=r.parentMoveable,i=r.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!i&&!n&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},e.prototype.componentDidUpdate=function(r){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(r)},e.prototype.componentWillUnmount=function(){var r,n;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),(r=this._reiszeObserver)===null||r===void 0||r.disconnect(),(n=this._mutationObserver)===null||n===void 0||n.disconnect();var i=this._viewContainer;i&&this._changeAbleViewClassNames([]),ua(this,!1),ua(this,!0);var o=this.events;for(var u in o){var l=o[u];l&&l.destroy()}},e.prototype.getTargets=function(){var r=this.props.target;return r?[r]:[]},e.prototype.getAble=function(r){var n=this.props.ables||[];return yr(n,function(i){return i.name===r})},e.prototype.getContainer=function(){var r=this.props,n=r.parentMoveable,i=r.wrapperMoveable,o=r.container;return o||i&&i.getContainer()||n&&n.getContainer()||this.controlBox.parentElement},e.prototype.getControlBoxElement=function(){return this.controlBox},e.prototype.getDragElement=function(){return this._dragTarget},e.prototype.isMoveableElement=function(r){var n;return r&&(((n=r.getAttribute)===null||n===void 0?void 0:n.call(r,"class"))||"").indexOf(ad)>-1},e.prototype.dragStart=function(r,n){n===void 0&&(n=r.target);var i=this.targetGesto,o=this.controlGesto;return i&&Cd(this)({inputEvent:r},n)?i.isFlag()||i.triggerDragStart(r):o&&this.isMoveableElement(n)&&(o.isFlag()||o.triggerDragStart(r)),this},e.prototype.hitTest=function(r){var n=this.state,i=n.target,o=n.pos1,u=n.pos2,l=n.pos3,f=n.pos4,c=n.targetClientRect;if(!i)return 0;var p;if(Ra(r)){var v=r.getBoundingClientRect();p={left:v.left,top:v.top,width:v.width,height:v.height}}else p=k({width:0,height:0},r);var h=p.left,g=p.top,m=p.width,b=p.height,x=Kh([o,u,f,l],c),y=ST(x,[[h,g],[h+m,g],[h+m,g+b],[h,g+b]]),w=x1(x);return!y||!w?0:Math.min(100,y/w*100)},e.prototype.isInside=function(r,n){var i=this.state,o=i.target,u=i.pos1,l=i.pos2,f=i.pos3,c=i.pos4,p=i.targetClientRect;return o?ac([r,n],Kh([u,l,c,f],p)):!1},e.prototype.updateRect=function(r,n,i){i===void 0&&(i=!0);var o=this.props,u=!o.parentPosition&&!o.wrapperMoveable;u&&wa(!0);var l=o.parentMoveable,f=this.state,c=f.target||o.target,p=this.getContainer(),v=l?l._rootContainer:this._rootContainer,h=Sc(this.controlBox,c,p,p,v||p,this._getRequestStyles());if(!c&&this._hasFirstTarget&&o.persistData){var g=Dg(o.persistData);for(var m in g)h[m]=g[m]}u&&wa(),this.updateState(h,l?!1:i)},e.prototype.isDragging=function(r){var n,i,o=this.targetGesto,u=this.controlGesto;if(o!=null&&o.isFlag()){if(!r)return!0;var l=o.getEventData();return!!(!((n=l[r])===null||n===void 0)&&n.isEventStart)}if(u!=null&&u.isFlag()){if(!r)return!0;var l=u.getEventData();return!!(!((i=l[r])===null||i===void 0)&&i.isEventStart)}return!1},e.prototype.updateTarget=function(r){this.updateRect(r,!0)},e.prototype.getRect=function(){var r=this.state,n=Yr(this.state),i=W(n,4),o=i[0],u=i[1],l=i[2],f=i[3],c=$r(n),p=r.width,v=r.height,h=c.width,g=c.height,m=c.left,b=c.top,x=[r.left,r.top],y=re(x,r.origin),w=re(x,r.beforeOrigin),C=r.transformOrigin;return{width:h,height:g,left:m,top:b,pos1:o,pos2:u,pos3:l,pos4:f,offsetWidth:p,offsetHeight:v,beforeOrigin:w,origin:y,transformOrigin:C,rotation:this.getRotation()}},e.prototype.getManager=function(){return this},e.prototype.stopDrag=function(r){if(!r||r==="target"){var n=this.targetGesto;(n==null?void 0:n.isIdle())===!1&&bc(this,!1),n==null||n.stop()}if(!r||r==="control"){var n=this.controlGesto;(n==null?void 0:n.isIdle())===!1&&bc(this,!0),n==null||n.stop()}},e.prototype.getRotation=function(){var r=this.state,n=r.pos1,i=r.pos2,o=r.direction;return MI(n,i,o)},e.prototype.request=function(r,n,i){n===void 0&&(n={});var o=this,u=o.props,l=u.parentMoveable||u.wrapperMoveable||o,f=l.props.ables,c=u.groupable,p=yr(f,function(y){return y.name===r});if(this.isDragging()||!p||!p.request)return{request:function(){return this},requestEnd:function(){return this}};var v=p.request(o),h=i||n.isInstant,g=v.isControl?"controlAbles":"targetAbles",m="".concat(c?"Group":"").concat(v.isControl?"Control":""),b=xt([],W(l[g]),!1),x={request:function(y){return vo(o,b,["drag"],m,"",k(k({},v.request(y)),{requestAble:r,isRequest:!0}),h),x},requestEnd:function(){return vo(o,b,["drag"],m,"End",k(k({},v.requestEnd()),{requestAble:r,isRequest:!0}),h),x}};return vo(o,b,["drag"],m,"Start",k(k({},v.requestStart(n)),{requestAble:r,isRequest:!0}),h),h?x.request(n).requestEnd():x},e.prototype.getMoveables=function(){return[this]},e.prototype.destroy=function(){this.componentWillUnmount()},e.prototype.updateRenderPoses=function(){var r=this.getState(),n=this.props,i=n.padding,o=r.originalBeforeOrigin,u=r.transformOrigin,l=r.allMatrix,f=r.is3d,c=r.pos1,p=r.pos2,v=r.pos3,h=r.pos4,g=r.left,m=r.top,b=r.isPersisted,x=n.zoom||1;if(!i&&x<=1){r.renderPoses=[c,p,v,h],r.renderLines=[[c,p],[p,h],[h,v],[v,c]];return}var y=xm(i||{}),w=y.left,C=y.top,E=y.bottom,T=y.right,D=f?4:3,A=[];b?A=u:this.controlBox&&n.groupable?A=o:A=re(o,[g,m]);var M=du(D,Li(A.map(function(Z){return-Z}),D),l,Li(u,D)),I=Wr(M,c,[-w,-C],D),P=Wr(M,p,[T,-C],D),H=Wr(M,v,[-w,E],D),$=Wr(M,h,[T,E],D);if(r.renderPoses=[I,P,H,$],r.renderLines=[[I,P],[P,$],[$,H],[H,I]],x){var F=x/2;r.renderLines=[[Wr(M,c,[-w-F,-C],D),Wr(M,p,[T+F,-C],D)],[Wr(M,p,[T,-C-F],D),Wr(M,h,[T,E+F],D)],[Wr(M,h,[T+F,E],D),Wr(M,v,[-w-F,E],D)],[Wr(M,v,[-w,E+F],D),Wr(M,c,[-w,-C-F],D)]]}},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var r=this.props,n=r.target,i=r.container,o=r.parentMoveable,u=this.state,l=u.target,f=u.container;if(!(!l&&!n)){this.updateAbles();var c=!xc(l,n),p=c||!xc(f,i);if(p){var v=i||this.controlBox;v&&this.unsetAbles(),this.updateState({target:n,container:i}),!o&&v&&this.updateRect("End",!1,!1),this._isPropTargetChanged=c}}},e.prototype.waitToChangeTarget=function(){return new Promise(function(){})},e.prototype.triggerEvent=function(r,n){var i=this.props;if(this._emitter.trigger(r,n),i.parentMoveable&&n.isRequest&&!n.isRequestChild)return i.parentMoveable.triggerEvent(r,n,!0);var o=i[r];return o&&o(n)},e.prototype.useCSS=function(r,n){var i=this.props.customStyledMap,o=r+n;return i[o]||(i[o]=w1(r,n)),i[o]},e.prototype.getState=function(){var r,n=this.props;(n.target||!((r=n.targets)===null||r===void 0)&&r.length)&&(this._hasFirstTarget=!0);var i=this.controlBox,o=n.persistData,u=n.firstRenderState;if(u&&!i)return u;if(!this._hasFirstTarget&&o){var l=Dg(o);if(l)return this.updateState(l,!1),this.state}return this.state.isPersisted=!1,this.state},e.prototype.updateSelectors=function(){},e.prototype.unsetAbles=function(){var r=this;this.targetAbles.forEach(function(n){n.unset&&n.unset(r)})},e.prototype.updateAbles=function(r,n){r===void 0&&(r=this.props.ables),n===void 0&&(n="");var i=this.props,o=i.triggerAblesSimultaneously,u=this.getEnabledAbles(r),l="drag".concat(n,"Start"),f="pinch".concat(n,"Start"),c="drag".concat(n,"ControlStart"),p=Ks(u,[l,f],o),v=Ks(u,[c],o);this.enabledAbles=u,this.targetAbles=p,this.controlAbles=v},e.prototype.updateState=function(r,n){if(n){if(this.isUnmounted)return;this.setState(r)}else{var i=this.state;for(var o in r)i[o]=r[o]}},e.prototype.getEnabledAbles=function(r){r===void 0&&(r=this.props.ables);var n=this.props;return r.filter(function(i){return i&&(i.always&&n[i.name]!==!1||n[i.name])})},e.prototype.renderAbles=function(){var r=this,n=this.props,i=n.triggerAblesSimultaneously,o={createElement:Qr};return this.renderState={},wI(gm(Ks(this.getEnabledAbles(),["render"],i).map(function(u){var l=u.render;return l(r,o)||[]})).filter(function(u){return u}),function(u){var l=u.key;return l}).map(function(u){return u[0]})},e.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e.prototype._getRequestStyles=function(){var r=this.getEnabledAbles().reduce(function(n,i){var o,u,l=(u=(o=i.requestStyle)===null||o===void 0?void 0:o.call(i))!==null&&u!==void 0?u:[];return xt(xt([],W(n),!1),W(l),!1)},xt([],W(this.props.requestStyles||[]),!1));return r},e.prototype._updateObserver=function(r){this._updateResizeObserver(r),this._updateMutationObserver(r)},e.prototype._updateEvents=function(){var r=this.targetAbles.length,n=this.controlAbles.length,i=this._dragTarget,o=!r&&this.targetGesto||this._isTargetChanged(!0);o&&(ua(this,!1),this.updateState({gestos:{}})),n||ua(this,!0),i&&r&&!this.targetGesto&&(this.targetGesto=Om(this,i,"")),!this.controlGesto&&n&&(this.controlGesto=Tm(this,"Control"))},e.prototype._updateTargets=function(){var r=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=r.dragArea,this._propTarget=r.target,this._originalDragTarget=r.dragTarget||r.target,this._dragTarget=hn(this._originalDragTarget,!0)},e.prototype._renderLines=function(){var r=this.props,n=r,i=n.zoom,o=n.hideDefaultLines,u=n.hideChildMoveableDefaultLines,l=n.parentMoveable;if(o||l&&u)return[];var f=this.getState(),c={createElement:Qr};return f.renderLines.map(function(p,v){return wo(c,"",p[0],p[1],i,"render-line-".concat(v))})},e.prototype._isTargetChanged=function(r){var n=this.props,i=n.dragTarget||n.target,o=this._prevOriginalDragTarget,u=this._prevDragArea,l=n.dragArea,f=!l&&o!==i,c=(r||l)&&u!==l;return f||c||this._prevPropTarget!=this._propTarget},e.prototype._updateNativeEvents=function(){var r=this,n=this.props,i=n.dragArea?this.areaElement:this.state.target,o=this.events,u=zn(o);if(this._isTargetChanged())for(var l in o){var f=o[l];f&&f.destroy(),o[l]=null}if(i){var c=this.enabledAbles;u.forEach(function(p){var v=Ks(c,[p]),h=v.length>0,g=o[p];if(!h){g&&(g.destroy(),o[p]=null);return}g||(g=new rP(i,r,p),o[p]=g),g.setAbles(v)})}},e.prototype._checkUpdateRootContainer=function(){var r=this.props.rootContainer;!this._rootContainer&&r&&(this._rootContainer=hn(r,!0))},e.prototype._checkUpdateViewContainer=function(){var r=this.props.viewContainer;!this._viewContainer&&r&&(this._viewContainer=hn(r,!0));var n=this._viewContainer;n&&this._changeAbleViewClassNames(xt(xt([],W(this._getAbleViewClassNames()),!1),[this.isDragging()?BI:""],!1))},e.prototype._changeAbleViewClassNames=function(r){var n=this._viewContainer,i=hm(r.filter(Boolean),function(c){return c}).map(function(c){var p=W(c,1),v=p[0];return v}),o=this._viewClassNames,u=To(o,i),l=u.removed,f=u.added;l.forEach(function(c){q0(n,o[c])}),f.forEach(function(c){V0(n,i[c])}),this._viewClassNames=i},e.prototype._getAbleViewClassNames=function(){var r=this;return(this.getEnabledAbles().map(function(n){var i;return((i=n.viewClassName)===null||i===void 0?void 0:i.call(n,r))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},e.prototype._getAbleClassName=function(r){var n=this;r===void 0&&(r="");var i=this.getEnabledAbles(),o=this.targetGesto,u=this.controlGesto,l=o!=null&&o.isFlag()?o.getEventData():{},f=u!=null&&u.isFlag()?u.getEventData():{};return i.map(function(c){var p,v,h,g=c.name,m=((p=c.className)===null||p===void 0?void 0:p.call(c,n))||"";return(!((v=l[g])===null||v===void 0)&&v.isEventStart||!((h=f[g])===null||h===void 0)&&h.isEventStart)&&(m+=" ".concat(It("".concat(g).concat(r,"-dragging")))),m.trim()}).filter(Boolean).join(" ")},e.prototype._updateResizeObserver=function(r){var n,i=this.props,o=i.target,u=ni(this.getControlBoxElement());if(!u.ResizeObserver||!o||!i.useResizeObserver){(n=this._reiszeObserver)===null||n===void 0||n.disconnect();return}if(!(r.target===o&&this._reiszeObserver)){var l=new u.ResizeObserver(this.checkUpdateRect);l.observe(o,{box:"border-box"}),this._reiszeObserver=l}},e.prototype._updateMutationObserver=function(r){var n=this,i,o=this.props,u=o.target,l=ni(this.getControlBoxElement());if(!l.MutationObserver||!u||!o.useMutationObserver){(i=this._mutationObserver)===null||i===void 0||i.disconnect();return}if(!(r.target===u&&this._mutationObserver)){var f=new l.MutationObserver(function(c){var p,v;try{for(var h=GT(c),g=h.next();!g.done;g=h.next()){var m=g.value;m.type==="attributes"&&m.attributeName==="style"&&n.checkUpdateRect()}}catch(b){p={error:b}}finally{try{g&&!g.done&&(v=h.return)&&v.call(h)}finally{if(p)throw p.error}}});f.observe(u,{attributes:!0}),this._mutationObserver=f}},e.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:am,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},e}(e1),Ed={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(t,e){var r,n=t.props,i=n.targets||[],o=t.getState(),u=o.left,l=o.top,f=o.isPersisted,c=n.zoom||1,p=t.renderGroupRects,v=((r=n.persistData)===null||r===void 0?void 0:r.children)||[];f?i=v.map(function(){return null}):v=[];var h=la(t,"parentPosition",[u,l],function(m){return m.join(",")}),g=la(t,"requestStyles",t.getRequestChildStyles(),function(m){return m.join(",")});return t.moveables=t.moveables.slice(0,i.length),xt(xt([],W(i.map(function(m,b){return e.createElement(Da,{key:"moveable"+b,ref:G0(t,"moveables",b),target:m,origin:!1,requestStyles:g,cssStyled:n.cssStyled,customStyledMap:n.customStyledMap,useResizeObserver:n.useResizeObserver,useMutationObserver:n.useMutationObserver,hideChildMoveableDefaultLines:n.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:[u,l],persistData:v[b],zoom:c})})),!1),W(gm(p.map(function(m,b){var x=m.pos1,y=m.pos2,w=m.pos3,C=m.pos4,E=[x,y,w,C];return[[0,1],[1,3],[3,2],[2,0]].map(function(T,D){var A=W(T,2),M=A[0],I=A[1];return wo(e,"",Pt(E[M],h),Pt(E[I],h),c,"group-rect-".concat(b,"-").concat(D))})}))),!1)}},aP=zo("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var r=t.props.target,n=e.inputEvent,i=e.inputTarget,o=t.isMoveableElement(i),u=!o&&t.controlBox.contains(i);if(!(!n||!i||e.isDrag||t.isMoveableElement(i)||u)){var l=r.contains(i);Rt(t,"onClick",Yt(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:r===i,moveableTarget:t.props.target,containsTarget:l}))}},dragGroupEnd:function(t,e){var r=e.inputEvent,n=e.inputTarget;if(!(!r||!n||e.isDrag||t.isMoveableElement(n)||e.datas.inputTarget===n)){var i=t.props.targets,o=i.indexOf(n),u=o>-1,l=!1;o===-1&&(o=Ln(i,function(f){return f.contains(n)}),l=o>-1),Rt(t,"onClickGroup",Yt(t,e,{isDouble:e.isDouble,targets:i,inputTarget:n,targetIndex:o,isTarget:u,containsTarget:l,moveableTarget:i[o]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function ra(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),k(k({},t),{datas:e})}var oP=zo("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(t,e){var r=t.props,n=r.edgeDraggable;return n?G1(e,"edgeDraggable",n,t.getState().renderPoses,r.zoom):[]},dragCondition:function(t,e){var r,n=t.props,i=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&Ge(i,It("direction"))&&Ge(i,It("edge"))&&Ge(i,It("edgeDraggable"))},dragStart:function(t,e){return or.dragStart(t,ra(e))},drag:function(t,e){return or.drag(t,ra(e))},dragEnd:function(t,e){return or.dragEnd(t,ra(e))},dragGroupCondition:function(t,e){var r,n=t.props,i=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&Ge(i,It("direction"))&&Ge(i,It("line"))},dragGroupStart:function(t,e){return or.dragGroupStart(t,ra(e))},dragGroup:function(t,e){return or.dragGroup(t,ra(e))},dragGroupEnd:function(t,e){return or.dragGroupEnd(t,ra(e))},unset:function(t){return or.unset(t)}}),Im={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},Dd=[Mm,wm,fI,OI,or,oP,hc,TI,II,XA,kI,FI,LI,ZI,KI,tP,Ed,Im,aP,Sm,Rm],sP=Dd.reduce(function(t,e){return(e.events||[]).forEach(function(r){X0(t,r)}),t},[]),uP=Dd.reduce(function(t,e){return(e.props||[]).forEach(function(r){X0(t,r)}),t},[]);function Mg(t,e){var r=W(t,3),n=r[0],i=r[1],o=r[2];return(n*e[0]+i*e[1]+o)/Math.sqrt(n*n+i*i)}function Js(t,e){var r=W(t,2),n=r[0],i=r[1];return-n*e[0]-i*e[1]}function Rg(t,e){return Math.max.apply(Math,xt([],W(t.map(function(r){var n=W(r,4),i=n[0],o=n[1],u=n[2],l=n[3];return Math.max(i[e],o[e],u[e],l[e])})),!1))}function Og(t,e){return Math.min.apply(Math,xt([],W(t.map(function(r){var n=W(r,4),i=n[0],o=n[1],u=n[2],l=n[3];return Math.min(i[e],o[e],u[e],l[e])})),!1))}function lP(t,e){var r,n,i,o=[0,0],u=[0,0],l=[0,0],f=[0,0],c=0,p=0;if(!t.length)return{pos1:o,pos2:u,pos3:l,pos4:f,minX:0,minY:0,maxX:0,maxY:0,width:c,height:p,rotation:e};var v=Nt(e,fr);if(v%90){var h=v/180*Math.PI,g=Math.tan(h),m=-1/g,b=[cc,Jh],x=[[0,0],[0,0]],y=[cc,Jh],w=[[0,0],[0,0]];t.forEach(function(nt){nt.forEach(function(dt){var ot=Mg([-g,1,0],dt),_t=Mg([-m,1,0],dt);b[0]>ot&&(x[0]=dt,b[0]=ot),b[1]<ot&&(x[1]=dt,b[1]=ot),y[0]>_t&&(w[0]=dt,y[0]=_t),y[1]<_t&&(w[1]=dt,y[1]=_t)})});var C=W(x,2),E=C[0],T=C[1],D=W(w,2),A=D[0],M=D[1],I=[-g,1,Js([-g,1],E)],P=[-g,1,Js([-g,1],T)],H=[-m,1,Js([-m,1],A)],$=[-m,1,Js([-m,1],M)];r=W([[I,H],[I,$],[P,H],[P,$]].map(function(nt){var dt=W(nt,2),ot=dt[0],_t=dt[1];return nd(ot,_t)[0]}),4),o=r[0],u=r[1],l=r[2],f=r[3],c=y[1]-y[0],p=b[1]-b[0]}else{var F=Og(t,0),Z=Og(t,1),X=Rg(t,0),et=Rg(t,1);if(o=[F,Z],u=[X,Z],l=[F,et],f=[X,et],c=X-F,p=et-Z,v%180){var G=[l,o,f,u];n=W(G,4),o=n[0],u=n[1],l=n[2],f=n[3],c=et-Z,p=X-F}}if(v%360>180){var G=[f,l,u,o];i=W(G,4),o=i[0],u=i[1],l=i[2],f=i[3]}var j=zi([o,u,l,f]),U=j.minX,J=j.minY,q=j.maxX,st=j.maxY;return{pos1:o,pos2:u,pos3:l,pos4:f,width:c,height:p,minX:U,minY:J,maxX:q,maxY:st,rotation:e}}function Pm(t,e){var r=e.map(function(n){if(Be(n)){var i=Pm(t,n),o=i.length;return o>1?i:o===1?i[0]:null}else{var u=yr(t,function(l){var f=l.manager;return f.props.target===n});return u?(u.finded=!0,u.manager):null}}).filter(Boolean);return r.length===1&&Be(r[0])?r[0]:r}var fP=function(t){Lo(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.differ=new b1,r.moveables=[],r.transformOrigin="50% 50%",r.renderGroupRects=[],r._targetGroups=[],r._hasFirstTargets=!1,r}return e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this)},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(r,n,i){var o;i===void 0&&(i=!0);var u=this.state;if(!this.controlBox||u.isPersisted)return;wa(!0),this.moveables.forEach(function(Dt){Dt.updateRect(r,!1,!1)});var l=this.props,f=this.moveables,c=u.target||l.target,p=f.map(function(Dt){return{finded:!1,manager:Dt}}),v=this.props.targetGroups||[],h=Pm(p,v),g=l.useDefaultGroupRotate;h.push.apply(h,xt([],W(p.filter(function(Dt){var At=Dt.finded;return!At}).map(function(Dt){var At=Dt.manager;return At})),!1));var m=[],b=!n||r!==""&&l.updateGroup,x=l.defaultGroupRotate||0;if(!this._hasFirstTargets){var y=(o=l.persistData)===null||o===void 0?void 0:o.rotation;y!=null&&(x=y)}function w(Dt,At,kt){var bt=Dt.map(function(at){if(Be(at)){var lt=w(at,At),ft=[lt.pos1,lt.pos2,lt.pos3,lt.pos4];return m.push(lt),{poses:ft,rotation:lt.rotation}}else return{poses:Yr(at.state),rotation:at.getRotation()}}),Mt=bt.map(function(at){var lt=at.rotation;return lt}),B=0,L=Mt[0],V=Mt.every(function(at){return Math.abs(L-at)<.1});b?B=!g&&V?L:x:B=!g&&!kt&&V?L:At;var rt=bt.map(function(at){var lt=at.poses;return lt}),tt=lP(rt,B);return tt}var C=w(h,this.rotation,!0);b&&(this.rotation=C.rotation,this.transformOrigin=l.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=v,this.renderGroupRects=m;var E=this.transformOrigin,T=this.rotation,D=this.scale,A=C.width,M=C.height,I=C.minX,P=C.minY,H=RI([[0,0],[A,0],[0,M],[A,M]],yd(E,A,M),this.rotation/180*Math.PI),$=zi(H.result),F=$.minX,Z=$.minY,X=" rotate(".concat(T,"deg)")+" scale(".concat(sr(D[0]),", ").concat(sr(D[1]),")"),et="translate(".concat(-F,"px, ").concat(-Z,"px)").concat(X);this.controlBox.style.transform="translate3d(".concat(I,"px, ").concat(P,"px, ").concat(this.props.translateZ||0,")"),c.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(E,";")+"width:".concat(A,"px;height:").concat(M,"px;")+"transform: ".concat(et),u.width=A,u.height=M;var G=this.getContainer(),j=Sc(this.controlBox,c,this.controlBox,this.getContainer(),this._rootContainer||G,[]),U=[j.left,j.top],J=W(Yr(j),4),q=J[0],st=J[1],nt=J[2],dt=J[3],ot=zi([q,st,nt,dt]),_t=[ot.minX,ot.minY],St=sr(D[0]*D[1]);j.pos1=Pt(q,_t),j.pos2=Pt(st,_t),j.pos3=Pt(nt,_t),j.pos4=Pt(dt,_t),j.left=I-j.left+_t[0],j.top=P-j.top+_t[1],j.origin=Pt(re(U,j.origin),_t),j.beforeOrigin=Pt(re(U,j.beforeOrigin),_t),j.originalBeforeOrigin=re(U,j.originalBeforeOrigin),j.transformOrigin=Pt(re(U,j.transformOrigin),_t),c.style.transform="translate(".concat(-F-_t[0],"px, ").concat(-Z-_t[1],"px)")+X,wa(),this.updateState(k(k({},j),{posDelta:_t,direction:St,beforeDirection:St}),i)},e.prototype.getRect=function(){return k(k({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},e.prototype.triggerEvent=function(r,n,i){if(i||r.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,r,n);this._emitter.trigger(r,n)},e.prototype.getRequestChildStyles=function(){var r=this.getEnabledAbles().reduce(function(n,i){var o,u,l=(u=(o=i.requestChildStyle)===null||o===void 0?void 0:o.call(i))!==null&&u!==void 0?u:[];return xt(xt([],W(n),!1),W(l),!1)},[]);return r},e.prototype.getMoveables=function(){return xt([],W(this.moveables),!1)},e.prototype.updateAbles=function(){t.prototype.updateAbles.call(this,xt(xt([],W(this.props.ables),!1),[Ed],!1),"Group")},e.prototype._updateTargets=function(){t.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=hn(this._originalDragTarget,!0)},e.prototype._updateEvents=function(){var r=this.state,n=this.props,i=this._prevDragTarget,o=n.dragTarget||this.areaElement,u=n.targets,l=this.differ.update(u),f=l.added,c=l.changed,p=l.removed,v=f.length||p.length;(v||this._prevOriginalDragTarget!==this._originalDragTarget)&&(ua(this,!1),ua(this,!0),this.updateState({gestos:{}})),i!==o&&(r.target=null),r.target||(r.target=this.areaElement,this.controlBox.style.display="block"),r.target&&(this.targetGesto||(this.targetGesto=Om(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=Tm(this,"GroupControl")));var h=!xc(r.container,n.container);h&&(r.container=n.container),(h||v||this.transformOrigin!==(n.defaultGroupOrigin||"50% 50%")||c.length||u.length&&!bm(this._targetGroups,n.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!v},e.prototype._updateObserver=function(){},e.defaultProps=k(k({},Da.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(Da),cP=function(t){Lo(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.moveables=[],r}return e.prototype.render=function(){var r=this,n,i=this.props,o=i.cspNonce,u=i.cssStyled,l=i.persistData,f=i.targets||[],c=f.length,p=this.isUnmounted||!c,v=(n=l==null?void 0:l.children)!==null&&n!==void 0?n:[];return p&&!c&&v.length?f=v.map(function(){return null}):p||(v=[]),Qr(u,{cspNonce:o,ref:In(this,"controlBox"),className:It("control-box")},f.map(function(h,g){var m,b,x=(b=(m=i.individualGroupableProps)===null||m===void 0?void 0:m.call(i,h,g))!==null&&b!==void 0?b:{};return Qr(Da,k({key:"moveable"+g,ref:G0(r,"moveables",g)},i,x,{target:h,wrapperMoveable:r,isWrapperMounted:r.isMoveableMounted,persistData:v[g]}))}))},e.prototype.componentDidMount=function(){},e.prototype.componentDidUpdate=function(){},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(r,n,i){i===void 0&&(i=!0),wa(!0),this.moveables.forEach(function(o){o.updateRect(r,n,i)}),wa()},e.prototype.getRect=function(){return k(k({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},e.prototype.request=function(r,n,i){n===void 0&&(n={});var o=this.moveables.map(function(f){return f.request(r,k(k({},n),{isInstant:!1}),!1)}),u=i||n.isInstant,l={request:function(f){return o.forEach(function(c){return c.request(f)}),this},requestEnd:function(){return o.forEach(function(f){return f.requestEnd()}),this}};return u?l.request(n).requestEnd():l},e.prototype.dragStart=function(r,n){n===void 0&&(n=r.target);var i=n,o=yr(this.moveables,function(u){var l=u.getTargets()[0],f=u.getControlBoxElement(),c=u.getDragElement();return!l||!c?!1:c===i||c.contains(i)||c!==l&&l===i||l.contains(i)||f===i||f.contains(i)});return o&&o.dragStart(r,n),this},e.prototype.hitTest=function(){return 0},e.prototype.isInside=function(){return!1},e.prototype.isDragging=function(){return!1},e.prototype.getDragElement=function(){return null},e.prototype.getMoveables=function(){return xt([],W(this.moveables),!1)},e.prototype.updateRenderPoses=function(){},e.prototype.checkUpdate=function(){},e.prototype.triggerEvent=function(){},e.prototype.updateAbles=function(){},e.prototype._updateEvents=function(){},e.prototype._updateObserver=function(){},e}(Da);function Bm(t,e){var r=[];return t.forEach(function(n){if(n){if(xr(n)){e[n]&&r.push.apply(r,xt([],W(e[n]),!1));return}Be(n)?r.push.apply(r,xt([],W(Bm(n,e)),!1)):r.push(n)}}),r}function Lm(t,e){var r=[];return t.forEach(function(n){if(n){if(xr(n)){e[n]&&r.push.apply(r,xt([],W(e[n]),!1));return}Be(n)?r.push(Lm(n,e)):r.push(n)}}),r}function zm(t,e){return t.length!==e.length||t.some(function(r,n){var i=e[n];return!r&&!i?!1:r!=i?Be(r)&&Be(i)?zm(r,i):!0:!1})}var dP=function(t){Lo(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.refTargets=[],r.selectorMap={},r._differ=new b1,r._elementTargets=[],r._tmpRefTargets=[],r._tmpSelectorMap={},r._onChangeTargets=null,r}return e.makeStyled=function(){var r={},n=this.getTotalAbles();n.forEach(function(o){var u=o.css;u&&u.forEach(function(l){r[l]=!0})});var i=zn(r).join(`
`);this.defaultStyled=w1("div",sO(ad,ZT+i))},e.getTotalAbles=function(){return xt([wm,Ed,Im,Sm],W(this.defaultAbles),!1)},e.prototype.render=function(){var r,n=this.constructor;n.defaultStyled||n.makeStyled();var i=this.props,o=i.ables,u=i.props,l=kT(i,["ables","props"]),f=W(this._updateRefs(!0),2),c=f[0],p=f[1],v=Bm(c,p),h=v.length>1,g=n.getTotalAbles(),m=xt(xt([],W(g),!1),W(o||[]),!1),b=k(k(k({},l),u||{}),{ables:m,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});this._elementTargets=v;var x=null,y=this.moveable,w=l.persistData;if(w!=null&&w.children&&(h=!0),l.individualGroupable)return Qr(cP,k({key:"individual-group",ref:In(this,"moveable")},b,{target:null,targets:v}));if(h){var C=Lm(c,p);if(y&&!y.props.groupable&&!y.props.individualGroupable){var E=y.props.target;E&&v.indexOf(E)>-1&&(x=k({},y.state))}return Qr(fP,k({key:"group",ref:In(this,"moveable")},b,(r=l.groupableProps)!==null&&r!==void 0?r:{},{target:null,targets:v,targetGroups:C,firstRenderState:x}))}else{var T=v[0];if(y&&(y.props.groupable||y.props.individualGroupable)){var D=y.moveables||[],A=yr(D,function(M){return M.props.target===T});A&&(x=k({},A.state))}return Qr(Da,k({key:"single",ref:In(this,"moveable")},b,{target:T,firstRenderState:x}))}},e.prototype.componentDidMount=function(){this._checkChangeTargets()},e.prototype.componentDidUpdate=function(){this._checkChangeTargets()},e.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},e.prototype.getTargets=function(){var r,n;return(n=(r=this.moveable)===null||r===void 0?void 0:r.getTargets())!==null&&n!==void 0?n:[]},e.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},e.prototype.waitToChangeTarget=function(){var r=this,n;return this._onChangeTargets=function(){r._onChangeTargets=null,n()},new Promise(function(i){n=i})},e.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},e.prototype.getManager=function(){return this.moveable},e.prototype.getMoveables=function(){return this.moveable.getMoveables()},e.prototype.getDragElement=function(){return this.moveable.getDragElement()},e.prototype._updateRefs=function(r){var n=this.refTargets,i=xd(this.props.target||this.props.targets),o=typeof document<"u",u=zm(n,i),l=this.selectorMap,f={};return this.refTargets.forEach(function c(p){if(xr(p)){var v=l[p];v?f[p]=l[p]:o&&(u=!0,f[p]=[].slice.call(document.querySelectorAll(p)))}else Be(p)&&p.forEach(c)}),this._tmpRefTargets=i,this._tmpSelectorMap=f,[i,f,!r&&u]},e.prototype._checkChangeTargets=function(){var r,n,i;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var o=this._differ.update(this._elementTargets),u=o.added,l=o.removed,f=u.length||l.length;f&&((n=(r=this.props).onChangeTargets)===null||n===void 0||n.call(r,{moveable:this.moveable,targets:this._elementTargets}),(i=this._onChangeTargets)===null||i===void 0||i.call(this));var c=W(this._updateRefs(),3),p=c[0],v=c[1],h=c[2];this.refTargets=p,this.selectorMap=v,h&&this.forceUpdate()},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,FT([uO(O1)],e.prototype,"moveable",void 0),e}(e1),pP=function(t){Lo(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.defaultAbles=Dd,e}(dP),wc=function(t,e){return wc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wc(t,e)};function Md(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Eo=function(){return Eo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Eo.apply(this,arguments)};function vP(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(u=t[l])&&(o=(i<3?u(o):i>3?u(e,r,o):u(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}var hP=function(t){Md(e,t);function e(n){var i=t.call(this,n)||this;return i.state={},i.state=i.props,i}var r=e.prototype;return r.render=function(){return Qr(pP,Eo({ref:In(this,"moveable")},this.state))},e}(jc),Su=uP,km=O1,Fm=sP,gP=function(t){Md(e,t);function e(n,i){i===void 0&&(i={});var o=t.call(this)||this;o.containerProvider=null,o.selfElement=null,o._warp=!1;var u=Eo({},i),l={};Fm.forEach(function(p){l[_O("on ".concat(p))]=function(v){return o.trigger(p,v)}});var f;i.warpSelf?(delete i.warpSelf,o._warp=!0,f=n):(f=Ma(n).createElement("div"),n.appendChild(f)),o.containerProvider=Xh(Qr(hP,Eo({ref:In(o,"innerMoveable")},u,l)),f),o.selfElement=f;var c=u.target;return Be(c)&&c.length>1&&o.updateRect(),o}var r=e.prototype;return r.setState=function(n,i){this.innerMoveable.setState(n,i)},r.forceUpdate=function(n){this.innerMoveable.forceUpdate(n)},r.dragStart=function(n,i){i===void 0&&(i=n.target);var o=this.innerMoveable;o.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(n,i)},r.destroy=function(){var n,i=this.selfElement;Xh(null,i,this.containerProvider),this._warp||(n=i==null?void 0:i.parentElement)===null||n===void 0||n.removeChild(i),this.containerProvider=null,this.off(),this.selfElement=null,this.innerMoveable=null},r.getMoveable=function(){return this.innerMoveable.moveable},e=vP([kh(km,function(n,i){n[i]||(n[i]=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var l=this.getMoveable();if(!(!l||!l[i]))return l[i].apply(l,o)})}),kh(Su,function(n,i){Object.defineProperty(n,i,{get:function(){return this.getMoveable().props[i]},set:function(o){var u;this.setState((u={},u[i]=o,u))},enumerable:!0,configurable:!0})})],e),e}(Gu),mP=function(t){Md(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(gP);const Gm={};km.forEach(t=>{Gm[t]=function(...e){return this.$_moveable[t](...e)}});const Nm={};Su.forEach(t=>{Nm[t]=function(e){this.$_moveable[t]=e}});const _P=_n({name:"moveable",methods:Gm,props:Su,watch:Nm,mounted(){const t={},e=this.$props;Su.forEach(o=>{const u=e[o];Ro(u)||(t[o]=e[o])});const n=this.$refs.moveableElement,i=new mP(n,{...t,warpSelf:!0});Fm.forEach(o=>{i.on(o,u=>{this.$emit(o,{...u})})}),this.$_moveable=i},beforeUnmount(){this.$_moveable.destroy()}}),bP=_P,xP=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},yP={ref:"moveableElement"};function SP(t,e,r,n,i,o){return ue(),Re("div",yP,null,512)}const wP=xP(bP,[["render",SP]]);var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wu={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */wu.exports;(function(t,e){(function(){var r,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",c=500,p="__lodash_placeholder__",v=1,h=2,g=4,m=1,b=2,x=1,y=2,w=4,C=8,E=16,T=32,D=64,A=128,M=256,I=512,P=30,H="...",$=800,F=16,Z=1,X=2,et=3,G=1/0,j=9007199254740991,U=17976931348623157e292,J=NaN,q=4294967295,st=q-1,nt=q>>>1,dt=[["ary",A],["bind",x],["bindKey",y],["curry",C],["curryRight",E],["flip",I],["partial",T],["partialRight",D],["rearg",M]],ot="[object Arguments]",_t="[object Array]",St="[object AsyncFunction]",Dt="[object Boolean]",At="[object Date]",kt="[object DOMException]",bt="[object Error]",Mt="[object Function]",B="[object GeneratorFunction]",L="[object Map]",V="[object Number]",rt="[object Null]",tt="[object Object]",at="[object Promise]",lt="[object Proxy]",ft="[object RegExp]",vt="[object Set]",ut="[object String]",yt="[object Symbol]",Ct="[object Undefined]",wt="[object WeakMap]",Bt="[object WeakSet]",Lt="[object ArrayBuffer]",Qt="[object DataView]",Zt="[object Float32Array]",me="[object Float64Array]",Te="[object Int8Array]",cr="[object Int16Array]",Fn="[object Int32Array]",Ir="[object Uint8Array]",on="[object Uint8ClampedArray]",Le="[object Uint16Array]",qe="[object Uint32Array]",Wi=/\b__p \+= '';/g,Ia=/\b(__p \+=) '' \+/g,le=/(__e\(.*?\)|\b__t\)) \+\n'';/g,We=/&(?:amp|lt|gt|quot|#39);/g,Pa=/[&<>"']/g,Go=RegExp(We.source),Ku=RegExp(Pa.source),Ba=/<%-([\s\S]+?)%>/g,Wm=/<%([\s\S]+?)%>/g,Od=/<%=([\s\S]+?)%>/g,Hm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$m=/^\w*$/,Um=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zu=/[\\^$.*+?()[\]{}|]/g,Ym=RegExp(Zu.source),ju=/^\s+/,Xm=/\s/,Vm=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qm=/\{\n\/\* \[wrapped with (.+)\] \*/,Km=/,? & /,Zm=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jm=/[()=,{}\[\]\/\s]/,Jm=/\\(\\)?/g,Qm=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Td=/\w*$/,t_=/^[-+]0x[0-9a-f]+$/i,e_=/^0b[01]+$/i,r_=/^\[object .+?Constructor\]$/,n_=/^0o[0-7]+$/i,i_=/^(?:0|[1-9]\d*)$/,a_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,No=/($^)/,o_=/['\n\r\u2028\u2029\\]/g,Wo="\\ud800-\\udfff",s_="\\u0300-\\u036f",u_="\\ufe20-\\ufe2f",l_="\\u20d0-\\u20ff",Ad=s_+u_+l_,Id="\\u2700-\\u27bf",Pd="a-z\\xdf-\\xf6\\xf8-\\xff",f_="\\xac\\xb1\\xd7\\xf7",c_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",d_="\\u2000-\\u206f",p_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bd="A-Z\\xc0-\\xd6\\xd8-\\xde",Ld="\\ufe0e\\ufe0f",zd=f_+c_+d_+p_,Ju="['’]",v_="["+Wo+"]",kd="["+zd+"]",Ho="["+Ad+"]",Fd="\\d+",h_="["+Id+"]",Gd="["+Pd+"]",Nd="[^"+Wo+zd+Fd+Id+Pd+Bd+"]",Qu="\\ud83c[\\udffb-\\udfff]",g_="(?:"+Ho+"|"+Qu+")",Wd="[^"+Wo+"]",tl="(?:\\ud83c[\\udde6-\\uddff]){2}",el="[\\ud800-\\udbff][\\udc00-\\udfff]",Hi="["+Bd+"]",Hd="\\u200d",$d="(?:"+Gd+"|"+Nd+")",m_="(?:"+Hi+"|"+Nd+")",Ud="(?:"+Ju+"(?:d|ll|m|re|s|t|ve))?",Yd="(?:"+Ju+"(?:D|LL|M|RE|S|T|VE))?",Xd=g_+"?",Vd="["+Ld+"]?",__="(?:"+Hd+"(?:"+[Wd,tl,el].join("|")+")"+Vd+Xd+")*",b_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",x_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qd=Vd+Xd+__,y_="(?:"+[h_,tl,el].join("|")+")"+qd,S_="(?:"+[Wd+Ho+"?",Ho,tl,el,v_].join("|")+")",w_=RegExp(Ju,"g"),C_=RegExp(Ho,"g"),rl=RegExp(Qu+"(?="+Qu+")|"+S_+qd,"g"),E_=RegExp([Hi+"?"+Gd+"+"+Ud+"(?="+[kd,Hi,"$"].join("|")+")",m_+"+"+Yd+"(?="+[kd,Hi+$d,"$"].join("|")+")",Hi+"?"+$d+"+"+Ud,Hi+"+"+Yd,x_,b_,Fd,y_].join("|"),"g"),D_=RegExp("["+Hd+Wo+Ad+Ld+"]"),M_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,R_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],O_=-1,ve={};ve[Zt]=ve[me]=ve[Te]=ve[cr]=ve[Fn]=ve[Ir]=ve[on]=ve[Le]=ve[qe]=!0,ve[ot]=ve[_t]=ve[Lt]=ve[Dt]=ve[Qt]=ve[At]=ve[bt]=ve[Mt]=ve[L]=ve[V]=ve[tt]=ve[ft]=ve[vt]=ve[ut]=ve[wt]=!1;var pe={};pe[ot]=pe[_t]=pe[Lt]=pe[Qt]=pe[Dt]=pe[At]=pe[Zt]=pe[me]=pe[Te]=pe[cr]=pe[Fn]=pe[L]=pe[V]=pe[tt]=pe[ft]=pe[vt]=pe[ut]=pe[yt]=pe[Ir]=pe[on]=pe[Le]=pe[qe]=!0,pe[bt]=pe[Mt]=pe[wt]=!1;var T_={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},A_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},I_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},P_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},B_=parseFloat,L_=parseInt,Kd=typeof Ja=="object"&&Ja&&Ja.Object===Object&&Ja,z_=typeof self=="object"&&self&&self.Object===Object&&self,Ue=Kd||z_||Function("return this")(),nl=e&&!e.nodeType&&e,vi=nl&&!0&&t&&!t.nodeType&&t,Zd=vi&&vi.exports===nl,il=Zd&&Kd.process,Pr=function(){try{var Y=vi&&vi.require&&vi.require("util").types;return Y||il&&il.binding&&il.binding("util")}catch{}}(),jd=Pr&&Pr.isArrayBuffer,Jd=Pr&&Pr.isDate,Qd=Pr&&Pr.isMap,tp=Pr&&Pr.isRegExp,ep=Pr&&Pr.isSet,rp=Pr&&Pr.isTypedArray;function wr(Y,it,Q){switch(Q.length){case 0:return Y.call(it);case 1:return Y.call(it,Q[0]);case 2:return Y.call(it,Q[0],Q[1]);case 3:return Y.call(it,Q[0],Q[1],Q[2])}return Y.apply(it,Q)}function k_(Y,it,Q,Ot){for(var Wt=-1,ne=Y==null?0:Y.length;++Wt<ne;){var ze=Y[Wt];it(Ot,ze,Q(ze),Y)}return Ot}function Br(Y,it){for(var Q=-1,Ot=Y==null?0:Y.length;++Q<Ot&&it(Y[Q],Q,Y)!==!1;);return Y}function F_(Y,it){for(var Q=Y==null?0:Y.length;Q--&&it(Y[Q],Q,Y)!==!1;);return Y}function np(Y,it){for(var Q=-1,Ot=Y==null?0:Y.length;++Q<Ot;)if(!it(Y[Q],Q,Y))return!1;return!0}function Gn(Y,it){for(var Q=-1,Ot=Y==null?0:Y.length,Wt=0,ne=[];++Q<Ot;){var ze=Y[Q];it(ze,Q,Y)&&(ne[Wt++]=ze)}return ne}function $o(Y,it){var Q=Y==null?0:Y.length;return!!Q&&$i(Y,it,0)>-1}function al(Y,it,Q){for(var Ot=-1,Wt=Y==null?0:Y.length;++Ot<Wt;)if(Q(it,Y[Ot]))return!0;return!1}function _e(Y,it){for(var Q=-1,Ot=Y==null?0:Y.length,Wt=Array(Ot);++Q<Ot;)Wt[Q]=it(Y[Q],Q,Y);return Wt}function Nn(Y,it){for(var Q=-1,Ot=it.length,Wt=Y.length;++Q<Ot;)Y[Wt+Q]=it[Q];return Y}function ol(Y,it,Q,Ot){var Wt=-1,ne=Y==null?0:Y.length;for(Ot&&ne&&(Q=Y[++Wt]);++Wt<ne;)Q=it(Q,Y[Wt],Wt,Y);return Q}function G_(Y,it,Q,Ot){var Wt=Y==null?0:Y.length;for(Ot&&Wt&&(Q=Y[--Wt]);Wt--;)Q=it(Q,Y[Wt],Wt,Y);return Q}function sl(Y,it){for(var Q=-1,Ot=Y==null?0:Y.length;++Q<Ot;)if(it(Y[Q],Q,Y))return!0;return!1}var N_=ul("length");function W_(Y){return Y.split("")}function H_(Y){return Y.match(Zm)||[]}function ip(Y,it,Q){var Ot;return Q(Y,function(Wt,ne,ze){if(it(Wt,ne,ze))return Ot=ne,!1}),Ot}function Uo(Y,it,Q,Ot){for(var Wt=Y.length,ne=Q+(Ot?1:-1);Ot?ne--:++ne<Wt;)if(it(Y[ne],ne,Y))return ne;return-1}function $i(Y,it,Q){return it===it?tb(Y,it,Q):Uo(Y,ap,Q)}function $_(Y,it,Q,Ot){for(var Wt=Q-1,ne=Y.length;++Wt<ne;)if(Ot(Y[Wt],it))return Wt;return-1}function ap(Y){return Y!==Y}function op(Y,it){var Q=Y==null?0:Y.length;return Q?fl(Y,it)/Q:J}function ul(Y){return function(it){return it==null?r:it[Y]}}function ll(Y){return function(it){return Y==null?r:Y[it]}}function sp(Y,it,Q,Ot,Wt){return Wt(Y,function(ne,ze,de){Q=Ot?(Ot=!1,ne):it(Q,ne,ze,de)}),Q}function U_(Y,it){var Q=Y.length;for(Y.sort(it);Q--;)Y[Q]=Y[Q].value;return Y}function fl(Y,it){for(var Q,Ot=-1,Wt=Y.length;++Ot<Wt;){var ne=it(Y[Ot]);ne!==r&&(Q=Q===r?ne:Q+ne)}return Q}function cl(Y,it){for(var Q=-1,Ot=Array(Y);++Q<Y;)Ot[Q]=it(Q);return Ot}function Y_(Y,it){return _e(it,function(Q){return[Q,Y[Q]]})}function up(Y){return Y&&Y.slice(0,dp(Y)+1).replace(ju,"")}function Cr(Y){return function(it){return Y(it)}}function dl(Y,it){return _e(it,function(Q){return Y[Q]})}function La(Y,it){return Y.has(it)}function lp(Y,it){for(var Q=-1,Ot=Y.length;++Q<Ot&&$i(it,Y[Q],0)>-1;);return Q}function fp(Y,it){for(var Q=Y.length;Q--&&$i(it,Y[Q],0)>-1;);return Q}function X_(Y,it){for(var Q=Y.length,Ot=0;Q--;)Y[Q]===it&&++Ot;return Ot}var V_=ll(T_),q_=ll(A_);function K_(Y){return"\\"+P_[Y]}function Z_(Y,it){return Y==null?r:Y[it]}function Ui(Y){return D_.test(Y)}function j_(Y){return M_.test(Y)}function J_(Y){for(var it,Q=[];!(it=Y.next()).done;)Q.push(it.value);return Q}function pl(Y){var it=-1,Q=Array(Y.size);return Y.forEach(function(Ot,Wt){Q[++it]=[Wt,Ot]}),Q}function cp(Y,it){return function(Q){return Y(it(Q))}}function Wn(Y,it){for(var Q=-1,Ot=Y.length,Wt=0,ne=[];++Q<Ot;){var ze=Y[Q];(ze===it||ze===p)&&(Y[Q]=p,ne[Wt++]=Q)}return ne}function Yo(Y){var it=-1,Q=Array(Y.size);return Y.forEach(function(Ot){Q[++it]=Ot}),Q}function Q_(Y){var it=-1,Q=Array(Y.size);return Y.forEach(function(Ot){Q[++it]=[Ot,Ot]}),Q}function tb(Y,it,Q){for(var Ot=Q-1,Wt=Y.length;++Ot<Wt;)if(Y[Ot]===it)return Ot;return-1}function eb(Y,it,Q){for(var Ot=Q+1;Ot--;)if(Y[Ot]===it)return Ot;return Ot}function Yi(Y){return Ui(Y)?nb(Y):N_(Y)}function Xr(Y){return Ui(Y)?ib(Y):W_(Y)}function dp(Y){for(var it=Y.length;it--&&Xm.test(Y.charAt(it)););return it}var rb=ll(I_);function nb(Y){for(var it=rl.lastIndex=0;rl.test(Y);)++it;return it}function ib(Y){return Y.match(rl)||[]}function ab(Y){return Y.match(E_)||[]}var ob=function Y(it){it=it==null?Ue:Xi.defaults(Ue.Object(),it,Xi.pick(Ue,R_));var Q=it.Array,Ot=it.Date,Wt=it.Error,ne=it.Function,ze=it.Math,de=it.Object,vl=it.RegExp,sb=it.String,Lr=it.TypeError,Xo=Q.prototype,ub=ne.prototype,Vi=de.prototype,Vo=it["__core-js_shared__"],qo=ub.toString,se=Vi.hasOwnProperty,lb=0,pp=function(){var a=/[^.]+$/.exec(Vo&&Vo.keys&&Vo.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Ko=Vi.toString,fb=qo.call(de),cb=Ue._,db=vl("^"+qo.call(se).replace(Zu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zo=Zd?it.Buffer:r,Hn=it.Symbol,jo=it.Uint8Array,vp=Zo?Zo.allocUnsafe:r,Jo=cp(de.getPrototypeOf,de),hp=de.create,gp=Vi.propertyIsEnumerable,Qo=Xo.splice,mp=Hn?Hn.isConcatSpreadable:r,za=Hn?Hn.iterator:r,hi=Hn?Hn.toStringTag:r,ts=function(){try{var a=xi(de,"defineProperty");return a({},"",{}),a}catch{}}(),pb=it.clearTimeout!==Ue.clearTimeout&&it.clearTimeout,vb=Ot&&Ot.now!==Ue.Date.now&&Ot.now,hb=it.setTimeout!==Ue.setTimeout&&it.setTimeout,es=ze.ceil,rs=ze.floor,hl=de.getOwnPropertySymbols,gb=Zo?Zo.isBuffer:r,_p=it.isFinite,mb=Xo.join,_b=cp(de.keys,de),ke=ze.max,Ke=ze.min,bb=Ot.now,xb=it.parseInt,bp=ze.random,yb=Xo.reverse,gl=xi(it,"DataView"),ka=xi(it,"Map"),ml=xi(it,"Promise"),qi=xi(it,"Set"),Fa=xi(it,"WeakMap"),Ga=xi(de,"create"),ns=Fa&&new Fa,Ki={},Sb=yi(gl),wb=yi(ka),Cb=yi(ml),Eb=yi(qi),Db=yi(Fa),is=Hn?Hn.prototype:r,Na=is?is.valueOf:r,xp=is?is.toString:r;function R(a){if(we(a)&&!$t(a)&&!(a instanceof Jt)){if(a instanceof zr)return a;if(se.call(a,"__wrapped__"))return yv(a)}return new zr(a)}var Zi=function(){function a(){}return function(s){if(!xe(s))return{};if(hp)return hp(s);a.prototype=s;var d=new a;return a.prototype=r,d}}();function as(){}function zr(a,s){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=r}R.templateSettings={escape:Ba,evaluate:Wm,interpolate:Od,variable:"",imports:{_:R}},R.prototype=as.prototype,R.prototype.constructor=R,zr.prototype=Zi(as.prototype),zr.prototype.constructor=zr;function Jt(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=q,this.__views__=[]}function Mb(){var a=new Jt(this.__wrapped__);return a.__actions__=dr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=dr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=dr(this.__views__),a}function Rb(){if(this.__filtered__){var a=new Jt(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Ob(){var a=this.__wrapped__.value(),s=this.__dir__,d=$t(a),_=s<0,S=d?a.length:0,O=Wx(0,S,this.__views__),z=O.start,N=O.end,K=N-z,ct=_?N:z-1,pt=this.__iteratees__,mt=pt.length,Et=0,Tt=Ke(K,this.__takeCount__);if(!d||!_&&S==K&&Tt==K)return Up(a,this.__actions__);var Ft=[];t:for(;K--&&Et<Tt;){ct+=s;for(var Vt=-1,Gt=a[ct];++Vt<mt;){var jt=pt[Vt],te=jt.iteratee,Mr=jt.type,ir=te(Gt);if(Mr==X)Gt=ir;else if(!ir){if(Mr==Z)continue t;break t}}Ft[Et++]=Gt}return Ft}Jt.prototype=Zi(as.prototype),Jt.prototype.constructor=Jt;function gi(a){var s=-1,d=a==null?0:a.length;for(this.clear();++s<d;){var _=a[s];this.set(_[0],_[1])}}function Tb(){this.__data__=Ga?Ga(null):{},this.size=0}function Ab(a){var s=this.has(a)&&delete this.__data__[a];return this.size-=s?1:0,s}function Ib(a){var s=this.__data__;if(Ga){var d=s[a];return d===f?r:d}return se.call(s,a)?s[a]:r}function Pb(a){var s=this.__data__;return Ga?s[a]!==r:se.call(s,a)}function Bb(a,s){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=Ga&&s===r?f:s,this}gi.prototype.clear=Tb,gi.prototype.delete=Ab,gi.prototype.get=Ib,gi.prototype.has=Pb,gi.prototype.set=Bb;function yn(a){var s=-1,d=a==null?0:a.length;for(this.clear();++s<d;){var _=a[s];this.set(_[0],_[1])}}function Lb(){this.__data__=[],this.size=0}function zb(a){var s=this.__data__,d=os(s,a);if(d<0)return!1;var _=s.length-1;return d==_?s.pop():Qo.call(s,d,1),--this.size,!0}function kb(a){var s=this.__data__,d=os(s,a);return d<0?r:s[d][1]}function Fb(a){return os(this.__data__,a)>-1}function Gb(a,s){var d=this.__data__,_=os(d,a);return _<0?(++this.size,d.push([a,s])):d[_][1]=s,this}yn.prototype.clear=Lb,yn.prototype.delete=zb,yn.prototype.get=kb,yn.prototype.has=Fb,yn.prototype.set=Gb;function Sn(a){var s=-1,d=a==null?0:a.length;for(this.clear();++s<d;){var _=a[s];this.set(_[0],_[1])}}function Nb(){this.size=0,this.__data__={hash:new gi,map:new(ka||yn),string:new gi}}function Wb(a){var s=_s(this,a).delete(a);return this.size-=s?1:0,s}function Hb(a){return _s(this,a).get(a)}function $b(a){return _s(this,a).has(a)}function Ub(a,s){var d=_s(this,a),_=d.size;return d.set(a,s),this.size+=d.size==_?0:1,this}Sn.prototype.clear=Nb,Sn.prototype.delete=Wb,Sn.prototype.get=Hb,Sn.prototype.has=$b,Sn.prototype.set=Ub;function mi(a){var s=-1,d=a==null?0:a.length;for(this.__data__=new Sn;++s<d;)this.add(a[s])}function Yb(a){return this.__data__.set(a,f),this}function Xb(a){return this.__data__.has(a)}mi.prototype.add=mi.prototype.push=Yb,mi.prototype.has=Xb;function Vr(a){var s=this.__data__=new yn(a);this.size=s.size}function Vb(){this.__data__=new yn,this.size=0}function qb(a){var s=this.__data__,d=s.delete(a);return this.size=s.size,d}function Kb(a){return this.__data__.get(a)}function Zb(a){return this.__data__.has(a)}function jb(a,s){var d=this.__data__;if(d instanceof yn){var _=d.__data__;if(!ka||_.length<i-1)return _.push([a,s]),this.size=++d.size,this;d=this.__data__=new Sn(_)}return d.set(a,s),this.size=d.size,this}Vr.prototype.clear=Vb,Vr.prototype.delete=qb,Vr.prototype.get=Kb,Vr.prototype.has=Zb,Vr.prototype.set=jb;function yp(a,s){var d=$t(a),_=!d&&Si(a),S=!d&&!_&&Vn(a),O=!d&&!_&&!S&&ta(a),z=d||_||S||O,N=z?cl(a.length,sb):[],K=N.length;for(var ct in a)(s||se.call(a,ct))&&!(z&&(ct=="length"||S&&(ct=="offset"||ct=="parent")||O&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||Dn(ct,K)))&&N.push(ct);return N}function Sp(a){var s=a.length;return s?a[Rl(0,s-1)]:r}function Jb(a,s){return bs(dr(a),_i(s,0,a.length))}function Qb(a){return bs(dr(a))}function _l(a,s,d){(d!==r&&!qr(a[s],d)||d===r&&!(s in a))&&wn(a,s,d)}function Wa(a,s,d){var _=a[s];(!(se.call(a,s)&&qr(_,d))||d===r&&!(s in a))&&wn(a,s,d)}function os(a,s){for(var d=a.length;d--;)if(qr(a[d][0],s))return d;return-1}function tx(a,s,d,_){return $n(a,function(S,O,z){s(_,S,d(S),z)}),_}function wp(a,s){return a&&un(s,He(s),a)}function ex(a,s){return a&&un(s,vr(s),a)}function wn(a,s,d){s=="__proto__"&&ts?ts(a,s,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[s]=d}function bl(a,s){for(var d=-1,_=s.length,S=Q(_),O=a==null;++d<_;)S[d]=O?r:Ql(a,s[d]);return S}function _i(a,s,d){return a===a&&(d!==r&&(a=a<=d?a:d),s!==r&&(a=a>=s?a:s)),a}function kr(a,s,d,_,S,O){var z,N=s&v,K=s&h,ct=s&g;if(d&&(z=S?d(a,_,S,O):d(a)),z!==r)return z;if(!xe(a))return a;var pt=$t(a);if(pt){if(z=$x(a),!N)return dr(a,z)}else{var mt=Ze(a),Et=mt==Mt||mt==B;if(Vn(a))return Vp(a,N);if(mt==tt||mt==ot||Et&&!S){if(z=K||Et?{}:dv(a),!N)return K?Ix(a,ex(z,a)):Ax(a,wp(z,a))}else{if(!pe[mt])return S?a:{};z=Ux(a,mt,N)}}O||(O=new Vr);var Tt=O.get(a);if(Tt)return Tt;O.set(a,z),Wv(a)?a.forEach(function(Gt){z.add(kr(Gt,s,d,Gt,a,O))}):Gv(a)&&a.forEach(function(Gt,jt){z.set(jt,kr(Gt,s,d,jt,a,O))});var Ft=ct?K?Gl:Fl:K?vr:He,Vt=pt?r:Ft(a);return Br(Vt||a,function(Gt,jt){Vt&&(jt=Gt,Gt=a[jt]),Wa(z,jt,kr(Gt,s,d,jt,a,O))}),z}function rx(a){var s=He(a);return function(d){return Cp(d,a,s)}}function Cp(a,s,d){var _=d.length;if(a==null)return!_;for(a=de(a);_--;){var S=d[_],O=s[S],z=a[S];if(z===r&&!(S in a)||!O(z))return!1}return!0}function Ep(a,s,d){if(typeof a!="function")throw new Lr(u);return qa(function(){a.apply(r,d)},s)}function Ha(a,s,d,_){var S=-1,O=$o,z=!0,N=a.length,K=[],ct=s.length;if(!N)return K;d&&(s=_e(s,Cr(d))),_?(O=al,z=!1):s.length>=i&&(O=La,z=!1,s=new mi(s));t:for(;++S<N;){var pt=a[S],mt=d==null?pt:d(pt);if(pt=_||pt!==0?pt:0,z&&mt===mt){for(var Et=ct;Et--;)if(s[Et]===mt)continue t;K.push(pt)}else O(s,mt,_)||K.push(pt)}return K}var $n=Jp(sn),Dp=Jp(yl,!0);function nx(a,s){var d=!0;return $n(a,function(_,S,O){return d=!!s(_,S,O),d}),d}function ss(a,s,d){for(var _=-1,S=a.length;++_<S;){var O=a[_],z=s(O);if(z!=null&&(N===r?z===z&&!Dr(z):d(z,N)))var N=z,K=O}return K}function ix(a,s,d,_){var S=a.length;for(d=Xt(d),d<0&&(d=-d>S?0:S+d),_=_===r||_>S?S:Xt(_),_<0&&(_+=S),_=d>_?0:$v(_);d<_;)a[d++]=s;return a}function Mp(a,s){var d=[];return $n(a,function(_,S,O){s(_,S,O)&&d.push(_)}),d}function Ye(a,s,d,_,S){var O=-1,z=a.length;for(d||(d=Xx),S||(S=[]);++O<z;){var N=a[O];s>0&&d(N)?s>1?Ye(N,s-1,d,_,S):Nn(S,N):_||(S[S.length]=N)}return S}var xl=Qp(),Rp=Qp(!0);function sn(a,s){return a&&xl(a,s,He)}function yl(a,s){return a&&Rp(a,s,He)}function us(a,s){return Gn(s,function(d){return Mn(a[d])})}function bi(a,s){s=Yn(s,a);for(var d=0,_=s.length;a!=null&&d<_;)a=a[ln(s[d++])];return d&&d==_?a:r}function Op(a,s,d){var _=s(a);return $t(a)?_:Nn(_,d(a))}function rr(a){return a==null?a===r?Ct:rt:hi&&hi in de(a)?Nx(a):Qx(a)}function Sl(a,s){return a>s}function ax(a,s){return a!=null&&se.call(a,s)}function ox(a,s){return a!=null&&s in de(a)}function sx(a,s,d){return a>=Ke(s,d)&&a<ke(s,d)}function wl(a,s,d){for(var _=d?al:$o,S=a[0].length,O=a.length,z=O,N=Q(O),K=1/0,ct=[];z--;){var pt=a[z];z&&s&&(pt=_e(pt,Cr(s))),K=Ke(pt.length,K),N[z]=!d&&(s||S>=120&&pt.length>=120)?new mi(z&&pt):r}pt=a[0];var mt=-1,Et=N[0];t:for(;++mt<S&&ct.length<K;){var Tt=pt[mt],Ft=s?s(Tt):Tt;if(Tt=d||Tt!==0?Tt:0,!(Et?La(Et,Ft):_(ct,Ft,d))){for(z=O;--z;){var Vt=N[z];if(!(Vt?La(Vt,Ft):_(a[z],Ft,d)))continue t}Et&&Et.push(Ft),ct.push(Tt)}}return ct}function ux(a,s,d,_){return sn(a,function(S,O,z){s(_,d(S),O,z)}),_}function $a(a,s,d){s=Yn(s,a),a=gv(a,s);var _=a==null?a:a[ln(Gr(s))];return _==null?r:wr(_,a,d)}function Tp(a){return we(a)&&rr(a)==ot}function lx(a){return we(a)&&rr(a)==Lt}function fx(a){return we(a)&&rr(a)==At}function Ua(a,s,d,_,S){return a===s?!0:a==null||s==null||!we(a)&&!we(s)?a!==a&&s!==s:cx(a,s,d,_,Ua,S)}function cx(a,s,d,_,S,O){var z=$t(a),N=$t(s),K=z?_t:Ze(a),ct=N?_t:Ze(s);K=K==ot?tt:K,ct=ct==ot?tt:ct;var pt=K==tt,mt=ct==tt,Et=K==ct;if(Et&&Vn(a)){if(!Vn(s))return!1;z=!0,pt=!1}if(Et&&!pt)return O||(O=new Vr),z||ta(a)?lv(a,s,d,_,S,O):Fx(a,s,K,d,_,S,O);if(!(d&m)){var Tt=pt&&se.call(a,"__wrapped__"),Ft=mt&&se.call(s,"__wrapped__");if(Tt||Ft){var Vt=Tt?a.value():a,Gt=Ft?s.value():s;return O||(O=new Vr),S(Vt,Gt,d,_,O)}}return Et?(O||(O=new Vr),Gx(a,s,d,_,S,O)):!1}function dx(a){return we(a)&&Ze(a)==L}function Cl(a,s,d,_){var S=d.length,O=S,z=!_;if(a==null)return!O;for(a=de(a);S--;){var N=d[S];if(z&&N[2]?N[1]!==a[N[0]]:!(N[0]in a))return!1}for(;++S<O;){N=d[S];var K=N[0],ct=a[K],pt=N[1];if(z&&N[2]){if(ct===r&&!(K in a))return!1}else{var mt=new Vr;if(_)var Et=_(ct,pt,K,a,s,mt);if(!(Et===r?Ua(pt,ct,m|b,_,mt):Et))return!1}}return!0}function Ap(a){if(!xe(a)||qx(a))return!1;var s=Mn(a)?db:r_;return s.test(yi(a))}function px(a){return we(a)&&rr(a)==ft}function vx(a){return we(a)&&Ze(a)==vt}function hx(a){return we(a)&&Es(a.length)&&!!ve[rr(a)]}function Ip(a){return typeof a=="function"?a:a==null?hr:typeof a=="object"?$t(a)?Lp(a[0],a[1]):Bp(a):th(a)}function El(a){if(!Va(a))return _b(a);var s=[];for(var d in de(a))se.call(a,d)&&d!="constructor"&&s.push(d);return s}function gx(a){if(!xe(a))return Jx(a);var s=Va(a),d=[];for(var _ in a)_=="constructor"&&(s||!se.call(a,_))||d.push(_);return d}function Dl(a,s){return a<s}function Pp(a,s){var d=-1,_=pr(a)?Q(a.length):[];return $n(a,function(S,O,z){_[++d]=s(S,O,z)}),_}function Bp(a){var s=Wl(a);return s.length==1&&s[0][2]?vv(s[0][0],s[0][1]):function(d){return d===a||Cl(d,a,s)}}function Lp(a,s){return $l(a)&&pv(s)?vv(ln(a),s):function(d){var _=Ql(d,a);return _===r&&_===s?tf(d,a):Ua(s,_,m|b)}}function ls(a,s,d,_,S){a!==s&&xl(s,function(O,z){if(S||(S=new Vr),xe(O))mx(a,s,z,d,ls,_,S);else{var N=_?_(Yl(a,z),O,z+"",a,s,S):r;N===r&&(N=O),_l(a,z,N)}},vr)}function mx(a,s,d,_,S,O,z){var N=Yl(a,d),K=Yl(s,d),ct=z.get(K);if(ct){_l(a,d,ct);return}var pt=O?O(N,K,d+"",a,s,z):r,mt=pt===r;if(mt){var Et=$t(K),Tt=!Et&&Vn(K),Ft=!Et&&!Tt&&ta(K);pt=K,Et||Tt||Ft?$t(N)?pt=N:Ee(N)?pt=dr(N):Tt?(mt=!1,pt=Vp(K,!0)):Ft?(mt=!1,pt=qp(K,!0)):pt=[]:Ka(K)||Si(K)?(pt=N,Si(N)?pt=Uv(N):(!xe(N)||Mn(N))&&(pt=dv(K))):mt=!1}mt&&(z.set(K,pt),S(pt,K,_,O,z),z.delete(K)),_l(a,d,pt)}function zp(a,s){var d=a.length;if(d)return s+=s<0?d:0,Dn(s,d)?a[s]:r}function kp(a,s,d){s.length?s=_e(s,function(O){return $t(O)?function(z){return bi(z,O.length===1?O[0]:O)}:O}):s=[hr];var _=-1;s=_e(s,Cr(zt()));var S=Pp(a,function(O,z,N){var K=_e(s,function(ct){return ct(O)});return{criteria:K,index:++_,value:O}});return U_(S,function(O,z){return Tx(O,z,d)})}function _x(a,s){return Fp(a,s,function(d,_){return tf(a,_)})}function Fp(a,s,d){for(var _=-1,S=s.length,O={};++_<S;){var z=s[_],N=bi(a,z);d(N,z)&&Ya(O,Yn(z,a),N)}return O}function bx(a){return function(s){return bi(s,a)}}function Ml(a,s,d,_){var S=_?$_:$i,O=-1,z=s.length,N=a;for(a===s&&(s=dr(s)),d&&(N=_e(a,Cr(d)));++O<z;)for(var K=0,ct=s[O],pt=d?d(ct):ct;(K=S(N,pt,K,_))>-1;)N!==a&&Qo.call(N,K,1),Qo.call(a,K,1);return a}function Gp(a,s){for(var d=a?s.length:0,_=d-1;d--;){var S=s[d];if(d==_||S!==O){var O=S;Dn(S)?Qo.call(a,S,1):Al(a,S)}}return a}function Rl(a,s){return a+rs(bp()*(s-a+1))}function xx(a,s,d,_){for(var S=-1,O=ke(es((s-a)/(d||1)),0),z=Q(O);O--;)z[_?O:++S]=a,a+=d;return z}function Ol(a,s){var d="";if(!a||s<1||s>j)return d;do s%2&&(d+=a),s=rs(s/2),s&&(a+=a);while(s);return d}function qt(a,s){return Xl(hv(a,s,hr),a+"")}function yx(a){return Sp(ea(a))}function Sx(a,s){var d=ea(a);return bs(d,_i(s,0,d.length))}function Ya(a,s,d,_){if(!xe(a))return a;s=Yn(s,a);for(var S=-1,O=s.length,z=O-1,N=a;N!=null&&++S<O;){var K=ln(s[S]),ct=d;if(K==="__proto__"||K==="constructor"||K==="prototype")return a;if(S!=z){var pt=N[K];ct=_?_(pt,K,N):r,ct===r&&(ct=xe(pt)?pt:Dn(s[S+1])?[]:{})}Wa(N,K,ct),N=N[K]}return a}var Np=ns?function(a,s){return ns.set(a,s),a}:hr,wx=ts?function(a,s){return ts(a,"toString",{configurable:!0,enumerable:!1,value:rf(s),writable:!0})}:hr;function Cx(a){return bs(ea(a))}function Fr(a,s,d){var _=-1,S=a.length;s<0&&(s=-s>S?0:S+s),d=d>S?S:d,d<0&&(d+=S),S=s>d?0:d-s>>>0,s>>>=0;for(var O=Q(S);++_<S;)O[_]=a[_+s];return O}function Ex(a,s){var d;return $n(a,function(_,S,O){return d=s(_,S,O),!d}),!!d}function fs(a,s,d){var _=0,S=a==null?_:a.length;if(typeof s=="number"&&s===s&&S<=nt){for(;_<S;){var O=_+S>>>1,z=a[O];z!==null&&!Dr(z)&&(d?z<=s:z<s)?_=O+1:S=O}return S}return Tl(a,s,hr,d)}function Tl(a,s,d,_){var S=0,O=a==null?0:a.length;if(O===0)return 0;s=d(s);for(var z=s!==s,N=s===null,K=Dr(s),ct=s===r;S<O;){var pt=rs((S+O)/2),mt=d(a[pt]),Et=mt!==r,Tt=mt===null,Ft=mt===mt,Vt=Dr(mt);if(z)var Gt=_||Ft;else ct?Gt=Ft&&(_||Et):N?Gt=Ft&&Et&&(_||!Tt):K?Gt=Ft&&Et&&!Tt&&(_||!Vt):Tt||Vt?Gt=!1:Gt=_?mt<=s:mt<s;Gt?S=pt+1:O=pt}return Ke(O,st)}function Wp(a,s){for(var d=-1,_=a.length,S=0,O=[];++d<_;){var z=a[d],N=s?s(z):z;if(!d||!qr(N,K)){var K=N;O[S++]=z===0?0:z}}return O}function Hp(a){return typeof a=="number"?a:Dr(a)?J:+a}function Er(a){if(typeof a=="string")return a;if($t(a))return _e(a,Er)+"";if(Dr(a))return xp?xp.call(a):"";var s=a+"";return s=="0"&&1/a==-G?"-0":s}function Un(a,s,d){var _=-1,S=$o,O=a.length,z=!0,N=[],K=N;if(d)z=!1,S=al;else if(O>=i){var ct=s?null:zx(a);if(ct)return Yo(ct);z=!1,S=La,K=new mi}else K=s?[]:N;t:for(;++_<O;){var pt=a[_],mt=s?s(pt):pt;if(pt=d||pt!==0?pt:0,z&&mt===mt){for(var Et=K.length;Et--;)if(K[Et]===mt)continue t;s&&K.push(mt),N.push(pt)}else S(K,mt,d)||(K!==N&&K.push(mt),N.push(pt))}return N}function Al(a,s){return s=Yn(s,a),a=gv(a,s),a==null||delete a[ln(Gr(s))]}function $p(a,s,d,_){return Ya(a,s,d(bi(a,s)),_)}function cs(a,s,d,_){for(var S=a.length,O=_?S:-1;(_?O--:++O<S)&&s(a[O],O,a););return d?Fr(a,_?0:O,_?O+1:S):Fr(a,_?O+1:0,_?S:O)}function Up(a,s){var d=a;return d instanceof Jt&&(d=d.value()),ol(s,function(_,S){return S.func.apply(S.thisArg,Nn([_],S.args))},d)}function Il(a,s,d){var _=a.length;if(_<2)return _?Un(a[0]):[];for(var S=-1,O=Q(_);++S<_;)for(var z=a[S],N=-1;++N<_;)N!=S&&(O[S]=Ha(O[S]||z,a[N],s,d));return Un(Ye(O,1),s,d)}function Yp(a,s,d){for(var _=-1,S=a.length,O=s.length,z={};++_<S;){var N=_<O?s[_]:r;d(z,a[_],N)}return z}function Pl(a){return Ee(a)?a:[]}function Bl(a){return typeof a=="function"?a:hr}function Yn(a,s){return $t(a)?a:$l(a,s)?[a]:xv(ae(a))}var Dx=qt;function Xn(a,s,d){var _=a.length;return d=d===r?_:d,!s&&d>=_?a:Fr(a,s,d)}var Xp=pb||function(a){return Ue.clearTimeout(a)};function Vp(a,s){if(s)return a.slice();var d=a.length,_=vp?vp(d):new a.constructor(d);return a.copy(_),_}function Ll(a){var s=new a.constructor(a.byteLength);return new jo(s).set(new jo(a)),s}function Mx(a,s){var d=s?Ll(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}function Rx(a){var s=new a.constructor(a.source,Td.exec(a));return s.lastIndex=a.lastIndex,s}function Ox(a){return Na?de(Na.call(a)):{}}function qp(a,s){var d=s?Ll(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}function Kp(a,s){if(a!==s){var d=a!==r,_=a===null,S=a===a,O=Dr(a),z=s!==r,N=s===null,K=s===s,ct=Dr(s);if(!N&&!ct&&!O&&a>s||O&&z&&K&&!N&&!ct||_&&z&&K||!d&&K||!S)return 1;if(!_&&!O&&!ct&&a<s||ct&&d&&S&&!_&&!O||N&&d&&S||!z&&S||!K)return-1}return 0}function Tx(a,s,d){for(var _=-1,S=a.criteria,O=s.criteria,z=S.length,N=d.length;++_<z;){var K=Kp(S[_],O[_]);if(K){if(_>=N)return K;var ct=d[_];return K*(ct=="desc"?-1:1)}}return a.index-s.index}function Zp(a,s,d,_){for(var S=-1,O=a.length,z=d.length,N=-1,K=s.length,ct=ke(O-z,0),pt=Q(K+ct),mt=!_;++N<K;)pt[N]=s[N];for(;++S<z;)(mt||S<O)&&(pt[d[S]]=a[S]);for(;ct--;)pt[N++]=a[S++];return pt}function jp(a,s,d,_){for(var S=-1,O=a.length,z=-1,N=d.length,K=-1,ct=s.length,pt=ke(O-N,0),mt=Q(pt+ct),Et=!_;++S<pt;)mt[S]=a[S];for(var Tt=S;++K<ct;)mt[Tt+K]=s[K];for(;++z<N;)(Et||S<O)&&(mt[Tt+d[z]]=a[S++]);return mt}function dr(a,s){var d=-1,_=a.length;for(s||(s=Q(_));++d<_;)s[d]=a[d];return s}function un(a,s,d,_){var S=!d;d||(d={});for(var O=-1,z=s.length;++O<z;){var N=s[O],K=_?_(d[N],a[N],N,d,a):r;K===r&&(K=a[N]),S?wn(d,N,K):Wa(d,N,K)}return d}function Ax(a,s){return un(a,Hl(a),s)}function Ix(a,s){return un(a,fv(a),s)}function ds(a,s){return function(d,_){var S=$t(d)?k_:tx,O=s?s():{};return S(d,a,zt(_,2),O)}}function ji(a){return qt(function(s,d){var _=-1,S=d.length,O=S>1?d[S-1]:r,z=S>2?d[2]:r;for(O=a.length>3&&typeof O=="function"?(S--,O):r,z&&nr(d[0],d[1],z)&&(O=S<3?r:O,S=1),s=de(s);++_<S;){var N=d[_];N&&a(s,N,_,O)}return s})}function Jp(a,s){return function(d,_){if(d==null)return d;if(!pr(d))return a(d,_);for(var S=d.length,O=s?S:-1,z=de(d);(s?O--:++O<S)&&_(z[O],O,z)!==!1;);return d}}function Qp(a){return function(s,d,_){for(var S=-1,O=de(s),z=_(s),N=z.length;N--;){var K=z[a?N:++S];if(d(O[K],K,O)===!1)break}return s}}function Px(a,s,d){var _=s&x,S=Xa(a);function O(){var z=this&&this!==Ue&&this instanceof O?S:a;return z.apply(_?d:this,arguments)}return O}function tv(a){return function(s){s=ae(s);var d=Ui(s)?Xr(s):r,_=d?d[0]:s.charAt(0),S=d?Xn(d,1).join(""):s.slice(1);return _[a]()+S}}function Ji(a){return function(s){return ol(Jv(jv(s).replace(w_,"")),a,"")}}function Xa(a){return function(){var s=arguments;switch(s.length){case 0:return new a;case 1:return new a(s[0]);case 2:return new a(s[0],s[1]);case 3:return new a(s[0],s[1],s[2]);case 4:return new a(s[0],s[1],s[2],s[3]);case 5:return new a(s[0],s[1],s[2],s[3],s[4]);case 6:return new a(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new a(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var d=Zi(a.prototype),_=a.apply(d,s);return xe(_)?_:d}}function Bx(a,s,d){var _=Xa(a);function S(){for(var O=arguments.length,z=Q(O),N=O,K=Qi(S);N--;)z[N]=arguments[N];var ct=O<3&&z[0]!==K&&z[O-1]!==K?[]:Wn(z,K);if(O-=ct.length,O<d)return av(a,s,ps,S.placeholder,r,z,ct,r,r,d-O);var pt=this&&this!==Ue&&this instanceof S?_:a;return wr(pt,this,z)}return S}function ev(a){return function(s,d,_){var S=de(s);if(!pr(s)){var O=zt(d,3);s=He(s),d=function(N){return O(S[N],N,S)}}var z=a(s,d,_);return z>-1?S[O?s[z]:z]:r}}function rv(a){return En(function(s){var d=s.length,_=d,S=zr.prototype.thru;for(a&&s.reverse();_--;){var O=s[_];if(typeof O!="function")throw new Lr(u);if(S&&!z&&ms(O)=="wrapper")var z=new zr([],!0)}for(_=z?_:d;++_<d;){O=s[_];var N=ms(O),K=N=="wrapper"?Nl(O):r;K&&Ul(K[0])&&K[1]==(A|C|T|M)&&!K[4].length&&K[9]==1?z=z[ms(K[0])].apply(z,K[3]):z=O.length==1&&Ul(O)?z[N]():z.thru(O)}return function(){var ct=arguments,pt=ct[0];if(z&&ct.length==1&&$t(pt))return z.plant(pt).value();for(var mt=0,Et=d?s[mt].apply(this,ct):pt;++mt<d;)Et=s[mt].call(this,Et);return Et}})}function ps(a,s,d,_,S,O,z,N,K,ct){var pt=s&A,mt=s&x,Et=s&y,Tt=s&(C|E),Ft=s&I,Vt=Et?r:Xa(a);function Gt(){for(var jt=arguments.length,te=Q(jt),Mr=jt;Mr--;)te[Mr]=arguments[Mr];if(Tt)var ir=Qi(Gt),Rr=X_(te,ir);if(_&&(te=Zp(te,_,S,Tt)),O&&(te=jp(te,O,z,Tt)),jt-=Rr,Tt&&jt<ct){var De=Wn(te,ir);return av(a,s,ps,Gt.placeholder,d,te,De,N,K,ct-jt)}var Kr=mt?d:this,On=Et?Kr[a]:a;return jt=te.length,N?te=ty(te,N):Ft&&jt>1&&te.reverse(),pt&&K<jt&&(te.length=K),this&&this!==Ue&&this instanceof Gt&&(On=Vt||Xa(On)),On.apply(Kr,te)}return Gt}function nv(a,s){return function(d,_){return ux(d,a,s(_),{})}}function vs(a,s){return function(d,_){var S;if(d===r&&_===r)return s;if(d!==r&&(S=d),_!==r){if(S===r)return _;typeof d=="string"||typeof _=="string"?(d=Er(d),_=Er(_)):(d=Hp(d),_=Hp(_)),S=a(d,_)}return S}}function zl(a){return En(function(s){return s=_e(s,Cr(zt())),qt(function(d){var _=this;return a(s,function(S){return wr(S,_,d)})})})}function hs(a,s){s=s===r?" ":Er(s);var d=s.length;if(d<2)return d?Ol(s,a):s;var _=Ol(s,es(a/Yi(s)));return Ui(s)?Xn(Xr(_),0,a).join(""):_.slice(0,a)}function Lx(a,s,d,_){var S=s&x,O=Xa(a);function z(){for(var N=-1,K=arguments.length,ct=-1,pt=_.length,mt=Q(pt+K),Et=this&&this!==Ue&&this instanceof z?O:a;++ct<pt;)mt[ct]=_[ct];for(;K--;)mt[ct++]=arguments[++N];return wr(Et,S?d:this,mt)}return z}function iv(a){return function(s,d,_){return _&&typeof _!="number"&&nr(s,d,_)&&(d=_=r),s=Rn(s),d===r?(d=s,s=0):d=Rn(d),_=_===r?s<d?1:-1:Rn(_),xx(s,d,_,a)}}function gs(a){return function(s,d){return typeof s=="string"&&typeof d=="string"||(s=Nr(s),d=Nr(d)),a(s,d)}}function av(a,s,d,_,S,O,z,N,K,ct){var pt=s&C,mt=pt?z:r,Et=pt?r:z,Tt=pt?O:r,Ft=pt?r:O;s|=pt?T:D,s&=~(pt?D:T),s&w||(s&=~(x|y));var Vt=[a,s,S,Tt,mt,Ft,Et,N,K,ct],Gt=d.apply(r,Vt);return Ul(a)&&mv(Gt,Vt),Gt.placeholder=_,_v(Gt,a,s)}function kl(a){var s=ze[a];return function(d,_){if(d=Nr(d),_=_==null?0:Ke(Xt(_),292),_&&_p(d)){var S=(ae(d)+"e").split("e"),O=s(S[0]+"e"+(+S[1]+_));return S=(ae(O)+"e").split("e"),+(S[0]+"e"+(+S[1]-_))}return s(d)}}var zx=qi&&1/Yo(new qi([,-0]))[1]==G?function(a){return new qi(a)}:of;function ov(a){return function(s){var d=Ze(s);return d==L?pl(s):d==vt?Q_(s):Y_(s,a(s))}}function Cn(a,s,d,_,S,O,z,N){var K=s&y;if(!K&&typeof a!="function")throw new Lr(u);var ct=_?_.length:0;if(ct||(s&=~(T|D),_=S=r),z=z===r?z:ke(Xt(z),0),N=N===r?N:Xt(N),ct-=S?S.length:0,s&D){var pt=_,mt=S;_=S=r}var Et=K?r:Nl(a),Tt=[a,s,d,_,S,pt,mt,O,z,N];if(Et&&jx(Tt,Et),a=Tt[0],s=Tt[1],d=Tt[2],_=Tt[3],S=Tt[4],N=Tt[9]=Tt[9]===r?K?0:a.length:ke(Tt[9]-ct,0),!N&&s&(C|E)&&(s&=~(C|E)),!s||s==x)var Ft=Px(a,s,d);else s==C||s==E?Ft=Bx(a,s,N):(s==T||s==(x|T))&&!S.length?Ft=Lx(a,s,d,_):Ft=ps.apply(r,Tt);var Vt=Et?Np:mv;return _v(Vt(Ft,Tt),a,s)}function sv(a,s,d,_){return a===r||qr(a,Vi[d])&&!se.call(_,d)?s:a}function uv(a,s,d,_,S,O){return xe(a)&&xe(s)&&(O.set(s,a),ls(a,s,r,uv,O),O.delete(s)),a}function kx(a){return Ka(a)?r:a}function lv(a,s,d,_,S,O){var z=d&m,N=a.length,K=s.length;if(N!=K&&!(z&&K>N))return!1;var ct=O.get(a),pt=O.get(s);if(ct&&pt)return ct==s&&pt==a;var mt=-1,Et=!0,Tt=d&b?new mi:r;for(O.set(a,s),O.set(s,a);++mt<N;){var Ft=a[mt],Vt=s[mt];if(_)var Gt=z?_(Vt,Ft,mt,s,a,O):_(Ft,Vt,mt,a,s,O);if(Gt!==r){if(Gt)continue;Et=!1;break}if(Tt){if(!sl(s,function(jt,te){if(!La(Tt,te)&&(Ft===jt||S(Ft,jt,d,_,O)))return Tt.push(te)})){Et=!1;break}}else if(!(Ft===Vt||S(Ft,Vt,d,_,O))){Et=!1;break}}return O.delete(a),O.delete(s),Et}function Fx(a,s,d,_,S,O,z){switch(d){case Qt:if(a.byteLength!=s.byteLength||a.byteOffset!=s.byteOffset)return!1;a=a.buffer,s=s.buffer;case Lt:return!(a.byteLength!=s.byteLength||!O(new jo(a),new jo(s)));case Dt:case At:case V:return qr(+a,+s);case bt:return a.name==s.name&&a.message==s.message;case ft:case ut:return a==s+"";case L:var N=pl;case vt:var K=_&m;if(N||(N=Yo),a.size!=s.size&&!K)return!1;var ct=z.get(a);if(ct)return ct==s;_|=b,z.set(a,s);var pt=lv(N(a),N(s),_,S,O,z);return z.delete(a),pt;case yt:if(Na)return Na.call(a)==Na.call(s)}return!1}function Gx(a,s,d,_,S,O){var z=d&m,N=Fl(a),K=N.length,ct=Fl(s),pt=ct.length;if(K!=pt&&!z)return!1;for(var mt=K;mt--;){var Et=N[mt];if(!(z?Et in s:se.call(s,Et)))return!1}var Tt=O.get(a),Ft=O.get(s);if(Tt&&Ft)return Tt==s&&Ft==a;var Vt=!0;O.set(a,s),O.set(s,a);for(var Gt=z;++mt<K;){Et=N[mt];var jt=a[Et],te=s[Et];if(_)var Mr=z?_(te,jt,Et,s,a,O):_(jt,te,Et,a,s,O);if(!(Mr===r?jt===te||S(jt,te,d,_,O):Mr)){Vt=!1;break}Gt||(Gt=Et=="constructor")}if(Vt&&!Gt){var ir=a.constructor,Rr=s.constructor;ir!=Rr&&"constructor"in a&&"constructor"in s&&!(typeof ir=="function"&&ir instanceof ir&&typeof Rr=="function"&&Rr instanceof Rr)&&(Vt=!1)}return O.delete(a),O.delete(s),Vt}function En(a){return Xl(hv(a,r,Cv),a+"")}function Fl(a){return Op(a,He,Hl)}function Gl(a){return Op(a,vr,fv)}var Nl=ns?function(a){return ns.get(a)}:of;function ms(a){for(var s=a.name+"",d=Ki[s],_=se.call(Ki,s)?d.length:0;_--;){var S=d[_],O=S.func;if(O==null||O==a)return S.name}return s}function Qi(a){var s=se.call(R,"placeholder")?R:a;return s.placeholder}function zt(){var a=R.iteratee||nf;return a=a===nf?Ip:a,arguments.length?a(arguments[0],arguments[1]):a}function _s(a,s){var d=a.__data__;return Vx(s)?d[typeof s=="string"?"string":"hash"]:d.map}function Wl(a){for(var s=He(a),d=s.length;d--;){var _=s[d],S=a[_];s[d]=[_,S,pv(S)]}return s}function xi(a,s){var d=Z_(a,s);return Ap(d)?d:r}function Nx(a){var s=se.call(a,hi),d=a[hi];try{a[hi]=r;var _=!0}catch{}var S=Ko.call(a);return _&&(s?a[hi]=d:delete a[hi]),S}var Hl=hl?function(a){return a==null?[]:(a=de(a),Gn(hl(a),function(s){return gp.call(a,s)}))}:sf,fv=hl?function(a){for(var s=[];a;)Nn(s,Hl(a)),a=Jo(a);return s}:sf,Ze=rr;(gl&&Ze(new gl(new ArrayBuffer(1)))!=Qt||ka&&Ze(new ka)!=L||ml&&Ze(ml.resolve())!=at||qi&&Ze(new qi)!=vt||Fa&&Ze(new Fa)!=wt)&&(Ze=function(a){var s=rr(a),d=s==tt?a.constructor:r,_=d?yi(d):"";if(_)switch(_){case Sb:return Qt;case wb:return L;case Cb:return at;case Eb:return vt;case Db:return wt}return s});function Wx(a,s,d){for(var _=-1,S=d.length;++_<S;){var O=d[_],z=O.size;switch(O.type){case"drop":a+=z;break;case"dropRight":s-=z;break;case"take":s=Ke(s,a+z);break;case"takeRight":a=ke(a,s-z);break}}return{start:a,end:s}}function Hx(a){var s=a.match(qm);return s?s[1].split(Km):[]}function cv(a,s,d){s=Yn(s,a);for(var _=-1,S=s.length,O=!1;++_<S;){var z=ln(s[_]);if(!(O=a!=null&&d(a,z)))break;a=a[z]}return O||++_!=S?O:(S=a==null?0:a.length,!!S&&Es(S)&&Dn(z,S)&&($t(a)||Si(a)))}function $x(a){var s=a.length,d=new a.constructor(s);return s&&typeof a[0]=="string"&&se.call(a,"index")&&(d.index=a.index,d.input=a.input),d}function dv(a){return typeof a.constructor=="function"&&!Va(a)?Zi(Jo(a)):{}}function Ux(a,s,d){var _=a.constructor;switch(s){case Lt:return Ll(a);case Dt:case At:return new _(+a);case Qt:return Mx(a,d);case Zt:case me:case Te:case cr:case Fn:case Ir:case on:case Le:case qe:return qp(a,d);case L:return new _;case V:case ut:return new _(a);case ft:return Rx(a);case vt:return new _;case yt:return Ox(a)}}function Yx(a,s){var d=s.length;if(!d)return a;var _=d-1;return s[_]=(d>1?"& ":"")+s[_],s=s.join(d>2?", ":" "),a.replace(Vm,`{
/* [wrapped with `+s+`] */
`)}function Xx(a){return $t(a)||Si(a)||!!(mp&&a&&a[mp])}function Dn(a,s){var d=typeof a;return s=s??j,!!s&&(d=="number"||d!="symbol"&&i_.test(a))&&a>-1&&a%1==0&&a<s}function nr(a,s,d){if(!xe(d))return!1;var _=typeof s;return(_=="number"?pr(d)&&Dn(s,d.length):_=="string"&&s in d)?qr(d[s],a):!1}function $l(a,s){if($t(a))return!1;var d=typeof a;return d=="number"||d=="symbol"||d=="boolean"||a==null||Dr(a)?!0:$m.test(a)||!Hm.test(a)||s!=null&&a in de(s)}function Vx(a){var s=typeof a;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?a!=="__proto__":a===null}function Ul(a){var s=ms(a),d=R[s];if(typeof d!="function"||!(s in Jt.prototype))return!1;if(a===d)return!0;var _=Nl(d);return!!_&&a===_[0]}function qx(a){return!!pp&&pp in a}var Kx=Vo?Mn:uf;function Va(a){var s=a&&a.constructor,d=typeof s=="function"&&s.prototype||Vi;return a===d}function pv(a){return a===a&&!xe(a)}function vv(a,s){return function(d){return d==null?!1:d[a]===s&&(s!==r||a in de(d))}}function Zx(a){var s=ws(a,function(_){return d.size===c&&d.clear(),_}),d=s.cache;return s}function jx(a,s){var d=a[1],_=s[1],S=d|_,O=S<(x|y|A),z=_==A&&d==C||_==A&&d==M&&a[7].length<=s[8]||_==(A|M)&&s[7].length<=s[8]&&d==C;if(!(O||z))return a;_&x&&(a[2]=s[2],S|=d&x?0:w);var N=s[3];if(N){var K=a[3];a[3]=K?Zp(K,N,s[4]):N,a[4]=K?Wn(a[3],p):s[4]}return N=s[5],N&&(K=a[5],a[5]=K?jp(K,N,s[6]):N,a[6]=K?Wn(a[5],p):s[6]),N=s[7],N&&(a[7]=N),_&A&&(a[8]=a[8]==null?s[8]:Ke(a[8],s[8])),a[9]==null&&(a[9]=s[9]),a[0]=s[0],a[1]=S,a}function Jx(a){var s=[];if(a!=null)for(var d in de(a))s.push(d);return s}function Qx(a){return Ko.call(a)}function hv(a,s,d){return s=ke(s===r?a.length-1:s,0),function(){for(var _=arguments,S=-1,O=ke(_.length-s,0),z=Q(O);++S<O;)z[S]=_[s+S];S=-1;for(var N=Q(s+1);++S<s;)N[S]=_[S];return N[s]=d(z),wr(a,this,N)}}function gv(a,s){return s.length<2?a:bi(a,Fr(s,0,-1))}function ty(a,s){for(var d=a.length,_=Ke(s.length,d),S=dr(a);_--;){var O=s[_];a[_]=Dn(O,d)?S[O]:r}return a}function Yl(a,s){if(!(s==="constructor"&&typeof a[s]=="function")&&s!="__proto__")return a[s]}var mv=bv(Np),qa=hb||function(a,s){return Ue.setTimeout(a,s)},Xl=bv(wx);function _v(a,s,d){var _=s+"";return Xl(a,Yx(_,ey(Hx(_),d)))}function bv(a){var s=0,d=0;return function(){var _=bb(),S=F-(_-d);if(d=_,S>0){if(++s>=$)return arguments[0]}else s=0;return a.apply(r,arguments)}}function bs(a,s){var d=-1,_=a.length,S=_-1;for(s=s===r?_:s;++d<s;){var O=Rl(d,S),z=a[O];a[O]=a[d],a[d]=z}return a.length=s,a}var xv=Zx(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(Um,function(d,_,S,O){s.push(S?O.replace(Jm,"$1"):_||d)}),s});function ln(a){if(typeof a=="string"||Dr(a))return a;var s=a+"";return s=="0"&&1/a==-G?"-0":s}function yi(a){if(a!=null){try{return qo.call(a)}catch{}try{return a+""}catch{}}return""}function ey(a,s){return Br(dt,function(d){var _="_."+d[0];s&d[1]&&!$o(a,_)&&a.push(_)}),a.sort()}function yv(a){if(a instanceof Jt)return a.clone();var s=new zr(a.__wrapped__,a.__chain__);return s.__actions__=dr(a.__actions__),s.__index__=a.__index__,s.__values__=a.__values__,s}function ry(a,s,d){(d?nr(a,s,d):s===r)?s=1:s=ke(Xt(s),0);var _=a==null?0:a.length;if(!_||s<1)return[];for(var S=0,O=0,z=Q(es(_/s));S<_;)z[O++]=Fr(a,S,S+=s);return z}function ny(a){for(var s=-1,d=a==null?0:a.length,_=0,S=[];++s<d;){var O=a[s];O&&(S[_++]=O)}return S}function iy(){var a=arguments.length;if(!a)return[];for(var s=Q(a-1),d=arguments[0],_=a;_--;)s[_-1]=arguments[_];return Nn($t(d)?dr(d):[d],Ye(s,1))}var ay=qt(function(a,s){return Ee(a)?Ha(a,Ye(s,1,Ee,!0)):[]}),oy=qt(function(a,s){var d=Gr(s);return Ee(d)&&(d=r),Ee(a)?Ha(a,Ye(s,1,Ee,!0),zt(d,2)):[]}),sy=qt(function(a,s){var d=Gr(s);return Ee(d)&&(d=r),Ee(a)?Ha(a,Ye(s,1,Ee,!0),r,d):[]});function uy(a,s,d){var _=a==null?0:a.length;return _?(s=d||s===r?1:Xt(s),Fr(a,s<0?0:s,_)):[]}function ly(a,s,d){var _=a==null?0:a.length;return _?(s=d||s===r?1:Xt(s),s=_-s,Fr(a,0,s<0?0:s)):[]}function fy(a,s){return a&&a.length?cs(a,zt(s,3),!0,!0):[]}function cy(a,s){return a&&a.length?cs(a,zt(s,3),!0):[]}function dy(a,s,d,_){var S=a==null?0:a.length;return S?(d&&typeof d!="number"&&nr(a,s,d)&&(d=0,_=S),ix(a,s,d,_)):[]}function Sv(a,s,d){var _=a==null?0:a.length;if(!_)return-1;var S=d==null?0:Xt(d);return S<0&&(S=ke(_+S,0)),Uo(a,zt(s,3),S)}function wv(a,s,d){var _=a==null?0:a.length;if(!_)return-1;var S=_-1;return d!==r&&(S=Xt(d),S=d<0?ke(_+S,0):Ke(S,_-1)),Uo(a,zt(s,3),S,!0)}function Cv(a){var s=a==null?0:a.length;return s?Ye(a,1):[]}function py(a){var s=a==null?0:a.length;return s?Ye(a,G):[]}function vy(a,s){var d=a==null?0:a.length;return d?(s=s===r?1:Xt(s),Ye(a,s)):[]}function hy(a){for(var s=-1,d=a==null?0:a.length,_={};++s<d;){var S=a[s];_[S[0]]=S[1]}return _}function Ev(a){return a&&a.length?a[0]:r}function gy(a,s,d){var _=a==null?0:a.length;if(!_)return-1;var S=d==null?0:Xt(d);return S<0&&(S=ke(_+S,0)),$i(a,s,S)}function my(a){var s=a==null?0:a.length;return s?Fr(a,0,-1):[]}var _y=qt(function(a){var s=_e(a,Pl);return s.length&&s[0]===a[0]?wl(s):[]}),by=qt(function(a){var s=Gr(a),d=_e(a,Pl);return s===Gr(d)?s=r:d.pop(),d.length&&d[0]===a[0]?wl(d,zt(s,2)):[]}),xy=qt(function(a){var s=Gr(a),d=_e(a,Pl);return s=typeof s=="function"?s:r,s&&d.pop(),d.length&&d[0]===a[0]?wl(d,r,s):[]});function yy(a,s){return a==null?"":mb.call(a,s)}function Gr(a){var s=a==null?0:a.length;return s?a[s-1]:r}function Sy(a,s,d){var _=a==null?0:a.length;if(!_)return-1;var S=_;return d!==r&&(S=Xt(d),S=S<0?ke(_+S,0):Ke(S,_-1)),s===s?eb(a,s,S):Uo(a,ap,S,!0)}function wy(a,s){return a&&a.length?zp(a,Xt(s)):r}var Cy=qt(Dv);function Dv(a,s){return a&&a.length&&s&&s.length?Ml(a,s):a}function Ey(a,s,d){return a&&a.length&&s&&s.length?Ml(a,s,zt(d,2)):a}function Dy(a,s,d){return a&&a.length&&s&&s.length?Ml(a,s,r,d):a}var My=En(function(a,s){var d=a==null?0:a.length,_=bl(a,s);return Gp(a,_e(s,function(S){return Dn(S,d)?+S:S}).sort(Kp)),_});function Ry(a,s){var d=[];if(!(a&&a.length))return d;var _=-1,S=[],O=a.length;for(s=zt(s,3);++_<O;){var z=a[_];s(z,_,a)&&(d.push(z),S.push(_))}return Gp(a,S),d}function Vl(a){return a==null?a:yb.call(a)}function Oy(a,s,d){var _=a==null?0:a.length;return _?(d&&typeof d!="number"&&nr(a,s,d)?(s=0,d=_):(s=s==null?0:Xt(s),d=d===r?_:Xt(d)),Fr(a,s,d)):[]}function Ty(a,s){return fs(a,s)}function Ay(a,s,d){return Tl(a,s,zt(d,2))}function Iy(a,s){var d=a==null?0:a.length;if(d){var _=fs(a,s);if(_<d&&qr(a[_],s))return _}return-1}function Py(a,s){return fs(a,s,!0)}function By(a,s,d){return Tl(a,s,zt(d,2),!0)}function Ly(a,s){var d=a==null?0:a.length;if(d){var _=fs(a,s,!0)-1;if(qr(a[_],s))return _}return-1}function zy(a){return a&&a.length?Wp(a):[]}function ky(a,s){return a&&a.length?Wp(a,zt(s,2)):[]}function Fy(a){var s=a==null?0:a.length;return s?Fr(a,1,s):[]}function Gy(a,s,d){return a&&a.length?(s=d||s===r?1:Xt(s),Fr(a,0,s<0?0:s)):[]}function Ny(a,s,d){var _=a==null?0:a.length;return _?(s=d||s===r?1:Xt(s),s=_-s,Fr(a,s<0?0:s,_)):[]}function Wy(a,s){return a&&a.length?cs(a,zt(s,3),!1,!0):[]}function Hy(a,s){return a&&a.length?cs(a,zt(s,3)):[]}var $y=qt(function(a){return Un(Ye(a,1,Ee,!0))}),Uy=qt(function(a){var s=Gr(a);return Ee(s)&&(s=r),Un(Ye(a,1,Ee,!0),zt(s,2))}),Yy=qt(function(a){var s=Gr(a);return s=typeof s=="function"?s:r,Un(Ye(a,1,Ee,!0),r,s)});function Xy(a){return a&&a.length?Un(a):[]}function Vy(a,s){return a&&a.length?Un(a,zt(s,2)):[]}function qy(a,s){return s=typeof s=="function"?s:r,a&&a.length?Un(a,r,s):[]}function ql(a){if(!(a&&a.length))return[];var s=0;return a=Gn(a,function(d){if(Ee(d))return s=ke(d.length,s),!0}),cl(s,function(d){return _e(a,ul(d))})}function Mv(a,s){if(!(a&&a.length))return[];var d=ql(a);return s==null?d:_e(d,function(_){return wr(s,r,_)})}var Ky=qt(function(a,s){return Ee(a)?Ha(a,s):[]}),Zy=qt(function(a){return Il(Gn(a,Ee))}),jy=qt(function(a){var s=Gr(a);return Ee(s)&&(s=r),Il(Gn(a,Ee),zt(s,2))}),Jy=qt(function(a){var s=Gr(a);return s=typeof s=="function"?s:r,Il(Gn(a,Ee),r,s)}),Qy=qt(ql);function tS(a,s){return Yp(a||[],s||[],Wa)}function eS(a,s){return Yp(a||[],s||[],Ya)}var rS=qt(function(a){var s=a.length,d=s>1?a[s-1]:r;return d=typeof d=="function"?(a.pop(),d):r,Mv(a,d)});function Rv(a){var s=R(a);return s.__chain__=!0,s}function nS(a,s){return s(a),a}function xs(a,s){return s(a)}var iS=En(function(a){var s=a.length,d=s?a[0]:0,_=this.__wrapped__,S=function(O){return bl(O,a)};return s>1||this.__actions__.length||!(_ instanceof Jt)||!Dn(d)?this.thru(S):(_=_.slice(d,+d+(s?1:0)),_.__actions__.push({func:xs,args:[S],thisArg:r}),new zr(_,this.__chain__).thru(function(O){return s&&!O.length&&O.push(r),O}))});function aS(){return Rv(this)}function oS(){return new zr(this.value(),this.__chain__)}function sS(){this.__values__===r&&(this.__values__=Hv(this.value()));var a=this.__index__>=this.__values__.length,s=a?r:this.__values__[this.__index__++];return{done:a,value:s}}function uS(){return this}function lS(a){for(var s,d=this;d instanceof as;){var _=yv(d);_.__index__=0,_.__values__=r,s?S.__wrapped__=_:s=_;var S=_;d=d.__wrapped__}return S.__wrapped__=a,s}function fS(){var a=this.__wrapped__;if(a instanceof Jt){var s=a;return this.__actions__.length&&(s=new Jt(this)),s=s.reverse(),s.__actions__.push({func:xs,args:[Vl],thisArg:r}),new zr(s,this.__chain__)}return this.thru(Vl)}function cS(){return Up(this.__wrapped__,this.__actions__)}var dS=ds(function(a,s,d){se.call(a,d)?++a[d]:wn(a,d,1)});function pS(a,s,d){var _=$t(a)?np:nx;return d&&nr(a,s,d)&&(s=r),_(a,zt(s,3))}function vS(a,s){var d=$t(a)?Gn:Mp;return d(a,zt(s,3))}var hS=ev(Sv),gS=ev(wv);function mS(a,s){return Ye(ys(a,s),1)}function _S(a,s){return Ye(ys(a,s),G)}function bS(a,s,d){return d=d===r?1:Xt(d),Ye(ys(a,s),d)}function Ov(a,s){var d=$t(a)?Br:$n;return d(a,zt(s,3))}function Tv(a,s){var d=$t(a)?F_:Dp;return d(a,zt(s,3))}var xS=ds(function(a,s,d){se.call(a,d)?a[d].push(s):wn(a,d,[s])});function yS(a,s,d,_){a=pr(a)?a:ea(a),d=d&&!_?Xt(d):0;var S=a.length;return d<0&&(d=ke(S+d,0)),Ds(a)?d<=S&&a.indexOf(s,d)>-1:!!S&&$i(a,s,d)>-1}var SS=qt(function(a,s,d){var _=-1,S=typeof s=="function",O=pr(a)?Q(a.length):[];return $n(a,function(z){O[++_]=S?wr(s,z,d):$a(z,s,d)}),O}),wS=ds(function(a,s,d){wn(a,d,s)});function ys(a,s){var d=$t(a)?_e:Pp;return d(a,zt(s,3))}function CS(a,s,d,_){return a==null?[]:($t(s)||(s=s==null?[]:[s]),d=_?r:d,$t(d)||(d=d==null?[]:[d]),kp(a,s,d))}var ES=ds(function(a,s,d){a[d?0:1].push(s)},function(){return[[],[]]});function DS(a,s,d){var _=$t(a)?ol:sp,S=arguments.length<3;return _(a,zt(s,4),d,S,$n)}function MS(a,s,d){var _=$t(a)?G_:sp,S=arguments.length<3;return _(a,zt(s,4),d,S,Dp)}function RS(a,s){var d=$t(a)?Gn:Mp;return d(a,Cs(zt(s,3)))}function OS(a){var s=$t(a)?Sp:yx;return s(a)}function TS(a,s,d){(d?nr(a,s,d):s===r)?s=1:s=Xt(s);var _=$t(a)?Jb:Sx;return _(a,s)}function AS(a){var s=$t(a)?Qb:Cx;return s(a)}function IS(a){if(a==null)return 0;if(pr(a))return Ds(a)?Yi(a):a.length;var s=Ze(a);return s==L||s==vt?a.size:El(a).length}function PS(a,s,d){var _=$t(a)?sl:Ex;return d&&nr(a,s,d)&&(s=r),_(a,zt(s,3))}var BS=qt(function(a,s){if(a==null)return[];var d=s.length;return d>1&&nr(a,s[0],s[1])?s=[]:d>2&&nr(s[0],s[1],s[2])&&(s=[s[0]]),kp(a,Ye(s,1),[])}),Ss=vb||function(){return Ue.Date.now()};function LS(a,s){if(typeof s!="function")throw new Lr(u);return a=Xt(a),function(){if(--a<1)return s.apply(this,arguments)}}function Av(a,s,d){return s=d?r:s,s=a&&s==null?a.length:s,Cn(a,A,r,r,r,r,s)}function Iv(a,s){var d;if(typeof s!="function")throw new Lr(u);return a=Xt(a),function(){return--a>0&&(d=s.apply(this,arguments)),a<=1&&(s=r),d}}var Kl=qt(function(a,s,d){var _=x;if(d.length){var S=Wn(d,Qi(Kl));_|=T}return Cn(a,_,s,d,S)}),Pv=qt(function(a,s,d){var _=x|y;if(d.length){var S=Wn(d,Qi(Pv));_|=T}return Cn(s,_,a,d,S)});function Bv(a,s,d){s=d?r:s;var _=Cn(a,C,r,r,r,r,r,s);return _.placeholder=Bv.placeholder,_}function Lv(a,s,d){s=d?r:s;var _=Cn(a,E,r,r,r,r,r,s);return _.placeholder=Lv.placeholder,_}function zv(a,s,d){var _,S,O,z,N,K,ct=0,pt=!1,mt=!1,Et=!0;if(typeof a!="function")throw new Lr(u);s=Nr(s)||0,xe(d)&&(pt=!!d.leading,mt="maxWait"in d,O=mt?ke(Nr(d.maxWait)||0,s):O,Et="trailing"in d?!!d.trailing:Et);function Tt(De){var Kr=_,On=S;return _=S=r,ct=De,z=a.apply(On,Kr),z}function Ft(De){return ct=De,N=qa(jt,s),pt?Tt(De):z}function Vt(De){var Kr=De-K,On=De-ct,eh=s-Kr;return mt?Ke(eh,O-On):eh}function Gt(De){var Kr=De-K,On=De-ct;return K===r||Kr>=s||Kr<0||mt&&On>=O}function jt(){var De=Ss();if(Gt(De))return te(De);N=qa(jt,Vt(De))}function te(De){return N=r,Et&&_?Tt(De):(_=S=r,z)}function Mr(){N!==r&&Xp(N),ct=0,_=K=S=N=r}function ir(){return N===r?z:te(Ss())}function Rr(){var De=Ss(),Kr=Gt(De);if(_=arguments,S=this,K=De,Kr){if(N===r)return Ft(K);if(mt)return Xp(N),N=qa(jt,s),Tt(K)}return N===r&&(N=qa(jt,s)),z}return Rr.cancel=Mr,Rr.flush=ir,Rr}var zS=qt(function(a,s){return Ep(a,1,s)}),kS=qt(function(a,s,d){return Ep(a,Nr(s)||0,d)});function FS(a){return Cn(a,I)}function ws(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new Lr(u);var d=function(){var _=arguments,S=s?s.apply(this,_):_[0],O=d.cache;if(O.has(S))return O.get(S);var z=a.apply(this,_);return d.cache=O.set(S,z)||O,z};return d.cache=new(ws.Cache||Sn),d}ws.Cache=Sn;function Cs(a){if(typeof a!="function")throw new Lr(u);return function(){var s=arguments;switch(s.length){case 0:return!a.call(this);case 1:return!a.call(this,s[0]);case 2:return!a.call(this,s[0],s[1]);case 3:return!a.call(this,s[0],s[1],s[2])}return!a.apply(this,s)}}function GS(a){return Iv(2,a)}var NS=Dx(function(a,s){s=s.length==1&&$t(s[0])?_e(s[0],Cr(zt())):_e(Ye(s,1),Cr(zt()));var d=s.length;return qt(function(_){for(var S=-1,O=Ke(_.length,d);++S<O;)_[S]=s[S].call(this,_[S]);return wr(a,this,_)})}),Zl=qt(function(a,s){var d=Wn(s,Qi(Zl));return Cn(a,T,r,s,d)}),kv=qt(function(a,s){var d=Wn(s,Qi(kv));return Cn(a,D,r,s,d)}),WS=En(function(a,s){return Cn(a,M,r,r,r,s)});function HS(a,s){if(typeof a!="function")throw new Lr(u);return s=s===r?s:Xt(s),qt(a,s)}function $S(a,s){if(typeof a!="function")throw new Lr(u);return s=s==null?0:ke(Xt(s),0),qt(function(d){var _=d[s],S=Xn(d,0,s);return _&&Nn(S,_),wr(a,this,S)})}function US(a,s,d){var _=!0,S=!0;if(typeof a!="function")throw new Lr(u);return xe(d)&&(_="leading"in d?!!d.leading:_,S="trailing"in d?!!d.trailing:S),zv(a,s,{leading:_,maxWait:s,trailing:S})}function YS(a){return Av(a,1)}function XS(a,s){return Zl(Bl(s),a)}function VS(){if(!arguments.length)return[];var a=arguments[0];return $t(a)?a:[a]}function qS(a){return kr(a,g)}function KS(a,s){return s=typeof s=="function"?s:r,kr(a,g,s)}function ZS(a){return kr(a,v|g)}function jS(a,s){return s=typeof s=="function"?s:r,kr(a,v|g,s)}function JS(a,s){return s==null||Cp(a,s,He(s))}function qr(a,s){return a===s||a!==a&&s!==s}var QS=gs(Sl),tw=gs(function(a,s){return a>=s}),Si=Tp(function(){return arguments}())?Tp:function(a){return we(a)&&se.call(a,"callee")&&!gp.call(a,"callee")},$t=Q.isArray,ew=jd?Cr(jd):lx;function pr(a){return a!=null&&Es(a.length)&&!Mn(a)}function Ee(a){return we(a)&&pr(a)}function rw(a){return a===!0||a===!1||we(a)&&rr(a)==Dt}var Vn=gb||uf,nw=Jd?Cr(Jd):fx;function iw(a){return we(a)&&a.nodeType===1&&!Ka(a)}function aw(a){if(a==null)return!0;if(pr(a)&&($t(a)||typeof a=="string"||typeof a.splice=="function"||Vn(a)||ta(a)||Si(a)))return!a.length;var s=Ze(a);if(s==L||s==vt)return!a.size;if(Va(a))return!El(a).length;for(var d in a)if(se.call(a,d))return!1;return!0}function ow(a,s){return Ua(a,s)}function sw(a,s,d){d=typeof d=="function"?d:r;var _=d?d(a,s):r;return _===r?Ua(a,s,r,d):!!_}function jl(a){if(!we(a))return!1;var s=rr(a);return s==bt||s==kt||typeof a.message=="string"&&typeof a.name=="string"&&!Ka(a)}function uw(a){return typeof a=="number"&&_p(a)}function Mn(a){if(!xe(a))return!1;var s=rr(a);return s==Mt||s==B||s==St||s==lt}function Fv(a){return typeof a=="number"&&a==Xt(a)}function Es(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=j}function xe(a){var s=typeof a;return a!=null&&(s=="object"||s=="function")}function we(a){return a!=null&&typeof a=="object"}var Gv=Qd?Cr(Qd):dx;function lw(a,s){return a===s||Cl(a,s,Wl(s))}function fw(a,s,d){return d=typeof d=="function"?d:r,Cl(a,s,Wl(s),d)}function cw(a){return Nv(a)&&a!=+a}function dw(a){if(Kx(a))throw new Wt(o);return Ap(a)}function pw(a){return a===null}function vw(a){return a==null}function Nv(a){return typeof a=="number"||we(a)&&rr(a)==V}function Ka(a){if(!we(a)||rr(a)!=tt)return!1;var s=Jo(a);if(s===null)return!0;var d=se.call(s,"constructor")&&s.constructor;return typeof d=="function"&&d instanceof d&&qo.call(d)==fb}var Jl=tp?Cr(tp):px;function hw(a){return Fv(a)&&a>=-j&&a<=j}var Wv=ep?Cr(ep):vx;function Ds(a){return typeof a=="string"||!$t(a)&&we(a)&&rr(a)==ut}function Dr(a){return typeof a=="symbol"||we(a)&&rr(a)==yt}var ta=rp?Cr(rp):hx;function gw(a){return a===r}function mw(a){return we(a)&&Ze(a)==wt}function _w(a){return we(a)&&rr(a)==Bt}var bw=gs(Dl),xw=gs(function(a,s){return a<=s});function Hv(a){if(!a)return[];if(pr(a))return Ds(a)?Xr(a):dr(a);if(za&&a[za])return J_(a[za]());var s=Ze(a),d=s==L?pl:s==vt?Yo:ea;return d(a)}function Rn(a){if(!a)return a===0?a:0;if(a=Nr(a),a===G||a===-G){var s=a<0?-1:1;return s*U}return a===a?a:0}function Xt(a){var s=Rn(a),d=s%1;return s===s?d?s-d:s:0}function $v(a){return a?_i(Xt(a),0,q):0}function Nr(a){if(typeof a=="number")return a;if(Dr(a))return J;if(xe(a)){var s=typeof a.valueOf=="function"?a.valueOf():a;a=xe(s)?s+"":s}if(typeof a!="string")return a===0?a:+a;a=up(a);var d=e_.test(a);return d||n_.test(a)?L_(a.slice(2),d?2:8):t_.test(a)?J:+a}function Uv(a){return un(a,vr(a))}function yw(a){return a?_i(Xt(a),-j,j):a===0?a:0}function ae(a){return a==null?"":Er(a)}var Sw=ji(function(a,s){if(Va(s)||pr(s)){un(s,He(s),a);return}for(var d in s)se.call(s,d)&&Wa(a,d,s[d])}),Yv=ji(function(a,s){un(s,vr(s),a)}),Ms=ji(function(a,s,d,_){un(s,vr(s),a,_)}),ww=ji(function(a,s,d,_){un(s,He(s),a,_)}),Cw=En(bl);function Ew(a,s){var d=Zi(a);return s==null?d:wp(d,s)}var Dw=qt(function(a,s){a=de(a);var d=-1,_=s.length,S=_>2?s[2]:r;for(S&&nr(s[0],s[1],S)&&(_=1);++d<_;)for(var O=s[d],z=vr(O),N=-1,K=z.length;++N<K;){var ct=z[N],pt=a[ct];(pt===r||qr(pt,Vi[ct])&&!se.call(a,ct))&&(a[ct]=O[ct])}return a}),Mw=qt(function(a){return a.push(r,uv),wr(Xv,r,a)});function Rw(a,s){return ip(a,zt(s,3),sn)}function Ow(a,s){return ip(a,zt(s,3),yl)}function Tw(a,s){return a==null?a:xl(a,zt(s,3),vr)}function Aw(a,s){return a==null?a:Rp(a,zt(s,3),vr)}function Iw(a,s){return a&&sn(a,zt(s,3))}function Pw(a,s){return a&&yl(a,zt(s,3))}function Bw(a){return a==null?[]:us(a,He(a))}function Lw(a){return a==null?[]:us(a,vr(a))}function Ql(a,s,d){var _=a==null?r:bi(a,s);return _===r?d:_}function zw(a,s){return a!=null&&cv(a,s,ax)}function tf(a,s){return a!=null&&cv(a,s,ox)}var kw=nv(function(a,s,d){s!=null&&typeof s.toString!="function"&&(s=Ko.call(s)),a[s]=d},rf(hr)),Fw=nv(function(a,s,d){s!=null&&typeof s.toString!="function"&&(s=Ko.call(s)),se.call(a,s)?a[s].push(d):a[s]=[d]},zt),Gw=qt($a);function He(a){return pr(a)?yp(a):El(a)}function vr(a){return pr(a)?yp(a,!0):gx(a)}function Nw(a,s){var d={};return s=zt(s,3),sn(a,function(_,S,O){wn(d,s(_,S,O),_)}),d}function Ww(a,s){var d={};return s=zt(s,3),sn(a,function(_,S,O){wn(d,S,s(_,S,O))}),d}var Hw=ji(function(a,s,d){ls(a,s,d)}),Xv=ji(function(a,s,d,_){ls(a,s,d,_)}),$w=En(function(a,s){var d={};if(a==null)return d;var _=!1;s=_e(s,function(O){return O=Yn(O,a),_||(_=O.length>1),O}),un(a,Gl(a),d),_&&(d=kr(d,v|h|g,kx));for(var S=s.length;S--;)Al(d,s[S]);return d});function Uw(a,s){return Vv(a,Cs(zt(s)))}var Yw=En(function(a,s){return a==null?{}:_x(a,s)});function Vv(a,s){if(a==null)return{};var d=_e(Gl(a),function(_){return[_]});return s=zt(s),Fp(a,d,function(_,S){return s(_,S[0])})}function Xw(a,s,d){s=Yn(s,a);var _=-1,S=s.length;for(S||(S=1,a=r);++_<S;){var O=a==null?r:a[ln(s[_])];O===r&&(_=S,O=d),a=Mn(O)?O.call(a):O}return a}function Vw(a,s,d){return a==null?a:Ya(a,s,d)}function qw(a,s,d,_){return _=typeof _=="function"?_:r,a==null?a:Ya(a,s,d,_)}var qv=ov(He),Kv=ov(vr);function Kw(a,s,d){var _=$t(a),S=_||Vn(a)||ta(a);if(s=zt(s,4),d==null){var O=a&&a.constructor;S?d=_?new O:[]:xe(a)?d=Mn(O)?Zi(Jo(a)):{}:d={}}return(S?Br:sn)(a,function(z,N,K){return s(d,z,N,K)}),d}function Zw(a,s){return a==null?!0:Al(a,s)}function jw(a,s,d){return a==null?a:$p(a,s,Bl(d))}function Jw(a,s,d,_){return _=typeof _=="function"?_:r,a==null?a:$p(a,s,Bl(d),_)}function ea(a){return a==null?[]:dl(a,He(a))}function Qw(a){return a==null?[]:dl(a,vr(a))}function tC(a,s,d){return d===r&&(d=s,s=r),d!==r&&(d=Nr(d),d=d===d?d:0),s!==r&&(s=Nr(s),s=s===s?s:0),_i(Nr(a),s,d)}function eC(a,s,d){return s=Rn(s),d===r?(d=s,s=0):d=Rn(d),a=Nr(a),sx(a,s,d)}function rC(a,s,d){if(d&&typeof d!="boolean"&&nr(a,s,d)&&(s=d=r),d===r&&(typeof s=="boolean"?(d=s,s=r):typeof a=="boolean"&&(d=a,a=r)),a===r&&s===r?(a=0,s=1):(a=Rn(a),s===r?(s=a,a=0):s=Rn(s)),a>s){var _=a;a=s,s=_}if(d||a%1||s%1){var S=bp();return Ke(a+S*(s-a+B_("1e-"+((S+"").length-1))),s)}return Rl(a,s)}var nC=Ji(function(a,s,d){return s=s.toLowerCase(),a+(d?Zv(s):s)});function Zv(a){return ef(ae(a).toLowerCase())}function jv(a){return a=ae(a),a&&a.replace(a_,V_).replace(C_,"")}function iC(a,s,d){a=ae(a),s=Er(s);var _=a.length;d=d===r?_:_i(Xt(d),0,_);var S=d;return d-=s.length,d>=0&&a.slice(d,S)==s}function aC(a){return a=ae(a),a&&Ku.test(a)?a.replace(Pa,q_):a}function oC(a){return a=ae(a),a&&Ym.test(a)?a.replace(Zu,"\\$&"):a}var sC=Ji(function(a,s,d){return a+(d?"-":"")+s.toLowerCase()}),uC=Ji(function(a,s,d){return a+(d?" ":"")+s.toLowerCase()}),lC=tv("toLowerCase");function fC(a,s,d){a=ae(a),s=Xt(s);var _=s?Yi(a):0;if(!s||_>=s)return a;var S=(s-_)/2;return hs(rs(S),d)+a+hs(es(S),d)}function cC(a,s,d){a=ae(a),s=Xt(s);var _=s?Yi(a):0;return s&&_<s?a+hs(s-_,d):a}function dC(a,s,d){a=ae(a),s=Xt(s);var _=s?Yi(a):0;return s&&_<s?hs(s-_,d)+a:a}function pC(a,s,d){return d||s==null?s=0:s&&(s=+s),xb(ae(a).replace(ju,""),s||0)}function vC(a,s,d){return(d?nr(a,s,d):s===r)?s=1:s=Xt(s),Ol(ae(a),s)}function hC(){var a=arguments,s=ae(a[0]);return a.length<3?s:s.replace(a[1],a[2])}var gC=Ji(function(a,s,d){return a+(d?"_":"")+s.toLowerCase()});function mC(a,s,d){return d&&typeof d!="number"&&nr(a,s,d)&&(s=d=r),d=d===r?q:d>>>0,d?(a=ae(a),a&&(typeof s=="string"||s!=null&&!Jl(s))&&(s=Er(s),!s&&Ui(a))?Xn(Xr(a),0,d):a.split(s,d)):[]}var _C=Ji(function(a,s,d){return a+(d?" ":"")+ef(s)});function bC(a,s,d){return a=ae(a),d=d==null?0:_i(Xt(d),0,a.length),s=Er(s),a.slice(d,d+s.length)==s}function xC(a,s,d){var _=R.templateSettings;d&&nr(a,s,d)&&(s=r),a=ae(a),s=Ms({},s,_,sv);var S=Ms({},s.imports,_.imports,sv),O=He(S),z=dl(S,O),N,K,ct=0,pt=s.interpolate||No,mt="__p += '",Et=vl((s.escape||No).source+"|"+pt.source+"|"+(pt===Od?Qm:No).source+"|"+(s.evaluate||No).source+"|$","g"),Tt="//# sourceURL="+(se.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++O_+"]")+`
`;a.replace(Et,function(Gt,jt,te,Mr,ir,Rr){return te||(te=Mr),mt+=a.slice(ct,Rr).replace(o_,K_),jt&&(N=!0,mt+=`' +
__e(`+jt+`) +
'`),ir&&(K=!0,mt+=`';
`+ir+`;
__p += '`),te&&(mt+=`' +
((__t = (`+te+`)) == null ? '' : __t) +
'`),ct=Rr+Gt.length,Gt}),mt+=`';
`;var Ft=se.call(s,"variable")&&s.variable;if(!Ft)mt=`with (obj) {
`+mt+`
}
`;else if(jm.test(Ft))throw new Wt(l);mt=(K?mt.replace(Wi,""):mt).replace(Ia,"$1").replace(le,"$1;"),mt="function("+(Ft||"obj")+`) {
`+(Ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(N?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+mt+`return __p
}`;var Vt=Qv(function(){return ne(O,Tt+"return "+mt).apply(r,z)});if(Vt.source=mt,jl(Vt))throw Vt;return Vt}function yC(a){return ae(a).toLowerCase()}function SC(a){return ae(a).toUpperCase()}function wC(a,s,d){if(a=ae(a),a&&(d||s===r))return up(a);if(!a||!(s=Er(s)))return a;var _=Xr(a),S=Xr(s),O=lp(_,S),z=fp(_,S)+1;return Xn(_,O,z).join("")}function CC(a,s,d){if(a=ae(a),a&&(d||s===r))return a.slice(0,dp(a)+1);if(!a||!(s=Er(s)))return a;var _=Xr(a),S=fp(_,Xr(s))+1;return Xn(_,0,S).join("")}function EC(a,s,d){if(a=ae(a),a&&(d||s===r))return a.replace(ju,"");if(!a||!(s=Er(s)))return a;var _=Xr(a),S=lp(_,Xr(s));return Xn(_,S).join("")}function DC(a,s){var d=P,_=H;if(xe(s)){var S="separator"in s?s.separator:S;d="length"in s?Xt(s.length):d,_="omission"in s?Er(s.omission):_}a=ae(a);var O=a.length;if(Ui(a)){var z=Xr(a);O=z.length}if(d>=O)return a;var N=d-Yi(_);if(N<1)return _;var K=z?Xn(z,0,N).join(""):a.slice(0,N);if(S===r)return K+_;if(z&&(N+=K.length-N),Jl(S)){if(a.slice(N).search(S)){var ct,pt=K;for(S.global||(S=vl(S.source,ae(Td.exec(S))+"g")),S.lastIndex=0;ct=S.exec(pt);)var mt=ct.index;K=K.slice(0,mt===r?N:mt)}}else if(a.indexOf(Er(S),N)!=N){var Et=K.lastIndexOf(S);Et>-1&&(K=K.slice(0,Et))}return K+_}function MC(a){return a=ae(a),a&&Go.test(a)?a.replace(We,rb):a}var RC=Ji(function(a,s,d){return a+(d?" ":"")+s.toUpperCase()}),ef=tv("toUpperCase");function Jv(a,s,d){return a=ae(a),s=d?r:s,s===r?j_(a)?ab(a):H_(a):a.match(s)||[]}var Qv=qt(function(a,s){try{return wr(a,r,s)}catch(d){return jl(d)?d:new Wt(d)}}),OC=En(function(a,s){return Br(s,function(d){d=ln(d),wn(a,d,Kl(a[d],a))}),a});function TC(a){var s=a==null?0:a.length,d=zt();return a=s?_e(a,function(_){if(typeof _[1]!="function")throw new Lr(u);return[d(_[0]),_[1]]}):[],qt(function(_){for(var S=-1;++S<s;){var O=a[S];if(wr(O[0],this,_))return wr(O[1],this,_)}})}function AC(a){return rx(kr(a,v))}function rf(a){return function(){return a}}function IC(a,s){return a==null||a!==a?s:a}var PC=rv(),BC=rv(!0);function hr(a){return a}function nf(a){return Ip(typeof a=="function"?a:kr(a,v))}function LC(a){return Bp(kr(a,v))}function zC(a,s){return Lp(a,kr(s,v))}var kC=qt(function(a,s){return function(d){return $a(d,a,s)}}),FC=qt(function(a,s){return function(d){return $a(a,d,s)}});function af(a,s,d){var _=He(s),S=us(s,_);d==null&&!(xe(s)&&(S.length||!_.length))&&(d=s,s=a,a=this,S=us(s,He(s)));var O=!(xe(d)&&"chain"in d)||!!d.chain,z=Mn(a);return Br(S,function(N){var K=s[N];a[N]=K,z&&(a.prototype[N]=function(){var ct=this.__chain__;if(O||ct){var pt=a(this.__wrapped__),mt=pt.__actions__=dr(this.__actions__);return mt.push({func:K,args:arguments,thisArg:a}),pt.__chain__=ct,pt}return K.apply(a,Nn([this.value()],arguments))})}),a}function GC(){return Ue._===this&&(Ue._=cb),this}function of(){}function NC(a){return a=Xt(a),qt(function(s){return zp(s,a)})}var WC=zl(_e),HC=zl(np),$C=zl(sl);function th(a){return $l(a)?ul(ln(a)):bx(a)}function UC(a){return function(s){return a==null?r:bi(a,s)}}var YC=iv(),XC=iv(!0);function sf(){return[]}function uf(){return!1}function VC(){return{}}function qC(){return""}function KC(){return!0}function ZC(a,s){if(a=Xt(a),a<1||a>j)return[];var d=q,_=Ke(a,q);s=zt(s),a-=q;for(var S=cl(_,s);++d<a;)s(d);return S}function jC(a){return $t(a)?_e(a,ln):Dr(a)?[a]:dr(xv(ae(a)))}function JC(a){var s=++lb;return ae(a)+s}var QC=vs(function(a,s){return a+s},0),tE=kl("ceil"),eE=vs(function(a,s){return a/s},1),rE=kl("floor");function nE(a){return a&&a.length?ss(a,hr,Sl):r}function iE(a,s){return a&&a.length?ss(a,zt(s,2),Sl):r}function aE(a){return op(a,hr)}function oE(a,s){return op(a,zt(s,2))}function sE(a){return a&&a.length?ss(a,hr,Dl):r}function uE(a,s){return a&&a.length?ss(a,zt(s,2),Dl):r}var lE=vs(function(a,s){return a*s},1),fE=kl("round"),cE=vs(function(a,s){return a-s},0);function dE(a){return a&&a.length?fl(a,hr):0}function pE(a,s){return a&&a.length?fl(a,zt(s,2)):0}return R.after=LS,R.ary=Av,R.assign=Sw,R.assignIn=Yv,R.assignInWith=Ms,R.assignWith=ww,R.at=Cw,R.before=Iv,R.bind=Kl,R.bindAll=OC,R.bindKey=Pv,R.castArray=VS,R.chain=Rv,R.chunk=ry,R.compact=ny,R.concat=iy,R.cond=TC,R.conforms=AC,R.constant=rf,R.countBy=dS,R.create=Ew,R.curry=Bv,R.curryRight=Lv,R.debounce=zv,R.defaults=Dw,R.defaultsDeep=Mw,R.defer=zS,R.delay=kS,R.difference=ay,R.differenceBy=oy,R.differenceWith=sy,R.drop=uy,R.dropRight=ly,R.dropRightWhile=fy,R.dropWhile=cy,R.fill=dy,R.filter=vS,R.flatMap=mS,R.flatMapDeep=_S,R.flatMapDepth=bS,R.flatten=Cv,R.flattenDeep=py,R.flattenDepth=vy,R.flip=FS,R.flow=PC,R.flowRight=BC,R.fromPairs=hy,R.functions=Bw,R.functionsIn=Lw,R.groupBy=xS,R.initial=my,R.intersection=_y,R.intersectionBy=by,R.intersectionWith=xy,R.invert=kw,R.invertBy=Fw,R.invokeMap=SS,R.iteratee=nf,R.keyBy=wS,R.keys=He,R.keysIn=vr,R.map=ys,R.mapKeys=Nw,R.mapValues=Ww,R.matches=LC,R.matchesProperty=zC,R.memoize=ws,R.merge=Hw,R.mergeWith=Xv,R.method=kC,R.methodOf=FC,R.mixin=af,R.negate=Cs,R.nthArg=NC,R.omit=$w,R.omitBy=Uw,R.once=GS,R.orderBy=CS,R.over=WC,R.overArgs=NS,R.overEvery=HC,R.overSome=$C,R.partial=Zl,R.partialRight=kv,R.partition=ES,R.pick=Yw,R.pickBy=Vv,R.property=th,R.propertyOf=UC,R.pull=Cy,R.pullAll=Dv,R.pullAllBy=Ey,R.pullAllWith=Dy,R.pullAt=My,R.range=YC,R.rangeRight=XC,R.rearg=WS,R.reject=RS,R.remove=Ry,R.rest=HS,R.reverse=Vl,R.sampleSize=TS,R.set=Vw,R.setWith=qw,R.shuffle=AS,R.slice=Oy,R.sortBy=BS,R.sortedUniq=zy,R.sortedUniqBy=ky,R.split=mC,R.spread=$S,R.tail=Fy,R.take=Gy,R.takeRight=Ny,R.takeRightWhile=Wy,R.takeWhile=Hy,R.tap=nS,R.throttle=US,R.thru=xs,R.toArray=Hv,R.toPairs=qv,R.toPairsIn=Kv,R.toPath=jC,R.toPlainObject=Uv,R.transform=Kw,R.unary=YS,R.union=$y,R.unionBy=Uy,R.unionWith=Yy,R.uniq=Xy,R.uniqBy=Vy,R.uniqWith=qy,R.unset=Zw,R.unzip=ql,R.unzipWith=Mv,R.update=jw,R.updateWith=Jw,R.values=ea,R.valuesIn=Qw,R.without=Ky,R.words=Jv,R.wrap=XS,R.xor=Zy,R.xorBy=jy,R.xorWith=Jy,R.zip=Qy,R.zipObject=tS,R.zipObjectDeep=eS,R.zipWith=rS,R.entries=qv,R.entriesIn=Kv,R.extend=Yv,R.extendWith=Ms,af(R,R),R.add=QC,R.attempt=Qv,R.camelCase=nC,R.capitalize=Zv,R.ceil=tE,R.clamp=tC,R.clone=qS,R.cloneDeep=ZS,R.cloneDeepWith=jS,R.cloneWith=KS,R.conformsTo=JS,R.deburr=jv,R.defaultTo=IC,R.divide=eE,R.endsWith=iC,R.eq=qr,R.escape=aC,R.escapeRegExp=oC,R.every=pS,R.find=hS,R.findIndex=Sv,R.findKey=Rw,R.findLast=gS,R.findLastIndex=wv,R.findLastKey=Ow,R.floor=rE,R.forEach=Ov,R.forEachRight=Tv,R.forIn=Tw,R.forInRight=Aw,R.forOwn=Iw,R.forOwnRight=Pw,R.get=Ql,R.gt=QS,R.gte=tw,R.has=zw,R.hasIn=tf,R.head=Ev,R.identity=hr,R.includes=yS,R.indexOf=gy,R.inRange=eC,R.invoke=Gw,R.isArguments=Si,R.isArray=$t,R.isArrayBuffer=ew,R.isArrayLike=pr,R.isArrayLikeObject=Ee,R.isBoolean=rw,R.isBuffer=Vn,R.isDate=nw,R.isElement=iw,R.isEmpty=aw,R.isEqual=ow,R.isEqualWith=sw,R.isError=jl,R.isFinite=uw,R.isFunction=Mn,R.isInteger=Fv,R.isLength=Es,R.isMap=Gv,R.isMatch=lw,R.isMatchWith=fw,R.isNaN=cw,R.isNative=dw,R.isNil=vw,R.isNull=pw,R.isNumber=Nv,R.isObject=xe,R.isObjectLike=we,R.isPlainObject=Ka,R.isRegExp=Jl,R.isSafeInteger=hw,R.isSet=Wv,R.isString=Ds,R.isSymbol=Dr,R.isTypedArray=ta,R.isUndefined=gw,R.isWeakMap=mw,R.isWeakSet=_w,R.join=yy,R.kebabCase=sC,R.last=Gr,R.lastIndexOf=Sy,R.lowerCase=uC,R.lowerFirst=lC,R.lt=bw,R.lte=xw,R.max=nE,R.maxBy=iE,R.mean=aE,R.meanBy=oE,R.min=sE,R.minBy=uE,R.stubArray=sf,R.stubFalse=uf,R.stubObject=VC,R.stubString=qC,R.stubTrue=KC,R.multiply=lE,R.nth=wy,R.noConflict=GC,R.noop=of,R.now=Ss,R.pad=fC,R.padEnd=cC,R.padStart=dC,R.parseInt=pC,R.random=rC,R.reduce=DS,R.reduceRight=MS,R.repeat=vC,R.replace=hC,R.result=Xw,R.round=fE,R.runInContext=Y,R.sample=OS,R.size=IS,R.snakeCase=gC,R.some=PS,R.sortedIndex=Ty,R.sortedIndexBy=Ay,R.sortedIndexOf=Iy,R.sortedLastIndex=Py,R.sortedLastIndexBy=By,R.sortedLastIndexOf=Ly,R.startCase=_C,R.startsWith=bC,R.subtract=cE,R.sum=dE,R.sumBy=pE,R.template=xC,R.times=ZC,R.toFinite=Rn,R.toInteger=Xt,R.toLength=$v,R.toLower=yC,R.toNumber=Nr,R.toSafeInteger=yw,R.toString=ae,R.toUpper=SC,R.trim=wC,R.trimEnd=CC,R.trimStart=EC,R.truncate=DC,R.unescape=MC,R.uniqueId=JC,R.upperCase=RC,R.upperFirst=ef,R.each=Ov,R.eachRight=Tv,R.first=Ev,af(R,function(){var a={};return sn(R,function(s,d){se.call(R.prototype,d)||(a[d]=s)}),a}(),{chain:!1}),R.VERSION=n,Br(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){R[a].placeholder=R}),Br(["drop","take"],function(a,s){Jt.prototype[a]=function(d){d=d===r?1:ke(Xt(d),0);var _=this.__filtered__&&!s?new Jt(this):this.clone();return _.__filtered__?_.__takeCount__=Ke(d,_.__takeCount__):_.__views__.push({size:Ke(d,q),type:a+(_.__dir__<0?"Right":"")}),_},Jt.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}}),Br(["filter","map","takeWhile"],function(a,s){var d=s+1,_=d==Z||d==et;Jt.prototype[a]=function(S){var O=this.clone();return O.__iteratees__.push({iteratee:zt(S,3),type:d}),O.__filtered__=O.__filtered__||_,O}}),Br(["head","last"],function(a,s){var d="take"+(s?"Right":"");Jt.prototype[a]=function(){return this[d](1).value()[0]}}),Br(["initial","tail"],function(a,s){var d="drop"+(s?"":"Right");Jt.prototype[a]=function(){return this.__filtered__?new Jt(this):this[d](1)}}),Jt.prototype.compact=function(){return this.filter(hr)},Jt.prototype.find=function(a){return this.filter(a).head()},Jt.prototype.findLast=function(a){return this.reverse().find(a)},Jt.prototype.invokeMap=qt(function(a,s){return typeof a=="function"?new Jt(this):this.map(function(d){return $a(d,a,s)})}),Jt.prototype.reject=function(a){return this.filter(Cs(zt(a)))},Jt.prototype.slice=function(a,s){a=Xt(a);var d=this;return d.__filtered__&&(a>0||s<0)?new Jt(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),s!==r&&(s=Xt(s),d=s<0?d.dropRight(-s):d.take(s-a)),d)},Jt.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Jt.prototype.toArray=function(){return this.take(q)},sn(Jt.prototype,function(a,s){var d=/^(?:filter|find|map|reject)|While$/.test(s),_=/^(?:head|last)$/.test(s),S=R[_?"take"+(s=="last"?"Right":""):s],O=_||/^find/.test(s);S&&(R.prototype[s]=function(){var z=this.__wrapped__,N=_?[1]:arguments,K=z instanceof Jt,ct=N[0],pt=K||$t(z),mt=function(jt){var te=S.apply(R,Nn([jt],N));return _&&Et?te[0]:te};pt&&d&&typeof ct=="function"&&ct.length!=1&&(K=pt=!1);var Et=this.__chain__,Tt=!!this.__actions__.length,Ft=O&&!Et,Vt=K&&!Tt;if(!O&&pt){z=Vt?z:new Jt(this);var Gt=a.apply(z,N);return Gt.__actions__.push({func:xs,args:[mt],thisArg:r}),new zr(Gt,Et)}return Ft&&Vt?a.apply(this,N):(Gt=this.thru(mt),Ft?_?Gt.value()[0]:Gt.value():Gt)})}),Br(["pop","push","shift","sort","splice","unshift"],function(a){var s=Xo[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",_=/^(?:pop|shift)$/.test(a);R.prototype[a]=function(){var S=arguments;if(_&&!this.__chain__){var O=this.value();return s.apply($t(O)?O:[],S)}return this[d](function(z){return s.apply($t(z)?z:[],S)})}}),sn(Jt.prototype,function(a,s){var d=R[s];if(d){var _=d.name+"";se.call(Ki,_)||(Ki[_]=[]),Ki[_].push({name:s,func:d})}}),Ki[ps(r,y).name]=[{name:"wrapper",func:r}],Jt.prototype.clone=Mb,Jt.prototype.reverse=Rb,Jt.prototype.value=Ob,R.prototype.at=iS,R.prototype.chain=aS,R.prototype.commit=oS,R.prototype.next=sS,R.prototype.plant=lS,R.prototype.reverse=fS,R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=cS,R.prototype.first=R.prototype.head,za&&(R.prototype[za]=uS),R},Xi=ob();vi?((vi.exports=Xi)._=Xi,nl._=Xi):Ue._=Xi}).call(Ja)})(wu,wu.exports);var CP=wu.exports;const EP=["id","onMousedown"],DP=!0,MP=1,RP=!1,OP=0,TP=0,AP=_n({__name:"moveble",props:{scale:{},snapsObj:{},shadow:{}},emits:["update:shadow","update:snapsObj"],setup(t,{emit:e}){const r=e,n=Kt(null),i=Kt(null),o={top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},u={top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},l=Kt([{id:"target0",className:"element0",left:100,top:150,background:"#ee8",width:100,height:100},{id:"target1",className:"element1",left:300,top:150,background:"rgb(52, 55, 221)",width:200,height:100},{id:"target2",className:"element2",left:100,top:300,background:"rgb(212, 67, 152)",width:200,height:200}]),f=(g,m)=>{n.value=m,r0(()=>{i.value.dragStart(g)})},c=g=>{for(const m of g){const b=l.value.find(x=>x.id==m.id);CP.isEqual(b,m)||l.value.forEach(x=>{x.id==m.id&&(x=m)})}},p=g=>{const{style:m}=g.target,b=Number(m.width.replace("px","")),x=Number(m.height.replace("px","")),y=/translate\((\d+)px,\s*(\d+)px\)/,w=g.transform.match(y);if(!w)return;const C=parseInt(w[1],10),E=parseInt(w[2],10);r("update:shadow",{x:m.baseStartLeft+C,y:m.baseStartTop+E,width:b,height:x}),g.target.style.cssText+=g.cssText},v=g=>{const{target:m}=g;if(m){const{style:b}=m;b.baseStartLeft=parseFloat(b.left.replace("px","")),b.baseStartTop=parseFloat(b.top.replace("px",""))}},h=g=>{console.log(g,"onDragEnd");const{lastEvent:m,target:b}=g;if(m){const{left:x,top:y}=m,w=[{id:b.id,style:{width:b.offsetWidth,height:b.offsetHeight,left:x,top:y}}];c(w)}};return(g,m)=>(ue(),Re(je,null,[(ue(!0),Re(je,null,kc(l.value,b=>(ue(),Re("div",{class:an(["target",b.className]),id:b.id,style:Me({left:b.left+"px",top:b.top+"px",lineHeight:b.height+"px",width:b.width+"px",height:b.height+"px",background:b.background}),key:b.id,onMousedown:x=>f(x,b.id)},Tr(b.className),47,EP))),128)),Qe(he(wP),{ref_key:"moveableRef",ref:i,snappable:!0,snapGap:!0,snapDirections:o,elementSnapDirections:u,snapThreshold:5/g.scale,target:`#${n.value}`,draggable:DP,throttleDrag:MP,edgeDraggable:RP,startDragRotate:OP,throttleDragRotate:TP,onDragStart:v,onDragEnd:h,onRender:p},null,8,["snapThreshold","target"])],64))}}),Rd=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},IP=Rd(AP,[["__scopeId","data-v-c8c30d87"]]),PP={class:"demo"},BP={class:"top font16"},LP=ht("div",{class:"mr10"},"鼠标中键移动画布 ",-1),zP={class:"scale mr10"},kP={class:"btns"},FP=["onClick"],GP=["onClick"],NP=["onClick"],WP=_n({__name:"UserRulerShadow",setup(t){const e=Kt(3),r=Kt(),n=lr({maxScale:3,minScale:.3,disablePan:!1,disableZoom:!1,contain:"none",handleStartEvent:h=>{h.preventDefault(),console.log("handleStartEvent",h)}}),i=Kt(!1);bn(()=>{window.addEventListener("resize",o);const h=r.value.panzoomInstance,g=document.getElementsByClassName("canvasedit-parent");if(g[0]){const m=g[0];m&&m.addEventListener("wheel",function(b){(b.ctrlKey||b.metaKey)&&h.zoomWithWheel(b)}),document.addEventListener("pointerdown",function(b){b.button===1&&(r.value.cursorClass="grabCursor",h.bind(),h.handleDown(b),b.preventDefault())}),document.addEventListener("pointerup",function(b){b.button===1&&(h.destroy(),console.log("放开了"),r.value.cursorClass="defaultCursor")})}});const o=()=>{r.value&&r.value.initPanzoom()},u=lr({scale:1,isBlack:!1}),l=ie(()=>u.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),f=lr({thick:20,width:770,height:400,canvasWidth:1e3,canvasHeight:500,showRuler:!0,palette:l.value,snapsObj:{h:[0,100,200],v:[130]},shadow:{x:0,y:0,width:0,height:0},panzoomOption:n,isShowReferLine:!0,lines:{h:[0,250],v:[0,500]}}),c=ie(()=>({width:`${f.width}px`,height:`${f.height}px`})),p=ie(()=>Number(u.scale).toFixed(2)),v=ie(()=>({width:`${f.canvasWidth}px`,height:`${f.canvasHeight}px`}));return(h,g)=>(ue(),Re("div",PP,[ht("div",BP,[LP,ht("div",zP," 缩放比:"+Tr(p.value),1),ht("button",{class:"mr10 font16",onClick:g[0]||(g[0]=(...m)=>h.changeShadow&&h.changeShadow(...m))},"模拟阴影切换")]),ht("div",{class:an(["wrapper",[u.isBlack?"balckwrapper":"whitewrapper"]]),style:Me(c.value)},[(ue(),di(he(zu),ba({ref_key:"sketchruleRef",ref:r,key:e.value,scale:u.scale,"onUpdate:scale":g[2]||(g[2]=m=>u.scale=m),lockLine:i.value,"onUpdate:lockLine":g[3]||(g[3]=m=>i.value=m)},f,{selfHandle:!0}),{default:gn(()=>[ht("div",{"data-type":"page",style:Me(v.value)},[Qe(IP,{scale:u.scale,shadow:f.shadow,"onUpdate:shadow":g[1]||(g[1]=m=>f.shadow=m),snapsObj:f.snapsObj},null,8,["scale","shadow","snapsObj"])],4)]),btn:gn(({reset:m,zoomIn:b,zoomOut:x})=>[ht("div",kP,[ht("button",{onClick:Ce(m,["stop"])},"还原",8,FP),ht("button",{onClick:Ce(b,["stop"])},"放大",8,GP),ht("button",{onClick:Ce(x,["stop"])},"缩小",8,NP)])]),_:1},16,["scale","lockLine"]))],6)]))}}),HP={__name:"tab-item",props:{name:String,isActive:Boolean},setup(t){return(e,r)=>(ue(),Re("li",{class:an({active:t.isActive}),onClick:r[0]||(r[0]=n=>e.$emit("click",t.name))},[Gf(e.$slots,"default",{},void 0,!0)],2))}},$P=Rd(HP,[["__scopeId","data-v-7d074d92"]]),UP={class:"tabs-container"},YP={class:"tab-buttons"},XP={class:"tab-contents"},VP={class:"tab-content"},qP={__name:"App",setup(t){const e=[{label:"写法1",index:0},{label:"写法2",index:1},{label:"自定义按键",index:2},{label:"阴影测试",index:3}],r=Kt(3),n=Kt();bn(()=>{i(r.value)});function i(o){switch(r.value=o,o){case 0:n.value=zh;break;case 1:n.value=NR;break;case 2:n.value=aO;break;case 3:n.value=WP;break;default:n.value=zh}}return(o,u)=>(ue(),Re("div",UP,[ht("ul",YP,[(ue(),Re(je,null,kc(e,(l,f)=>Qe($P,{key:f,name:l.name,isActive:r.value===f,onClick:c=>i(f)},{default:gn(()=>[Do(Tr(l.label),1)]),_:2},1032,["name","isActive","onClick"])),64))]),ht("div",XP,[ht("div",VP,[(ue(),di(gD(n.value)))])])]))}},KP=Rd(qP,[["__scopeId","data-v-61d8b651"]]),ZP=LM(KP);ZP.mount("#app");
