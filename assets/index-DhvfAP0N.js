(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.0
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function xs(t,e){const r=new Set(t.split(","));return n=>r.has(n)}const Bt={},fn=[],Qe=()=>{},Gv=()=>!1,Ea=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ws=t=>t.startsWith("onUpdate:"),ie=Object.assign,Es=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Fv=Object.prototype.hasOwnProperty,Mt=(t,e)=>Fv.call(t,e),Ct=Array.isArray,dn=t=>Da(t)==="[object Map]",pc=t=>Da(t)==="[object Set]",St=t=>typeof t=="function",Vt=t=>typeof t=="string",Mr=t=>typeof t=="symbol",$t=t=>t!==null&&typeof t=="object",hc=t=>($t(t)||St(t))&&St(t.then)&&St(t.catch),gc=Object.prototype.toString,Da=t=>gc.call(t),Nv=t=>Da(t).slice(8,-1),mc=t=>Da(t)==="[object Object]",Ds=t=>Vt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Wn=xs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ma=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Lv=/-(\w)/g,Ve=Ma(t=>t.replace(Lv,(e,r)=>r?r.toUpperCase():"")),Wv=/\B([A-Z])/g,Ur=Ma(t=>t.replace(Wv,"-$1").toLowerCase()),Oa=Ma(t=>t.charAt(0).toUpperCase()+t.slice(1)),Qa=Ma(t=>t?`on${Oa(t)}`:""),_r=(t,e)=>!Object.is(t,e),to=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},bc=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},$v=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Al;const yc=()=>Al||(Al=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Nt(t){if(Ct(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=Vt(n)?Vv(n):Nt(n);if(i)for(const a in i)e[a]=i[a]}return e}else if(Vt(t)||$t(t))return t}const Hv=/;(?![^(]*\))/g,Yv=/:([^]+)/,Xv=/\/\*[^]*?\*\//g;function Vv(t){const e={};return t.replace(Xv,"").split(Hv).forEach(r=>{if(r){const n=r.split(Yv);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Pe(t){let e="";if(Vt(t))e=t;else if(Ct(t))for(let r=0;r<t.length;r++){const n=Pe(t[r]);n&&(e+=n+" ")}else if($t(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const jv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Uv=xs(jv);function Sc(t){return!!t||t===""}const _c=t=>!!(t&&t.__v_isRef===!0),ye=t=>Vt(t)?t:t==null?"":Ct(t)||$t(t)&&(t.toString===gc||!St(t.toString))?_c(t)?ye(t.value):JSON.stringify(t,Cc,2):String(t),Cc=(t,e)=>_c(e)?Cc(t,e.value):dn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],a)=>(r[eo(n,a)+" =>"]=i,r),{})}:pc(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>eo(r))}:Mr(e)?eo(e):$t(e)&&!Ct(e)&&!mc(e)?String(e):e,eo=(t,e="")=>{var r;return Mr(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.0
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let De;class qv{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=De,!e&&De&&(this.index=(De.scopes||(De.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=De;try{return De=this,e()}finally{De=r}}}on(){De=this}off(){De=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Kv(){return De}let At;const ro=new WeakSet;class xc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0,De&&De.active&&De.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ro.has(this)&&(ro.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=$n,$n=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Bl(this),Ec(this);const e=At,r=$e;At=this,$e=!0;try{return this.fn()}finally{Dc(this),At=e,$e=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ts(e);this.deps=this.depsTail=void 0,Bl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ro.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){To(this)&&this.run()}get dirty(){return To(this)}}let wc=0,$n;function Ms(){wc++}function Os(){if(--wc>0)return;let t;for(;$n;){let e=$n;for($n=void 0;e;){const r=e.nextEffect;if(e.nextEffect=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function Ec(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Dc(t){let e,r=t.depsTail;for(let n=r;n;n=n.prevDep)n.version===-1?(n===r&&(r=n.prevDep),Ts(n),Zv(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0;t.deps=e,t.depsTail=r}function To(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&Mc(e.dep.computed)===!1||e.dep.version!==e.version)return!0;return!!t._dirty}function Mc(t){if(t.flags&2)return!1;if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Qn))return;t.globalVersion=Qn;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&!To(t)){t.flags&=-3;return}const r=At,n=$e;At=t,$e=!0;try{Ec(t);const i=t.fn();(e.version===0||_r(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{At=r,$e=n,Dc(t),t.flags&=-3}}function Ts(t){const{dep:e,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),e.subs===t&&(e.subs=r),!e.subs&&e.computed){e.computed.flags&=-5;for(let i=e.computed.deps;i;i=i.nextDep)Ts(i)}}function Zv(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let $e=!0;const Oc=[];function Or(){Oc.push($e),$e=!1}function Tr(){const t=Oc.pop();$e=t===void 0?!0:t}function Bl(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=At;At=void 0;try{e()}finally{At=r}}}let Qn=0;class Rs{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!At||!$e)return;let r=this.activeLink;if(r===void 0||r.sub!==At)r=this.activeLink={dep:this,sub:At,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},At.deps?(r.prevDep=At.depsTail,At.depsTail.nextDep=r,At.depsTail=r):At.deps=At.depsTail=r,At.flags&4&&Tc(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=At.depsTail,r.nextDep=void 0,At.depsTail.nextDep=r,At.depsTail=r,At.deps===r&&(At.deps=n)}return r}trigger(e){this.version++,Qn++,this.notify(e)}notify(e){Ms();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()}finally{Os()}}}function Tc(t){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Tc(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}const Ro=new WeakMap,Lr=Symbol(""),Po=Symbol(""),ti=Symbol("");function le(t,e,r){if($e&&At){let n=Ro.get(t);n||Ro.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=new Rs),i.track()}}function sr(t,e,r,n,i,a){const o=Ro.get(t);if(!o){Qn++;return}let s=[];if(e==="clear")s=[...o.values()];else{const l=Ct(t),u=l&&Ds(r);if(l&&r==="length"){const c=Number(n);o.forEach((f,d)=>{(d==="length"||d===ti||!Mr(d)&&d>=c)&&s.push(f)})}else{const c=f=>f&&s.push(f);switch(r!==void 0&&c(o.get(r)),u&&c(o.get(ti)),e){case"add":l?u&&c(o.get("length")):(c(o.get(Lr)),dn(t)&&c(o.get(Po)));break;case"delete":l||(c(o.get(Lr)),dn(t)&&c(o.get(Po)));break;case"set":dn(t)&&c(o.get(Lr));break}}}Ms();for(const l of s)l.trigger();Os()}function Jr(t){const e=Tt(t);return e===t?e:(le(e,"iterate",ti),He(t)?e:e.map(oe))}function Ta(t){return le(t=Tt(t),"iterate",ti),t}const Jv={__proto__:null,[Symbol.iterator](){return no(this,Symbol.iterator,oe)},concat(...t){return Jr(this).concat(...t.map(e=>Jr(e)))},entries(){return no(this,"entries",t=>(t[1]=oe(t[1]),t))},every(t,e){return ir(this,"every",t,e,void 0,arguments)},filter(t,e){return ir(this,"filter",t,e,r=>r.map(oe),arguments)},find(t,e){return ir(this,"find",t,e,oe,arguments)},findIndex(t,e){return ir(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ir(this,"findLast",t,e,oe,arguments)},findLastIndex(t,e){return ir(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ir(this,"forEach",t,e,void 0,arguments)},includes(...t){return io(this,"includes",t)},indexOf(...t){return io(this,"indexOf",t)},join(t){return Jr(this).join(t)},lastIndexOf(...t){return io(this,"lastIndexOf",t)},map(t,e){return ir(this,"map",t,e,void 0,arguments)},pop(){return An(this,"pop")},push(...t){return An(this,"push",t)},reduce(t,...e){return zl(this,"reduce",t,e)},reduceRight(t,...e){return zl(this,"reduceRight",t,e)},shift(){return An(this,"shift")},some(t,e){return ir(this,"some",t,e,void 0,arguments)},splice(...t){return An(this,"splice",t)},toReversed(){return Jr(this).toReversed()},toSorted(t){return Jr(this).toSorted(t)},toSpliced(...t){return Jr(this).toSpliced(...t)},unshift(...t){return An(this,"unshift",t)},values(){return no(this,"values",oe)}};function no(t,e,r){const n=Ta(t),i=n[e]();return n!==t&&!He(t)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=r(a.value)),a}),i}const Qv=Array.prototype;function ir(t,e,r,n,i,a){const o=Ta(t),s=o!==t&&!He(t),l=o[e];if(l!==Qv[e]){const f=l.apply(t,a);return s?oe(f):f}let u=r;o!==t&&(s?u=function(f,d){return r.call(this,oe(f),d,t)}:r.length>2&&(u=function(f,d){return r.call(this,f,d,t)}));const c=l.call(o,u,n);return s&&i?i(c):c}function zl(t,e,r,n){const i=Ta(t);let a=r;return i!==t&&(He(t)?r.length>3&&(a=function(o,s,l){return r.call(this,o,s,l,t)}):a=function(o,s,l){return r.call(this,o,oe(s),l,t)}),i[e](a,...n)}function io(t,e,r){const n=Tt(t);le(n,"iterate",ti);const i=n[e](...r);return(i===-1||i===!1)&&As(r[0])?(r[0]=Tt(r[0]),n[e](...r)):i}function An(t,e,r=[]){Or(),Ms();const n=Tt(t)[e].apply(t,r);return Os(),Tr(),n}const tp=xs("__proto__,__v_isRef,__isVue"),Rc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mr));function ep(t){Mr(t)||(t=String(t));const e=Tt(this);return le(e,"has",t),e.hasOwnProperty(t)}class Pc{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?pp:Bc:a?Ac:Ic).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Ct(e);if(!i){let l;if(o&&(l=Jv[r]))return l;if(r==="hasOwnProperty")return ep}const s=Reflect.get(e,r,se(e)?e:n);return(Mr(r)?Rc.has(r):tp(r))||(i||le(e,"get",r),a)?s:se(s)?o&&Ds(r)?s:s.value:$t(s)?i?zc(s):re(s):s}}class kc extends Pc{constructor(e=!1){super(!1,e)}set(e,r,n,i){let a=e[r];if(!this._isShallow){const l=Wr(a);if(!He(n)&&!Wr(n)&&(a=Tt(a),n=Tt(n)),!Ct(e)&&se(a)&&!se(n))return l?!1:(a.value=n,!0)}const o=Ct(e)&&Ds(r)?Number(r)<e.length:Mt(e,r),s=Reflect.set(e,r,n,se(e)?e:i);return e===Tt(i)&&(o?_r(n,a)&&sr(e,"set",r,n):sr(e,"add",r,n)),s}deleteProperty(e,r){const n=Mt(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&sr(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!Mr(r)||!Rc.has(r))&&le(e,"has",r),n}ownKeys(e){return le(e,"iterate",Ct(e)?"length":Lr),Reflect.ownKeys(e)}}class rp extends Pc{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const np=new kc,ip=new rp,ap=new kc(!0);const Ps=t=>t,Ra=t=>Reflect.getPrototypeOf(t);function Di(t,e,r=!1,n=!1){t=t.__v_raw;const i=Tt(t),a=Tt(e);r||(_r(e,a)&&le(i,"get",e),le(i,"get",a));const{has:o}=Ra(i),s=n?Ps:r?Bs:oe;if(o.call(i,e))return s(t.get(e));if(o.call(i,a))return s(t.get(a));t!==i&&t.get(e)}function Mi(t,e=!1){const r=this.__v_raw,n=Tt(r),i=Tt(t);return e||(_r(t,i)&&le(n,"has",t),le(n,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function Oi(t,e=!1){return t=t.__v_raw,!e&&le(Tt(t),"iterate",Lr),Reflect.get(t,"size",t)}function Gl(t,e=!1){!e&&!He(t)&&!Wr(t)&&(t=Tt(t));const r=Tt(this);return Ra(r).has.call(r,t)||(r.add(t),sr(r,"add",t,t)),this}function Fl(t,e,r=!1){!r&&!He(e)&&!Wr(e)&&(e=Tt(e));const n=Tt(this),{has:i,get:a}=Ra(n);let o=i.call(n,t);o||(t=Tt(t),o=i.call(n,t));const s=a.call(n,t);return n.set(t,e),o?_r(e,s)&&sr(n,"set",t,e):sr(n,"add",t,e),this}function Nl(t){const e=Tt(this),{has:r,get:n}=Ra(e);let i=r.call(e,t);i||(t=Tt(t),i=r.call(e,t)),n&&n.call(e,t);const a=e.delete(t);return i&&sr(e,"delete",t,void 0),a}function Ll(){const t=Tt(this),e=t.size!==0,r=t.clear();return e&&sr(t,"clear",void 0,void 0),r}function Ti(t,e){return function(n,i){const a=this,o=a.__v_raw,s=Tt(o),l=e?Ps:t?Bs:oe;return!t&&le(s,"iterate",Lr),o.forEach((u,c)=>n.call(i,l(u),l(c),a))}}function Ri(t,e,r){return function(...n){const i=this.__v_raw,a=Tt(i),o=dn(a),s=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...n),c=r?Ps:e?Bs:oe;return!e&&le(a,"iterate",l?Po:Lr),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function hr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function op(){const t={get(a){return Di(this,a)},get size(){return Oi(this)},has:Mi,add:Gl,set:Fl,delete:Nl,clear:Ll,forEach:Ti(!1,!1)},e={get(a){return Di(this,a,!1,!0)},get size(){return Oi(this)},has:Mi,add(a){return Gl.call(this,a,!0)},set(a,o){return Fl.call(this,a,o,!0)},delete:Nl,clear:Ll,forEach:Ti(!1,!0)},r={get(a){return Di(this,a,!0)},get size(){return Oi(this,!0)},has(a){return Mi.call(this,a,!0)},add:hr("add"),set:hr("set"),delete:hr("delete"),clear:hr("clear"),forEach:Ti(!0,!1)},n={get(a){return Di(this,a,!0,!0)},get size(){return Oi(this,!0)},has(a){return Mi.call(this,a,!0)},add:hr("add"),set:hr("set"),delete:hr("delete"),clear:hr("clear"),forEach:Ti(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=Ri(a,!1,!1),r[a]=Ri(a,!0,!1),e[a]=Ri(a,!1,!0),n[a]=Ri(a,!0,!0)}),[t,r,e,n]}const[sp,lp,up,cp]=op();function ks(t,e){const r=e?t?cp:up:t?lp:sp;return(n,i,a)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Mt(r,i)&&i in n?r:n,i,a)}const fp={get:ks(!1,!1)},dp={get:ks(!1,!0)},vp={get:ks(!0,!1)};const Ic=new WeakMap,Ac=new WeakMap,Bc=new WeakMap,pp=new WeakMap;function hp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gp(t){return t.__v_skip||!Object.isExtensible(t)?0:hp(Nv(t))}function re(t){return Wr(t)?t:Is(t,!1,np,fp,Ic)}function mp(t){return Is(t,!1,ap,dp,Ac)}function zc(t){return Is(t,!0,ip,vp,Bc)}function Is(t,e,r,n,i){if(!$t(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=i.get(t);if(a)return a;const o=gp(t);if(o===0)return t;const s=new Proxy(t,o===2?n:r);return i.set(t,s),s}function vn(t){return Wr(t)?vn(t.__v_raw):!!(t&&t.__v_isReactive)}function Wr(t){return!!(t&&t.__v_isReadonly)}function He(t){return!!(t&&t.__v_isShallow)}function As(t){return t?!!t.__v_raw:!1}function Tt(t){const e=t&&t.__v_raw;return e?Tt(e):t}function bp(t){return Object.isExtensible(t)&&bc(t,"__v_skip",!0),t}const oe=t=>$t(t)?re(t):t,Bs=t=>$t(t)?zc(t):t;function se(t){return t?t.__v_isRef===!0:!1}function mt(t){return Gc(t,!1)}function yp(t){return Gc(t,!0)}function Gc(t,e){return se(t)?t:new Sp(t,e)}class Sp{constructor(e,r){this.dep=new Rs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Tt(e),this._value=r?e:oe(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||He(e)||Wr(e);e=n?e:Tt(e),_r(e,r)&&(this._rawValue=e,this._value=n?e:oe(e),this.dep.trigger())}}function kt(t){return se(t)?t.value:t}const _p={get:(t,e,r)=>kt(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return se(i)&&!se(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function Fc(t){return vn(t)?t:new Proxy(t,_p)}class Cp{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new Rs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qn-1,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){At!==this&&(this.flags|=16,this.dep.notify())}get value(){const e=this.dep.track();return Mc(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function xp(t,e,r=!1){let n,i;return St(t)?n=t:(n=t.get,i=t.set),new Cp(n,i,r)}const Pi={},ia=new WeakMap;let Ir;function wp(t,e=!1,r=Ir){if(r){let n=ia.get(r);n||ia.set(r,n=[]),n.push(t)}}function Ep(t,e,r=Bt){const{immediate:n,deep:i,once:a,scheduler:o,augmentJob:s,call:l}=r,u=y=>i?y:He(y)||i===!1||i===0?or(y,1):or(y);let c,f,d,v,p=!1,h=!1;if(se(t)?(f=()=>t.value,p=He(t)):vn(t)?(f=()=>u(t),p=!0):Ct(t)?(h=!0,p=t.some(y=>vn(y)||He(y)),f=()=>t.map(y=>{if(se(y))return y.value;if(vn(y))return u(y);if(St(y))return l?l(y,2):y()})):St(t)?e?f=l?()=>l(t,2):t:f=()=>{if(d){Or();try{d()}finally{Tr()}}const y=Ir;Ir=c;try{return l?l(t,3,[v]):t(v)}finally{Ir=y}}:f=Qe,e&&i){const y=f,x=i===!0?1/0:i;f=()=>or(y(),x)}const g=Kv(),m=()=>{c.stop(),g&&Es(g.effects,c)};if(a)if(e){const y=e;e=(...x)=>{y(...x),m()}}else{const y=f;f=()=>{y(),m()}}let b=h?new Array(t.length).fill(Pi):Pi;const S=y=>{if(!(!(c.flags&1)||!c.dirty&&!y))if(e){const x=c.run();if(i||p||(h?x.some((_,w)=>_r(_,b[w])):_r(x,b))){d&&d();const _=Ir;Ir=c;try{const w=[x,b===Pi?void 0:h&&b[0]===Pi?[]:b,v];l?l(e,3,w):e(...w),b=x}finally{Ir=_}}}else c.run()};return s&&s(S),c=new xc(f),c.scheduler=o?()=>o(S,!1):S,v=y=>wp(y,!1,c),d=c.onStop=()=>{const y=ia.get(c);if(y){if(l)l(y,4);else for(const x of y)x();ia.delete(c)}},e?n?S(!0):b=c.run():o?o(S.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function or(t,e=1/0,r){if(e<=0||!$t(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,se(t))or(t.value,e,r);else if(Ct(t))for(let n=0;n<t.length;n++)or(t[n],e,r);else if(pc(t)||dn(t))t.forEach(n=>{or(n,e,r)});else if(mc(t)){for(const n in t)or(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&or(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.0
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ci(t,e,r,n){try{return n?t(...n):t()}catch(i){Pa(i,e,r)}}function rr(t,e,r,n){if(St(t)){const i=ci(t,e,r,n);return i&&hc(i)&&i.catch(a=>{Pa(a,e,r)}),i}if(Ct(t)){const i=[];for(let a=0;a<t.length;a++)i.push(rr(t[a],e,r,n));return i}}function Pa(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Bt;if(e){let s=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const c=s.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}s=s.parent}if(a){Or(),ci(a,null,10,[t,l,u]),Tr();return}}Dp(t,r,i,n,o)}function Dp(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}let ei=!1,ko=!1;const Me=[];let Ar=0;const pn=[];let mr=null,en=0;const Nc=Promise.resolve();let zs=null;function Gs(t){const e=zs||Nc;return t?e.then(this?t.bind(this):t):e}function Mp(t){let e=ei?Ar+1:0,r=Me.length;for(;e<r;){const n=e+r>>>1,i=Me[n],a=ri(i);a<t||a===t&&i.flags&2?e=n+1:r=n}return e}function Fs(t){if(!(t.flags&1)){const e=ri(t),r=Me[Me.length-1];!r||!(t.flags&2)&&e>=ri(r)?Me.push(t):Me.splice(Mp(e),0,t),t.flags&4||(t.flags|=1),Lc()}}function Lc(){!ei&&!ko&&(ko=!0,zs=Nc.then($c))}function Op(t){Ct(t)?pn.push(...t):mr&&t.id===-1?mr.splice(en+1,0,t):t.flags&1||(pn.push(t),t.flags&4||(t.flags|=1)),Lc()}function Wl(t,e,r=ei?Ar+1:0){for(;r<Me.length;r++){const n=Me[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Me.splice(r,1),r--,n(),n.flags&=-2}}}function Wc(t){if(pn.length){const e=[...new Set(pn)].sort((r,n)=>ri(r)-ri(n));if(pn.length=0,mr){mr.push(...e);return}for(mr=e,en=0;en<mr.length;en++){const r=mr[en];r.flags&8||r(),r.flags&=-2}mr=null,en=0}}const ri=t=>t.id==null?t.flags&2?-1:1/0:t.id;function $c(t){ko=!1,ei=!0;try{for(Ar=0;Ar<Me.length;Ar++){const e=Me[Ar];e&&!(e.flags&8)&&(ci(e,e.i,e.i?15:14),e.flags&=-2)}}finally{Ar=0,Me.length=0,Wc(),ei=!1,zs=null,(Me.length||pn.length)&&$c()}}let ee=null,Hc=null;function aa(t){const e=ee;return ee=t,Hc=t&&t.type.__scopeId||null,e}function Fe(t,e=ee,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&Kl(-1);const a=aa(e);let o;try{o=t(...i)}finally{aa(a),n._d&&Kl(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function hn(t,e){if(ee===null)return t;const r=Fa(ee),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[a,o,s,l=Bt]=e[i];a&&(St(a)&&(a={mounted:a,updated:a}),a.deep&&or(o),n.push({dir:a,instance:r,value:o,oldValue:void 0,arg:s,modifiers:l}))}return t}function Pr(t,e,r,n){const i=t.dirs,a=e&&e.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[n];l&&(Or(),rr(l,r,8,[t.el,s,t,e]),Tr())}}const Tp=Symbol("_vte"),Rp=t=>t.__isTeleport;function Yc(t,e){t.shapeFlag&6&&t.component?Yc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function ke(t,e){return St(t)?ie({name:t.name},e,{setup:t}):t}function Xc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Io(t,e,r,n,i=!1){if(Ct(t)){t.forEach((d,v)=>Io(d,e&&(Ct(e)?e[v]:e),r,n,i));return}if(gn(n)&&!i)return;const a=n.shapeFlag&4?Fa(n.component):n.el,o=i?null:a,{i:s,r:l}=t,u=e&&e.r,c=s.refs===Bt?s.refs={}:s.refs,f=s.setupState;if(u!=null&&u!==l&&(Vt(u)?(c[u]=null,Mt(f,u)&&(f[u]=null)):se(u)&&(u.value=null)),St(l))ci(l,s,12,[o,c]);else{const d=Vt(l),v=se(l);if(d||v){const p=()=>{if(t.f){const h=d?Mt(f,l)?f[l]:c[l]:l.value;i?Ct(h)&&Es(h,a):Ct(h)?h.includes(a)||h.push(a):d?(c[l]=[a],Mt(f,l)&&(f[l]=c[l])):(l.value=[a],t.k&&(c[t.k]=l.value))}else d?(c[l]=o,Mt(f,l)&&(f[l]=o)):v&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,Ee(p,r)):p()}}}const gn=t=>!!t.type.__asyncLoader,Vc=t=>t.type.__isKeepAlive;function Pp(t,e){jc(t,"a",e)}function kp(t,e){jc(t,"da",e)}function jc(t,e,r=ne){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ka(e,n,r),r){let i=r.parent;for(;i&&i.parent;)Vc(i.parent.vnode)&&Ip(n,e,r,i),i=i.parent}}function Ip(t,e,r,n){const i=ka(e,t,n,!0);Ia(()=>{Es(n[e],i)},r)}function ka(t,e,r=ne,n=!1){if(r){const i=r[t]||(r[t]=[]),a=e.__weh||(e.__weh=(...o)=>{Or();const s=di(r),l=rr(e,r,t,o);return s(),Tr(),l});return n?i.unshift(a):i.push(a),a}}const vr=t=>(e,r=ne)=>{(!Ga||t==="sp")&&ka(t,(...n)=>e(...n),r)},Uc=vr("bm"),qe=vr("m"),Ap=vr("bu"),Bp=vr("u"),zp=vr("bum"),Ia=vr("um"),Gp=vr("sp"),Fp=vr("rtg"),Np=vr("rtc");function Lp(t,e=ne){ka("ec",t,e)}const Wp="components",qc=Symbol.for("v-ndc");function $p(t){return Vt(t)?Hp(Wp,t,!1)||t:t||qc}function Hp(t,e,r=!0,n=!1){const i=ee||ne;if(i){const a=i.type;{const s=Ph(a,!1);if(s&&(s===e||s===Ve(e)||s===Oa(Ve(e))))return a}const o=$l(i[t]||a[t],e)||$l(i.appContext[t],e);return!o&&n?a:o}}function $l(t,e){return t&&(t[e]||t[Ve(e)]||t[Oa(Ve(e))])}function Aa(t,e,r,n){let i;const a=r,o=Ct(t);if(o||Vt(t)){const s=o&&vn(t);s&&(t=Ta(t)),i=new Array(t.length);for(let l=0,u=t.length;l<u;l++)i[l]=e(s?oe(t[l]):t[l],l,void 0,a)}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,a)}else if($t(t))if(t[Symbol.iterator])i=Array.from(t,(s,l)=>e(s,l,void 0,a));else{const s=Object.keys(t);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];i[l]=e(t[c],c,l,a)}}else i=[];return i}function Ao(t,e,r={},n,i){if(ee.ce||ee.parent&&gn(ee.parent)&&ee.parent.ce)return e!=="default"&&(r.name=e),wt(),cr(Qt,null,[Xt("slot",r,n)],64);let a=t[e];a&&a._c&&(a._d=!1),wt();const o=a&&Kc(a(r)),s=cr(Qt,{key:(r.key||o&&o.key||`_${e}`)+(!o&&n?"_fb":"")},o||[],o&&t._===1?64:-2);return!i&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),a&&a._c&&(a._d=!0),s}function Kc(t){return t.some(e=>hf(e)?!(e.type===Cr||e.type===Qt&&!Kc(e.children)):!0)?t:null}const Bo=t=>t?mf(t)?Fa(t):Bo(t.parent):null,Hn=ie(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Bo(t.parent),$root:t=>Bo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ns(t),$forceUpdate:t=>t.f||(t.f=()=>{Fs(t.update)}),$nextTick:t=>t.n||(t.n=Gs.bind(t.proxy)),$watch:t=>dh.bind(t)}),ao=(t,e)=>t!==Bt&&!t.__isScriptSetup&&Mt(t,e),Yp={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:l}=t;let u;if(e[0]!=="$"){const v=o[e];if(v!==void 0)switch(v){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return a[e]}else{if(ao(n,e))return o[e]=1,n[e];if(i!==Bt&&Mt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Mt(u,e))return o[e]=3,a[e];if(r!==Bt&&Mt(r,e))return o[e]=4,r[e];zo&&(o[e]=0)}}const c=Hn[e];let f,d;if(c)return e==="$attrs"&&le(t.attrs,"get",""),c(t);if((f=s.__cssModules)&&(f=f[e]))return f;if(r!==Bt&&Mt(r,e))return o[e]=4,r[e];if(d=l.config.globalProperties,Mt(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:a}=t;return ao(i,e)?(i[e]=r,!0):n!==Bt&&Mt(n,e)?(n[e]=r,!0):Mt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:a}},o){let s;return!!r[o]||t!==Bt&&Mt(t,o)||ao(e,o)||(s=a[0])&&Mt(s,o)||Mt(n,o)||Mt(Hn,o)||Mt(i.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Mt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Hl(t){return Ct(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let zo=!0;function Xp(t){const e=Ns(t),r=t.proxy,n=t.ctx;zo=!1,e.beforeCreate&&Yl(e.beforeCreate,t,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:v,updated:p,activated:h,deactivated:g,beforeDestroy:m,beforeUnmount:b,destroyed:S,unmounted:y,render:x,renderTracked:_,renderTriggered:w,errorCaptured:C,serverPrefetch:E,expose:D,inheritAttrs:O,components:P,directives:T,filters:N}=e;if(u&&Vp(u,n,null),o)for(const I in o){const L=o[I];St(L)&&(n[I]=L.bind(r))}if(i){const I=i.call(r,r);$t(I)&&(t.data=re(I))}if(zo=!0,a)for(const I in a){const L=a[I],B=St(L)?L.bind(r,r):St(L.get)?L.get.bind(r,r):Qe,$=!St(L)&&St(L.set)?L.set.bind(r):Qe,G=xt({get:B,set:$});Object.defineProperty(n,I,{enumerable:!0,configurable:!0,get:()=>G.value,set:j=>G.value=j})}if(s)for(const I in s)Zc(s[I],n,r,I);if(l){const I=St(l)?l.call(r):l;Reflect.ownKeys(I).forEach(L=>{Jp(L,I[L])})}c&&Yl(c,t,"c");function W(I,L){Ct(L)?L.forEach(B=>I(B.bind(r))):L&&I(L.bind(r))}if(W(Uc,f),W(qe,d),W(Ap,v),W(Bp,p),W(Pp,h),W(kp,g),W(Lp,C),W(Np,_),W(Fp,w),W(zp,b),W(Ia,y),W(Gp,E),Ct(D))if(D.length){const I=t.exposed||(t.exposed={});D.forEach(L=>{Object.defineProperty(I,L,{get:()=>r[L],set:B=>r[L]=B})})}else t.exposed||(t.exposed={});x&&t.render===Qe&&(t.render=x),O!=null&&(t.inheritAttrs=O),P&&(t.components=P),T&&(t.directives=T),E&&Xc(t)}function Vp(t,e,r=Qe){Ct(t)&&(t=Go(t));for(const n in t){const i=t[n];let a;$t(i)?"default"in i?a=Zi(i.from||n,i.default,!0):a=Zi(i.from||n):a=Zi(i),se(a)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):e[n]=a}}function Yl(t,e,r){rr(Ct(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Zc(t,e,r,n){let i=n.includes(".")?ff(r,n):()=>r[n];if(Vt(t)){const a=e[t];St(a)&&ze(i,a)}else if(St(t))ze(i,t.bind(r));else if($t(t))if(Ct(t))t.forEach(a=>Zc(a,e,r,n));else{const a=St(t.handler)?t.handler.bind(r):e[t.handler];St(a)&&ze(i,a,t)}}function Ns(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=t.appContext,s=a.get(e);let l;return s?l=s:!i.length&&!r&&!n?l=e:(l={},i.length&&i.forEach(u=>oa(l,u,o,!0)),oa(l,e,o)),$t(e)&&a.set(e,l),l}function oa(t,e,r,n=!1){const{mixins:i,extends:a}=e;a&&oa(t,a,r,!0),i&&i.forEach(o=>oa(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const s=jp[o]||r&&r[o];t[o]=s?s(t[o],e[o]):e[o]}return t}const jp={data:Xl,props:Vl,emits:Vl,methods:Gn,computed:Gn,beforeCreate:he,created:he,beforeMount:he,mounted:he,beforeUpdate:he,updated:he,beforeDestroy:he,beforeUnmount:he,destroyed:he,unmounted:he,activated:he,deactivated:he,errorCaptured:he,serverPrefetch:he,components:Gn,directives:Gn,watch:qp,provide:Xl,inject:Up};function Xl(t,e){return e?t?function(){return ie(St(t)?t.call(this,this):t,St(e)?e.call(this,this):e)}:e:t}function Up(t,e){return Gn(Go(t),Go(e))}function Go(t){if(Ct(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function he(t,e){return t?[...new Set([].concat(t,e))]:e}function Gn(t,e){return t?ie(Object.create(null),t,e):e}function Vl(t,e){return t?Ct(t)&&Ct(e)?[...new Set([...t,...e])]:ie(Object.create(null),Hl(t),Hl(e??{})):e}function qp(t,e){if(!t)return e;if(!e)return t;const r=ie(Object.create(null),t);for(const n in e)r[n]=he(t[n],e[n]);return r}function Jc(){return{app:null,config:{isNativeTag:Gv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kp=0;function Zp(t,e){return function(n,i=null){St(n)||(n=ie({},n)),i!=null&&!$t(i)&&(i=null);const a=Jc(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:Kp++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:Ih,get config(){return a.config},set config(c){},use(c,...f){return o.has(c)||(c&&St(c.install)?(o.add(c),c.install(u,...f)):St(c)&&(o.add(c),c(u,...f))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,f){return f?(a.components[c]=f,u):a.components[c]},directive(c,f){return f?(a.directives[c]=f,u):a.directives[c]},mount(c,f,d){if(!l){const v=u._ceVNode||Xt(n,i);return v.appContext=a,d===!0?d="svg":d===!1&&(d=void 0),f&&e?e(v,c):t(v,c,d),l=!0,u._container=c,c.__vue_app__=u,Fa(v.component)}},onUnmount(c){s.push(c)},unmount(){l&&(rr(s,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return a.provides[c]=f,u},runWithContext(c){const f=mn;mn=u;try{return c()}finally{mn=f}}};return u}}let mn=null;function Jp(t,e){if(ne){let r=ne.provides;const n=ne.parent&&ne.parent.provides;n===r&&(r=ne.provides=Object.create(n)),r[t]=e}}function Zi(t,e,r=!1){const n=ne||ee;if(n||mn){const i=mn?mn._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&St(e)?e.call(n&&n.proxy):e}}const Qc={},tf=()=>Object.create(Qc),ef=t=>Object.getPrototypeOf(t)===Qc;function Qp(t,e,r,n=!1){const i={},a=tf();t.propsDefaults=Object.create(null),rf(t,e,i,a);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:mp(i):t.type.props?t.props=i:t.props=a,t.attrs=a}function th(t,e,r,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=t,s=Tt(i),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(Ba(t.emitsOptions,d))continue;const v=e[d];if(l)if(Mt(a,d))v!==a[d]&&(a[d]=v,u=!0);else{const p=Ve(d);i[p]=Fo(l,s,p,v,t,!1)}else v!==a[d]&&(a[d]=v,u=!0)}}}else{rf(t,e,i,a)&&(u=!0);let c;for(const f in s)(!e||!Mt(e,f)&&((c=Ur(f))===f||!Mt(e,c)))&&(l?r&&(r[f]!==void 0||r[c]!==void 0)&&(i[f]=Fo(l,s,f,void 0,t,!0)):delete i[f]);if(a!==s)for(const f in a)(!e||!Mt(e,f))&&(delete a[f],u=!0)}u&&sr(t.attrs,"set","")}function rf(t,e,r,n){const[i,a]=t.propsOptions;let o=!1,s;if(e)for(let l in e){if(Wn(l))continue;const u=e[l];let c;i&&Mt(i,c=Ve(l))?!a||!a.includes(c)?r[c]=u:(s||(s={}))[c]=u:Ba(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(a){const l=Tt(r),u=s||Bt;for(let c=0;c<a.length;c++){const f=a[c];r[f]=Fo(i,l,f,u[f],t,!Mt(u,f))}}return o}function Fo(t,e,r,n,i,a){const o=t[r];if(o!=null){const s=Mt(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&St(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const c=di(i);n=u[r]=l.call(null,e),c()}}else n=l;i.ce&&i.ce._setProp(r,n)}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===Ur(r))&&(n=!0))}return n}const eh=new WeakMap;function nf(t,e,r=!1){const n=r?eh:e.propsCache,i=n.get(t);if(i)return i;const a=t.props,o={},s=[];let l=!1;if(!St(t)){const c=f=>{l=!0;const[d,v]=nf(f,e,!0);ie(o,d),v&&s.push(...v)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!a&&!l)return $t(t)&&n.set(t,fn),fn;if(Ct(a))for(let c=0;c<a.length;c++){const f=Ve(a[c]);jl(f)&&(o[f]=Bt)}else if(a)for(const c in a){const f=Ve(c);if(jl(f)){const d=a[c],v=o[f]=Ct(d)||St(d)?{type:d}:ie({},d),p=v.type;let h=!1,g=!0;if(Ct(p))for(let m=0;m<p.length;++m){const b=p[m],S=St(b)&&b.name;if(S==="Boolean"){h=!0;break}else S==="String"&&(g=!1)}else h=St(p)&&p.name==="Boolean";v[0]=h,v[1]=g,(h||Mt(v,"default"))&&s.push(f)}}const u=[o,s];return $t(t)&&n.set(t,u),u}function jl(t){return t[0]!=="$"&&!Wn(t)}const af=t=>t[0]==="_"||t==="$stable",Ls=t=>Ct(t)?t.map(Ze):[Ze(t)],rh=(t,e,r)=>{if(e._n)return e;const n=Fe((...i)=>Ls(e(...i)),r);return n._c=!1,n},of=(t,e,r)=>{const n=t._ctx;for(const i in t){if(af(i))continue;const a=t[i];if(St(a))e[i]=rh(i,a,n);else if(a!=null){const o=Ls(a);e[i]=()=>o}}},sf=(t,e)=>{const r=Ls(e);t.slots.default=()=>r},lf=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},nh=(t,e,r)=>{const n=t.slots=tf();if(t.vnode.shapeFlag&32){const i=e._;i?(lf(n,e,r),r&&bc(n,"_",i,!0)):of(e,n)}else e&&sf(t,e)},ih=(t,e,r)=>{const{vnode:n,slots:i}=t;let a=!0,o=Bt;if(n.shapeFlag&32){const s=e._;s?r&&s===1?a=!1:lf(i,e,r):(a=!e.$stable,of(e,i)),o=e}else e&&(sf(t,e),o={default:1});if(a)for(const s in i)!af(s)&&o[s]==null&&delete i[s]},Ee=yh;function ah(t){return oh(t)}function oh(t,e){const r=yc();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:v=Qe,insertStaticContent:p}=t,h=(M,R,F,Y=null,X=null,V=null,Z=void 0,J=null,rt=!!R.dynamicChildren)=>{if(M===R)return;M&&!Bn(M,R)&&(Y=ot(M),j(M,X,V,!0),M=null),R.patchFlag===-2&&(rt=!1,R.dynamicChildren=null);const{type:Q,ref:ft,shapeFlag:at}=R;switch(Q){case za:g(M,R,F,Y);break;case Cr:m(M,R,F,Y);break;case Ji:M==null&&b(R,F,Y,Z);break;case Qt:P(M,R,F,Y,X,V,Z,J,rt);break;default:at&1?x(M,R,F,Y,X,V,Z,J,rt):at&6?T(M,R,F,Y,X,V,Z,J,rt):(at&64||at&128)&&Q.process(M,R,F,Y,X,V,Z,J,rt,gt)}ft!=null&&X&&Io(ft,M&&M.ref,V,R||M,!R)},g=(M,R,F,Y)=>{if(M==null)n(R.el=s(R.children),F,Y);else{const X=R.el=M.el;R.children!==M.children&&u(X,R.children)}},m=(M,R,F,Y)=>{M==null?n(R.el=l(R.children||""),F,Y):R.el=M.el},b=(M,R,F,Y)=>{[M.el,M.anchor]=p(M.children,R,F,Y,M.el,M.anchor)},S=({el:M,anchor:R},F,Y)=>{let X;for(;M&&M!==R;)X=d(M),n(M,F,Y),M=X;n(R,F,Y)},y=({el:M,anchor:R})=>{let F;for(;M&&M!==R;)F=d(M),i(M),M=F;i(R)},x=(M,R,F,Y,X,V,Z,J,rt)=>{R.type==="svg"?Z="svg":R.type==="math"&&(Z="mathml"),M==null?_(R,F,Y,X,V,Z,J,rt):E(M,R,X,V,Z,J,rt)},_=(M,R,F,Y,X,V,Z,J)=>{let rt,Q;const{props:ft,shapeFlag:at,transition:st,dirs:pt}=M;if(rt=M.el=o(M.type,V,ft&&ft.is,ft),at&8?c(rt,M.children):at&16&&C(M.children,rt,null,Y,X,oo(M,V),Z,J),pt&&Pr(M,null,Y,"created"),w(rt,M,M.scopeId,Z,Y),ft){for(const Ot in ft)Ot!=="value"&&!Wn(Ot)&&a(rt,Ot,null,ft[Ot],V,Y);"value"in ft&&a(rt,"value",null,ft.value,V),(Q=ft.onVnodeBeforeMount)&&Ke(Q,Y,M)}pt&&Pr(M,null,Y,"beforeMount");const yt=sh(X,st);yt&&st.beforeEnter(rt),n(rt,R,F),((Q=ft&&ft.onVnodeMounted)||yt||pt)&&Ee(()=>{Q&&Ke(Q,Y,M),yt&&st.enter(rt),pt&&Pr(M,null,Y,"mounted")},X)},w=(M,R,F,Y,X)=>{if(F&&v(M,F),Y)for(let V=0;V<Y.length;V++)v(M,Y[V]);if(X){let V=X.subTree;if(R===V||vf(V.type)&&(V.ssContent===R||V.ssFallback===R)){const Z=X.vnode;w(M,Z,Z.scopeId,Z.slotScopeIds,X.parent)}}},C=(M,R,F,Y,X,V,Z,J,rt=0)=>{for(let Q=rt;Q<M.length;Q++){const ft=M[Q]=J?br(M[Q]):Ze(M[Q]);h(null,ft,R,F,Y,X,V,Z,J)}},E=(M,R,F,Y,X,V,Z)=>{const J=R.el=M.el;let{patchFlag:rt,dynamicChildren:Q,dirs:ft}=R;rt|=M.patchFlag&16;const at=M.props||Bt,st=R.props||Bt;let pt;if(F&&kr(F,!1),(pt=st.onVnodeBeforeUpdate)&&Ke(pt,F,R,M),ft&&Pr(R,M,F,"beforeUpdate"),F&&kr(F,!0),(at.innerHTML&&st.innerHTML==null||at.textContent&&st.textContent==null)&&c(J,""),Q?D(M.dynamicChildren,Q,J,F,Y,oo(R,X),V):Z||L(M,R,J,null,F,Y,oo(R,X),V,!1),rt>0){if(rt&16)O(J,at,st,F,X);else if(rt&2&&at.class!==st.class&&a(J,"class",null,st.class,X),rt&4&&a(J,"style",at.style,st.style,X),rt&8){const yt=R.dynamicProps;for(let Ot=0;Ot<yt.length;Ot++){const Dt=yt[Ot],ce=at[Dt],Ut=st[Dt];(Ut!==ce||Dt==="value")&&a(J,Dt,ce,Ut,X,F)}}rt&1&&M.children!==R.children&&c(J,R.children)}else!Z&&Q==null&&O(J,at,st,F,X);((pt=st.onVnodeUpdated)||ft)&&Ee(()=>{pt&&Ke(pt,F,R,M),ft&&Pr(R,M,F,"updated")},Y)},D=(M,R,F,Y,X,V,Z)=>{for(let J=0;J<R.length;J++){const rt=M[J],Q=R[J],ft=rt.el&&(rt.type===Qt||!Bn(rt,Q)||rt.shapeFlag&70)?f(rt.el):F;h(rt,Q,ft,null,Y,X,V,Z,!0)}},O=(M,R,F,Y,X)=>{if(R!==F){if(R!==Bt)for(const V in R)!Wn(V)&&!(V in F)&&a(M,V,R[V],null,X,Y);for(const V in F){if(Wn(V))continue;const Z=F[V],J=R[V];Z!==J&&V!=="value"&&a(M,V,J,Z,X,Y)}"value"in F&&a(M,"value",R.value,F.value,X)}},P=(M,R,F,Y,X,V,Z,J,rt)=>{const Q=R.el=M?M.el:s(""),ft=R.anchor=M?M.anchor:s("");let{patchFlag:at,dynamicChildren:st,slotScopeIds:pt}=R;pt&&(J=J?J.concat(pt):pt),M==null?(n(Q,F,Y),n(ft,F,Y),C(R.children||[],F,ft,X,V,Z,J,rt)):at>0&&at&64&&st&&M.dynamicChildren?(D(M.dynamicChildren,st,F,X,V,Z,J),(R.key!=null||X&&R===X.subTree)&&uf(M,R,!0)):L(M,R,F,ft,X,V,Z,J,rt)},T=(M,R,F,Y,X,V,Z,J,rt)=>{R.slotScopeIds=J,M==null?R.shapeFlag&512?X.ctx.activate(R,F,Y,Z,rt):N(R,F,Y,X,V,Z,rt):z(M,R,rt)},N=(M,R,F,Y,X,V,Z)=>{const J=M.component=Eh(M,Y,X);if(Vc(M)&&(J.ctx.renderer=gt),Mh(J,!1,Z),J.asyncDep){if(X&&X.registerDep(J,W,Z),!M.el){const rt=J.subTree=Xt(Cr);m(null,rt,R,F)}}else W(J,M,R,F,X,V,Z)},z=(M,R,F)=>{const Y=R.component=M.component;if(mh(M,R,F))if(Y.asyncDep&&!Y.asyncResolved){I(Y,R,F);return}else Y.next=R,Y.update();else R.el=M.el,Y.vnode=R},W=(M,R,F,Y,X,V,Z)=>{const J=()=>{if(M.isMounted){let{next:at,bu:st,u:pt,parent:yt,vnode:Ot}=M;{const de=cf(M);if(de){at&&(at.el=Ot.el,I(M,at,Z)),de.asyncDep.then(()=>{M.isUnmounted||J()});return}}let Dt=at,ce;kr(M,!1),at?(at.el=Ot.el,I(M,at,Z)):at=Ot,st&&to(st),(ce=at.props&&at.props.onVnodeBeforeUpdate)&&Ke(ce,yt,at,Ot),kr(M,!0);const Ut=so(M),fe=M.subTree;M.subTree=Ut,h(fe,Ut,f(fe.el),ot(fe),M,X,V),at.el=Ut.el,Dt===null&&bh(M,Ut.el),pt&&Ee(pt,X),(ce=at.props&&at.props.onVnodeUpdated)&&Ee(()=>Ke(ce,yt,at,Ot),X)}else{let at;const{el:st,props:pt}=R,{bm:yt,m:Ot,parent:Dt,root:ce,type:Ut}=M,fe=gn(R);if(kr(M,!1),yt&&to(yt),!fe&&(at=pt&&pt.onVnodeBeforeMount)&&Ke(at,Dt,R),kr(M,!0),st&&lt){const de=()=>{M.subTree=so(M),lt(st,M.subTree,M,X,null)};fe?Ut.__asyncHydrate(st,M,de):de()}else{ce.ce&&ce.ce._injectChildStyle(Ut);const de=M.subTree=so(M);h(null,de,F,Y,M,X,V),R.el=de.el}if(Ot&&Ee(Ot,X),!fe&&(at=pt&&pt.onVnodeMounted)){const de=R;Ee(()=>Ke(at,Dt,de),X)}(R.shapeFlag&256||Dt&&gn(Dt.vnode)&&Dt.vnode.shapeFlag&256)&&M.a&&Ee(M.a,X),M.isMounted=!0,R=F=Y=null}};M.scope.on();const rt=M.effect=new xc(J);M.scope.off();const Q=M.update=rt.run.bind(rt),ft=M.job=rt.runIfDirty.bind(rt);ft.i=M,ft.id=M.uid,rt.scheduler=()=>Fs(ft),kr(M,!0),Q()},I=(M,R,F)=>{R.component=M;const Y=M.vnode.props;M.vnode=R,M.next=null,th(M,R.props,Y,F),ih(M,R.children,F),Or(),Wl(M),Tr()},L=(M,R,F,Y,X,V,Z,J,rt=!1)=>{const Q=M&&M.children,ft=M?M.shapeFlag:0,at=R.children,{patchFlag:st,shapeFlag:pt}=R;if(st>0){if(st&128){$(Q,at,F,Y,X,V,Z,J,rt);return}else if(st&256){B(Q,at,F,Y,X,V,Z,J,rt);return}}pt&8?(ft&16&&et(Q,X,V),at!==Q&&c(F,at)):ft&16?pt&16?$(Q,at,F,Y,X,V,Z,J,rt):et(Q,X,V,!0):(ft&8&&c(F,""),pt&16&&C(at,F,Y,X,V,Z,J,rt))},B=(M,R,F,Y,X,V,Z,J,rt)=>{M=M||fn,R=R||fn;const Q=M.length,ft=R.length,at=Math.min(Q,ft);let st;for(st=0;st<at;st++){const pt=R[st]=rt?br(R[st]):Ze(R[st]);h(M[st],pt,F,null,X,V,Z,J,rt)}Q>ft?et(M,X,V,!0,!1,at):C(R,F,Y,X,V,Z,J,rt,at)},$=(M,R,F,Y,X,V,Z,J,rt)=>{let Q=0;const ft=R.length;let at=M.length-1,st=ft-1;for(;Q<=at&&Q<=st;){const pt=M[Q],yt=R[Q]=rt?br(R[Q]):Ze(R[Q]);if(Bn(pt,yt))h(pt,yt,F,null,X,V,Z,J,rt);else break;Q++}for(;Q<=at&&Q<=st;){const pt=M[at],yt=R[st]=rt?br(R[st]):Ze(R[st]);if(Bn(pt,yt))h(pt,yt,F,null,X,V,Z,J,rt);else break;at--,st--}if(Q>at){if(Q<=st){const pt=st+1,yt=pt<ft?R[pt].el:Y;for(;Q<=st;)h(null,R[Q]=rt?br(R[Q]):Ze(R[Q]),F,yt,X,V,Z,J,rt),Q++}}else if(Q>st)for(;Q<=at;)j(M[Q],X,V,!0),Q++;else{const pt=Q,yt=Q,Ot=new Map;for(Q=yt;Q<=st;Q++){const ve=R[Q]=rt?br(R[Q]):Ze(R[Q]);ve.key!=null&&Ot.set(ve.key,Q)}let Dt,ce=0;const Ut=st-yt+1;let fe=!1,de=0;const pr=new Array(Ut);for(Q=0;Q<Ut;Q++)pr[Q]=0;for(Q=pt;Q<=at;Q++){const ve=M[Q];if(ce>=Ut){j(ve,X,V,!0);continue}let Ie;if(ve.key!=null)Ie=Ot.get(ve.key);else for(Dt=yt;Dt<=st;Dt++)if(pr[Dt-yt]===0&&Bn(ve,R[Dt])){Ie=Dt;break}Ie===void 0?j(ve,X,V,!0):(pr[Ie-yt]=Q+1,Ie>=de?de=Ie:fe=!0,h(ve,R[Ie],F,null,X,V,Z,J,rt),ce++)}const Zr=fe?lh(pr):fn;for(Dt=Zr.length-1,Q=Ut-1;Q>=0;Q--){const ve=yt+Q,Ie=R[ve],Ei=ve+1<ft?R[ve+1].el:Y;pr[Q]===0?h(null,Ie,F,Ei,X,V,Z,J,rt):fe&&(Dt<0||Q!==Zr[Dt]?G(Ie,F,Ei,2):Dt--)}}},G=(M,R,F,Y,X=null)=>{const{el:V,type:Z,transition:J,children:rt,shapeFlag:Q}=M;if(Q&6){G(M.component.subTree,R,F,Y);return}if(Q&128){M.suspense.move(R,F,Y);return}if(Q&64){Z.move(M,R,F,gt);return}if(Z===Qt){n(V,R,F);for(let at=0;at<rt.length;at++)G(rt[at],R,F,Y);n(M.anchor,R,F);return}if(Z===Ji){S(M,R,F);return}if(Y!==2&&Q&1&&J)if(Y===0)J.beforeEnter(V),n(V,R,F),Ee(()=>J.enter(V),X);else{const{leave:at,delayLeave:st,afterLeave:pt}=J,yt=()=>n(V,R,F),Ot=()=>{at(V,()=>{yt(),pt&&pt()})};st?st(V,yt,Ot):Ot()}else n(V,R,F)},j=(M,R,F,Y=!1,X=!1)=>{const{type:V,props:Z,ref:J,children:rt,dynamicChildren:Q,shapeFlag:ft,patchFlag:at,dirs:st,cacheIndex:pt}=M;if(at===-2&&(X=!1),J!=null&&Io(J,null,F,M,!0),pt!=null&&(R.renderCache[pt]=void 0),ft&256){R.ctx.deactivate(M);return}const yt=ft&1&&st,Ot=!gn(M);let Dt;if(Ot&&(Dt=Z&&Z.onVnodeBeforeUnmount)&&Ke(Dt,R,M),ft&6)U(M.component,F,Y);else{if(ft&128){M.suspense.unmount(F,Y);return}yt&&Pr(M,null,R,"beforeUnmount"),ft&64?M.type.remove(M,R,F,gt,Y):Q&&!Q.hasOnce&&(V!==Qt||at>0&&at&64)?et(Q,R,F,!1,!0):(V===Qt&&at&384||!X&&ft&16)&&et(rt,R,F),Y&&H(M)}(Ot&&(Dt=Z&&Z.onVnodeUnmounted)||yt)&&Ee(()=>{Dt&&Ke(Dt,R,M),yt&&Pr(M,null,R,"unmounted")},F)},H=M=>{const{type:R,el:F,anchor:Y,transition:X}=M;if(R===Qt){q(F,Y);return}if(R===Ji){y(M);return}const V=()=>{i(F),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(M.shapeFlag&1&&X&&!X.persisted){const{leave:Z,delayLeave:J}=X,rt=()=>Z(F,V);J?J(M.el,V,rt):rt()}else V()},q=(M,R)=>{let F;for(;M!==R;)F=d(M),i(M),M=F;i(R)},U=(M,R,F)=>{const{bum:Y,scope:X,job:V,subTree:Z,um:J,m:rt,a:Q}=M;Ul(rt),Ul(Q),Y&&to(Y),X.stop(),V&&(V.flags|=8,j(Z,M,R,F)),J&&Ee(J,R),Ee(()=>{M.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},et=(M,R,F,Y=!1,X=!1,V=0)=>{for(let Z=V;Z<M.length;Z++)j(M[Z],R,F,Y,X)},ot=M=>{if(M.shapeFlag&6)return ot(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const R=d(M.anchor||M.el),F=R&&R[Tp];return F?d(F):R};let ct=!1;const ht=(M,R,F)=>{M==null?R._vnode&&j(R._vnode,null,null,!0):h(R._vnode||null,M,R,null,null,null,F),R._vnode=M,ct||(ct=!0,Wl(),Wc(),ct=!1)},gt={p:h,um:j,m:G,r:H,mt:N,mc:C,pc:L,pbc:D,n:ot,o:t};let nt,lt;return{render:ht,hydrate:nt,createApp:Zp(ht,nt)}}function oo({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function kr({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function sh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function uf(t,e,r=!1){const n=t.children,i=e.children;if(Ct(n)&&Ct(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=br(i[a]),s.el=o.el),!r&&s.patchFlag!==-2&&uf(o,s)),s.type===za&&(s.el=o.el)}}function lh(t){const e=t.slice(),r=[0];let n,i,a,o,s;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(i=r[r.length-1],t[i]<u){e[n]=i,r.push(n);continue}for(a=0,o=r.length-1;a<o;)s=a+o>>1,t[r[s]]<u?a=s+1:o=s;u<t[r[a]]&&(a>0&&(e[n]=r[a-1]),r[a]=n)}}for(a=r.length,o=r[a-1];a-- >0;)r[a]=o,o=e[o];return r}function cf(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:cf(e)}function Ul(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const uh=Symbol.for("v-scx"),ch=()=>Zi(uh);function fh(t,e){return Ws(t,null,{flush:"post"})}function ze(t,e,r){return Ws(t,e,r)}function Ws(t,e,r=Bt){const{immediate:n,deep:i,flush:a,once:o}=r,s=ie({},r);let l;if(Ga)if(a==="sync"){const d=ch();l=d.__watcherHandles||(d.__watcherHandles=[])}else if(!e||n)s.once=!0;else return{stop:Qe,resume:Qe,pause:Qe};const u=ne;s.call=(d,v,p)=>rr(d,u,v,p);let c=!1;a==="post"?s.scheduler=d=>{Ee(d,u&&u.suspense)}:a!=="sync"&&(c=!0,s.scheduler=(d,v)=>{v?d():Fs(d)}),s.augmentJob=d=>{e&&(d.flags|=4),c&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const f=Ep(t,e,s);return l&&l.push(f),f}function dh(t,e,r){const n=this.proxy,i=Vt(t)?t.includes(".")?ff(n,t):()=>n[t]:t.bind(n,n);let a;St(e)?a=e:(a=e.handler,r=e);const o=di(this),s=Ws(i,a.bind(n),r);return o(),s}function ff(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const vh=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ve(e)}Modifiers`]||t[`${Ur(e)}Modifiers`];function ph(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Bt;let i=r;const a=e.startsWith("update:"),o=a&&vh(n,e.slice(7));o&&(o.trim&&(i=r.map(c=>Vt(c)?c.trim():c)),o.number&&(i=r.map($v)));let s,l=n[s=Qa(e)]||n[s=Qa(Ve(e))];!l&&a&&(l=n[s=Qa(Ur(e))]),l&&rr(l,t,6,i);const u=n[s+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,rr(u,t,6,i)}}function df(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const a=t.emits;let o={},s=!1;if(!St(t)){const l=u=>{const c=df(u,e,!0);c&&(s=!0,ie(o,c))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!a&&!s?($t(t)&&n.set(t,null),null):(Ct(a)?a.forEach(l=>o[l]=null):ie(o,a),$t(t)&&n.set(t,o),o)}function Ba(t,e){return!t||!Ea(e)?!1:(e=e.slice(2).replace(/Once$/,""),Mt(t,e[0].toLowerCase()+e.slice(1))||Mt(t,Ur(e))||Mt(t,e))}function so(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:c,props:f,data:d,setupState:v,ctx:p,inheritAttrs:h}=t,g=aa(t);let m,b;try{if(r.shapeFlag&4){const y=i||n,x=y;m=Ze(u.call(x,y,c,f,v,d,p)),b=s}else{const y=e;m=Ze(y.length>1?y(f,{attrs:s,slots:o,emit:l}):y(f,null)),b=e.props?s:hh(s)}}catch(y){Yn.length=0,Pa(y,t,1),m=Xt(Cr)}let S=m;if(b&&h!==!1){const y=Object.keys(b),{shapeFlag:x}=S;y.length&&x&7&&(a&&y.some(ws)&&(b=gh(b,a)),S=Sn(S,b,!1,!0))}return r.dirs&&(S=Sn(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&(S.transition=r.transition),m=S,aa(g),m}const hh=t=>{let e;for(const r in t)(r==="class"||r==="style"||Ea(r))&&((e||(e={}))[r]=t[r]);return e},gh=(t,e)=>{const r={};for(const n in t)(!ws(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function mh(t,e,r){const{props:n,children:i,component:a}=t,{props:o,children:s,patchFlag:l}=e,u=a.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?ql(n,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==n[d]&&!Ba(u,d))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?ql(n,o,u):!0:!!o;return!1}function ql(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(e[a]!==t[a]&&!Ba(r,a))return!0}return!1}function bh({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const vf=t=>t.__isSuspense;function yh(t,e){e&&e.pendingBranch?Ct(t)?e.effects.push(...t):e.effects.push(t):Op(t)}const Qt=Symbol.for("v-fgt"),za=Symbol.for("v-txt"),Cr=Symbol.for("v-cmt"),Ji=Symbol.for("v-stc"),Yn=[];let Oe=null;function wt(t=!1){Yn.push(Oe=t?null:[])}function Sh(){Yn.pop(),Oe=Yn[Yn.length-1]||null}let ni=1;function Kl(t){ni+=t,t<0&&Oe&&(Oe.hasOnce=!0)}function pf(t){return t.dynamicChildren=ni>0?Oe||fn:null,Sh(),ni>0&&Oe&&Oe.push(t),t}function zt(t,e,r,n,i,a){return pf(K(t,e,r,n,i,a,!0))}function cr(t,e,r,n,i){return pf(Xt(t,e,r,n,i,!0))}function hf(t){return t?t.__v_isVNode===!0:!1}function Bn(t,e){return t.type===e.type&&t.key===e.key}const gf=({key:t})=>t??null,Qi=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Vt(t)||se(t)||St(t)?{i:ee,r:t,k:e,f:!!r}:t:null);function K(t,e=null,r=null,n=0,i=null,a=t===Qt?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&gf(e),ref:e&&Qi(e),scopeId:Hc,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ee};return s?($s(l,r),a&128&&t.normalize(l)):r&&(l.shapeFlag|=Vt(r)?8:16),ni>0&&!o&&Oe&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Oe.push(l),l}const Xt=_h;function _h(t,e=null,r=null,n=0,i=null,a=!1){if((!t||t===qc)&&(t=Cr),hf(t)){const s=Sn(t,e,!0);return r&&$s(s,r),ni>0&&!a&&Oe&&(s.shapeFlag&6?Oe[Oe.indexOf(t)]=s:Oe.push(s)),s.patchFlag=-2,s}if(kh(t)&&(t=t.__vccOpts),e){e=Ch(e);let{class:s,style:l}=e;s&&!Vt(s)&&(e.class=Pe(s)),$t(l)&&(As(l)&&!Ct(l)&&(l=ie({},l)),e.style=Nt(l))}const o=Vt(t)?1:vf(t)?128:Rp(t)?64:$t(t)?4:St(t)?2:0;return K(t,e,r,n,i,o,a,!0)}function Ch(t){return t?As(t)||ef(t)?ie({},t):t:null}function Sn(t,e,r=!1,n=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=t,u=e?$r(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&gf(u),ref:e&&e.ref?r&&a?Ct(a)?a.concat(Qi(e)):[a,Qi(e)]:Qi(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Qt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Sn(t.ssContent),ssFallback:t.ssFallback&&Sn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Yc(c,l.clone(c)),c}function fi(t=" ",e=0){return Xt(za,null,t,e)}function No(t="",e=!1){return e?(wt(),cr(Cr,null,t)):Xt(Cr,null,t)}function Ze(t){return t==null||typeof t=="boolean"?Xt(Cr):Ct(t)?Xt(Qt,null,t.slice()):typeof t=="object"?br(t):Xt(za,null,String(t))}function br(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Sn(t)}function $s(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Ct(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),$s(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!ef(e)?e._ctx=ee:i===3&&ee&&(ee.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else St(e)?(e={default:e,_ctx:ee},r=32):(e=String(e),n&64?(r=16,e=[fi(e)]):r=8);t.children=e,t.shapeFlag|=r}function $r(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Pe([e.class,n.class]));else if(i==="style")e.style=Nt([e.style,n.style]);else if(Ea(i)){const a=e[i],o=n[i];o&&a!==o&&!(Ct(a)&&a.includes(o))&&(e[i]=a?[].concat(a,o):o)}else i!==""&&(e[i]=n[i])}return e}function Ke(t,e,r,n=null){rr(t,e,7,[r,n])}const xh=Jc();let wh=0;function Eh(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||xh,a={uid:wh++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new qv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:nf(n,i),emitsOptions:df(n,i),emit:null,emitted:null,propsDefaults:Bt,inheritAttrs:n.inheritAttrs,ctx:Bt,data:Bt,props:Bt,attrs:Bt,slots:Bt,refs:Bt,setupState:Bt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=ph.bind(null,a),t.ce&&t.ce(a),a}let ne=null;const Dh=()=>ne||ee;let sa,Lo;{const t=yc(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};sa=e("__VUE_INSTANCE_SETTERS__",r=>ne=r),Lo=e("__VUE_SSR_SETTERS__",r=>Ga=r)}const di=t=>{const e=ne;return sa(t),t.scope.on(),()=>{t.scope.off(),sa(e)}},Zl=()=>{ne&&ne.scope.off(),sa(null)};function mf(t){return t.vnode.shapeFlag&4}let Ga=!1;function Mh(t,e=!1,r=!1){e&&Lo(e);const{props:n,children:i}=t.vnode,a=mf(t);Qp(t,n,a,e),nh(t,i,r);const o=a?Oh(t,e):void 0;return e&&Lo(!1),o}function Oh(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Yp);const{setup:n}=r;if(n){const i=t.setupContext=n.length>1?Rh(t):null,a=di(t);Or();const o=ci(n,t,0,[t.props,i]);if(Tr(),a(),hc(o)){if(gn(t)||Xc(t),o.then(Zl,Zl),e)return o.then(s=>{Jl(t,s,e)}).catch(s=>{Pa(s,t,0)});t.asyncDep=o}else Jl(t,o,e)}else bf(t,e)}function Jl(t,e,r){St(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:$t(e)&&(t.setupState=Fc(e)),bf(t,r)}let Ql;function bf(t,e,r){const n=t.type;if(!t.render){if(!e&&Ql&&!n.render){const i=n.template||Ns(t).template;if(i){const{isCustomElement:a,compilerOptions:o}=t.appContext.config,{delimiters:s,compilerOptions:l}=n,u=ie(ie({isCustomElement:a,delimiters:s},o),l);n.render=Ql(i,u)}}t.render=n.render||Qe}{const i=di(t);Or();try{Xp(t)}finally{Tr(),i()}}}const Th={get(t,e){return le(t,"get",""),t[e]}};function Rh(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,Th),slots:t.slots,emit:t.emit,expose:e}}function Fa(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Fc(bp(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Hn)return Hn[r](t)},has(e,r){return r in e||r in Hn}})):t.proxy}function Ph(t,e=!0){return St(t)?t.displayName||t.name:t.name||e&&t.__name}function kh(t){return St(t)&&"__vccOpts"in t}const xt=(t,e)=>xp(t,e,Ga),Ih="3.5.0";/**
* @vue/runtime-dom v3.5.0
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wo;const tu=typeof window<"u"&&window.trustedTypes;if(tu)try{Wo=tu.createPolicy("vue",{createHTML:t=>t})}catch{}const yf=Wo?t=>Wo.createHTML(t):t=>t,Ah="http://www.w3.org/2000/svg",Bh="http://www.w3.org/1998/Math/MathML",ar=typeof document<"u"?document:null,eu=ar&&ar.createElement("template"),zh={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?ar.createElementNS(Ah,t):e==="mathml"?ar.createElementNS(Bh,t):r?ar.createElement(t,{is:r}):ar.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>ar.createTextNode(t),createComment:t=>ar.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ar.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,a){const o=r?r.previousSibling:e.lastChild;if(i&&(i===a||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{eu.innerHTML=yf(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const s=eu.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Gh=Symbol("_vtc");function Fh(t,e,r){const n=t[Gh];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const la=Symbol("_vod"),Sf=Symbol("_vsh"),bn={beforeMount(t,{value:e},{transition:r}){t[la]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):zn(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),zn(t,!0),n.enter(t)):n.leave(t,()=>{zn(t,!1)}):zn(t,e))},beforeUnmount(t,{value:e}){zn(t,e)}};function zn(t,e){t.style.display=e?t[la]:"none",t[Sf]=!e}const _f=Symbol("");function Nh(t){const e=Dh();if(!e)return;const r=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(a=>ua(a,i))},n=()=>{const i=t(e.proxy);e.ce?ua(e.ce,i):$o(e.subTree,i),r(i)};Uc(()=>{fh(n)}),qe(()=>{const i=new MutationObserver(n);i.observe(e.subTree.el.parentNode,{childList:!0}),Ia(()=>i.disconnect())})}function $o(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{$o(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)ua(t.el,e);else if(t.type===Qt)t.children.forEach(r=>$o(r,e));else if(t.type===Ji){let{el:r,anchor:n}=t;for(;r&&(ua(r,e),r!==n);)r=r.nextSibling}}function ua(t,e){if(t.nodeType===1){const r=t.style;let n="";for(const i in e)r.setProperty(`--${i}`,e[i]),n+=`--${i}: ${e[i]};`;r[_f]=n}}const Lh=/(^|;)\s*display\s*:/;function Wh(t,e,r){const n=t.style,i=Vt(r);let a=!1;if(r&&!i){if(e)if(Vt(e))for(const o of e.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&ta(n,s,"")}else for(const o in e)r[o]==null&&ta(n,o,"");for(const o in r)o==="display"&&(a=!0),ta(n,o,r[o])}else if(i){if(e!==r){const o=n[_f];o&&(r+=";"+o),n.cssText=r,a=Lh.test(r)}}else e&&t.removeAttribute("style");la in t&&(t[la]=a?n.display:"",t[Sf]&&(n.display="none"))}const ru=/\s*!important$/;function ta(t,e,r){if(Ct(r))r.forEach(n=>ta(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=$h(t,e);ru.test(r)?t.setProperty(Ur(n),r.replace(ru,""),"important"):t[n]=r}}const nu=["Webkit","Moz","ms"],lo={};function $h(t,e){const r=lo[e];if(r)return r;let n=Ve(e);if(n!=="filter"&&n in t)return lo[e]=n;n=Oa(n);for(let i=0;i<nu.length;i++){const a=nu[i]+n;if(a in t)return lo[e]=a}return e}const iu="http://www.w3.org/1999/xlink";function au(t,e,r,n,i,a=Uv(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(iu,e.slice(6,e.length)):t.setAttributeNS(iu,e,r):r==null||a&&!Sc(r)?t.removeAttribute(e):t.setAttribute(e,a?"":Mr(r)?String(r):r)}function Hh(t,e,r,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?yf(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,s=r==null?t.type==="checkbox"?"on":"":String(r);(o!==s||!("_value"in t))&&(t.value=s),r==null&&t.removeAttribute(e),t._value=r;return}let a=!1;if(r===""||r==null){const o=typeof t[e];o==="boolean"?r=Sc(r):r==null&&o==="string"?(r="",a=!0):o==="number"&&(r=0,a=!0)}try{t[e]=r}catch{}a&&t.removeAttribute(e)}function Yh(t,e,r,n){t.addEventListener(e,r,n)}function Xh(t,e,r,n){t.removeEventListener(e,r,n)}const ou=Symbol("_vei");function Vh(t,e,r,n,i=null){const a=t[ou]||(t[ou]={}),o=a[e];if(n&&o)o.value=n;else{const[s,l]=jh(e);if(n){const u=a[e]=Kh(n,i);Yh(t,s,u,l)}else o&&(Xh(t,s,o,l),a[e]=void 0)}}const su=/(?:Once|Passive|Capture)$/;function jh(t){let e;if(su.test(t)){e={};let n;for(;n=t.match(su);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ur(t.slice(2)),e]}let uo=0;const Uh=Promise.resolve(),qh=()=>uo||(Uh.then(()=>uo=0),uo=Date.now());function Kh(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;rr(Zh(n,r.value),e,5,[n])};return r.value=t,r.attached=qh(),r}function Zh(t,e){if(Ct(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const lu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Jh=(t,e,r,n,i,a)=>{const o=i==="svg";e==="class"?Fh(t,n,o):e==="style"?Wh(t,r,n):Ea(e)?ws(e)||Vh(t,e,r,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Qh(t,e,n,o))?(Hh(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&au(t,e,n,o,a,e!=="value")):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),au(t,e,n,o))};function Qh(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&lu(e)&&St(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return lu(e)&&Vt(r)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!Vt(r)))}const tg=["ctrl","shift","alt","meta"],eg={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>tg.some(r=>t[`${r}Key`]&&!e.includes(r))},Ft=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(i,...a)=>{for(let o=0;o<e.length;o++){const s=eg[e[o]];if(s&&s(i,e))return}return t(i,...a)})},rg=ie({patchProp:Jh},zh);let uu;function ng(){return uu||(uu=ah(rg))}const ig=(...t)=>{const e=ng().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=og(n);if(!i)return;const a=e._component;!St(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,ag(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function ag(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function og(t){return Vt(t)?document.querySelector(t):t}const Hs=""+new URL("bg-5l3SmAP9.png",import.meta.url).href,sg=t=>t<=.25?40:t<=.5?20:t<=1?10:t<=2?5:t<=4?2:1,Qr=.83,lg=(t,e,r,n,i,a)=>{const{scale:o,width:s,height:l,ratio:u,palette:c,gridRatio:f,showShadowText:d}=i,{bgColor:v,fontColor:p,fontShadowColor:h,shadowColor:g,longfgColor:m}=c,b=a?i.canvasWidth:i.canvasHeight;t.scale(u,u),t.clearRect(0,0,s/u,l/u),t.fillStyle=v,t.fillRect(0,0,s,l);const y=sg(o)*f*10,x=y*o,_=Math.floor(e/y)*y,w=(_-e)/y*x,C=e+Math.ceil((a?s:l)/o);if(n){const O=(r-e)*o/u,P=n*o/u;if(t.fillStyle=g,a?t.fillRect(O,0,P,l):t.fillRect(0,O,s,P),d)if(a){D(O,l*.3,Math.round(r));const T=(r+n-e)*o/u;D(T,l*.3,Math.round(r+n))}else{D(s*.3,O,Math.round(r));const T=(r+n-e)*o/u;D(s*.3,T,Math.round(r+n))}}t.beginPath(),t.fillStyle=p,t.strokeStyle=m;for(let O=_,P=0;O<C;O+=y,P++){const T=w+P*x+.5;if(O-y<b&&O>b||O==b){const N=w+P*x+.5+(b-O)*o;E(N,b);return}O>=0&&O<=b&&(O==0?a?t.moveTo(T,0):t.moveTo(0,T):a?t.moveTo(T,20):t.moveTo(20,T),t.save(),O==0?a?t.translate(T-15,l*.01):t.translate(s*.3,T-5):a?t.translate(T-12,l*.05):t.translate(s*.05,T+12),a||t.rotate(-Math.PI/2),t.scale(Qr/u,Qr/u),b-O>y/2&&(!d||n==0||Math.abs(O-r)>y/2&&Math.abs(O-(r+n))>y/2)&&t.fillText(O.toString(),4*u,9*u),t.restore(),O==0?a?t.lineTo(T,l):t.lineTo(s,T):a?t.lineTo(T,l/1.3):t.lineTo(s/1.3,T)),t.stroke(),t.closePath(),t.setTransform(1,0,0,1,0,0)}function E(O,P){a?t.moveTo(O,0):t.moveTo(0,O),t.save(),a?t.translate(O+5,l*.2):t.translate(s*.1,O+32),a||t.rotate(-Math.PI/2),t.scale(Qr/u,Qr/u),t.fillText(Math.round(P).toString(),4*u,7*u),t.restore(),a?t.lineTo(O,l):t.lineTo(s,O),t.stroke(),t.closePath(),t.setTransform(1,0,0,1,0,0)}function D(O,P,T){t.fillStyle=h,t.strokeStyle=m,t.save(),t.translate(O,P),a||t.rotate(-Math.PI/2),t.scale(Qr/u,Qr/u),t.strokeText(String(T),0,0),t.fillText(String(T),0,0),t.restore()}};function Ho(t,e=100){let r=null;const n=function(...i){r!==null&&clearTimeout(r),r=setTimeout(()=>{t(...i)},e)};return n.cancel=function(){r!==null&&(clearTimeout(r),r=null)},n}function Cf(t,e){const r=mt(0),n=mt(0),i=mt(!1),a=xt(()=>({backgroundColor:t.palette.hoverBg,color:t.palette.hoverColor,[e?"top":"left"]:"-8px",[e?"left":"top"]:`${r.value+10}px`})),o=({offsetX:h,offsetY:g})=>{r.value=e?h:g},s=(h,g)=>new Promise(m=>{if(t.lockLine)return;const b=e?h.clientY:h.clientX;o(h);const S=g||n.value;let y=S;const x=w=>{let D=((e?w.clientY:w.clientX)-b)/t.scale+S,O=D;const T=(e?t.snapsObj.h:t.snapsObj.v).slice().sort((N,z)=>Math.abs(O-N)-Math.abs(O-z));T.length&&Math.abs(T[0]-D)<t.snapThreshold/t.scale&&(O=T[0],D=O),y=Math.round(D),n.value=y},_=()=>{document.removeEventListener("mousemove",x),l(y,t.index),m()};document.addEventListener("mousemove",x),document.addEventListener("mouseup",_,{once:!0})}),l=(h,g)=>{var S,y;const m=e?(S=t.lines)==null?void 0:S.h:(y=t.lines)==null?void 0:y.v,b=u(h);if(m){if(b)if(typeof g=="number")m.splice(g,1);else return;typeof g!="number"&&m.push(h)}},u=h=>{const g=e?t.canvasHeight:t.canvasWidth;return h<0||h>g},c=xt(()=>u(n.value)?"放开删除":`${e?"Y":"X"}：${n.value*t.rate}`),f=Ho(()=>{i.value=!1},200),d=Ho(()=>{i.value=!0},200);return{showLabel:i,startValue:n,actionStyle:a,labelContent:c,handleMouseDown:s,handleMouseenter:h=>{t.lockLine||(o(h),d(),f.cancel())},handleMouseLeave:()=>{f()}}}const ug={key:0,class:"value"},cg=ke({__name:"ruler-line",props:{scale:{},palette:{},index:{},start:{},vertical:{type:Boolean},value:{},canvasWidth:{},canvasHeight:{},lines:{},isShowReferLine:{type:Boolean},rate:{},snapThreshold:{},snapsObj:{},lockLine:{type:Boolean}},setup(t){const e=t,r=mt(!1),{actionStyle:n,handleMouseDown:i,labelContent:a,startValue:o,showLabel:s,handleMouseenter:l,handleMouseLeave:u}=Cf(e,e.vertical),c=xt(()=>o.value>=e.start),f=xt(()=>{const{lineType:v,lockLineColor:p,lineColor:h}=e.palette,g=e.lockLine?p:h??"black",m=e.lockLine||r.value?"none":"auto",b=e.isShowReferLine&&!e.lockLine?e.vertical?"ns-resize":"ew-resize":"default",S=e.vertical?"borderTop":"borderLeft",y=(o.value-e.start)*e.scale;return{[S]:`1px ${v} ${g}`,pointerEvents:m,cursor:b,[e.vertical?"top":"left"]:`${y}px`}});qe(()=>{o.value=e.value??0});const d=Ho(()=>{r.value=!1},1e3);return ze([()=>e.scale],()=>{r.value=!0,d()}),(v,p)=>hn((wt(),zt("div",{class:"line",style:Nt(f.value),onMouseenter:p[0]||(p[0]=Ft((...h)=>kt(l)&&kt(l)(...h),["stop"])),onMouseleave:p[1]||(p[1]=Ft((...h)=>kt(u)&&kt(u)(...h),["stop"])),onMousedown:p[2]||(p[2]=Ft((...h)=>kt(i)&&kt(i)(...h),["stop"]))},[K("div",{class:"action",style:Nt(kt(n))},[kt(s)?(wt(),zt("span",ug,ye(kt(a)),1)):No("",!0)],4)],36)),[[bn,c.value]])}}),fg=ke({__name:"index",props:{scale:{},palette:{},vertical:{type:Boolean},showShadowText:{type:Boolean},start:{},width:{},height:{},selectStart:{},selectLength:{},canvasWidth:{},canvasHeight:{},rate:{},gridRatio:{}},emits:["handleDragStart"],setup(t,{emit:e}){const r=t,n=e,i=re({isDragging:!1,canvasContext:null});let a=window.devicePixelRatio;const o=mt(null);qe(()=>{window.addEventListener("resize",s),l(),c(a),f(a)});const s=()=>{a=window.devicePixelRatio,c(a),f(a)},l=()=>{i.canvasContext=o.value&&o.value.getContext("2d")},u=xt(()=>({cursor:r.vertical?"ew-resize":"ns-resize",[r.vertical?"borderRight":"borderBottom"]:`1px solid ${r.palette.borderColor||"#eeeeef"} `}));Ia(()=>{window.removeEventListener("resize",s)});const c=v=>{if(o.value){o.value.width=r.width,o.value.height=r.height;const p=i.canvasContext;p&&(p.font=`${12*v}px -apple-system,
                "Helvetica Neue", ".SFNSText-Regular",
                "SF UI Text", Arial, "PingFang SC", "Hiragino Sans GB",
                "Microsoft YaHei", "WenQuanYi Zen Hei", sans-serif`,p.lineWidth=1,p.textBaseline="middle")}},f=v=>{const p={scale:r.scale,width:r.width,height:r.height,palette:r.palette,canvasWidth:r.canvasWidth,canvasHeight:r.canvasHeight,ratio:v,rate:r.rate,gridRatio:r.gridRatio,showShadowText:r.showShadowText};p.scale=r.scale/r.rate,p.canvasWidth=r.canvasWidth*r.rate,p.canvasHeight=r.canvasHeight*r.rate,i.canvasContext&&lg(i.canvasContext,r.start*r.rate,r.selectStart,r.selectLength,p,!r.vertical)};ze([()=>r.width,()=>r.height,()=>r.start,()=>r.selectStart,()=>r.selectLength],()=>{f(a)}),ze([()=>r.width,()=>r.height],()=>{c(a)});const d=v=>{n("handleDragStart",v)};return(v,p)=>(wt(),zt("canvas",{ref_key:"canvas",ref:o,class:"ruler",style:Nt(u.value),onMousedown:Ft(d,["stop"])},null,36))}}),dg={class:"lines"},vg={key:0,class:"value"},cu=ke({__name:"ruler-wrapper",props:{scale:{},thick:{},canvasWidth:{},canvasHeight:{},palette:{},vertical:{type:Boolean},width:{},height:{},start:{},startOther:{},lines:{},selectStart:{},selectLength:{},isShowReferLine:{type:Boolean},rate:{},snapThreshold:{},snapsObj:{},gridRatio:{},lockLine:{type:Boolean},showShadowText:{type:Boolean}},emits:["changeLineState"],setup(t,{emit:e}){const r=t,{showLabel:n,actionStyle:i,handleMouseenter:a,handleMouseLeave:o,handleMouseDown:s,labelContent:l,startValue:u}=Cf(r,!r.vertical),c=mt(!1),f=mt(!1),d=xt(()=>r.vertical?"v-container":"h-container"),v=e,p=xt(()=>{var m,b;return r.vertical?(m=r.lines)==null?void 0:m.h:(b=r.lines)==null?void 0:b.v}),h=xt(()=>{const m=r.palette.lineType;let b=r.vertical?"left":"top",S=r.vertical?"top":"left",y=r.vertical?"borderLeft":"borderBottom";const x=(u.value-r.startOther)*r.scale+r.thick;return{[b]:x+"px",[S]:-r.thick+"px",cursor:r.vertical?"ew-resize":"ns-resize",[y]:`1px ${m} ${r.palette.lineColor}`}}),g=async m=>{const{offsetX:b,offsetY:S}=m,{scale:y,vertical:x,thick:_,startOther:w}=r;f.value=!0,c.value=!1,v("changeLineState",!1);let C=Math.round(w-_/y+(x?b:S)/y);u.value=C,await s(m,C),f.value=!1};return ze([()=>r.lockLine],()=>{c.value=r.lockLine}),(m,b)=>(wt(),zt("div",{class:Pe(d.value)},[Xt(fg,$r(m.$props,{onHandleDragStart:g}),null,16),hn(K("div",dg,[(wt(!0),zt(Qt,null,Aa(p.value,(S,y)=>(wt(),cr(cg,$r({key:S+y,index:y,value:S>>0,ref_for:!0},m.$props),null,16,["index","value"]))),128))],512),[[bn,m.isShowReferLine]]),m.isShowReferLine?hn((wt(),zt("div",{key:0,class:"indicator",onMouseenter:b[0]||(b[0]=(...S)=>kt(a)&&kt(a)(...S)),onMouseleave:b[1]||(b[1]=(...S)=>kt(o)&&kt(o)(...S)),style:Nt(h.value)},[K("div",{class:"action",style:Nt(kt(i))},[kt(n)?(wt(),zt("span",vg,ye(kt(l)),1)):No("",!0)],4)],36)),[[bn,f.value]]):No("",!0)],2))}}),pg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAopJREFUOE/FlE9IVEEcx7+/N9ouds1Mu0QUSFZYdIgoUqQoKPBQHsKozpXE7jbTO/U8xLJvn6usBHWQ6hBFXupSkQeVbh0KJEPp0sH+eLGTsKs77xcj78m0ax0E8cHjzZv5zef3/c33xxA24KENYGJzoEEQbNNaN4Zh2OQ4znwYhr9c1/39vwrXVDo0NNS0tLR0GYB5D64BmAMwzMyvlFKz1es10Hw+f4mZ7wHYBeA9gNdENFepVOaEEM3M3OI4Thczn41gt6WUgQ3+C+r7/h0AWQD3mXnYqPA8L9nQ0HCemduIaFpKOWoAhUJhT6VSuQXgOjP3K6W8GLwKzeVyp4jonR0QBEErM48w8zFLyayUsjX+z+VyHhHdZebTSqkxM78CHRgYOKS1/ghgVErZY214RkQ7ADyRUj72ff8qgCtmXUrZGcf5vv8CwEUhxOF0Ov1pBRpla5dSdseBhUJhpznH6tIsZb1KqacW+BGArUaUXX63UuplHJTNZjuEEONSyhozfd/n6mQ1RkXZL2itz7mu+80EDA4ONi8vL/8AcM2UbikyR2BU9cSmmTU70YqKIAj2hWFo2uenlHK/BRg3Y2aeNO5GyU8S0ZbFxcUuz/NKEXAGQKPjOCcymcyX1dIi8DSAiWQyeaavr68cbSgCuBknYubnQoj+TCYzUywWE6VS6S2ADsdx2gxw1X3L7SNENMbMnwE8qK+vf5NKpRaMaeVyeW8ikfiaSqW+R7BuZr5BRMe11p2u607U9Gk8kc/ntzPzQwCmExYATDLzVBiGE0KIowAOADDf3QA+aK2VDaxRajto3K+rq+tl5nYAzQBamHmeiOYBTGmtR6ph/1Rqg9c73pz7dD1qN0TpHyNQRCUDJXrAAAAAAElFTkSuQmCC",hg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAjtJREFUOE/NlD9oFEEUxn9v9ghC0hpRUogIAUmniGAT/5Q2FrETPSNRJILg7RwimI0ox85eQFCEBGIUO1PYpFM0jSConQoBEZGgGPsgl+w+2eM2bC57SopAFqYZ3v7m+977ZoQt+GQLmGxPaBiGgYiMWWvXBHZUGoZhH3BERPYC+4F+4Keq/urt7b1RLpf/ZEBVHa9Wq0HWyg3QKIoGVPU8cA7wgK/pUtXPQJ8xZk+pVBpuNBqXUoUiEvi+P56fzTpo6+SbwHNg1lo7WzTITGEKXFlZeeB53tVCpa3CK8AFa+1cBgvD8LKIXAQOJkkyICJDeYVBEJS6u7s/qeoLa+1o+l9TqXNuBLhmjDlbqVQ+5ICjInIfOBPH8W9jzGCR5YmJiRNxHM+papgqzqDvgSlr7VTernPuO3An3c9bBt74vv+yrdaKyLDv+/1Sq9UGPc97nY9EVuycU2AQOA7cAm4Dr4D5TvVxHB9rKo2iaEFVp621Ln96FEUngaOqGmSxabVqsh3a2h+x1h5qQjNrae/yE4+iaCwDJkky73neTuBZe129Xk+H+BS4l7ZqLVIZ2BhzuFKpvMsDVXXWGPMxFdAedOfcKeCRqj7MYrUhpz09PfXl5eXrectFWXXODQHpOq2qd/95o/JXr6ura3J1dXU6SZIfwKKIHAD2tVYMPBGRx77vN10UXtO85fTkmZmZHUtLSzUR2QXsBhaAL6r6DXhbrVYXi1yss59GqOgub/bN3Z7v6X/tb9Zmp/q/kN8s+lJb8oEAAAAASUVORK5CYII=";/*!simple-panzoom v1.0.72024年8月Sat Aug 10 2024 16:04:04 GMT+0800 (中国标准时间)制作*/typeof window<"u"&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),typeof window.CustomEvent!="function"&&(window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}));function xf(t,e){let r=t.length;for(;r--;)if(t[r].pointerId===e.pointerId)return r;return-1}function Yo(t,e){let r;if(e.touches){r=0;for(const n of e.touches)n.pointerId=r++,Yo(t,n);return}r=xf(t,e),r>-1&&t.splice(r,1),t.push(e)}function gg(t,e){if(e.touches){for(;t.length;)t.pop();return}const r=xf(t,e);r>-1&&t.splice(r,1)}function fu(t){t=t.slice(0);let e=t.pop(),r;for(;r=t.pop();)e={clientX:(r.clientX-e.clientX)/2+e.clientX,clientY:(r.clientY-e.clientY)/2+e.clientY};return e}function co(t){if(t.length<2)return 0;const e=t[0],r=t[1];return Math.sqrt(Math.pow(Math.abs(r.clientX-e.clientX),2)+Math.pow(Math.abs(r.clientY-e.clientY),2))}let ii={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};typeof window<"u"&&(typeof window.PointerEvent=="function"?ii={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:typeof window.TouchEvent=="function"&&(ii={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));function fo(t,e,r,n){ii[t].split(" ").forEach(i=>{e.addEventListener(i,r,n)})}function vo(t,e,r){ii[t].split(" ").forEach(n=>{e.removeEventListener(n,r)})}const mg=typeof document<"u"&&!!document.documentMode;let du;function bg(){return du||(du=document.createElement("div").style)}const vu=["webkit","moz","ms"],ki={};function Ys(t){if(ki[t])return ki[t];const e=bg();if(t in e)return ki[t]=t;const r=t[0].toUpperCase()+t.slice(1);let n=vu.length;for(;n--;){const i=`${vu[n]}${r}`;if(i in e)return ki[t]=i}}function Ii(t,e){return parseFloat(e[Ys(t)])||0}function Ai(t,e,r=window.getComputedStyle(t)){const n=e==="border"?"Width":"";return{left:Ii(`${e}Left${n}`,r),right:Ii(`${e}Right${n}`,r),top:Ii(`${e}Top${n}`,r),bottom:Ii(`${e}Bottom${n}`,r)}}function nn(t,e,r){t.style[Ys(e)]=r}function yg(t,e){const r=Ys("transform");nn(t,"transition",`${r} ${e.duration}ms ${e.easing}`)}function Sg(t,{x:e,y:r,scale:n,isSVG:i},a){if(nn(t,"transform",`scale(${n}) translate(${e}px, ${r}px)`),i&&mg){const o=window.getComputedStyle(t).getPropertyValue("transform");t.setAttribute("transform",o)}}function Bi(t){const e=t.parentNode,r=window.getComputedStyle(t),n=window.getComputedStyle(e),i=t.getBoundingClientRect(),a=e.getBoundingClientRect();return{elem:{style:r,width:i.width,height:i.height,top:i.top,bottom:i.bottom,left:i.left,right:i.right,margin:Ai(t,"margin",r),border:Ai(t,"border",r)},parent:{style:n,width:a.width,height:a.height,top:a.top,bottom:a.bottom,left:a.left,right:a.right,padding:Ai(e,"padding",n),border:Ai(e,"border",n)}}}function _g(t){let e=t;for(;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1}function Cg(t){return(t.getAttribute("class")||"").trim()}function xg(t,e){return t.nodeType===1&&` ${Cg(t)} `.indexOf(` ${e} `)>-1}function wg(t,e){for(let r=t;r!=null;r=r.parentNode)if(xg(r,e.excludeClass)||e.exclude.indexOf(r)>-1)return!0;return!1}const Eg=/^http:[\w\.\/]+svg$/;function Dg(t){return Eg.test(t.namespaceURI)&&t.nodeName.toLowerCase()!=="svg"}function Mg(t){const e={};for(const r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}const wf={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:t=>{t.preventDefault(),t.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,pinchAndPan:!1,relative:!1,setTransform:Sg,startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function Ef(t,e){if(!t)throw new Error("Panzoom requires an element as an argument");if(t.nodeType!==1)throw new Error("Panzoom requires an element with a nodeType of 1");if(!_g(t))throw new Error("Panzoom should be called on elements that have been attached to the DOM");e={...wf,...e};const r=Dg(t),n=t.parentNode;n.style.overflow=e.overflow,n.style.userSelect="none",n.style.touchAction=e.touchAction,(e.canvas?n:t).style.cursor=e.cursor,t.style.userSelect="none",t.style.touchAction=e.touchAction,nn(t,"transformOrigin",typeof e.origin=="string"?e.origin:r?"0 0":"50% 50%");function i(){n.style.overflow="",n.style.userSelect="",n.style.touchAction="",n.style.cursor="",t.style.cursor="",t.style.userSelect="",t.style.touchAction="",nn(t,"transformOrigin","")}function a(B={}){for(const $ in B)B.hasOwnProperty($)&&(e[$]=B[$]);(B.hasOwnProperty("cursor")||B.hasOwnProperty("canvas"))&&(n.style.cursor=t.style.cursor="",(e.canvas?n:t).style.cursor=e.cursor),B.hasOwnProperty("overflow")&&(n.style.overflow=B.overflow),B.hasOwnProperty("touchAction")&&(n.style.touchAction=B.touchAction,t.style.touchAction=B.touchAction)}let o=0,s=0,l=1,u=!1;h(e.startScale,{animate:!1,force:!0}),setTimeout(()=>{p(e.startX,e.startY,{animate:!1,force:!0})});function c(B,$,G){if(G.silent)return;const j=new CustomEvent(B,{detail:$});t.dispatchEvent(j)}function f(B,$,G){const j={x:o,y:s,scale:l,isSVG:r,originalEvent:G,dimsOut:{}};typeof $.animate=="boolean"&&($.animate?yg(t,$):nn(t,"transition","none")),$.setTransform(t,j,$);function H(){const q=Bi(t);j.dimsOut=q,c(B,j,$),c("panzoomchange",j,$)}return $.animate?setTimeout(()=>{H()},$.duration+50):requestAnimationFrame(()=>{H()}),j}function d(B,$,G,j){const H={...e,...j},q={x:o,y:s,opts:H};if(!H.force&&(H.disablePan||H.panOnlyWhenZoomed&&l===H.startScale))return q;if(B=parseFloat(B),$=parseFloat($),H.disableXAxis||(q.x=(H.relative?o:0)+B),H.disableYAxis||(q.y=(H.relative?s:0)+$),H.contain){const U=Bi(t),et=U.elem.width/l,ot=U.elem.height/l,ct=et*G,ht=ot*G,gt=(ct-et)/2,nt=(ht-ot)/2;if(H.contain==="inside"){const lt=(-U.elem.margin.left-U.parent.padding.left+gt)/G,M=(U.parent.width-ct-U.parent.padding.left-U.elem.margin.left-U.parent.border.left-U.parent.border.right+gt)/G;q.x=Math.max(Math.min(q.x,M),lt);const R=(-U.elem.margin.top-U.parent.padding.top+nt)/G,F=(U.parent.height-ht-U.parent.padding.top-U.elem.margin.top-U.parent.border.top-U.parent.border.bottom+nt)/G;q.y=Math.max(Math.min(q.y,F),R)}else if(H.contain==="outside"){const lt=(-(ct-U.parent.width)-U.parent.padding.left-U.parent.border.left-U.parent.border.right+gt)/G,M=(gt-U.parent.padding.left)/G;q.x=Math.max(Math.min(q.x,M),lt);const R=(-(ht-U.parent.height)-U.parent.padding.top-U.parent.border.top-U.parent.border.bottom+nt)/G,F=(nt-U.parent.padding.top)/G;q.y=Math.max(Math.min(q.y,F),R)}}return H.roundPixels&&(q.x=Math.round(q.x),q.y=Math.round(q.y)),q}function v(B,$){const G={...e,...$},j={scale:l,opts:G};if(!G.force&&G.disableZoom)return j;let H=e.minScale,q=e.maxScale;if(G.contain){const U=Bi(t),et=U.elem.width/l,ot=U.elem.height/l;if(et>1&&ot>1){const ct=U.parent.width-U.parent.border.left-U.parent.border.right,ht=U.parent.height-U.parent.border.top-U.parent.border.bottom,gt=ct/et,nt=ht/ot;e.contain==="inside"?q=Math.min(q,gt,nt):e.contain==="outside"&&(H=Math.max(H,gt,nt))}}return j.scale=Math.min(Math.max(B,H),q),j}function p(B,$,G,j){const H=d(B,$,l,G);return o!==H.x||s!==H.y?(o=H.x,s=H.y,f("panzoompan",H.opts,j)):{x:o,y:s,scale:l,isSVG:r,originalEvent:j}}function h(B,$,G){const j=v(B,$),H=j.opts;if(!H.force&&H.disableZoom)return;B=j.scale;let q=o,U=s;if(H.focal){const ot=H.focal;q=(ot.x/B-ot.x/l+o*B)/B,U=(ot.y/B-ot.y/l+s*B)/B}const et=d(q,U,B,{relative:!1,force:!0});return o=et.x,s=et.y,l=B,f("panzoomzoom",H,G)}function g(B,$){const G={...e,animate:!0,...$};return h(l*Math.exp((B?1:-1)*G.step),G)}function m(B){return g(!0,B)}function b(B){return g(!1,B)}function S(B,$,G,j){const H=Bi(t),q={width:H.parent.width-H.parent.padding.left-H.parent.padding.right-H.parent.border.left-H.parent.border.right,height:H.parent.height-H.parent.padding.top-H.parent.padding.bottom-H.parent.border.top-H.parent.border.bottom};let U=$.clientX-H.parent.left-H.parent.padding.left-H.parent.border.left-H.elem.margin.left,et=$.clientY-H.parent.top-H.parent.padding.top-H.parent.border.top-H.elem.margin.top;r||(U-=H.elem.width/l/2,et-=H.elem.height/l/2);const ot={x:U/q.width*(q.width*B),y:et/q.height*(q.height*B)};return h(B,{...G,animate:!1,focal:ot},j)}function y(B,$){B.preventDefault();const G={...e,...$,animate:!1},j=(B.deltaY===0&&B.deltaX?B.deltaX:B.deltaY)<0?1:-1,H=v(l*Math.exp(j*G.step/3),G).scale;return S(H,B,G,B)}function x(B){const $={...e,animate:!0,force:!0,...B};l=v($.startScale,$).scale;const G=d($.startX,$.startY,l,$);return o=G.x,s=G.y,f("panzoomreset",$)}let _,w,C,E,D,O;const P=[];function T(B){if(wg(B.target,e))return;Yo(P,B),u=!0,e.handleStartEvent(B),_=o,w=s,c("panzoomstart",{x:o,y:s,scale:l,isSVG:r,originalEvent:B},e);const $=fu(P);C=$.clientX,E=$.clientY,D=l,O=co(P)}function N(B){if(!u||_===void 0||w===void 0||C===void 0||E===void 0)return;Yo(P,B);const $=fu(P),G=P.length>1;let j=l;if(G){O===0&&(O=co(P));const H=co(P)-O;j=v(H*e.step/80+D).scale,S(j,$,{animate:!1},B)}(!G||e.pinchAndPan)&&p(_+($.clientX-C)/j,w+($.clientY-E)/j,{animate:!1},B)}function z(B){P.length===1&&c("panzoomend",{x:o,y:s,scale:l,isSVG:r,originalEvent:B},e),gg(P,B),u&&(u=!1,_=w=C=E=void 0)}let W=!1;function I(){W||(W=!0,fo("down",e.canvas?n:t,T),fo("move",document,N,{passive:!0}),fo("up",document,z,{passive:!0}))}function L(){W=!1,vo("down",e.canvas?n:t,T),vo("move",document,N),vo("up",document,z)}return e.noBind||I(),{bind:I,destroy:L,eventNames:ii,getPan:()=>({x:o,y:s}),getScale:()=>l,getOptions:()=>Mg(e),handleDown:T,handleMove:N,handleUp:z,pan:p,reset:x,resetStyle:i,setOptions:a,setStyle:(B,$)=>nn(t,B,$),zoom:h,zoomIn:m,zoomOut:b,zoomToPoint:S,zoomWithWheel:y}}Ef.defaultOptions=wf;const Og={class:"sketch-ruler"},vi=ke({__name:"index",props:{showRuler:{type:Boolean,default:!0},eyeIcon:{},closeEyeIcon:{},scale:{default:1},rate:{default:1},thick:{default:16},palette:{},width:{default:1400},height:{default:800},paddingRatio:{default:.2},autoCenter:{type:Boolean,default:!0},shadow:{default:()=>({x:0,y:0,width:0,height:0})},lines:{default:()=>({h:[],v:[]})},isShowReferLine:{type:Boolean,default:!0},canvasWidth:{default:700},canvasHeight:{default:700},snapsObj:{default:()=>({h:[],v:[]})},snapThreshold:{default:5},gridRatio:{default:1},lockLine:{type:Boolean,default:!1},selfHandle:{type:Boolean,default:!1},showShadowText:{type:Boolean,default:!0},panzoomOption:{}},emits:["onCornerClick","update:scale","zoomchange","update:lockLine"],setup(t,{expose:e,emit:r}){Nh(I=>({"7b91642c":W.value}));const n=t,i=r,a=mt(null),o=mt(0),s=mt(0);let l=0,u=0;const c=mt(1),f=mt(n.isShowReferLine),d=mt(null),v=mt("defaultCursor"),p=xt(()=>({bgColor:"#f6f7f9",longfgColor:"#BABBBC",fontColor:"#7D8694",fontShadowColor:"#106ebe",shadowColor:"#e9f7fe",lineColor:"#51d6a9",lineType:"solid",lockLineColor:"#d4d7dc",hoverBg:"#000",hoverColor:"#fff",borderColor:"#eeeeef",...n.palette})),h=xt(()=>({backgroundImage:f.value?`url(${n.eyeIcon||pg})`:`url(${n.closeEyeIcon||hg})`,width:n.thick+"px",height:n.thick+"px",borderRight:`1px solid ${p.value.borderColor}`,borderBottom:`1px solid ${p.value.borderColor}`})),g=xt(()=>({background:p.value.bgColor,width:m.value+"px",height:b.value+"px"})),m=xt(()=>n.width-n.thick),b=xt(()=>n.height-n.thick),S=I=>{var L;(I.ctrlKey||I.metaKey)&&((L=d.value)==null||L.zoomWithWheel(I))},y=I=>{var L;I.key===" "&&(v.value="grabCursor",(L=d.value)==null||L.bind(),I.preventDefault())},x=I=>{var L;I.key===" "&&((L=d.value)==null||L.destroy(),v.value="defaultCursor")};qe(()=>{if(C(),!n.selfHandle&&a.value){const I=a.value.parentElement;if(!I)return;I.addEventListener("wheel",S),document.addEventListener("keydown",y),document.addEventListener("keyup",x)}});const _=I=>({noBind:!0,startScale:I,startX:l,startY:u,smoothScroll:!0,...n.panzoomOption}),w=I=>{const{scale:L,dimsOut:B}=I.detail;if(B){i("update:scale",L),c.value=L;const $=(B.parent.left-B.elem.left)/L,G=(B.parent.top-B.elem.top)/L;o.value=$,i("zoomchange",I.detail),s.value=G}},C=()=>{if(a.value=document.querySelector(".canvasedit"),a.value){let I=n.scale;n.autoCenter&&(I=E()),d.value=Ef(a.value,_(I)),a.value&&a.value.addEventListener("panzoomchange",w)}},E=()=>{const I=m.value*(1-n.paddingRatio)/n.canvasWidth,L=b.value*(1-n.paddingRatio)/n.canvasHeight,B=Math.min(I,L);return l=m.value/2-n.canvasWidth/2,B<1?u=(n.canvasHeight*B/2-n.canvasHeight/2)/B-(n.canvasHeight*B-b.value)/B/2:B>1?u=(n.canvasHeight*B-n.canvasHeight)/2/B+(b.value-n.canvasHeight*B)/B/2:u=0,B},D=()=>{var I;return(I=d.value)==null?void 0:I.reset()},O=()=>{var I;return(I=d.value)==null?void 0:I.zoomIn()},P=()=>{var I;return(I=d.value)==null?void 0:I.zoomOut()},T=()=>{var I;(I=d.value)==null||I.setOptions(_(n.scale))},N=()=>{f.value=!f.value,i("onCornerClick",f.value)},z=I=>{i("update:lockLine",I)},W=xt(()=>n.thick+"px");return ze([()=>n.isShowReferLine],()=>{f.value=n.isShowReferLine}),ze([()=>n.canvasWidth,()=>n.canvasHeight,()=>n.width,()=>n.height],()=>{C()}),ze(()=>n.panzoomOption,()=>{T()},{deep:!0}),e({initPanzoom:C,panzoomInstance:d,reset:D,zoomIn:O,zoomOut:P,cursorClass:v}),(I,L)=>(wt(),zt("div",Og,[Ao(I.$slots,"btn",{reset:D,zoomIn:O,zoomOut:P}),K("div",{class:"canvasedit-parent",style:Nt(g.value)},[K("div",{class:Pe(["canvasedit",v.value])},[Ao(I.$slots,"default")],2)],4),hn(Xt(cu,{style:Nt({marginLeft:I.thick+"px",width:m.value+"px"}),vertical:!1,width:I.width,height:I.thick,"is-show-refer-line":f.value,thick:I.thick,start:o.value,startOther:s.value,lines:I.lines,"select-start":I.shadow.x,snapThreshold:I.snapThreshold,snapsObj:I.snapsObj,"select-length":I.shadow.width,scale:c.value,palette:p.value,canvasWidth:I.canvasWidth,showShadowText:I.showShadowText,canvasHeight:I.canvasHeight,rate:I.rate,gridRatio:I.gridRatio,lockLine:I.lockLine,onChangeLineState:z},null,8,["style","width","height","is-show-refer-line","thick","start","startOther","lines","select-start","snapThreshold","snapsObj","select-length","scale","palette","canvasWidth","showShadowText","canvasHeight","rate","gridRatio","lockLine"]),[[bn,I.showRuler]]),hn(Xt(cu,{style:Nt({marginTop:I.thick+"px",top:0,height:b.value+"px"}),vertical:!0,width:I.thick,height:I.height,"is-show-refer-line":f.value,thick:I.thick,start:s.value,startOther:o.value,lines:I.lines,"select-start":I.shadow.y,"select-length":I.shadow.height,snapThreshold:I.snapThreshold,snapsObj:I.snapsObj,scale:c.value,palette:p.value,canvasWidth:I.canvasWidth,canvasHeight:I.canvasHeight,showShadowText:I.showShadowText,rate:I.rate,gridRatio:I.gridRatio,lockLine:I.lockLine,onChangeLineState:z},null,8,["style","width","height","is-show-refer-line","thick","start","startOther","lines","select-start","select-length","snapThreshold","snapsObj","scale","palette","canvasWidth","canvasHeight","showShadowText","rate","gridRatio","lockLine"]),[[bn,I.showRuler]]),hn(K("a",{class:"corner",style:Nt(h.value),onClick:N},null,4),[[bn,I.showRuler]])]))}}),Tg={class:"demo"},Rg={class:"top font16"},Pg={class:"scale mr10"},kg=["value"],Ig=["value"],Ag=["value"],Bg=["src"],zg={class:"btns"},Gg=["onClick"],Fg=["onClick"],Ng=["onClick"],pu=ke({__name:"user-rulerts",setup(t){const e=mt(0),r=mt(),n=re({maxScale:3,minScale:.3,disablePan:!1,disableZoom:!1,contain:"none",handleStartEvent:E=>{E.preventDefault(),console.log("handleStartEvent",E)}}),i=mt(!1),a=()=>{r.value&&r.value.zoomOut()};qe(()=>{window.addEventListener("resize",o)});const o=()=>{r.value&&r.value.initPanzoom()},s=()=>{r.value&&r.value.reset()},l=()=>{u.isBlack=!u.isBlack,e.value++},u=re({scale:1,isBlack:!1}),c=xt(()=>u.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),f=re({thick:20,width:1470,height:800,showShadowText:!1,canvasWidth:1e3,canvasHeight:500,showRuler:!0,palette:c.value,snapsObj:{h:[0,100,200],v:[130]},shadow:{x:0,y:0,width:300,height:300},panzoomOption:n,isShowReferLine:!0,lines:{h:[0,250],v:[0,500]}}),d=xt(()=>({width:`${f.width}px`,height:`${f.height}px`})),v=xt(()=>Number(u.scale).toFixed(1)),p=xt(()=>({width:`${f.canvasWidth}px`,height:`${f.canvasHeight}px`})),h=E=>{u.scale=E.target.value*1,r.value&&r.value.panzoomInstance.zoom(u.scale)},g=E=>{console.log("handleCornerClick",E)},m=E=>{console.log("zoomchange",E)},b=E=>{const D=E.target.value.split(",");f.snapsObj.h=D.map(O=>Number(O))},S=E=>{const D=E.target.value.split(",");f.snapsObj.v=D.map(O=>Number(O))},y=E=>{n.disableZoom=E.target.checked},x=E=>{n.disablePan=E.target.checked},_=E=>{n.contain=E.target.checked?"inside":"none"},w=()=>{f.shadow.x=Math.random()*f.canvasWidth,f.shadow.y=Math.random()*f.canvasHeight},C=E=>{console.log("handleMouseDown",E)};return(E,D)=>(wt(),zt("div",Tg,[K("div",Rg,[K("div",Pg," 缩放比:"+ye(v.value),1),K("button",{class:"mr10 font16",onClick:D[0]||(D[0]=O=>f.showRuler=!f.showRuler)},ye((f.showRuler?"隐藏":"显示")+"规尺"),1),K("button",{class:"mr10 font16",onClick:D[1]||(D[1]=O=>f.isShowReferLine=!f.isShowReferLine)},ye((f.isShowReferLine?"隐藏":"显示")+"参考线"),1),K("button",{class:"mr10 font16",onClick:D[2]||(D[2]=O=>i.value=!0)},"锁定参考线"),K("button",{class:"mr10 font16",onClick:w},"模拟阴影切换"),K("button",{class:"mr10 font16",onClick:l},"主题切换"),K("button",{class:"mr10 font16",onClick:Ft(s,["stop"])},"还原"),K("button",{class:"mr10 font16",onClick:Ft(a,["stop"])},"缩小"),D[5]||(D[5]=K("span",null,"禁止缩放",-1)),K("input",{type:"checkbox",class:"switch",onChange:y},null,32),D[6]||(D[6]=K("span",null,"禁止移动",-1)),K("input",{type:"checkbox",class:"switch mr10",onChange:x},null,32),D[7]||(D[7]=K("span",null,"框内移动",-1)),K("input",{type:"checkbox",class:"switch mr10",onChange:_},null,32),K("input",{class:"mr10 font16",value:u.scale,onInput:h,type:"range",min:"0.3",max:"3",step:"0.1",defaultValue:"1"},null,40,kg),D[8]||(D[8]=K("div",{class:"mr10"}," 吸附横线: ",-1)),K("input",{class:"mr10",style:{width:"90px"},value:f.snapsObj.h,onBlur:b},null,40,Ig),D[9]||(D[9]=K("div",{class:"mr10"}," 吸附纵线: ",-1)),K("input",{class:"mr10",style:{width:"90px"},value:f.snapsObj.v,onBlur:S},null,40,Ag),D[10]||(D[10]=K("a",{href:"https://github.com/kakajun/vue3-sketch-ruler",target:"_blank",rel:"noopener noreferrer"},[K("i",{class:"fas fa-external-link-alt"}),fi(" git源码 ")],-1))]),K("div",{class:Pe(["wrapper",[u.isBlack?"balckwrapper":"whitewrapper"]]),style:Nt(d.value)},[(wt(),cr(kt(vi),$r({ref_key:"sketchruleRef",ref:r,key:e.value,scale:u.scale,"onUpdate:scale":D[3]||(D[3]=O=>u.scale=O),lockLine:i.value,"onUpdate:lockLine":D[4]||(D[4]=O=>i.value=O)},f,{onOnCornerClick:g,onZoomchange:m}),{default:Fe(()=>[K("div",{"data-type":"page",onMousedown:C,style:Nt(p.value)},[K("img",{class:"img-style",src:kt(Hs),alt:""},null,8,Bg)],36)]),btn:Fe(({reset:O,zoomIn:P,zoomOut:T})=>[K("div",zg,[K("button",{onClick:Ft(O,["stop"])},"还原",8,Gg),K("button",{onClick:Ft(P,["stop"])},"放大",8,Fg),K("button",{onClick:Ft(T,["stop"])},"缩小",8,Ng)])]),_:1},16,["scale","lockLine"]))],6)]))}}),Lg={class:"demo"},Wg={class:"top font16"},$g={class:"scale mr10"},Hg=["value"],Yg=["value"],Xg=["value"],Vg=["src"],jg={class:"btns"},Ug=["onClick"],qg=["onClick"],Kg=["onClick"],Zg=ke({__name:"user-rulerts2",setup(t){const e=mt(1470),r=mt(800),n=mt(1e3),i=mt(500),a=mt(0);mt(1);const o=mt(),s=mt(!0),l=re({maxScale:3,minScale:.3,disablePan:!1,disableZoom:!1,contain:"none",handleStartEvent:z=>{z.preventDefault(),console.log("handleStartEvent",z)}}),u=mt(!1),c=mt({h:[0,100,200],v:[130]}),f=()=>{o.value&&o.value.zoomOut()};qe(()=>{window.addEventListener("resize",v)});const d=()=>{s.value=!s.value},v=()=>{o.value&&o.value.initPanzoom()},p=()=>{o.value&&o.value.reset()},h=()=>{g.isBlack=!g.isBlack,a.value++},g=re({scale:1,isBlack:!1,lines:{h:[0,250],v:[0,500]},thick:20,shadow:{x:0,y:0,width:300,height:300},isShowRuler:!0,isShowReferLine:!0}),m=xt(()=>({width:`${e.value}px`,height:`${r.value}px`})),b=xt(()=>g.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),S=xt(()=>Number(g.scale).toFixed(1)),y=xt(()=>({width:`${n.value}px`,height:`${i.value}px`})),x=z=>{g.scale=z.target.value*1,o.value&&o.value.panzoomInstance.zoom(g.scale)},_=z=>{console.log("handleCornerClick",z)},w=z=>{console.log("zoomchange",z)},C=()=>{g.isShowReferLine=!g.isShowReferLine,console.log(g.isShowReferLine,"state.isShowReferLine")},E=z=>{const W=z.target.value.split(",");c.value.h=W.map(I=>Number(I))},D=z=>{const W=z.target.value.split(",");c.value.v=W.map(I=>Number(I))},O=z=>{l.disableZoom=z.target.checked},P=z=>{l.disablePan=z.target.checked},T=z=>{l.contain=z.target.checked?"inside":"none"},N=()=>{g.shadow.x=Math.random()*n.value,g.shadow.y=Math.random()*i.value};return(z,W)=>(wt(),zt("div",Lg,[K("div",Wg,[K("div",$g," 缩放比:"+ye(S.value),1),s.value?(wt(),zt("button",{key:0,class:"mr10 font16",onClick:W[0]||(W[0]=I=>s.value=!1)},"隐藏规尺")):(wt(),zt("button",{key:1,class:"mr10 font16",onClick:d},"显示规尺")),K("button",{class:"mr10 font16",onClick:C},"辅助线开关"),K("button",{class:"mr10 font16",onClick:W[1]||(W[1]=I=>u.value=!0)},"锁定参考线"),K("button",{class:"mr10 font16",onClick:N},"模拟阴影切换"),K("button",{class:"mr10 font16",onClick:h},"主题切换"),K("button",{class:"mr10 font16",onClick:Ft(p,["stop"])},"还原"),K("button",{class:"mr10 font16",onClick:Ft(f,["stop"])},"缩小"),W[4]||(W[4]=K("span",null,"禁止缩放",-1)),K("input",{type:"checkbox",class:"switch",onChange:O},null,32),W[5]||(W[5]=K("span",null,"禁止移动",-1)),K("input",{type:"checkbox",class:"switch mr10",onChange:P},null,32),W[6]||(W[6]=K("span",null,"框内移动",-1)),K("input",{type:"checkbox",class:"switch mr10",onChange:T},null,32),K("input",{class:"mr10 font16",value:g.scale,onInput:x,type:"range",min:"0.3",max:"3",step:"0.1",defaultValue:"1"},null,40,Hg),W[7]||(W[7]=K("div",{class:"mr10"}," 吸附横线: ",-1)),K("input",{class:"mr10",style:{width:"90px"},value:c.value.h,onBlur:E},null,40,Yg),W[8]||(W[8]=K("div",{class:"mr10"}," 吸附纵线: ",-1)),K("input",{class:"mr10",style:{width:"90px"},value:c.value.v,onBlur:D},null,40,Xg),W[9]||(W[9]=K("a",{href:"https://github.com/kakajun/vue3-sketch-ruler",target:"_blank",rel:"noopener noreferrer"},[K("i",{class:"fas fa-external-link-alt"}),fi(" git源码 ")],-1))]),K("div",{class:Pe(["wrapper",[g.isBlack?"balckwrapper":"whitewrapper"]]),style:Nt(m.value)},[(wt(),cr(kt(vi),{key:a.value,scale:g.scale,"onUpdate:scale":W[2]||(W[2]=I=>g.scale=I),lockLine:u.value,"onUpdate:lockLine":W[3]||(W[3]=I=>u.value=I),thick:g.thick,width:e.value,showRuler:s.value,height:r.value,palette:b.value,snapsObj:c.value,shadow:g.shadow,canvasWidth:n.value,canvasHeight:i.value,panzoomOption:l,ref_key:"sketchruleRef",ref:o,isShowReferLine:g.isShowReferLine,onOnCornerClick:_,onZoomchange:w,lines:g.lines},{default:Fe(()=>[K("div",{"data-type":"page",style:Nt(y.value)},[K("img",{class:"img-style",src:kt(Hs),alt:""},null,8,Vg)],4)]),btn:Fe(({reset:I,zoomIn:L,zoomOut:B})=>[K("div",jg,[K("button",{onClick:Ft(I,["stop"])},"还原",8,Ug),K("button",{onClick:Ft(L,["stop"])},"放大",8,qg),K("button",{onClick:Ft(B,["stop"])},"缩小",8,Kg)])]),_:1},8,["scale","lockLine","thick","width","showRuler","height","palette","snapsObj","shadow","canvasWidth","canvasHeight","panzoomOption","isShowReferLine","lines"]))],6)]))}}),Jg={class:"demo"},Qg={class:"top font16"},t0={class:"scale mr10"},e0=["value"],r0=["value"],n0=["value"],i0=["src"],a0={class:"btns"},o0=["onClick"],s0=["onClick"],l0=["onClick"],u0=ke({__name:"user-rulerts3",setup(t){const e=mt(0),r=mt(),n=re({maxScale:3,minScale:.3,disablePan:!1,disableZoom:!1,contain:"none",handleStartEvent:C=>{C.preventDefault(),console.log("handleStartEvent",C)}}),i=mt(!1),a=()=>{r.value&&r.value.zoomOut()};qe(()=>{window.addEventListener("resize",o);const C=r.value.panzoomInstance,E=document.getElementsByClassName("canvasedit-parent");if(E[0]){const D=E[0];D&&D.addEventListener("wheel",function(O){(O.ctrlKey||O.metaKey)&&C.zoomWithWheel(O)}),document.addEventListener("pointerdown",function(O){O.button===1&&(r.value.cursorClass="grabCursor",C.bind(),C.handleDown(O),O.preventDefault())}),document.addEventListener("pointerup",function(O){O.button===1&&(C.destroy(),console.log("放开了"),r.value.cursorClass="defaultCursor")})}});const o=()=>{r.value&&r.value.initPanzoom()},s=()=>{r.value&&r.value.reset()},l=()=>{u.isBlack=!u.isBlack,e.value++},u=re({scale:1,isBlack:!1}),c=xt(()=>u.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),f=re({thick:20,width:1470,height:800,canvasWidth:1e3,canvasHeight:500,showRuler:!0,palette:c.value,snapsObj:{h:[0,100,200],v:[130]},shadow:{x:0,y:0,width:300,height:300},panzoomOption:n,isShowReferLine:!0,lines:{h:[0,250],v:[0,500]}}),d=xt(()=>({width:`${f.width}px`,height:`${f.height}px`})),v=xt(()=>Number(u.scale).toFixed(1)),p=xt(()=>({width:`${f.canvasWidth}px`,height:`${f.canvasHeight}px`})),h=C=>{u.scale=C.target.value*1,r.value&&r.value.panzoomInstance.zoom(u.scale)},g=C=>{console.log("handleCornerClick",C)},m=C=>{},b=C=>{const E=C.target.value.split(",");f.snapsObj.h=E.map(D=>Number(D))},S=C=>{const E=C.target.value.split(",");f.snapsObj.v=E.map(D=>Number(D))},y=C=>{n.disableZoom=C.target.checked},x=C=>{n.disablePan=C.target.checked},_=C=>{n.contain=C.target.checked?"inside":"none"},w=()=>{f.shadow.x=Math.random()*f.canvasWidth,f.shadow.y=Math.random()*f.canvasHeight};return(C,E)=>(wt(),zt("div",Jg,[K("div",Qg,[E[5]||(E[5]=K("div",{class:"mr10"},"鼠标中键移动画布 ",-1)),K("div",t0," 缩放比:"+ye(v.value),1),K("button",{class:"mr10 font16",onClick:E[0]||(E[0]=D=>f.showRuler=!f.showRuler)},ye((f.showRuler?"隐藏":"显示")+"规尺"),1),K("button",{class:"mr10 font16",onClick:E[1]||(E[1]=D=>f.isShowReferLine=!f.isShowReferLine)},ye((f.isShowReferLine?"隐藏":"显示")+"参考线"),1),K("button",{class:"mr10 font16",onClick:E[2]||(E[2]=D=>i.value=!0)},"锁定参考线"),K("button",{class:"mr10 font16",onClick:w},"模拟阴影切换"),K("button",{class:"mr10 font16",onClick:l},"主题切换"),K("button",{class:"mr10 font16",onClick:Ft(s,["stop"])},"还原"),K("button",{class:"mr10 font16",onClick:Ft(a,["stop"])},"缩小"),E[6]||(E[6]=K("span",null,"禁止缩放",-1)),K("input",{type:"checkbox",class:"switch",onChange:y},null,32),E[7]||(E[7]=K("span",null,"禁止移动",-1)),K("input",{type:"checkbox",class:"switch mr10",onChange:x},null,32),E[8]||(E[8]=K("span",null,"框内移动",-1)),K("input",{type:"checkbox",class:"switch mr10",onChange:_},null,32),K("input",{class:"mr10 font16",value:u.scale,onInput:h,type:"range",min:"0.3",max:"3",step:"0.1",defaultValue:"1"},null,40,e0),E[9]||(E[9]=K("div",{class:"mr10"}," 吸附横线: ",-1)),K("input",{class:"mr10",style:{width:"90px"},value:f.snapsObj.h,onBlur:b},null,40,r0),E[10]||(E[10]=K("div",{class:"mr10"}," 吸附纵线: ",-1)),K("input",{class:"mr10",style:{width:"90px"},value:f.snapsObj.v,onBlur:S},null,40,n0),E[11]||(E[11]=K("a",{href:"https://github.com/kakajun/vue3-sketch-ruler",target:"_blank",rel:"noopener noreferrer"},[K("i",{class:"fas fa-external-link-alt"}),fi(" git源码 ")],-1))]),K("div",{class:Pe(["wrapper",[u.isBlack?"balckwrapper":"whitewrapper"]]),style:Nt(d.value)},[(wt(),cr(kt(vi),$r({ref_key:"sketchruleRef",ref:r,key:e.value,scale:u.scale,"onUpdate:scale":E[3]||(E[3]=D=>u.scale=D),lockLine:i.value,"onUpdate:lockLine":E[4]||(E[4]=D=>i.value=D)},f,{selfHandle:!0,onOnCornerClick:g,onZoomchange:m}),{default:Fe(()=>[K("div",{"data-type":"page",style:Nt(p.value)},[K("img",{class:"img-style",src:kt(Hs),alt:""},null,8,i0)],4)]),btn:Fe(({reset:D,zoomIn:O,zoomOut:P})=>[K("div",a0,[K("button",{onClick:Ft(D,["stop"])},"还原",8,o0),K("button",{onClick:Ft(O,["stop"])},"放大",8,s0),K("button",{onClick:Ft(P,["stop"])},"缩小",8,l0)])]),_:1},16,["scale","lockLine"]))],6)]))}});function c0(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.map(function(n){return n.split(" ").map(function(i){return i?""+t+i:""}).join(" ")}).join(" ")}function f0(t,e){return e.replace(/([^}{]*){/gm,function(r,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"})}function lr(t,e){return function(r){r&&(t[e]=r)}}function Df(t,e,r){return function(n){n&&(t[e][r]=n)}}function Xo(t,e){return function(r){var n=r.prototype;t.forEach(function(i){e(n,i)})}}function d0(t,e){return e===void 0&&(e={}),function(r,n){t.forEach(function(i){var a=e[i]||i;a in r||(r[a]=function(){for(var o,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u=(o=this[n])[i].apply(o,s);return u===this[n]?this:u})})}}var v0="function",p0="object",h0="string",g0="number",Xs="undefined",Mf=typeof window!==Xs,m0=typeof document!==Xs&&document,b0=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Zt=1e-7,zi={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,e){return t*e/100},vw:function(t,e){return e===void 0&&(e=window.innerWidth),t/100*e},vh:function(t,e){return e===void 0&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return e===void 0&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return e===void 0&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function y0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function ca(t,e,r,n){return(t*n+e*r)/(r+n)}function Tn(t){return typeof t===Xs}function Te(t){return t&&typeof t===p0}function Ht(t){return Array.isArray(t)}function ae(t){return typeof t===h0}function _n(t){return typeof t===g0}function Na(t){return typeof t===v0}function S0(t,e){var r=t===""||t==" ",n=e===""||e==" ";return n&&r||t===e}function Of(t,e,r,n,i){var a=Vs(t,e,r);return a?r:_0(t,e,r+1,n,i)}function Vs(t,e,r){if(!t.ignore)return null;var n=e.slice(Math.max(r-3,0),r+3).join("");return new RegExp(t.ignore).exec(n)}function _0(t,e,r,n,i){for(var a=function(u){var c=e[u].trim();if(c===t.close&&!Vs(t,e,u))return{value:u};var f=u,d=xe(i,function(v){var p=v.open;return p===c});if(d&&(f=Of(d,e,u,n,i)),f===-1)return o=u,"break";u=f,o=u},o,s=r;s<n;++s){var l=a(s);if(s=o,typeof l=="object")return l.value;if(l==="break")break}return-1}function js(t,e){var r=ae(e)?{separator:e}:e,n=r.separator,i=n===void 0?",":n,a=r.isSeparateFirst,o=r.isSeparateOnlyOpenClose,s=r.isSeparateOpenClose,l=s===void 0?o:s,u=r.openCloseCharacters,c=u===void 0?b0:u,f=c.map(function(w){var C=w.open,E=w.close;return C===E?C:C+"|"+E}).join("|"),d="(\\s*"+i+"\\s*|"+f+"|\\s+)",v=new RegExp(d,"g"),p=t.split(v).filter(function(w){return w&&w!=="undefined"}),h=p.length,g=[],m=[];function b(){return m.length?(g.push(m.join("")),m=[],!0):!1}for(var S=function(w){var C=p[w].trim(),E=w,D=xe(c,function(T){var N=T.open;return N===C}),O=xe(c,function(T){var N=T.close;return N===C});if(D){if(E=Of(D,p,w,h,c),E!==-1&&l)return b()&&a||(g.push(p.slice(w,E+1).join("")),w=E,a)?(y=w,"break"):(y=w,"continue")}else if(O&&!Vs(O,p,w)){var P=y0(c);return P.splice(c.indexOf(O),1),{value:js(t,{separator:i,isSeparateFirst:a,isSeparateOnlyOpenClose:o,isSeparateOpenClose:l,openCloseCharacters:P})}}else if(S0(C,i)&&!o)return b(),a?(y=w,"break"):(y=w,"continue");E===-1&&(E=h-1),m.push(p.slice(w,E+1).join("")),w=E,y=w},y,x=0;x<h;++x){var _=S(x);if(x=y,typeof _=="object")return _.value;if(_==="break")break}return m.length&&g.push(m.join("")),g}function xr(t){return js(t,"")}function Nr(t){return js(t,",")}function Tf(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function Hr(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var r=e[1],n=e[2],i=e[3];return{prefix:r,unit:i,value:parseFloat(n)}}function Vo(t){return t.replace(/[\s-_]+([^\s-_])/g,function(e,r){return r.toUpperCase()})}function ea(t,e){return t.replace(/([a-z])([A-Z])/g,function(r,n,i){return""+n+e+i.toLowerCase()})}function ai(){return Date.now?Date.now():new Date().getTime()}function fr(t,e,r){r===void 0&&(r=-1);for(var n=t.length,i=0;i<n;++i)if(e(t[i],i,t))return i;return r}function xe(t,e,r){var n=fr(t,e);return n>-1?t[n]:r}var Rf=function(){var t=ai(),e=Mf&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(r){var n=ai(),i=setTimeout(function(){r(n-t)},1e3/60);return i}}(),C0=function(){var t=Mf&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(e){clearTimeout(e)}}();function dr(t){return Object.keys(t)}function x0(t){var e=dr(t);return e.map(function(r){return t[r]})}function Rt(t,e){var r=Hr(t),n=r.value,i=r.unit;if(Te(e)){var a=e[i];if(a){if(Na(a))return a(n);if(zi[i])return zi[i](n,a)}}else if(i==="%")return n*e/100;return zi[i]?zi[i](n):n}function fa(t,e,r){return Math.max(e,Math.min(t,r))}function hu(t,e,r,n){return n===void 0&&(n=t[0]/t[1]),[[bt(e[0],Zt),bt(e[0]/n,Zt)],[bt(e[1]*n,Zt),bt(e[1],Zt)]].filter(function(i){return i.every(function(a,o){var s=e[o],l=bt(s,Zt);return r?a<=s||a<=l:a>=s||a>=l})})[0]||t}function Us(t,e,r,n){if(!n)return t.map(function(v,p){return fa(v,e[p],r[p])});var i=t[0],a=t[1],o=n===!0?i/a:n,s=hu(t,e,!1,o),l=s[0],u=s[1],c=hu(t,r,!0,o),f=c[0],d=c[1];return i<l||a<u?(i=l,a=u):(i>f||a>d)&&(i=f,a=d),[i,a]}function w0(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return r}function jo(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return e?r/e:0}function jt(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function E0(t){return[0,1].map(function(e){return jo(t.map(function(r){return r[e]}))})}function gu(t){var e=E0(t),r=jt(e,t[0]),n=jt(e,t[1]);return r<n&&n-r<Math.PI||r>n&&n-r<-Math.PI?1:-1}function tr(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function bt(t,e){if(!e)return t;var r=1/e;return Math.round(t/e)/r}function mu(t,e){return t.forEach(function(r,n){t[n]=bt(t[n],e)}),t}function D0(t){for(var e=[],r=0;r<t;++r)e.push(r);return e}function Pf(t){return t.reduce(function(e,r){return e.concat(r)},[])}function kf(t,e){t.indexOf(e)===-1&&t.push(e)}function Jt(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function qs(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function If(t,e){if(t.classList)t.classList.remove(e);else{var r=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(r," ")}}function Yt(t,e,r,n){t.addEventListener(e,r,n)}function Lt(t,e,r,n){t.removeEventListener(e,r,n)}function Ce(t){return(t==null?void 0:t.ownerDocument)||m0}function Ks(t){return Ce(t).documentElement}function Rr(t){return Ce(t).body}function Be(t){var e;return((e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||window}function Af(t){return t&&"postMessage"in t&&"blur"in t&&"self"in t}function wr(t){return Te(t)&&t.nodeName&&t.nodeType&&"ownerDocument"in t}var M0=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(r){return this.values[this.keys.indexOf(r)]},e.set=function(r,n){var i=this.keys,a=this.values,o=i.indexOf(r),s=o===-1?i.length:o;i[s]=r,a[s]=n},t}(),O0=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(r){return this.object[r]},e.set=function(r,n){this.object[r]=n},t}(),T0=typeof Map=="function",R0=function(){function t(){}var e=t.prototype;return e.connect=function(r,n){this.prev=r,this.next=n,r&&(r.next=this),n&&(n.prev=this)},e.disconnect=function(){var r=this.prev,n=this.next;r&&(r.next=n),n&&(n.prev=r)},e.getIndex=function(){for(var r=this,n=-1;r;)r=r.prev,++n;return n},t}();function P0(t,e){var r=[],n=[];return t.forEach(function(i){var a=i[0],o=i[1],s=new R0;r[a]=s,n[o]=s}),r.forEach(function(i,a){i.connect(r[a-1])}),t.filter(function(i,a){return!e[a]}).map(function(i,a){var o=i[0],s=i[1];if(o===s)return[0,0];var l=r[o],u=n[s-1],c=l.getIndex();l.disconnect(),u?l.connect(u,u.next):l.connect(void 0,r[0]);var f=l.getIndex();return[c,f]})}var k0=function(){function t(r,n,i,a,o,s,l,u){this.prevList=r,this.list=n,this.added=i,this.removed=a,this.changed=o,this.maintained=s,this.changedBeforeAdded=l,this.fixed=u}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var r=P0(this.changedBeforeAdded,this.fixed),n=this.changed,i=[];this.cacheOrdered=r.filter(function(a,o){var s=a[0],l=a[1],u=n[o],c=u[0],f=u[1];if(s!==l)return i.push([c,f]),!0}),this.cachePureChanged=i},t}();function pi(t,e,r){var n=T0?Map:r?O0:M0,i=r||function(b){return b},a=[],o=[],s=[],l=t.map(i),u=e.map(i),c=new n,f=new n,d=[],v=[],p={},h=[],g=0,m=0;return l.forEach(function(b,S){c.set(b,S)}),u.forEach(function(b,S){f.set(b,S)}),l.forEach(function(b,S){var y=f.get(b);typeof y>"u"?(++m,o.push(S)):p[y]=m}),u.forEach(function(b,S){var y=c.get(b);typeof y>"u"?(a.push(S),++g):(s.push([y,S]),m=p[S]||0,d.push([y-m,S-g]),v.push(S===y),y!==S&&h.push([y,S]))}),o.reverse(),new k0(t,e,a,o,h,s,d,v)}var I0=function(){function t(r,n){r===void 0&&(r=[]),this.findKeyCallback=n,this.list=[].slice.call(r)}var e=t.prototype;return e.update=function(r){var n=[].slice.call(r),i=pi(this.list,n,this.findKeyCallback);return this.list=n,i},t}(),Uo=function(t,e){return Uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Uo(t,e)};function hi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Uo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Je=function(){return Je=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Je.apply(this,arguments)};function Bf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function bu(t,e,r){for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function yu(t){var e=0;return t.map(function(r){return r==null?"$compat".concat(++e):"".concat(r)})}function zf(t){var e=[];return t.forEach(function(r){e=e.concat(Ht(r)?zf(r):r)}),e}function po(t,e){if(!e)return t;for(var r in e)Tn(t[r])&&(t[r]=e[r]);return t}function da(t,e){if(t===e)return!1;for(var r in t)if(!(r in e))return!0;for(var r in e)if(t[r]!==e[r])return!0;return!1}function Su(t){var e=t.className,r=Bf(t,["className"]);return e!=null&&(r.class=e),delete r.style,delete r.children,r}function _u(t){var e={},r={};for(var n in t)n.indexOf("on")===0?r[n]=t[n]:e[n]=t[n];return[e,r]}function La(t){if(!t)return null;var e=t.b;return wr(e)?e:La(t.c)}function Gf(t){var e=t.parentNode;e&&e.removeChild(t)}function Ff(t){t.forEach(function(e){e()})}function A0(){return this.constructor(this.props,this.context)}var Zs=0,Wa=function(){function t(r,n,i,a,o,s,l){l===void 0&&(l={}),this.t=r,this.d=n,this.k=i,this.i=a,this.c=o,this.ref=s,this.ps=l,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var e=t.prototype;return e.s=function(){return!0},e.u=function(r,n,i,a,o){var s=this,l=s.d,u=x0(n).filter(function(p){return p.$_req}),c=zf(u.map(function(p){return p.$_subs})),f=xe(c,function(p){return p.d===l});if(s.b&&!ae(i)&&!o&&!s.s(i.props,a)&&!f){var d=c.reduce(function(p,h){var g=h.d;return p[0]?p[0].d===g&&p.push(h):g>l&&p.push(h),p},[]);return d.forEach(function(p){gi(p,p._ps,[p.o],r,n,!0)}),!1}s.o=i,s.ss(a);var v=s.ps;return ae(i)||(s.ps=i.props,s.ref=i.ref),Js(this),s.r(r,n,s.b?v:{},a),!0},e.md=function(){this.rr()},e.ss=function(){},e.ud=function(){this.rr()},e.rr=function(){var r=this,n=r.ref,i=r.fr;n&&n(i?i.current:r.b)},t}();function Nf(){return Object.__CROACT_CURRENT_INSTNACE__}function B0(){return Zs}function z0(t){Zs=t}function Js(t){return Object.__CROACT_CURRENT_INSTNACE__=t,Zs=0,t}var Qs=function(){function t(r,n){r===void 0&&(r={}),this.props=r,this.context=n,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var e=t.prototype;return e.render=function(){return null},e.shouldComponentUpdate=function(r,n){return this.props!==r||this.state!==n},e.setState=function(r,n,i){var a=this;a.$_timer||(a.$_state={}),clearTimeout(a.$_timer),a.$_timer=0,a.$_state=Je(Je({},a.$_state),r),i?a.$_setState(n,i):a.$_timer=window.setTimeout(function(){a.$_timer=0,a.$_setState(n,i)})},e.forceUpdate=function(r){this.setState({},r,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(r,n){},e.componentWillUnmount=function(){},e.$_setState=function(r,n){var i=[],a=this.$_p,o=gi(a.c,[a],[a.o],i,a._cs,Je(Je({},this.state),this.$_state),n);o&&(r&&i.push(r),Ff(i),Js(null))},t}(),Lf=function(t){hi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var r=e.prototype;return r.shouldComponentUpdate=function(n,i){return da(this.props,n)||da(this.state,i)},e}(Qs);function Wf(t){var e=function(r){e.current=r};return e.current=t,e}function G0(t){return t._fr=!0,t}function F0(t,e,r,n){var i,a;return!((i=t==null?void 0:t.prototype)===null||i===void 0)&&i.render?a=new t(e,r):(a=new Qs(e,r),a.constructor=t,t._fr?(n.fr=Wf(),a.render=function(){return this.constructor(this.props,n.fr)}):a.render=A0),a.$_p=n,a}var N0=function(t){hi(e,t);function e(n,i,a,o,s,l,u){u===void 0&&(u={});var c=t.call(this,n,i,a,o,s,l,po(u,n.defaultProps))||this;return c.typ="comp",c._usefs=[],c._uefs=[],c._defs=[],c}var r=e.prototype;return r.s=function(n,i){var a=this.b;return a.shouldComponentUpdate(po(n,this.t.defaultProps),i||a.state)!==!1},r.r=function(n,i,a){var o,s,l=this,u=l.t;l.ps=po(l.ps,l.t.defaultProps);var c=l.ps,f=!l.b,d=u.contextType,v=l.b,p=d==null?void 0:d.get(l);l._cs=i,f?(v=F0(u,c,p,l),l.b=v):(v.props=c,v.context=p);var h=v.state;l._usefs=[],l._uefs=[];var g=v.render();((s=(o=g==null?void 0:g.props)===null||o===void 0?void 0:o.children)===null||s===void 0?void 0:s.length)===0&&(g.props.children=l.ps.children);var m=Je(Je({},i),v.$_cs);gi(l,l._ps,g?[g]:[],n,m),f?l._uefs.push(function(){d==null||d.register(l),v.componentDidMount()}):l._uefs.push(function(){v.componentDidUpdate(a,h)}),n.push(function(){l._usefs.forEach(function(b){b()}),f?l.md():l.ud(),l._defs=l._uefs.map(function(b){return b()})})},r.ss=function(n){var i=this.b;!i||!n||(i.state=n)},r.un=function(){var n,i=this;i._ps.forEach(function(o){o.un()});var a=i.t;(n=a.contextType)===null||n===void 0||n.unregister(i),clearTimeout(i.b.$_timer),i._defs.forEach(function(o){o&&o()}),i.b.componentWillUnmount()},e}(Wa);function L0(t,e,r){var n=tl(Su(t),Su(e)),i=n.added,a=n.removed,o=n.changed;for(var s in i)r.setAttribute(s,i[s]);for(var l in o)r.setAttribute(l,o[l][1]);for(var u in a)r.removeAttribute(u)}function W0(t,e,r){var n=tl(t,e),i=n.added,a=n.removed;for(var o in a)r.e(o,!0);for(var s in i)r.e(s)}function tl(t,e){var r=dr(t),n=dr(e),i=pi(r,n,function(l){return l}),a={},o={},s={};return i.added.forEach(function(l){var u=n[l];a[u]=e[u]}),i.removed.forEach(function(l){var u=r[l];o[u]=t[u]}),i.maintained.forEach(function(l){var u=l[0],c=r[u],f=[t[c],e[c]];t[c]!==e[c]&&(s[c]=f)}),{added:a,removed:o,changed:s}}function $0(t,e,r){var n=r.style,i=tl(t,e),a=i.added,o=i.removed,s=i.changed;for(var l in a){var u=ea(l,"-");n.setProperty(u,a[l])}for(var l in s){var c=ea(l,"-");n.setProperty(c,s[l][1])}for(var l in o){var f=ea(l,"-");n.removeProperty(f)}}function H0(t){return t.replace(/^on/g,"").toLowerCase()}var Y0=function(t){hi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.typ="elem",n._es={},n._svg=!1,n}var r=e.prototype;return r.e=function(n,i){var a=this,o=a._es,s=a.b,l=H0(n);i?(Lt(s,l,o[n]),delete o[n]):(o[n]=function(u){var c,f;(f=(c=a.ps)[n])===null||f===void 0||f.call(c,u)},Yt(s,l,o[n]))},r.s=function(n){return da(this.ps,n)},r.r=function(n,i,a){var o,s=this,l=!s.b,u=s.ps;if(l){var c=La(s.c),f=!1;s._svg||s.t==="svg"?f=!0:f=c&&c.ownerSVGElement,s._svg=f;var d=(o=s._hyd)===null||o===void 0?void 0:o.splice(0,1)[0],v=s.t;if(d)s._hyd=[].slice.call(d.children||[]);else{var p=Ce(c);f?d=p.createElementNS("http://www.w3.org/2000/svg",v):d=p.createElement(v)}s.b=d}gi(s,s._ps,u.children,n,i);var h=s.b,g=_u(a),m=g[0],b=g[1],S=_u(u),y=S[0],x=S[1];return L0(m,y,h),W0(b,x,s),$0(a.style||{},u.style||{},h),n.push(function(){l?s.md():s.ud()}),!0},r.un=function(){var n=this,i=n._es,a=n.b;for(var o in i)Lt(a,o,i[o]);n._ps.forEach(function(s){s.un()}),n._es={},n._sel||Gf(a)},e}(Wa);function oi(t){if(!t||wr(t))return t;var e=t.$_p._ps;return e.length?oi(e[0].b):null}function $f(t){if(t){if(t.b&&wr(t.b))return t;var e=t._ps;return e.length?$f(e[0]):null}}function Ye(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=e||{},a=i.key,o=i.ref,s=Bf(i,["key","ref"]);return{type:t,key:a,ref:o,props:Je(Je({},s),{children:Pf(r).filter(function(l){return l!=null&&l!==!1})})}}var Hf=function(t){hi(e,t);function e(n,i){i===void 0&&(i=0);var a=t.call(this,"container",i,"container",0,null)||this;return a.typ="container",a.b=n,a}var r=e.prototype;return r.r=function(){return!0},r.un=function(){},e}(Wa),X0=function(t){hi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.typ="text",n}var r=e.prototype;return r.r=function(n){var i,a=this,o=!a.b;if(o){var s=La(a.c),l=(i=a._hyd)===null||i===void 0?void 0:i.splice(0,1)[0];a.b=l||Ce(s).createTextNode(a.t.replace("text_",""))}return n.push(function(){o?a.md():a.ud()}),!0},r.un=function(){Gf(this.b)},e}(Wa);function V0(t,e,r){var n=r.map(function(l){return ae(l)?null:l.key}),i=yu(e.map(function(l){return l.k})),a=yu(n),o=pi(i,a,function(l){return l});o.removed.forEach(function(l){e.splice(l,1)[0].un()}),o.ordered.forEach(function(l){var u=l[0],c=l[1],f=e.splice(u,1)[0];e.splice(c,0,f);var d=oi(f.b),v=oi(e[c+1]&&e[c+1].b);d&&d.parentNode.insertBefore(d,v)}),o.added.forEach(function(l){e.splice(l,0,Cu(r[l],n[l],l,t))});var s=o.maintained.filter(function(l){l[0];var u=l[1],c=r[u],f=e[u],d=ae(c)?"text_".concat(c):c.type;return d!==f.t?(f.un(),e.splice(u,1,Cu(c,n[u],u,t)),!0):(f.i=u,!1)});return bu(bu([],o.added,!0),s.map(function(l){l[0];var u=l[1];return u}))}function j0(t,e){for(var r=t._ps,n=r.length,i=e.i+1;i<n;++i){var a=oi(r[i].b);if(a)return a}return null}function Cu(t,e,r,n){var i=n.d+1;if(ae(t)||_n(t))return new X0("text_".concat(t),i,e,r,n,null,{});var a=t.type,o=typeof a=="string"?Y0:N0;return new o(a,i,e,r,n,t.ref,t.props)}function gi(t,e,r,n,i,a,o){var s=V0(t,e,r),l=t._hyd,u=e.filter(function(f,d){return f._hyd=l,f.u(n,i,r[d],a,o)});t.typ==="container"&&t._sel&&e.forEach(function(f){var d=$f(f);d&&(d._sel=!0)}),t._hyd=null;var c=La(t);return c&&s.reverse().forEach(function(f){var d=e[f],v=oi(d.b);if(v&&c!==v&&!v.parentNode){var p=j0(t,d);c.insertBefore(v,p)}}),u.length>0}function U0(t,e,r,n){r===void 0&&(r=e.__CROACT__),n===void 0&&(n={});var i=!!r;r||(r=new Hf(e));var a=[];return gi(r,r._ps,t?[t]:[],a,n,void 0,void 0),Ff(a),Js(null),i||(e.__CROACT__=r),r}function xu(t,e,r){return!r&&t&&(r=new Hf(e.parentElement),r._hyd=[e],r._sel=!0),U0(t,e,r),r}function Yf(t){var e=Nf(),r=e._hs||(e._hs=[]),n=B0(),i=r[n];if(z0(n+1),i){if(!da(i.deps,t.deps))return i.updated=!1,i;r[n]=t}else r.push(t);return t.value=t.func(),t.updated=!0,t}function q0(t,e){var r=Yf({func:t,deps:e});return r.value}function K0(t){return q0(function(){return Wf(t)},[])}function Xf(t,e,r){var n=Nf(),i=Yf({func:function(){return t},deps:e}),a=r?n._usefs:n._uefs;i.updated?a.push(function(){return i.effect&&i.effect(),i.effect=t(),i.effect}):a.push(function(){return i.effect})}function Z0(t,e,r){Xf(function(){t==null||t(e())},r,!0)}function el(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return!0;return!1}function Vf(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return t[n];return null}function jf(t){var e=t;if(typeof e>"u"){if(typeof navigator>"u"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function rl(t,e){try{return new RegExp(t,"g").exec(e)}catch{return null}}function J0(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!!(e&&e.length)}function Q0(t,e){var r=rl("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return r?r[3]:""}function qo(t){return t.replace(/_/g,".")}function Fn(t,e){var r=null,n="-1";return el(t,function(i){var a=rl("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!a||i.brand?!1:(r=i,n=a[3]||"-1",i.versionAlias?n=i.versionAlias:i.versionTest&&(n=Q0(i.versionTest.toLowerCase(),e)||n),n=qo(n),!0)}),{preset:r,version:n}}function Gi(t,e){var r={brand:"",version:"-1"};return el(t,function(n){var i=Uf(e,n);return i?(r.brand=n.id,r.version=n.versionAlias||i.version,r.version!=="-1"):!1}),r}function Uf(t,e){return Vf(t,function(r){var n=r.brand;return rl(""+e.test,n.toLowerCase())})}var qf=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],Kf=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],Ko=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],Zf=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Jf=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Qf(t){return!!Fn(Zf,t).preset}function tm(t){var e=jf(t),r=!!/mobi/g.exec(e),n={name:"unknown",version:"-1",majorVersion:-1,webview:Qf(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},a=Fn(qf,e),o=a.preset,s=a.version,l=Fn(Jf,e),u=l.preset,c=l.version,f=Fn(Kf,e);if(n.chromium=!!f.preset,n.chromiumVersion=f.version,!n.chromium){var d=Fn(Ko,e);n.webkit=!!d.preset,n.webkitVersion=d.version}return u&&(i.name=u.id,i.version=c,i.majorVersion=parseInt(c,10)),o&&(n.name=o.id,n.version=s,n.webview&&i.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:i,isMobile:r,isHints:!1}}function em(t){var e=navigator.userAgentData,r=(e.uaList||e.brands).slice(),n=e.mobile||!1,i=r[0],a=(e.platform||navigator.platform).toLowerCase(),o={name:i.brand,version:i.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Gi(Zf,r).brand||Qf(jf())},s={name:"unknown",version:"-1",majorVersion:-1};o.webkit=!o.chromium&&el(Ko,function(d){return Uf(r,d)});var l=Gi(Kf,r);if(o.chromium=!!l.brand,o.chromiumVersion=l.version||"-1",!o.chromium){var u=Gi(Ko,r);o.webkit=!!u.brand,o.webkitVersion=u.version||"-1"}var c=Vf(Jf,function(d){return new RegExp(""+d.test,"g").exec(a)});s.name=c?c.id:"";{var f=Gi(qf,r);o.name=f.brand||o.name,o.version=f.brand&&t?t.uaFullVersion:f.version}return o.webkit&&(s.name=n?"ios":"mac"),s.name==="ios"&&o.webview&&(o.version="-1"),s.version=qo(s.version),o.version=qo(o.version),s.majorVersion=parseInt(s.version,10),o.majorVersion=parseInt(o.version,10),{browser:o,os:s,isMobile:n,isHints:!0}}function rm(t){return J0()?em():tm(t)}function nm(t,e,r,n,i,a){for(var o=0;o<i;++o){var s=r+o*i,l=n+o*i;t[s]+=t[l]*a,e[s]+=e[l]*a}}function im(t,e,r,n,i){for(var a=0;a<i;++a){var o=r+a*i,s=n+a*i,l=t[o],u=e[o];t[o]=t[s],t[s]=l,e[o]=e[s],e[s]=u}}function am(t,e,r,n,i){for(var a=0;a<n;++a){var o=r+a*n;t[o]/=i,e[o]/=i}}function td(t,e,r){for(var n=t.slice(),i=0;i<r;++i)n[i*r+e-1]=0,n[(e-1)*r+i]=0;return n[(e-1)*(r+1)]=1,n}function je(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=t.slice(),n=Gt(e),i=0;i<e;++i){var a=e*i+i;if(!bt(r[a],Zt)){for(var o=i+1;o<e;++o)if(r[e*i+o]){im(r,n,i,o,e);break}}if(!bt(r[a],Zt))return[];am(r,n,i,e,r[a]);for(var o=0;o<e;++o){var s=o,l=o+i*e,u=r[l];!bt(u,Zt)||i===o||nm(r,n,s,i,e,-u)}}return n}function om(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=0;n<e;++n)for(var i=0;i<e;++i)r[i*e+n]=t[e*n+i];return r}function ed(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=t[e*e-1],i=0;i<e-1;++i)r[i]=t[e*(e-1)+i]/n;return r[e-1]=0,r}function sm(t,e){for(var r=Gt(e),n=0;n<e-1;++n)r[e*(e-1)+n]=t[n]||0;return r}function Yr(t,e){for(var r=t.slice(),n=t.length;n<e-1;++n)r[n]=0;return r[e-1]=1,r}function Ue(t,e,r){if(e===void 0&&(e=Math.sqrt(t.length)),e===r)return t;for(var n=Gt(r),i=Math.min(e,r),a=0;a<i-1;++a){for(var o=0;o<i-1;++o)n[a*r+o]=t[a*e+o];n[(a+1)*r-1]=t[(a+1)*e-1],n[(r-1)*r+a]=t[(e-1)*e+a]}return n[r*r-1]=t[e*e-1],n}function va(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Gt(t);return e.forEach(function(i){n=Pt(n,i,t)}),n}function Pt(t,e,r){r===void 0&&(r=Math.sqrt(t.length));var n=[],i=t.length/r,a=e.length/i;if(i){if(!a)return t}else return e;for(var o=0;o<r;++o)for(var s=0;s<a;++s){n[s*r+o]=0;for(var l=0;l<i;++l)n[s*r+o]+=t[l*r+o]*e[s*i+l]}return n}function Et(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]+e[i];return n}function vt(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]-e[i];return n}function lm(t,e){return e===void 0&&(e=t.length===6),e?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t}function rd(t,e){return e===void 0&&(e=t.length===9),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function ue(t,e,r){r===void 0&&(r=e.length);var n=Pt(t,e,r),i=n[r-1];return n.map(function(a){return a/i})}function um(t,e){return Pt(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function cm(t,e){return Pt(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function fm(t,e){return Pt(t,bi(e,4))}function Fi(t,e){var r=e[0],n=r===void 0?1:r,i=e[1],a=i===void 0?1:i,o=e[2],s=o===void 0?1:o;return Pt(t,[n,0,0,0,0,a,0,0,0,0,s,0,0,0,0,1],4)}function mi(t,e){return ue(bi(e,3),Yr(t,3))}function ho(t,e){var r=e[0],n=r===void 0?0:r,i=e[1],a=i===void 0?0:i,o=e[2],s=o===void 0?0:o;return Pt(t,[1,0,0,0,0,1,0,0,0,0,1,0,n,a,s,1],4)}function Zo(t,e){return Pt(t,e,4)}function bi(t,e){var r=Math.cos(t),n=Math.sin(t),i=Gt(e);return i[0]=r,i[1]=n,i[e]=-n,i[e+1]=r,i}function Gt(t){for(var e=t*t,r=[],n=0;n<e;++n)r[n]=n%(t+1)?0:1;return r}function nl(t,e){for(var r=Gt(e),n=Math.min(t.length,e-1),i=0;i<n;++i)r[(e+1)*i]=t[i];return r}function Xr(t,e){for(var r=Gt(e),n=Math.min(t.length,e-1),i=0;i<n;++i)r[e*(e-1)+i]=t[i];return r}function il(t,e,r,n,i,a,o,s){var l=t[0],u=t[1],c=e[0],f=e[1],d=r[0],v=r[1],p=n[0],h=n[1],g=i[0],m=i[1],b=a[0],S=a[1],y=o[0],x=o[1],_=s[0],w=s[1],C=[l,0,c,0,d,0,p,0,u,0,f,0,v,0,h,0,1,0,1,0,1,0,1,0,0,l,0,c,0,d,0,p,0,u,0,f,0,v,0,h,0,1,0,1,0,1,0,1,-g*l,-m*l,-b*c,-S*c,-y*d,-x*d,-_*p,-w*p,-g*u,-m*u,-b*f,-S*f,-y*v,-x*v,-_*h,-w*h],E=je(C,8);if(!E.length)return[];var D=Pt(E,[g,m,b,S,y,x,_,w],8);return D[8]=1,Ue(om(D),3,4)}var Xn=function(){return Xn=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xn.apply(this,arguments)};function al(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Cn(t,e){return e===void 0&&(e=0),rn(xn(t,e))}function ra(t,e){var r=ue(t,[e[0],e[1]||0,e[2]||0,1],4),n=r[3]||1;return[r[0]/n,r[1]/n,r[2]/n]}function dm(t,e){e===void 0&&(e=document.body);for(var r=t,n=al();r;){var i=getComputedStyle(r).transform;if(n=Zo(Cn(i),n),r===e)break;r=r.parentElement}return n=je(n,4),n[12]=0,n[13]=0,n[14]=0,n}function rn(t){var e=al();return t.forEach(function(r){var n=r.matrixFunction,i=r.functionValue;n&&(e=n(e,i))}),e}function xn(t,e){e===void 0&&(e=0);var r=Ht(t)?t:xr(t);return r.map(function(n){var i=Tf(n),a=i.prefix,o=i.value,s=null,l=a,u="";if(a==="translate"||a==="translateX"||a==="translate3d"){var c=Te(e)?Xn(Xn({},e),{"o%":e["%"]}):{"%":e,"o%":e},f=Nr(o).map(function(T,N){return N===0&&"x%"in c?c["%"]=e["x%"]:N===1&&"y%"in c?c["%"]=e["y%"]:c["%"]=e["o%"],Rt(T,c)}),d=f[0],v=f[1],p=v===void 0?0:v,h=f[2],g=h===void 0?0:h;s=ho,u=[d,p,g]}else if(a==="translateY"){var m=Te(e)?Xn({"%":e["y%"]},e):{"%":e},p=Rt(o,m);s=ho,u=[0,p,0]}else if(a==="translateZ"){var g=parseFloat(o);s=ho,u=[0,0,g]}else if(a==="scale"||a==="scale3d"){var b=Nr(o).map(function(T){return parseFloat(T)}),S=b[0],y=b[1],x=y===void 0?S:y,_=b[2],w=_===void 0?1:_;s=Fi,u=[S,x,w]}else if(a==="scaleX"){var S=parseFloat(o);s=Fi,u=[S,1,1]}else if(a==="scaleY"){var x=parseFloat(o);s=Fi,u=[1,x,1]}else if(a==="scaleZ"){var w=parseFloat(o);s=Fi,u=[1,1,w]}else if(a==="rotate"||a==="rotateZ"||a==="rotateX"||a==="rotateY"){var C=Hr(o),E=C.unit,D=C.value,O=E==="rad"?D:D*Math.PI/180;a==="rotate"||a==="rotateZ"?(l="rotateZ",s=fm):a==="rotateX"?s=um:a==="rotateY"&&(s=cm),u=O}else if(a==="matrix3d")s=Zo,u=Nr(o).map(function(T){return parseFloat(T)});else if(a==="matrix"){var P=Nr(o).map(function(T){return parseFloat(T)});s=Zo,u=[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}else l="";return{name:a,functionName:l,value:o,matrixFunction:s,functionValue:u}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Jo=function(t,e){return Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Jo(t,e)};function vm(t,e){Jo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nd=typeof Map=="function"?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}(),id=function(t){vm(e,t);function e(r){return r===void 0&&(r=[]),t.call(this,r,nd)||this}return e}(I0);function an(t,e){return pi(t,e,nd)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qo=function(){return Qo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qo.apply(this,arguments)};function pm(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}var Rn=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(r,n){if(Te(r))for(var i in r)this.on(i,r[i]);else this._addEvent(r,n,{});return this},e.off=function(r,n){if(!r)this._events={};else if(Te(r))for(var i in r)this.off(i);else if(!n)this._events[r]=[];else{var a=this._events[r];if(a){var o=fr(a,function(s){return s.listener===n});o>-1&&a.splice(o,1)}}return this},e.once=function(r,n){var i=this;return n&&this._addEvent(r,n,{once:!0}),new Promise(function(a){i._addEvent(r,a,{once:!0})})},e.emit=function(r,n){var i=this;n===void 0&&(n={});var a=this._events[r];if(!r||!a)return!0;var o=!1;return n.eventType=r,n.stop=function(){o=!0},n.currentTarget=this,pm(a).forEach(function(s){s.listener(n),s.once&&i.off(r,s.listener)}),!o},e.trigger=function(r,n){return n===void 0&&(n={}),this.emit(r,n)},e._addEvent=function(r,n,i){var a=this._events;a[r]=a[r]||[];var o=a[r];o.push(Qo({listener:n},i))},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ts=function(t,e){return ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ts(t,e)};function hm(t,e){ts(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var on=function(){return on=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},on.apply(this,arguments)};function gm(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}function wu(t,e){return t.addEventListener("scroll",e),function(){t.removeEventListener("scroll",e)}}function Ni(t){if(t){if(ae(t))return document.querySelector(t)}else return null;if(Na(t))return t();if(t instanceof Element)return t;if("current"in t)return t.current;if("value"in t)return t.value}var ad=function(t){hm(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n._currentOptions=null,n._lock=!1,n._unregister=null,n._onScroll=function(){var i=n._currentOptions;n._lock||!i||n.emit("scrollDrag",{next:function(a){n.checkScroll({container:i.container,inputEvent:a})}})},n}var r=e.prototype;return r.dragStart=function(n,i){var a=Ni(i.container);if(!a){this._flag=!1;return}var o=0,s=0,l=0,u=0;if(a===document.body)l=window.innerWidth,u=window.innerHeight;else{var c=a.getBoundingClientRect();o=c.top,s=c.left,l=c.width,u=c.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:o,left:s,width:l,height:u},this._prevScrollPos=this._getScrollPosition([0,0],i),this._currentOptions=i,this._registerScrollEvent(i)},r.drag=function(n,i){if(clearTimeout(this._timer),!!this._flag){var a=n.clientX,o=n.clientY,s=i.threshold,l=s===void 0?0:s,u=this,c=u._startRect,f=u._startPos;this._currentOptions=i;var d=[0,0];return c.top>o-l?(f[1]>c.top||o<f[1])&&(d[1]=-1):c.top+c.height<o+l&&(f[1]<c.top+c.height||o>f[1])&&(d[1]=1),c.left>a-l?(f[0]>c.left||a<f[0])&&(d[0]=-1):c.left+c.width<a+l&&(f[0]<c.left+c.width||a>f[0])&&(d[0]=1),!d[0]&&!d[1]?!1:this._continueDrag(on(on({},i),{direction:d,inputEvent:n,isDrag:!0}))}},r.checkScroll=function(n){var i=this;if(this._isWait)return!1;var a=n.prevScrollPos,o=a===void 0?this._prevScrollPos:a,s=n.direction,l=n.throttleTime,u=l===void 0?0:l,c=n.inputEvent,f=n.isDrag,d=this._getScrollPosition(s||[0,0],n),v=d[0]-o[0],p=d[1]-o[1],h=s||[v?Math.abs(v)/v:0,p?Math.abs(p)/p:0];return this._prevScrollPos=d,this._lock=!1,!v&&!p?!1:(this.emit("move",{offsetX:h[0]?v:0,offsetY:h[1]?p:0,inputEvent:c}),u&&f&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},u)),!0)},r.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},r._getScrollPosition=function(n,i){var a=i.container,o=i.getScrollPosition,s=o===void 0?gm:o;return s({container:Ni(a),direction:n})},r._continueDrag=function(n){var i=this,a,o=n.container,s=n.direction,l=n.throttleTime,u=n.useScroll,c=n.isDrag,f=n.inputEvent;if(!(!this._flag||c&&this._isWait)){var d=ai(),v=Math.max(l+this._prevTime-d,0);if(v>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},v),!1;this._prevTime=d;var p=this._getScrollPosition(s,n);this._prevScrollPos=p,c&&(this._isWait=!0),u||(this._lock=!0);var h={container:Ni(o),direction:s,inputEvent:f};return(a=n.requestScroll)===null||a===void 0||a.call(n,h),this.emit("scroll",h),this._isWait=!1,u||this.checkScroll(on(on({},n),{prevScrollPos:p,direction:s,inputEvent:f}))}},r._registerScrollEvent=function(n){this._unregisterScrollEvent();var i=n.checkScrollEvent;if(i){var a=i===!0?wu:i,o=Ni(n.container);i===!0&&(o===document.body||o===document.documentElement)?this._unregister=wu(window,this._onScroll):this._unregister=a(o,this._onScroll)}},r._unregisterScrollEvent=function(){var n;(n=this._unregister)===null||n===void 0||n.call(this),this._unregister=null},e}(Rn);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function mm(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function _e(t){return bt(t,Zt)}function bm(t,e){return t.every(function(r,n){return _e(r-e[n])===0})}function ym(t,e){return!_e(t[0]-e[0])&&!_e(t[1]-e[1])}function Vn(t){return t.length<3?0:Math.abs(w0(t.map(function(e,r){var n=t[r+1]||t[0];return e[0]*n[1]-n[0]*e[1]})))/2}function es(t,e){var r=e.width,n=e.height,i=e.left,a=e.top,o=Vr(t),s=o.minX,l=o.minY,u=o.maxX,c=o.maxY,f=r/(u-s),d=n/(c-l);return t.map(function(v){return[i+(v[0]-s)*f,a+(v[1]-l)*d]})}function Vr(t){var e=t.map(function(n){return n[0]}),r=t.map(function(n){return n[1]});return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,r),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,r)}}function pa(t,e,r){var n=t[0],i=t[1],a=Vr(e),o=a.minX,s=a.maxX,l=[[o,i],[s,i]],u=ha(l[0],l[1]),c=rs(e),f=[];if(c.forEach(function(p){var h=ha(p[0],p[1]),g=p[0];if(bm(u,h))f.push({pos:t,line:p,type:"line"});else{var m=od(ol(u,h),[l,p]);m.forEach(function(b){p.some(function(S){return ym(S,b)})?f.push({pos:b,line:p,type:"point"}):_e(g[1]-i)!==0&&f.push({pos:b,line:p,type:"intersection"})})}}),xe(f,function(p){return p[0]===n}))return!0;var d=0,v={};return f.forEach(function(p){var h=p.pos,g=p.type,m=p.line;if(!(h[0]>n))if(g==="intersection")++d;else{if(g==="line")return;if(g==="point"){var b=xe(m,function(x){return x[1]!==i}),S=v[h[0]],y=b[1]>i?1:-1;S?S!==y&&++d:v[h[0]]=y}}}),d%2===1}function ha(t,e){var r=t[0],n=t[1],i=e[0],a=e[1],o=i-r,s=a-n;Math.abs(o)<Zt&&(o=0),Math.abs(s)<Zt&&(s=0);var l=0,u=0,c=0;return o?s?(l=-s/o,u=1,c=-l*r-n):(u=1,c=-n):s&&(l=-1,c=r),[l,u,c]}function ol(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],o=e[1],s=e[2],l=r===0&&a===0,u=n===0&&o===0,c=[];if(l&&u)return[];if(l){var f=-i/n,d=-s/o;return f!==d?[]:[[-1/0,f],[1/0,f]]}else if(u){var v=-i/r,p=-s/a;return v!==p?[]:[[v,-1/0],[v,1/0]]}else if(r===0){var h=-i/n,g=-(o*h+s)/a;c=[[g,h]]}else if(a===0){var h=-s/o,g=-(n*h+i)/r;c=[[g,h]]}else if(n===0){var g=-i/r,h=-(a*g+s)/o;c=[[g,h]]}else if(o===0){var g=-s/a,h=-(r*g+i)/n;c=[[g,h]]}else{var g=(n*s-o*i)/(o*r-n*a),h=-(r*g+i)/n;c=[[g,h]]}return c.map(function(m){return[m[0],m[1]]})}function od(t,e){var r=e.map(function(f){return[0,1].map(function(d){return[Math.min(f[0][d],f[1][d]),Math.max(f[0][d],f[1][d])]})}),n=[];if(t.length===2){var i=t[0],a=i[0],o=i[1];if(_e(a-t[1][0])){if(!_e(o-t[1][1])){var u=Math.max.apply(Math,r.map(function(f){return f[0][0]})),c=Math.min.apply(Math,r.map(function(f){return f[0][1]}));if(_e(u-c)>0)return[];n=[[u,o],[c,o]]}}else{var s=Math.max.apply(Math,r.map(function(f){return f[1][0]})),l=Math.min.apply(Math,r.map(function(f){return f[1][1]}));if(_e(s-l)>0)return[];n=[[a,s],[a,l]]}}return n.length||(n=t.filter(function(f){var d=f[0],v=f[1];return r.every(function(p){return 0<=_e(d-p[0][0])&&0<=_e(p[0][1]-d)&&0<=_e(v-p[1][0])&&0<=_e(p[1][1]-v)})})),n.map(function(f){return[_e(f[0]),_e(f[1])]})}function rs(t){return mm(t.slice(1),[t[0]]).map(function(e,r){return[t[r],e]})}function Sm(t,e){var r=t.slice(),n=e.slice();gu(r)===-1&&r.reverse(),gu(n)===-1&&n.reverse();var i=rs(r),a=rs(n),o=i.map(function(c){return ha(c[0],c[1])}),s=a.map(function(c){return ha(c[0],c[1])}),l=[];o.forEach(function(c,f){var d=i[f],v=[];s.forEach(function(p,h){var g=ol(c,p),m=od(g,[d,a[h]]);v.push.apply(v,m.map(function(b){return{index1:f,index2:h,pos:b,type:"intersection"}}))}),v.sort(function(p,h){return tr(d[0],p.pos)-tr(d[0],h.pos)}),l.push.apply(l,v),pa(d[1],n)&&l.push({index1:f,index2:-1,pos:d[1],type:"inside"})}),a.forEach(function(c,f){if(pa(c[1],r)){var d=!1,v=fr(l,function(p){var h=p.index2;return h===f?(d=!0,!1):!!d});v===-1&&(d=!1,v=fr(l,function(p){var h=p.index1,g=p.index2;return h===-1&&g+1===f?(d=!0,!1):!!d})),v===-1?l.push({index1:-1,index2:f,pos:c[1],type:"inside"}):l.splice(v,0,{index1:-1,index2:f,pos:c[1],type:"inside"})}});var u={};return l.filter(function(c){var f=c.pos,d=f[0]+"x"+f[1];return u[d]?!1:(u[d]=!0,!0)})}function ns(t,e){var r=Sm(t,e);return r.map(function(n){var i=n.pos;return i})}function _m(t,e){var r=ns(t,e);return Vn(r)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var is=function(t,e){return is=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},is(t,e)};function Cm(t,e){is(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qt=function(){return qt=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qt.apply(this,arguments)};function xm(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function go(t){return xm([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function wm(t){return t.touches&&t.touches.length>=2}function Li(t){return t?t.touches?Dm(t.touches):[sd(t)]:[]}function Em(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}function Eu(t,e,r){var n=r.length,i=jn(t,n),a=i.clientX,o=i.clientY,s=i.originalClientX,l=i.originalClientY,u=jn(e,n),c=u.clientX,f=u.clientY,d=jn(r,n),v=d.clientX,p=d.clientY,h=a-c,g=o-f,m=a-v,b=o-p;return{clientX:s,clientY:l,deltaX:h,deltaY:g,distX:m,distY:b}}function mo(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Dm(t){for(var e=Math.min(t.length,2),r=[],n=0;n<e;++n)r.push(sd(t[n]));return r}function sd(t){return{clientX:t.clientX,clientY:t.clientY}}function jn(t,e){e===void 0&&(e=t.length);for(var r={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=Math.min(t.length,e),i=0;i<n;++i){var a=t[i];r.originalClientX+="originalClientX"in a?a.originalClientX:a.clientX,r.originalClientY+="originalClientY"in a?a.originalClientY:a.clientY,r.clientX+=a.clientX,r.clientY+=a.clientY}return e?{clientX:r.clientX/e,clientY:r.clientY/e,originalClientX:r.originalClientX/e,originalClientY:r.originalClientY/e}:r}var bo=function(){function t(e){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=e,this.prevClients=e,this.length=e.length}return t.prototype.getAngle=function(e){return e===void 0&&(e=this.prevClients),go(e)},t.prototype.getRotation=function(e){return e===void 0&&(e=this.prevClients),go(e)-go(this.startClients)},t.prototype.getPosition=function(e,r){e===void 0&&(e=this.prevClients);var n=Eu(e||this.prevClients,this.prevClients,this.startClients),i=n.deltaX,a=n.deltaY;return this.movement+=Math.sqrt(i*i+a*a),this.prevClients=e,n},t.prototype.getPositions=function(e){e===void 0&&(e=this.prevClients);for(var r=this.prevClients,n=this.startClients,i=Math.min(this.length,r.length),a=[],o=0;o<i;++o)a[o]=Eu([e[o]],[r[o]],[n[o]]);return a},t.prototype.getMovement=function(e){var r=this.movement;if(!e)return r;var n=jn(e,this.length),i=jn(this.prevClients,this.length),a=n.clientX-i.clientX,o=n.clientY-i.clientY;return Math.sqrt(a*a+o*o)+r},t.prototype.getDistance=function(e){return e===void 0&&(e=this.prevClients),mo(e)},t.prototype.getScale=function(e){return e===void 0&&(e=this.prevClients),mo(e)/mo(this.startClients)},t.prototype.move=function(e,r){this.startClients.forEach(function(n){n.clientX-=e,n.clientY-=r}),this.prevClients.forEach(function(n){n.clientX-=e,n.clientY-=r})},t}(),Du=["textarea","input"],ld=function(t){Cm(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.data={},i.isDrag=!1,i.isPinch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._useMouse=!1,i._useTouch=!1,i._useDrag=!1,i._dragFlag=!1,i._isTrusted=!1,i._isMouseEvent=!1,i._isSecondaryButton=!1,i._preventMouseEvent=!1,i._prevInputEvent=null,i._isDragAPI=!1,i._isIdle=!0,i._preventMouseEventId=0,i._window=window,i.onDragStart=function(d,v){if(v===void 0&&(v=!0),!(!i.flag&&d.cancelable===!1)){var p=d.type.indexOf("drag")>=-1;if(!(i.flag&&p)){i._isDragAPI=!0;var h=i.options,g=h.container,m=h.pinchOutside,b=h.preventWheelClick,S=h.preventRightClick,y=h.preventDefault,x=h.checkInput,_=h.dragFocusedInput,w=h.preventClickEventOnDragStart,C=h.preventClickEventOnDrag,E=h.preventClickEventByCondition,D=i._useTouch,O=!i.flag;if(i._isSecondaryButton=d.which===3||d.button===2,b&&(d.which===2||d.button===1)||S&&(d.which===3||d.button===2))return i.stop(),!1;if(O){var P=i._window.document.activeElement,T=d.target;if(T){var N=T.tagName.toLowerCase(),z=Du.indexOf(N)>-1,W=T.isContentEditable;if(z||W){if(x||!_&&P===T)return!1;if(P&&(P===T||W&&P.isContentEditable&&P.contains(T)))if(_)T.blur();else return!1}else if((y||d.type==="touchstart")&&P){var I=P.tagName.toLowerCase();(P.isContentEditable||Du.indexOf(I)>-1)&&P.blur()}(w||C||E)&&Yt(i._window,"click",i._onClick,!0)}i.clientStores=[new bo(Li(d))],i._isIdle=!1,i.flag=!0,i.isDrag=!1,i._isTrusted=v,i._dragFlag=!0,i._prevInputEvent=d,i.data={},i.doubleFlag=ai()-i.prevTime<200,i._isMouseEvent=Em(d),!i._isMouseEvent&&i._preventMouseEvent&&i._allowMouseEvent();var L=i._preventMouseEvent||i.emit("dragStart",qt(qt({data:i.data,datas:i.data,inputEvent:d,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,isTrusted:v,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){d.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));L===!1&&i.stop(),i._isMouseEvent&&i.flag&&y&&d.preventDefault()}if(!i.flag)return!1;var B=0;if(O?(i._attchDragEvent(),D&&m&&(B=setTimeout(function(){Yt(g,"touchstart",i.onDragStart,{passive:!1})}))):D&&m&&Lt(g,"touchstart",i.onDragStart),i.flag&&wm(d)){if(clearTimeout(B),O&&d.touches.length!==d.changedTouches.length)return;i.pinchFlag||i.onPinchStart(d)}}}},i.onDrag=function(d,v){if(i.flag){var p=i.options.preventDefault;!i._isMouseEvent&&p&&d.preventDefault(),i._prevInputEvent=d;var h=Li(d),g=i.moveClients(h,d,!1);if(i._dragFlag){if(i.pinchFlag||g.deltaX||g.deltaY){var m=i._preventMouseEvent||i.emit("drag",qt(qt({},g),{isScroll:!!v,inputEvent:d}));if(m===!1){i.stop();return}}i.pinchFlag&&i.onPinch(d,h)}i.getCurrentStore().getPosition(h,!0)}},i.onDragEnd=function(d){if(i.flag){var v=i.options,p=v.pinchOutside,h=v.container,g=v.preventClickEventOnDrag,m=v.preventClickEventOnDragStart,b=v.preventClickEventByCondition,S=i.isDrag;(g||m||b)&&requestAnimationFrame(function(){i._allowClickEvent()}),!b&&!m&&g&&!S&&i._allowClickEvent(),i._useTouch&&p&&Lt(h,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(d);var y=d!=null&&d.touches?Li(d):[],x=y.length;x===0||!i.options.keepDragging?i.flag=!1:i._addStore(new bo(y));var _=i._getPosition(),w=ai(),C=!S&&i.doubleFlag;i._prevInputEvent=null,i.prevTime=S||C?0:w,i.flag||(i._dettachDragEvent(),i._preventMouseEvent||i.emit("dragEnd",qt({data:i.data,datas:i.data,isDouble:C,isDrag:S,isClick:!S,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,inputEvent:d,isTrusted:i._isTrusted},_)),i.clientStores=[],i._isMouseEvent||(i._preventMouseEvent=!0,clearTimeout(i._preventMouseEventId),i._preventMouseEventId=setTimeout(function(){i._preventMouseEvent=!1},200)),i._isIdle=!0)}},i.onBlur=function(){i.onDragEnd()},i._allowClickEvent=function(){Lt(i._window,"click",i._onClick,!0)},i._onClick=function(d){i._allowClickEvent(),i._allowMouseEvent();var v=i.options.preventClickEventByCondition;v!=null&&v(d)||(d.stopPropagation(),d.preventDefault())},i._onContextMenu=function(d){var v=i.options;v.preventRightClick?i.onDragEnd(d):d.preventDefault()},i._passCallback=function(){};var a=[].concat(r),o=a[0];i._window=Af(o)?o:Be(o),i.options=qt({checkInput:!1,container:o&&!("document"in o)?Be(o):o,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var s=i.options,l=s.container,u=s.events,c=s.checkWindowBlur;if(i._useDrag=u.indexOf("drag")>-1,i._useTouch=u.indexOf("touch")>-1,i._useMouse=u.indexOf("mouse")>-1,i.targets=a,i._useDrag&&a.forEach(function(d){Yt(d,"dragstart",i.onDragStart)}),i._useMouse&&(a.forEach(function(d){Yt(d,"mousedown",i.onDragStart),Yt(d,"mousemove",i._passCallback)}),Yt(l,"contextmenu",i._onContextMenu)),c&&Yt(Be(),"blur",i.onBlur),i._useTouch){var f={passive:!1};a.forEach(function(d){Yt(d,"touchstart",i.onDragStart,f),Yt(d,"touchmove",i._passCallback,f)})}return i}return e.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},e.prototype.getMovement=function(r){return this.getCurrentStore().getMovement(r)+this.clientStores.slice(1).reduce(function(n,i){return n+i.movement},0)},e.prototype.isDragging=function(){return this.isDrag},e.prototype.isIdle=function(){return this._isIdle},e.prototype.isFlag=function(){return this.flag},e.prototype.isPinchFlag=function(){return this.pinchFlag},e.prototype.isDoubleFlag=function(){return this.doubleFlag},e.prototype.isPinching=function(){return this.isPinch},e.prototype.scrollBy=function(r,n,i,a){a===void 0&&(a=!0),this.flag&&(this.clientStores[0].move(r,n),a&&this.onDrag(i,!0))},e.prototype.move=function(r,n){var i=r[0],a=r[1],o=this.getCurrentStore(),s=o.prevClients;return this.moveClients(s.map(function(l){var u=l.clientX,c=l.clientY;return{clientX:u+i,clientY:c+a,originalClientX:u,originalClientY:c}}),n,!0)},e.prototype.triggerDragStart=function(r){this.onDragStart(r,!1)},e.prototype.setEventData=function(r){var n=this.data;for(var i in r)n[i]=r[i];return this},e.prototype.setEventDatas=function(r){return this.setEventData(r)},e.prototype.getCurrentEvent=function(r){return r===void 0&&(r=this._prevInputEvent),qt(qt({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:r})},e.prototype.getEventData=function(){return this.data},e.prototype.getEventDatas=function(){return this.data},e.prototype.unset=function(){var r=this,n=this.targets,i=this.options.container;this.off(),Lt(this._window,"blur",this.onBlur),this._useDrag&&n.forEach(function(a){Lt(a,"dragstart",r.onDragStart)}),this._useMouse&&(n.forEach(function(a){Lt(a,"mousedown",r.onDragStart)}),Lt(i,"contextmenu",this._onContextMenu)),this._useTouch&&(n.forEach(function(a){Lt(a,"touchstart",r.onDragStart)}),Lt(i,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},e.prototype.onPinchStart=function(r){var n=this,i=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>i)){var a=new bo(Li(r));this.pinchFlag=!0,this._addStore(a);var o=this.emit("pinchStart",qt(qt({data:this.data,datas:this.data,angle:a.getAngle(),touches:this.getCurrentStore().getPositions()},a.getPosition()),{inputEvent:r,isTrusted:this._isTrusted,preventDefault:function(){r.preventDefault()},preventDrag:function(){n._dragFlag=!1}}));o===!1&&(this.pinchFlag=!1)}},e.prototype.onPinch=function(r,n){if(!(!this.flag||!this.pinchFlag||n.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",qt(qt({data:this.data,datas:this.data,movement:this.getMovement(n),angle:i.getAngle(n),rotation:i.getRotation(n),touches:i.getPositions(n),scale:i.getScale(n),distance:i.getDistance(n)},i.getPosition(n)),{inputEvent:r,isTrusted:this._isTrusted}))}},e.prototype.onPinchEnd=function(r){if(this.pinchFlag){var n=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",qt(qt({data:this.data,datas:this.data,isPinch:n,touches:i.getPositions()},i.getPosition()),{inputEvent:r}))}},e.prototype.getCurrentStore=function(){return this.clientStores[0]},e.prototype.moveClients=function(r,n,i){var a=this._getPosition(r,i),o=this.isDrag;(a.deltaX||a.deltaY)&&(this.isDrag=!0);var s=!1;return!o&&this.isDrag&&(s=!0),qt(qt({data:this.data,datas:this.data},a),{movement:this.getMovement(r),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:n,isTrusted:this._isTrusted,isFirstDrag:s})},e.prototype._addStore=function(r){this.clientStores.splice(0,0,r)},e.prototype._getPosition=function(r,n){var i=this.getCurrentStore(),a=i.getPosition(r,n),o=this.clientStores.slice(1).reduce(function(u,c){var f=c.getPosition();return u.distX+=f.distX,u.distY+=f.distY,u},a),s=o.distX,l=o.distY;return qt(qt({},a),{distX:s,distY:l})},e.prototype._attchDragEvent=function(){var r=this._window,n=this.options.container,i={passive:!1};this._isDragAPI&&(Yt(n,"dragover",this.onDrag,i),Yt(r,"dragend",this.onDragEnd)),this._useMouse&&(Yt(n,"mousemove",this.onDrag),Yt(r,"mouseup",this.onDragEnd)),this._useTouch&&(Yt(n,"touchmove",this.onDrag,i),Yt(r,"touchend",this.onDragEnd,i),Yt(r,"touchcancel",this.onDragEnd,i))},e.prototype._dettachDragEvent=function(){var r=this._window,n=this.options.container;this._isDragAPI&&(Lt(n,"dragover",this.onDrag),Lt(r,"dragend",this.onDragEnd)),this._useMouse&&(Lt(n,"mousemove",this.onDrag),Lt(r,"mouseup",this.onDragEnd)),this._useTouch&&(Lt(n,"touchstart",this.onDragStart),Lt(n,"touchmove",this.onDrag),Lt(r,"touchend",this.onDragEnd),Lt(r,"touchcancel",this.onDragEnd))},e.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},e}(Rn);function Mm(t){for(var e=5381,r=t.length;r;)e=e*33^t.charCodeAt(--r);return e>>>0}var Om=Mm;function Tm(t){return Om(t).toString(36)}function Rm(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function Pm(t,e,r){return r.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,i){var a=i.trim();return(a?Nr(a):[""]).map(function(o){var s=o.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?"".concat(s.replace(/\:host/g,".".concat(t))):s?".".concat(t," ").concat(s):".".concat(t)}).join(", ")+" {"})}function km(t,e,r,n,i){var a=Ce(n),o=a.createElement("style");return o.setAttribute("type","text/css"),o.setAttribute("data-styled-id",t),o.setAttribute("data-styled-count","1"),r.nonce&&o.setAttribute("nonce",r.nonce),o.innerHTML=Pm(t,e,r),(i||a.head||a.body).appendChild(o),o}function ud(t){var e="rCS"+Tm(t);return{className:e,inject:function(r,n){n===void 0&&(n={});var i=Rm(r),a=(i||r.ownerDocument||document).querySelector('style[data-styled-id="'.concat(e,'"]'));if(!a)a=km(e,t,n,r,i);else{var o=parseFloat(a.getAttribute("data-styled-count"))||0;a.setAttribute("data-styled-count","".concat(o+1))}return{destroy:function(){var s,l=parseFloat(a.getAttribute("data-styled-count"))||0;l<=1?(a.remove?a.remove():(s=a.parentNode)===null||s===void 0||s.removeChild(a),a=null):a.setAttribute("data-styled-count","".concat(l-1))}}}}}var as=function(){return as=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},as.apply(this,arguments)};function Im(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function cd(t,e){var r=ud(e),n=r.className;return G0(function(i,a){var o=i.className,s=o===void 0?"":o;i.cspNonce;var l=Im(i,["className","cspNonce"]),u=K0();return Z0(a,function(){return u.current},[]),Xf(function(){var c=r.inject(u.current,{nonce:i.cspNonce});return function(){c.destroy()}},[]),Ye(t,as({ref:u,"data-styled-id":n,className:"".concat(s," ").concat(n)},l))})}var os=function(t,e){return os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},os(t,e)};function yi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");os(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var k=function(){return k=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},k.apply(this,arguments)};function Am(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Bm(t,e,r,n){var i=arguments.length,a=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function zm(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function A(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function it(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Si(t,e){return k({events:[],props:[],name:t},e)}var Gm=["n","w","s","e"],sl=["n","w","s","e","nw","ne","sw","se"];function Fm(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}function Nm(t){var e=Fm(1,t),r=Math.round(t/45)*45%180,n="ns-resize";return r===135?n="nwse-resize":r===45?n="nesw-resize":r===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(e,"') 16 16, ").concat(n,";")}var Pn=rm(),fd=Pn.browser.webkit,dd=fd&&function(){var t=typeof window>"u"?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return e?parseFloat(e[1])<605:!1}(),vd=Pn.browser.name,pd=parseInt(Pn.browser.version,10),Lm=vd==="chrome",Wm=Pn.browser.chromium,$m=parseInt(Pn.browser.chromiumVersion,10)||0,Hm=Lm&&pd>=109||Wm&&$m>=109,Ym=vd==="firefox",Xm=parseInt(Pn.browser.webkitVersion,10)>=612||pd>=15,ll="moveable-",Vm=sl.map(function(t){var e="",r="",n="center",i="center",a="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(e="top: ".concat(a,";"),i="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",i="top"),t.indexOf("w")>-1&&(r="left: ".concat(a,";"),n="right"),t.indexOf("e")>-1&&(r="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(t,`"] {
        `).concat(r).concat(e,`
        transform-origin: `).concat(n," ").concat(i,`;
    }`)}).join(`
`),jm=`
{
position: absolute;
width: 1px;
height: 1px;
left: 0;
top: 0;
z-index: 3000;
--moveable-color: #4af;
--zoom: 1;
--zoompx: 1px;
--moveable-line-padding: 0;
--moveable-control-padding: 0;
will-change: transform;
outline: 1px solid transparent;
}
.control-box {
z-index: 0;
}
.line, .control {
position: absolute;
left: 0;
top: 0;
will-change: transform;
}
.control {
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid #fff;
box-sizing: border-box;
background: #4af;
background: var(--moveable-color);
margin-top: -7px;
margin-left: -7px;
border: 2px solid #fff;
z-index: 10;
}
.around-control {
position: absolute;
will-change: transform;
width: calc(var(--moveable-control-padding, 20) * 1px);
height: calc(var(--moveable-control-padding, 20) * 1px);
left: calc(var(--moveable-control-padding, 20) * -0.5px);
top: calc(var(--moveable-control-padding, 20) * -0.5px);
box-sizing: border-box;
background: transparent;
z-index: 8;
cursor: alias;
transform-origin: center center;
}
`.concat(Vm,`
.padding {
position: absolute;
top: 0px;
left: 0px;
width: 100px;
height: 100px;
transform-origin: 0 0;
}
.line {
width: 1px;
height: 1px;
background: #4af;
background: var(--moveable-color);
transform-origin: 0px 50%;
}
.line.edge {
z-index: 1;
background: transparent;
}
.line.dashed {
box-sizing: border-box;
background: transparent;
}
.line.dashed.horizontal {
border-top: 1px dashed #4af;
border-top-color: #4af;
border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
border-left: 1px dashed #4af;
border-left-color: #4af;
border-left-color: var(--moveable-color);
}
.line.vertical {
transform: translateX(-50%);
}
.line.horizontal {
transform: translateY(-50%);
}
.line.vertical.bold {
width: 2px;
}
.line.horizontal.bold {
height: 2px;
}

.control.origin {
border-color: #f55;
background: #fff;
width: 12px;
height: 12px;
margin-top: -6px;
margin-left: -6px;
pointer-events: none;
}
`).concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return`
.direction[data-rotation="`.concat(t,'"], :global .view-control-rotation').concat(t,` {
`).concat(Nm(t),`
}
`)}).join(`
`),`

.line.direction:before {
content: "";
position: absolute;
width: 100%;
height: calc(var(--moveable-line-padding, 0) * 1px);
bottom: 0;
left: 0;
}
.group {
z-index: -1;
}
.area {
position: absolute;
}
.area-pieces {
position: absolute;
top: 0;
left: 0;
display: none;
}
.area.avoid, .area.pass {
pointer-events: none;
}
.area.avoid+.area-pieces {
display: block;
}
.area-piece {
position: absolute;
}

`).concat(dd?`:global svg *:before {
content:"";
transform-origin: inherit;
}`:"",`
`),Um=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],ss=1e-4,Se=1e-7,Wi=1e-9,ls=Math.pow(10,10),Mu=-ls,qm={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},ul={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},hd={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},gd=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function _i(t,e,r,n,i,a){var o,s;a===void 0&&(a="draggable");var l=(s=(o=e.gestos[a])===null||o===void 0?void 0:o.move(r,t.inputEvent))!==null&&s!==void 0?s:{},u=l.originalDatas||l.datas,c=u[a]||(u[a]={});return k(k({},l),{isPinch:!!n,parentEvent:!0,datas:c,originalDatas:t.originalDatas})}var wn=function(){function t(e){var r;e===void 0&&(e="draggable"),this.ableName=e,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(r={},r[e]={},r)}return t.prototype.dragStart=function(e,r){this.isDrag=!1,this.isFlag=!1;var n=r.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),k(k({},this.move(e,r.inputEvent)),{type:"dragstart"})},t.prototype.drag=function(e,r){return this.move([e[0]-this.prevX,e[1]-this.prevY],r)},t.prototype.move=function(e,r){var n,i,a=!1;if(!this.isFlag)this.prevX=e[0],this.prevY=e[1],this.startX=e[0],this.startY=e[1],n=e[0],i=e[1],this.isFlag=!0;else{var o=this.isDrag;n=this.prevX+e[0],i=this.prevY+e[1],(e[0]||e[1])&&(this.isDrag=!0),!o&&this.isDrag&&(a=!0)}return this.prevX=n,this.prevY=i,{type:"drag",clientX:n,clientY:i,inputEvent:r,isFirstDrag:a,isDrag:this.isDrag,distX:n-this.startX,distY:i-this.startY,deltaX:e[0],deltaY:e[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function yn(t,e,r,n){var i=t.length===16,a=i?4:3,o=Kr(t,r,n,a),s=A(o,4),l=A(s[0],2),u=l[0],c=l[1],f=A(s[1],2),d=f[0],v=f[1],p=A(s[2],2),h=p[0],g=p[1],m=A(s[3],2),b=m[0],S=m[1],y=A(Wt(t,e,a),2),x=y[0],_=y[1],w=Math.min(u,d,h,b),C=Math.min(c,v,g,S),E=Math.max(u,d,h,b),D=Math.max(c,v,g,S);u=u-w||0,d=d-w||0,h=h-w||0,b=b-w||0,c=c-C||0,v=v-C||0,g=g-C||0,S=S-C||0,x=x-w||0,_=_-C||0;var O=t[0],P=t[a+1],T=me(O*P);return{left:w,top:C,right:E,bottom:D,origin:[x,_],pos1:[u,c],pos2:[d,v],pos3:[h,g],pos4:[b,S],direction:T}}function md(t,e){var r=e.clientX,n=e.clientY,i=e.datas,a=t.state,o=a.moveableClientRect,s=a.rootMatrix,l=a.is3d,u=a.pos1,c=o.left,f=o.top,d=l?4:3,v=A(vt(Mn(s,[r-c,n-f],d),u),2),p=v[0],h=v[1],g=A(nr({datas:i,distX:p,distY:h}),2),m=g[0],b=g[1];return[m,b]}function qr(t,e){var r=e.datas,n=t.state,i=n.allMatrix,a=n.beforeMatrix,o=n.is3d,s=n.left,l=n.top,u=n.origin,c=n.offsetMatrix,f=n.targetMatrix,d=n.transformOrigin,v=o?4:3;r.is3d=o,r.matrix=i,r.targetMatrix=f,r.beforeMatrix=a,r.offsetMatrix=c,r.transformOrigin=d,r.inverseMatrix=je(i,v),r.inverseBeforeMatrix=je(a,v),r.absoluteOrigin=Yr(Et([s,l],u),v),r.startDragBeforeDist=ue(r.inverseBeforeMatrix,r.absoluteOrigin,v),r.startDragDist=ue(r.inverseMatrix,r.absoluteOrigin,v)}function Km(t){return yn(t.datas.beforeTransform,[50,50],100,100).direction}function $a(t,e,r){var n=e.datas,i=e.originalDatas.beforeRenderable,a=n.transformIndex,o=i.nextTransforms,s=o.length,l=i.nextTransformAppendedIndexes,u=-1;a===-1?(r==="translate"?u=0:r==="rotate"&&(u=fr(o,function(v){return v.match(/scale\(/g)})),u===-1&&(u=o.length),n.transformIndex=u):xe(l,function(v){return v.index===a&&v.functionName===r})?u=a:u=a+l.filter(function(v){return v.index<a}).length;var c=Cb(o,t.state,u),f=c.targetFunction,d=r==="rotate"?"rotateZ":r;n.beforeFunctionTexts=c.beforeFunctionTexts,n.afterFunctionTexts=c.afterFunctionTexts,n.beforeTransform=c.beforeFunctionMatrix,n.beforeTransform2=c.beforeFunctionMatrix2,n.targetTansform=c.targetFunctionMatrix,n.afterTransform=c.afterFunctionMatrix,n.afterTransform2=c.afterFunctionMatrix2,n.targetAllTransform=c.allFunctionMatrix,f.functionName===d?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):s>u&&(n.isAppendTransform=!0,i.nextTransformAppendedIndexes=it(it([],A(l),!1),[{functionName:r,index:u,isAppend:!0}],!1))}function Ha(t,e,r){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?r:e," ").concat(t.afterFunctionTexts.join(" "))}function Zm(t){var e=t.datas,r=t.distX,n=t.distY,i=A(yd({datas:e,distX:r,distY:n}),2),a=i[0],o=i[1],s=bd(e,sm([a,o],4));return ue(s,Yr([0,0,0],4),4)}function bd(t,e,r){var n=t.beforeTransform,i=t.afterTransform,a=t.beforeTransform2,o=t.afterTransform2,s=t.targetAllTransform,l=r?Pt(s,e,4):Pt(e,s,4),u=Pt(je(r?a:n,4),l,4),c=Pt(u,je(r?o:i,4),4);return c}function yd(t){var e=t.datas,r=t.distX,n=t.distY,i=e.inverseBeforeMatrix,a=e.is3d,o=e.startDragBeforeDist,s=e.absoluteOrigin,l=a?4:3;return vt(ue(i,Et(s,[r,n]),l),o)}function nr(t,e){var r=t.datas,n=t.distX,i=t.distY,a=r.inverseBeforeMatrix,o=r.inverseMatrix,s=r.is3d,l=r.startDragBeforeDist,u=r.startDragDist,c=r.absoluteOrigin,f=s?4:3;return vt(ue(e?a:o,Et(c,[n,i]),f),e?l:u)}function Jm(t,e){var r=t.datas,n=t.distX,i=t.distY;r.beforeMatrix;var a=r.matrix,o=r.is3d;r.startDragBeforeDist;var s=r.startDragDist,l=r.absoluteOrigin,u=o?4:3;return vt(ue(a,Et(s,[n,i]),u),l)}function Qm(t,e,r,n,i,a){return n===void 0&&(n=e),i===void 0&&(i=r),a===void 0&&(a=[0,0]),t?t.map(function(o,s){var l=Hr(o),u=l.value,c=l.unit,f=s?i:n,d=s?r:e;if(o==="%"||isNaN(u)){var v=f?a[s]/f:0;return d*v}else if(c!=="%")return u;return d*u/100}):a}function Sd(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function t1(t,e){return Sd(e).map(function(r){return t[r]})}function yo(t,e){var r=(e+1)/2;return[ca(t[0][0],t[1][0],r,1-r),ca(t[0][1],t[1][1],r,1-r)]}function te(t,e){var r=yo([t[0],t[1]],e[0]),n=yo([t[2],t[3]],e[0]);return yo([r,n],e[1])}function e1(t,e,r,n,i,a){var o=Kr(e,r,n,i),s=te(o,a),l=t[0]-s[0],u=t[1]-s[1];return[l,u]}function Ci(t,e,r,n){return Pt(t,qn(e,n,r),n)}function r1(t,e,r,n){var i=t.transformOrigin,a=t.offsetMatrix,o=t.is3d,s=o?4:3,l;if(ae(r)){var u=e.beforeTransform,c=e.afterTransform;n?l=Ue(Cn(r),4,s):l=Ue(Pt(Pt(u,Cn([r]),4),c,4),4,s)}else l=r;return Ci(a,l,i,s)}function n1(t,e){var r=t.transformOrigin,n=t.offsetMatrix,i=t.is3d,a=t.targetMatrix,o=t.targetAllTransform,s=i?4:3;return Ci(n,Pt(o||a,nl(e,s),s),r,s)}function Ya(t,e){var r=kn(e);return{setTransform:function(n,i){i===void 0&&(i=-1),r.startTransforms=Ht(n)?n:xr(n),us(t,e,i)},setTransformIndex:function(n){us(t,e,n)}}}function Xa(t,e,r){var n=kn(e),i=n.startTransforms;us(t,e,fr(i,function(a){return a.indexOf("".concat(r,"("))===0}))}function us(t,e,r){var n=kn(e),i=e.datas;if(i.transformIndex=r,r!==-1){var a=n.startTransforms[r];if(a){var o=t.state,s=xn([a],{"x%":function(l){return l/100*o.offsetWidth},"y%":function(l){return l/100*o.offsetHeight}});i.startValue=s[0].functionValue}}}function cl(t,e){var r=kn(t);r.nextTransforms=xr(e)}function kn(t){return t.originalDatas.beforeRenderable}function ga(t){var e=t.originalDatas.beforeRenderable;return e.nextTransforms}function $i(t){return(ga(t)||[]).join(" ")}function Hi(t){return kn(t).nextStyle}function _d(t,e,r,n,i){cl(i,e);var a=ge.drag(t,_i(i,t.state,r,n)),o=a?a.transform:e;return k(k({transform:e,drag:a},be({transform:o},i)),{afterTransform:o})}function fl(t,e,r,n,i,a){var o=r1(t.state,i,e,a),s=o1(t,r,n,o);return s}function Cd(t,e,r,n,i,a,o){var s=fl(t,e,r,i,a,o),l=t.state,u=l.left,c=l.top,f=t.props.groupable,d=f?u:0,v=f?c:0,p=vt(n,s);return vt(p,[d,v])}function i1(t,e,r,n,i,a,o){var s=Cd(t,e,r,n,i,a,o);return s}function a1(t,e,r){return[e?-1+t[0]/(e/2):0,r?-1+t[1]/(r/2):0]}function o1(t,e,r,n){n===void 0&&(n=t.state.allMatrix);var i=t.state,a=i.width,o=i.height,s=i.is3d,l=s?4:3,u=[a/2*(1+e[0])+r[0],o/2*(1+e[1])+r[1]];return Wt(n,u,l)}function s1(t,e,r){var n=r.fixedDirection,i=r.fixedPosition,a=r.fixedOffset;return Cd(t,"rotate(".concat(e,"deg)"),n,i,a,r)}function l1(t,e,r,n,i,a){var o=t.props.groupable,s=t.state,l=s.transformOrigin,u=s.offsetMatrix,c=s.is3d,f=s.width,d=s.height,v=s.left,p=s.top,h=a.fixedDirection,g=a.nextTargetMatrix||s.targetMatrix,m=c?4:3,b=Qm(i,e,r,f,d,l),S=o?v:0,y=o?p:0,x=Ci(u,g,b,m),_=e1(n,x,e,r,m,h);return vt(_,[S,y])}function u1(t,e){return te(Le(t.state),e)}function c1(t,e){var r=t.targetGesto,n=t.controlGesto,i;return r!=null&&r.isFlag()&&(i=r.getEventData()[e]),!i&&(n!=null&&n.isFlag())&&(i=n.getEventData()[e]),i||{}}function f1(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function d1(t){var e=t("scale"),r=t("rotate"),n=t("translate"),i=[];return n&&n!=="0px"&&n!=="none"&&i.push("translate(".concat(n.split(/\s+/).join(","),")")),r&&r!=="1"&&r!=="none"&&i.push("rotate(".concat(r,")")),e&&e!=="1"&&e!=="none"&&i.push("scale(".concat(e.split(/\s+/).join(","),")")),i}function xd(t,e,r){for(var n=t,i=[],a=Ks(t)||Rr(t),o=!r&&t===e||t===a,s=o,l=!1,u=3,c,f,d,v=!1,p=li(e,e,!0).offsetParent,h=1;n&&!s;){s=o;var g=we(n),m=g("position"),b=jd(n),S=m==="fixed",y=d1(g),x=lm(ub(b)),_=void 0,w=!1,C=!1,E=0,D=0,O=0,P=0,T={hasTransform:!1,fixedContainer:null};S&&(v=!0,T=pb(n),p=T.fixedContainer);var N=x.length;!l&&(N===16||y.length)&&(l=!0,u=4,hs(i),d&&(d=Ue(d,3,4))),l&&N===9&&(x=Ue(x,3,4));var z=vb(n,t),W=z.tagName,I=z.hasOffset,L=z.isSVG,B=z.origin,$=z.targetOrigin,G=z.offset,j=A(G,2),H=j[0],q=j[1];W==="svg"&&!n.ownerSVGElement&&d&&(i.push({type:"target",target:n,matrix:hb(n,u)}),i.push({type:"offset",target:n,matrix:Gt(u)}));var U=parseFloat(g("zoom"))||1;if(S)_=T.fixedContainer,w=!0;else{var et=li(n,e,!1,!0,g),ot=et.offsetZoom;if(_=et.offsetParent,w=et.isEnd,C=et.isStatic,h*=ot,(et.isCustomElement||ot!==1)&&C)H-=_.offsetLeft,q-=_.offsetTop;else if(Ym||Hm){var ct=et.parentSlotElement;if(ct){for(var ht=_,gt=0,nt=0;ht&&f1(ht);)gt+=ht.offsetLeft,nt+=ht.offsetTop,ht=ht.offsetParent;H-=gt,q-=nt}}}if(fd&&!Xm&&I&&!L&&C&&(m==="relative"||m==="static")&&(H-=_.offsetLeft,q-=_.offsetTop,o=o||w),S)I&&T.hasTransform&&(O=_.clientLeft,P=_.clientTop);else if(I&&p!==_&&(E=_.clientLeft,D=_.clientTop),I&&_===a){var lt=Ud(n,!1);H+=lt[0],q+=lt[1]}if(i.push({type:"target",target:n,matrix:qn(x,u,B)}),y.length&&(i.push({type:"offset",target:n,matrix:Gt(u)}),i.push({type:"target",target:n,matrix:qn(Cn(y),u,B)})),I){var M=n===t,R=M?0:n.scrollLeft,F=M?0:n.scrollTop;i.push({type:"offset",target:n,matrix:Xr([H-R+E-O,q-F+D-P],u)})}else i.push({type:"offset",target:n,origin:B});if(U!==1&&i.push({type:"zoom",target:n,matrix:qn(nl([U,U],u),u,[0,0])}),d||(d=x),c||(c=B),f||(f=$),s||S)break;n=_,o=w,(!r||n===a)&&(s=o)}return d||(d=Gt(u)),c||(c=[0,0]),f||(f=[0,0]),{zoom:h,offsetContainer:p,matrixes:i,targetMatrix:d,transformOrigin:c,targetOrigin:f,is3d:l,hasFixed:v}}var Br=null,zr=null,sn=null;function En(t){t?(window.Map&&(Br=new Map,zr=new Map),sn=[]):(Br=null,sn=null,zr=null)}function v1(t){var e=zr==null?void 0:zr.get(t);if(e)return e;var r=Kn(t,!0);return zr&&zr.set(t,r),r}function p1(t,e){if(sn){var r=xe(sn,function(i){return i[0][0]==t&&i[0][1]==e});if(r)return r[1]}var n=xd(t,e,!0);return sn&&sn.push([[t,e],n]),n}function we(t){var e=Br==null?void 0:Br.get(t);if(!e){var r=Be(t).getComputedStyle(t);if(!Br)return function(a){return r[a]};e={style:r,cached:{}},Br.set(t,e)}var n=e.cached,i=e.style;return function(a){return a in n||(n[a]=i[a]),n[a]}}function Xe(t,e,r){var n=r.originalDatas;n.groupable=n.groupable||{};var i=n.groupable;i.childDatas=i.childDatas||[];var a=i.childDatas;return t.moveables.map(function(o,s){return a[s]=a[s]||{},a[s][e]=a[s][e]||{},k(k({},r),{isRequestChild:!0,datas:a[s][e],originalDatas:a[s]})})}function So(t,e,r,n,i,a,o){var s=!!r.match(/Start$/g),l=!!r.match(/End$/g),u=i.isPinch,c=i.datas,f=Xe(t,e.name,i),d=t.moveables,v=[],p=f.map(function(h,g){var m=d[g],b=m.state,S=b.gestos,y=h;if(s)y=new wn(o).dragStart(n,h),v.push(y);else{if(S[o]||(S[o]=c.childGestos[g]),!S[o])return;y=_i(h,b,n,u,a,o),v.push(y)}var x=e[r](m,k(k({},y),{parentFlag:!0}));return l&&(S[o]=null),x});return s&&(c.childGestos=d.map(function(h){return h.state.gestos[o]})),{eventParams:p,childEvents:v}}function ur(t,e,r,n,i,a){i===void 0&&(i=function(c,f){return f});var o=!!r.match(/End$/g),s=Xe(t,e.name,n),l=t.moveables,u=s.map(function(c,f){var d=l[f],v=c;v=i(d,c);var p=e[r](d,k(k({},v),{parentFlag:!0}));return p&&a&&a(d,c,p,f),o&&(d.state.gestos={}),p});return u}function ma(t,e,r,n){var i=r.fixedDirection,a=r.fixedPosition,o=n.datas.startPositions||Le(e.state),s=te(o,i),l=A(ue(bi(-t.rotation/180*Math.PI,3),[s[0]-a[0],s[1]-a[1],1],3),2),u=l[0],c=l[1];return n.datas.originalX=u,n.datas.originalY=c,n}function wd(t,e,r,n){var i=t.getState(),a=i.renderPoses,o=i.rotation,s=i.direction,l=jr(t.props,e).zoom,u=Un(o/Math.PI*180),c={},f=t.renderState;f.renderDirectionMap||(f.renderDirectionMap={});var d=f.renderDirectionMap;r.forEach(function(p){var h=p.dir;c[h]=!0});var v=me(s);return r.map(function(p){var h=p.data,g=p.classNames,m=p.dir,b=ul[m];if(!b||!c[m])return null;d[m]=!0;var S=(bt(u,15)+v*hd[m]+720)%180,y={};return dr(h).forEach(function(x){y["data-".concat(x)]=h[x]}),n.createElement("div",k({className:dt.apply(void 0,it(["control","direction",m,e],A(g),!1)),"data-rotation":S,"data-direction":m},y,{key:"direction-".concat(m),style:_a.apply(void 0,it([o,l],A(b.map(function(x){return a[x]})),!1))}))})}function Ed(t,e,r,n){var i=jr(t.props,r),a=i.renderDirections,o=a===void 0?e:a,s=i.displayAroundControls;if(!o)return[];var l=o===!0?sl:o;return it(it([],A(s?Td(t,n,r,l):[]),!1),A(wd(t,r,l.map(function(u){return{data:{},classNames:[],dir:u}}),n)),!1)}function si(t,e,r,n,i,a){for(var o=[],s=6;s<arguments.length;s++)o[s-6]=arguments[s];var l=jt(r,n),u=e?bt(l/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(a),className:dt.apply(void 0,it(["line","direction",e?"edge":"",e],A(o),!1)),"data-rotation":u,"data-line-key":a,"data-direction":e,style:Ln(r,n,i,l)})}function Dd(t,e,r,n,i){var a=r===!0?Gm:r;return a.map(function(o,s){var l=A(ul[o],2),u=l[0],c=l[1];if(c!=null)return si(t,o,n[u],n[c],i,"".concat(e,"Edge").concat(s),e)}).filter(Boolean)}function Md(t){return function(e,r){var n=jr(e.props,t).edge;return n&&(n===!0||n.length)?it(it([],A(Dd(r,t,n,e.getState().renderPoses,e.props.zoom)),!1),A(h1(e,t,r)),!1):Od(e,t,r)}}function Od(t,e,r){return Ed(t,sl,e,r)}function h1(t,e,r){return Ed(t,["nw","ne","sw","se"],e,r)}function Td(t,e,r,n){var i=t.renderState;i.renderDirectionMap||(i.renderDirectionMap={});var a=t.getState(),o=a.renderPoses,s=a.rotation,l=a.direction,u=i.renderDirectionMap,c=t.props.zoom,f=me(l),d=s/Math.PI*180;return(n||dr(u)).map(function(v){var p=ul[v];if(!p)return null;var h=(bt(d,15)+f*hd[v]+720)%180,g=["around-control"];return r&&g.push("direction",r),e.createElement("div",{className:dt.apply(void 0,it([],A(g),!1)),"data-rotation":h,"data-direction":v,key:"direction-around-".concat(v),style:_a.apply(void 0,it([s,c],A(p.map(function(m){return o[m]})),!1))})})}function dl(t,e,r){var n=t||{},i=n.position,a=i===void 0?"client":i,o=n.left,s=o===void 0?-1/0:o,l=n.top,u=l===void 0?-1/0:l,c=n.right,f=c===void 0?1/0:c,d=n.bottom,v=d===void 0?1/0:d,p={position:a,left:s,top:u,right:f,bottom:v};return{vertical:Ou(p,e,!0),horizontal:Ou(p,r,!1)}}function Va(t,e){var r=t.state,n=r.containerClientRect,i=n.clientHeight,a=n.clientWidth,o=n.clientLeft,s=n.clientTop,l=r.snapOffset,u=l.left,c=l.top,f=l.right,d=l.bottom,v=e||t.props.bounds||{},p=v.position||"client",h=p==="css",g=v.left,m=g===void 0?-1/0:g,b=v.top,S=b===void 0?-1/0:b,y=v.right,x=y===void 0?h?-1/0:1/0:y,_=v.bottom,w=_===void 0?h?-1/0:1/0:_;return h&&(x=a+f-u-x,w=i+d-c-w),{left:m+u-o,right:x+u-o,top:S+c-s,bottom:w+c-s}}function g1(t,e,r){var n=Va(t),i=n.left,a=n.top,o=n.right,s=n.bottom,l=A(r,2),u=l[0],c=l[1],f=A(vt(r,e),2),d=f[0],v=f[1];tt(d)<Se&&(d=0),tt(v)<Se&&(v=0);var p=v>0,h=d>0,g={isBound:!1,offset:0,pos:0},m={isBound:!1,offset:0,pos:0};if(d===0&&v===0)return{vertical:g,horizontal:m};if(d===0)p?s<c&&(m.pos=s,m.offset=c-s):a>c&&(m.pos=a,m.offset=c-a);else if(v===0)h?o<u&&(g.pos=o,g.offset=u-o):i>u&&(g.pos=i,g.offset=u-i);else{var b=v/d,S=r[1]-b*u,y=0,x=0,_=!1;h&&o<=u?(y=b*o+S,x=o,_=!0):!h&&u<=i&&(y=b*i+S,x=i,_=!0),_&&(y<a||y>s)&&(_=!1),_||(p&&s<=c?(y=s,x=(y-S)/b,_=!0):!p&&c<=a&&(y=a,x=(y-S)/b,_=!0)),_&&(g.isBound=!0,g.pos=x,g.offset=u-x,m.isBound=!0,m.pos=y,m.offset=c-y)}return{vertical:g,horizontal:m}}function Ou(t,e,r){var n=t[r?"left":"top"],i=t[r?"right":"bottom"],a=Math.min.apply(Math,it([],A(e),!1)),o=Math.max.apply(Math,it([],A(e),!1)),s=[];return n+1>a&&s.push({direction:"start",isBound:!0,offset:a-n,pos:n}),i-1<o&&s.push({direction:"end",isBound:!0,offset:o-i,pos:i}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort(function(l,u){return tt(u.offset)-tt(l.offset)})}function Tu(t,e,r){var n=r?t.map(function(i){return mi(i,r)}):t;return n.some(function(i){return i[0]<e.left&&tt(i[0]-e.left)>.1||i[0]>e.right&&tt(i[0]-e.right)>.1||i[1]<e.top&&tt(i[1]-e.top)>.1||i[1]>e.bottom&&tt(i[1]-e.bottom)>.1})}function m1(t,e,r){var n=Ne(t),i=Math.sqrt(n*n-e*e)||0;return[i,-i].sort(function(a,o){return tt(a-t[r?0:1])-tt(o-t[r?0:1])}).map(function(a){return jt([0,0],r?[a,e]:[e,a])})}function b1(t,e,r,n,i){if(!t.props.bounds)return[];var a=i*Math.PI/180,o=Va(t),s=o.left,l=o.top,u=o.right,c=o.bottom,f=s-n[0],d=u-n[0],v=l-n[1],p=c-n[1],h={left:f,top:v,right:d,bottom:p};if(!Tu(r,h,0))return[];var g=[];return[[f,0],[d,0],[v,1],[p,1]].forEach(function(m){var b=A(m,2),S=b[0],y=b[1];r.forEach(function(x){var _=jt([0,0],x);g.push.apply(g,it([],A(m1(x,S,y).map(function(w){return a+w-_}).filter(function(w){return!Tu(e,h,w)}).map(function(w){return bt(w*180/Math.PI,Se)})),!1))})}),g}var y1=["left","right","center"],S1=["top","bottom","middle"],Ru={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},Er={start:"left",end:"right",center:"center"},Dr={start:"top",end:"bottom",center:"middle"};function ln(){return{left:!1,top:!1,right:!1,bottom:!1}}function In(t,e){var r=t.props,n=r.snappable,i=r.bounds,a=r.innerBounds,o=r.verticalGuidelines,s=r.horizontalGuidelines,l=r.snapGridWidth,u=r.snapGridHeight,c=t.state,f=c.guidelines,d=c.enableSnap;return!n||!d||e&&n!==!0&&n.indexOf(e)<0?!1:!!(l||u||i||a||f&&f.length||o&&o.length||s&&s.length)}function vl(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function _1(t,e){var r=vl(t),n={};for(var i in r)i in e&&r[i]&&(n[i]=e[i]);return n}function pl(t,e){var r=_1(t,e),n=S1.filter(function(a){return a in r}),i=y1.filter(function(a){return a in r});return{horizontalNames:n,verticalNames:i,horizontal:n.map(function(a){return r[a]}),vertical:i.map(function(a){return r[a]})}}function C1(t,e,r){var n=Wt(t,[e.clientLeft,e.clientTop],r);return[e.left+n[0],e.top+n[1]]}function x1(t){var e=A(t,2),r=e[0],n=e[1],i=n[0]-r[0],a=n[1]-r[1];Math.abs(i)<Zt&&(i=0),Math.abs(a)<Zt&&(a=0);var o=0,s=0,l=0;return i?a?(o=-a/i,s=1,l=o*r[0]-r[1]):(s=1,l=-r[1]):(o=-1,l=r[0]),[o,s,l].map(function(u){return bt(u,Zt)})}var Rd="snapRotationThreshold",Pd="snapRotationDegrees",kd="snapHorizontalThreshold",Id="snapVerticalThreshold";function ja(t,e,r,n,i,a,o){var s;n===void 0&&(n=[]),i===void 0&&(i=[]);var l=t.props,u=((s=t.state.snapThresholdInfo)===null||s===void 0?void 0:s.multiples)||[1,1],c=Xu(o,l[kd],5),f=Xu(a,l[Id],5);return Ad(t.state.guidelines,e,r,n,i,c,f,u)}function Ad(t,e,r,n,i,a,o,s){return{vertical:ku(t,"vertical",e,o*s[0],n),horizontal:ku(t,"horizontal",r,a*s[1],i)}}function w1(t,e,r){var n=A(r,2),i=n[0],a=n[1],o=A(e,2),s=o[0],l=o[1],u=A(vt(r,e),2),c=u[0],f=u[1],d=f>0,v=c>0;c=Ca(c),f=Ca(f);var p={isSnap:!1,offset:0,pos:0},h={isSnap:!1,offset:0,pos:0};if(c===0&&f===0)return{vertical:p,horizontal:h};var g=ja(t,c?[i]:[],f?[a]:[],[],[],void 0,void 0),m=g.vertical,b=g.horizontal;m.posInfos.filter(function(W){var I=W.pos;return v?I>=s:I<=s}),b.posInfos.filter(function(W){var I=W.pos;return d?I>=l:I<=l}),m.isSnap=m.posInfos.length>0,b.isSnap=b.posInfos.length>0;var S=cs(m),y=S.isSnap,x=S.guideline,_=cs(b),w=_.isSnap,C=_.guideline,E=w?C.pos[1]:0,D=y?x.pos[0]:0;if(c===0)w&&(h.isSnap=!0,h.pos=C.pos[1],h.offset=a-h.pos);else if(f===0)y&&(p.isSnap=!0,p.pos=D,p.offset=i-D);else{var O=f/c,P=r[1]-O*i,T=0,N=0,z=!1;y?(N=D,T=O*N+P,z=!0):w&&(T=E,N=(T-P)/O,z=!0),z&&(p.isSnap=!0,p.pos=N,p.offset=i-N,h.isSnap=!0,h.pos=T,h.offset=a-T)}return{vertical:p,horizontal:h}}function yr(t){var e="";return t===-1||t==="top"||t==="left"?e="start":t===0||t==="center"||t==="middle"?e="center":(t===1||t==="right"||t==="bottom")&&(e="end"),e}function Pu(t,e,r,n){var i=pl(t.props.snapDirections,e),a=ja(t,i.vertical,i.horizontal,i.verticalNames.map(function(l){return yr(l)}),i.horizontalNames.map(function(l){return yr(l)}),r,n),o=yr(i.horizontalNames[a.horizontal.index]),s=yr(i.verticalNames[a.vertical.index]);return{vertical:k(k({},a.vertical),{direction:s}),horizontal:k(k({},a.horizontal),{direction:o})}}function cs(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=t.posInfos[0],n=r.guidelineInfos[0],i=n.offset,a=n.dist,o=n.guideline;return{isSnap:e,offset:i,dist:a,pos:r.pos,guideline:o}}function ku(t,e,r,n,i){var a,o;if(i===void 0&&(i=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var s=e==="vertical",l=s?0:1,u=r.map(function(f,d){var v=i[d]||"",p=t.map(function(h){var g=h.pos,m=f-g[l];return{offset:m,dist:tt(m),guideline:h,direction:v}}).filter(function(h){var g=h.guideline,m=h.dist,b=g.type;return!(b!==e||m>n)}).sort(function(h,g){return h.dist-g.dist});return{pos:f,index:d,guidelineInfos:p,direction:v}}).filter(function(f){return f.guidelineInfos.length>0}).sort(function(f,d){return f.guidelineInfos[0].dist-d.guidelineInfos[0].dist}),c=u.length>0;return{isSnap:c,index:c?u[0].index:-1,direction:(o=(a=u[0])===null||a===void 0?void 0:a.direction)!==null&&o!==void 0?o:"",posInfos:u}}function E1(t,e,r,n,i){var a=[];r[0]&&r[1]?a=[r,[-r[0],r[1]],[r[0],-r[1]]]:!r[0]&&!r[1]?[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(d,v,p){var h=p[v+1]||p[0];a.push(d),a.push([(d[0]+h[0])/2,(d[1]+h[1])/2])}):t.props.keepRatio?a.push([-1,-1],[-1,1],[1,-1],[1,1],r):(a.push.apply(a,it([],A(t1([[-1,-1],[1,-1],[-1,-1],[1,1]],r)),!1)),a.length>1&&a.push([(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]));var o=a.map(function(d){return te(e,d)}),s=o.map(function(d){return d[0]}),l=o.map(function(d){return d[1]}),u=ja(t,s,l,a.map(function(d){return yr(d[0])}),a.map(function(d){return yr(d[1])}),n,i),c=yr(a.map(function(d){return d[0]})[u.vertical.index]),f=yr(a.map(function(d){return d[1]})[u.horizontal.index]);return{vertical:k(k({},u.vertical),{direction:c}),horizontal:k(k({},u.horizontal),{direction:f})}}function Bd(t,e){var r=tt(t.offset),n=tt(e.offset);return t.isBound&&e.isBound?n-r:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?n-r:t.isSnap?-1:e.isSnap||r<Se?1:n<Se?-1:r-n}function ba(t,e){return t.slice().sort(function(r,n){var i=r.sign[e],a=n.sign[e],o=r.offset[e],s=n.offset[e];if(i){if(!a)return-1}else return 1;return Bd({isBound:r.isBound,isSnap:r.isSnap,offset:o},{isBound:n.isBound,isSnap:n.isSnap,offset:s})})[0]}function D1(t,e,r){var n=[];if(r)tt(e[0])!==1||tt(e[1])!==1?n.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):n.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),n.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var i=t[0]?t:[1,1];[1,-1].forEach(function(o){[1,-1].forEach(function(s){var l=[o*i[0],s*i[1]];e[0]===l[0]&&e[1]===l[1]||n.push([e,l])})})}else if(t[0]){var a=tt(e[0])===1?[1]:[1,-1];a.forEach(function(o){n.push([[e[0],-1],[o*t[0],-1]],[[e[0],0],[o*t[0],0]],[[e[0],1],[o*t[0],1]])})}else if(t[1]){var a=tt(e[1])===1?[1]:[1,-1];a.forEach(function(s){n.push([[-1,e[1]],[-1,s*t[1]]],[[0,e[1]],[0,s*t[1]]],[[1,e[1]],[1,s*t[1]]])})}return n}function zd(t,e){var r=jo([e[0][0],e[1][0]]),n=jo([e[0][1],e[1][1]]);return{vertical:r<=t[0],horizontal:n<=t[1]}}function hl(t,e){var r=A(e,2),n=r[0],i=r[1],a=i[0]-n[0],o=i[1]-n[1];tt(a)<Se&&(a=0),tt(o)<Se&&(o=0);var s,l;if(!a)s=n[0],l=t[0];else if(!o)s=n[1],l=t[1];else{var u=o/a;s=u*(t[0]-n[0])+n[1],l=t[1]}return s-l}function Gd(t,e,r,n){return n===void 0&&(n=Se),t.every(function(i){var a=hl(i,e),o=a<=0;return o===r||tt(a)<=n})}function Iu(t,e,r,n,i){return i===void 0&&(i=0),n&&e-i<=t||!n&&t<=r+i?{isBound:!0,offset:n?e-t:r-t}:{isBound:!1,offset:0}}function M1(t,e){var r=e.line,n=e.centerSign,i=e.verticalSign,a=e.horizontalSign,o=e.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var l=s.left,u=s.top,c=s.width,f=s.height,d=[[l,u],[l,u+f]],v=[[l,u],[l+c,u]],p=[[l+c,u],[l+c,u+f]],h=[[l,u+f],[l+c,u+f]];if(Gd([[l,u],[l+c,u],[l,u+f],[l+c,u+f]],r,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=Sr(r,o,v,i),m=Sr(r,o,h,i),b=Sr(r,o,d,a),S=Sr(r,o,p,a),y=g.isBound&&m.isBound,x=g.isBound||m.isBound,_=b.isBound&&S.isBound,w=b.isBound||S.isBound,C=Dn(g.offset,m.offset),E=Dn(b.offset,S.offset),D=[0,0],O=!1,P=!1;return tt(E)<tt(C)?(D=[C,0],O=x,P=y):(D=[0,E],O=w,P=_),{isAllBound:P,isVerticalBound:x,isHorizontalBound:w,isBound:O,offset:D}}function Sr(t,e,r,n,i,a){var o=A(e,2),s=o[0],l=o[1],u=t[0],c=r[0],f=r[1],d=Ca(f[1]-c[1]),v=Ca(f[0]-c[0]),p=l,h=s,g=-s/l;if(v){if(!d){if(a&&!p)return{isBound:!1,offset:0};if(h){var y=(c[1]-u[1])/g+u[0];return Iu(y,c[0],f[0],n,i)}else{var b=c[1]-u[1],S=tt(b)<=(i||0);return{isBound:S,offset:S?b:0}}}}else{if(a&&!h)return{isBound:!1,offset:0};if(p){var m=g*(c[0]-u[0])+u[1];return Iu(m,c[1],f[1],n,i)}else{var b=c[0]-u[0],S=tt(b)<=(i||0);return{isBound:S,offset:S?b:0}}}return{isBound:!1,offset:0}}function Fd(t,e,r){return e.map(function(n){var i=M1(t,n),a=i.isBound,o=i.offset,s=i.isVerticalBound,l=i.isHorizontalBound,u=n.multiple,c=nr({datas:r,distX:o[0],distY:o[1]}).map(function(f,d){return f*(u[d]?2/u[d]:0)});return{sign:u,isBound:a,isVerticalBound:s,isHorizontalBound:l,isSnap:!1,offset:c}})}function O1(t,e,r){var n,i=gl(t,e,[0,0],!1).map(function(d){return k(k({},d),{multiple:d.multiple.map(function(v){return tt(v)*2})})}),a=Fd(t,i,r),o=ba(a,0),s=ba(a,1),l=0,u=0,c=o.isVerticalBound||s.isVerticalBound,f=o.isHorizontalBound||s.isHorizontalBound;return(c||f)&&(n=A(Jm({datas:r,distX:-o.offset[0],distY:-s.offset[1]}),2),l=n[0],u=n[1]),{vertical:{isBound:c,offset:l},horizontal:{isBound:f,offset:u}}}function T1(t,e){var r=[],n=t[0],i=t[1];return n&&i?r.push([[0,i*2],t,[-n,i]],[[n*2,0],t,[n,-i]]):n?(r.push([[n*2,0],[n,1],[n,-1]]),e&&r.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):i?(r.push([[0,i*2],[1,i],[-1,i]]),e&&r.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}function gl(t,e,r,n){var i=t.state,a=i.allMatrix,o=i.is3d,s=Kr(a,100,100,o?4:3),l=te(s,[0,0]);return T1(r,n).map(function(u){var c=A(u,3),f=c[0],d=c[1],v=c[2],p=[te(s,d),te(s,v)],h=x1(p),g=zd(l,p),m=g.vertical,b=g.horizontal,S=hl(l,p)<=0;return{multiple:f,centerSign:S,verticalSign:m,horizontalSign:b,lineConstants:h,line:[te(e,d),te(e,v)]}})}function Au(t,e,r,n){var i=n?t.map(function(a){return mi(a,n)}):t;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some(function(a){var o=hl(r,a)<=0;return!Gd(e,a,o)})}function R1(t){var e=A(t,2),r=e[0],n=e[1],i=n[0]-r[0],a=n[1]-r[1];if(!i)return tt(r[0]);if(!a)return tt(r[1]);var o=a/i;return tt((-o*r[0]+r[1])/Math.sqrt(Math.pow(o,2)+1))}function P1(t){var e=A(t,2),r=e[0],n=e[1],i=n[0]-r[0],a=n[1]-r[1];if(!i)return[r[0],0];if(!a)return[0,r[1]];var o=a/i,s=-o*r[0]+r[1];return[-s/(o+1/o),s/(o*o+1)]}function k1(t,e,r,n,i){var a=t.props.innerBounds,o=i*Math.PI/180;if(!a)return[];var s=a.left,l=a.top,u=a.width,c=a.height,f=s-n[0],d=s+u-n[0],v=l-n[1],p=l+c-n[1],h=[[f,v],[d,v],[f,p],[d,p]],g=te(r,[0,0]);if(!Au(r,h,g,0))return[];var m=[],b=h.map(function(S){return[Ne(S),jt([0,0],S)]});return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].forEach(function(S){var y=jt([0,0],P1(S)),x=R1(S);m.push.apply(m,it([],A(b.filter(function(_){var w=A(_,1),C=w[0];return C&&x<=C}).map(function(_){var w=A(_,2),C=w[0],E=w[1],D=Math.acos(C?x/C:0),O=E+D,P=E-D;return[o+O-y,o+P-y]}).reduce(function(_,w){return _.push.apply(_,it([],A(w),!1)),_},[]).filter(function(_){return!Au(e,h,g,_)}).map(function(_){return bt(_*180/Math.PI,Se)})),!1))}),m}function I1(t){var e=t.props.innerBounds,r=ln();if(!e)return{boundMap:r,vertical:[],horizontal:[]};var n=t.getRect(),i=n.pos1,a=n.pos2,o=n.pos3,s=n.pos4,l=[i,a,o,s],u=te(l,[0,0]),c=e.left,f=e.top,d=e.width,v=e.height,p=[[c,f],[c,f+v]],h=[[c,f],[c+d,f]],g=[[c+d,f],[c+d,f+v]],m=[[c,f+v],[c+d,f+v]],b=gl(t,l,[0,0],!1),S=[],y=[];return b.forEach(function(x){var _=x.line,w=x.lineConstants,C=zd(u,_),E=C.horizontal,D=C.vertical,O=Sr(_,w,h,D,1,!0),P=Sr(_,w,m,D,1,!0),T=Sr(_,w,p,E,1,!0),N=Sr(_,w,g,E,1,!0);O.isBound&&!r.top&&(S.push(f),r.top=!0),P.isBound&&!r.bottom&&(S.push(f+v),r.bottom=!0),T.isBound&&!r.left&&(y.push(c),r.left=!0),N.isBound&&!r.right&&(y.push(c+d),r.right=!0)}),{boundMap:r,horizontal:S,vertical:y}}function A1(t,e,r,n){var i=e[0]-t[0],a=e[1]-t[1];if(tt(i)<Zt&&(i=0),tt(a)<Zt&&(a=0),!i)return n?[0,0]:[0,r];if(!a)return n?[r,0]:[0,0];var o=a/i,s=t[1]-o*t[0];if(n){var l=o*(e[0]+r)+s;return[r,l-e[1]]}else{var u=(e[1]+r-s)/o;return[u-e[0],r]}}function fs(t,e,r,n,i){var a=A1(t,e,r,n);if(!a)return{isOutside:!1,offset:[0,0]};var o=tr(t,e),s=tr(a,t),l=tr(a,e),u=s>o||l>o,c=A(nr({datas:i,distX:a[0],distY:a[1]}),2),f=c[0],d=c[1];return{offset:[f,d],isOutside:u}}function ya(t,e){return t.isBound?t.offset:e.isSnap?cs(e).offset:0}function B1(t,e,r,n,i){var a=A(e,2),o=a[0],s=a[1],l=A(r,2),u=l[0],c=l[1],f=A(n,2),d=f[0],v=f[1],p=A(i,2),h=p[0],g=p[1],m=-h,b=-g;if(t&&o&&s){m=0,b=0;var S=[];if(u&&c?S.push([0,g],[h,0]):u?S.push([h,0]):c?S.push([0,g]):d&&v?S.push([0,g],[h,0]):d?S.push([h,0]):v&&S.push([0,g]),S.length){S.sort(function(w,C){return Ne(vt([o,s],w))-Ne(vt([o,s],C))});var y=S[0];if(y[0]&&tt(o)>Zt)m=-y[0],b=s*tt(o+m)/tt(o)-s;else if(y[1]&&tt(s)>Zt){var x=s;b=-y[1],m=o*tt(s+b)/tt(x)-o}if(t&&c&&u)if(tt(m)>Zt&&tt(m)<tt(h)){var _=tt(h)/tt(m);m*=_,b*=_}else if(tt(b)>Zt&&tt(b)<tt(g)){var _=tt(g)/tt(b);m*=_,b*=_}else m=Dn(-h,m),b=Dn(-g,b)}}else m=o||u?-h:0,b=s||c?-g:0;return[m,b]}function z1(t,e,r,n,i,a){if(!In(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=yl(a.absolutePoses,[e,r]),s=Ge(o),l=s.left,u=s.right,c=s.top,f=s.bottom,d={horizontal:o.map(function(N){return N[1]}),vertical:o.map(function(N){return N[0]})},v=vl(t.props.snapDirections),p=pl(v,{left:l,right:u,top:c,bottom:f,center:(l+u)/2,middle:(c+f)/2}),h=Ua(t,i,p,d),g=h.vertical,m=h.horizontal,b=O1(t,o,a),S=b.vertical,y=b.horizontal,x=g.isSnap,_=m.isSnap,w=g.isBound||S.isBound,C=m.isBound||y.isBound,E=Dn(g.offset,S.offset),D=Dn(m.offset,y.offset),O=A(B1(n,[e,r],[w,C],[x,_],[E,D]),2),P=O[0],T=O[1];return[{isBound:w,isSnap:x,offset:P},{isBound:C,isSnap:_,offset:T}]}function Ua(t,e,r,n){n===void 0&&(n=r);var i=dl(Va(t),n.vertical,n.horizontal),a=i.horizontal,o=i.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:ja(t,r.vertical,r.horizontal,void 0,void 0,void 0,void 0),l=s.horizontal,u=s.vertical,c=ya(a[0],l),f=ya(o[0],u),d=tt(c),v=tt(f);return{horizontal:{isBound:a[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:c,dist:d,bounds:a,snap:l},vertical:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:f,dist:v,bounds:o,snap:u}}}function Bu(t,e,r,n,i,a,o){o===void 0&&(o=[1,1]);var s=dl(e,r,n),l=s.horizontal,u=s.vertical,c=Ad(t,r,n,[],[],i,a,o),f=c.horizontal,d=c.vertical,v=ya(l[0],f),p=ya(u[0],d),h=tt(v),g=tt(p);return{horizontal:{isBound:l[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:v,dist:h,bounds:l,snap:f},vertical:{isBound:u[0].isBound,isSnap:d.isSnap,snapIndex:d.index,offset:p,dist:g,bounds:u,snap:d}}}function G1(t,e,r,n){var i=jt(t,e)/Math.PI*180,a=r.vertical,o=a.isBound,s=a.isSnap,l=a.dist,u=r.horizontal,c=u.isBound,f=u.isSnap,d=u.dist,v=i%180,p=v<3||v>177,h=v>87&&v<93;return d<l&&(o||s&&!h&&(!n||!p))?"vertical":c||f&&!p&&(!n||!h)?"horizontal":""}function F1(t,e,r,n,i,a){return r.map(function(o){var s=A(o,2),l=s[0],u=s[1],c=te(e,l),f=te(e,u),d=n?N1(t,c,f,i):Ua(t,i,{vertical:[f[0]],horizontal:[f[1]]}),v=d.horizontal,p=v.offset,h=v.isBound,g=v.isSnap,m=d.vertical,b=m.offset,S=m.isBound,y=m.isSnap,x=vt(u,l);if(!b&&!p)return{isBound:S||h,isSnap:y||g,sign:x,offset:[0,0]};var _=G1(c,f,d,n);if(!_)return{sign:x,isBound:!1,isSnap:!1,offset:[0,0]};var w=_==="vertical",C=[0,0];return!n&&tt(u[0])===1&&tt(u[1])===1&&l[0]!==u[0]&&l[1]!==u[1]?C=nr({datas:a,distX:-b,distY:-p}):C=fs(c,f,-(w?b:p),w,a).offset,C=C.map(function(E,D){return E*(x[D]?2/x[D]:0)}),{sign:x,isBound:w?S:h,isSnap:w?y:g,offset:C}})}function zu(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function N1(t,e,r,n){var i=g1(t,e,r),a=i.horizontal,o=i.vertical,s=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:w1(t,e,r),l=s.horizontal,u=s.vertical,c=zu(a,l),f=zu(o,u),d=tt(c),v=tt(f);return{horizontal:{isBound:a.isBound,isSnap:l.isSnap,offset:c,dist:d},vertical:{isBound:o.isBound,isSnap:u.isSnap,offset:f,dist:v}}}function L1(t,e,r,n,i){var a=[-r[0],-r[1]],o=t.state,s=o.width,l=o.height,u=t.props.bounds,c=1/0,f=1/0;if(u){var d=[[r[0],-r[1]],[-r[0],r[1]]],v=u.left,p=v===void 0?-1/0:v,h=u.top,g=h===void 0?-1/0:h,m=u.right,b=m===void 0?1/0:m,S=u.bottom,y=S===void 0?1/0:S;d.forEach(function(x){var _=x[0]!==a[0],w=x[1]!==a[1],C=te(e,x),E=jt(n,C)*360/Math.PI;if(w){var D=C.slice();(tt(E-360)<2||tt(E-180)<2)&&(D[1]=n[1]);var O=fs(n,D,(n[1]<C[1]?y:g)-C[1],!1,i),P=A(O.offset,2),T=P[1],N=O.isOutside;isNaN(T)||(f=l+(N?1:-1)*tt(T))}if(_){var D=C.slice();(tt(E-90)<2||tt(E-270)<2)&&(D[0]=n[0]);var z=fs(n,D,(n[0]<C[0]?b:p)-C[0],!0,i),W=A(z.offset,1),I=W[0],L=z.isOutside;isNaN(I)||(c=s+(L?1:-1)*tt(I))}})}return{maxWidth:c,maxHeight:f}}var ge={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var r=t.props,n=r.hideThrottleDragRotateLine,i=r.throttleDragRotate,a=r.zoom,o=t.getState(),s=o.dragInfo,l=o.beforeOrigin;if(n||!i||!s)return[];var u=s.dist;if(!u[0]&&!u[1])return[];var c=Ne(u),f=jt(u,[0,0]);return[e.createElement("div",{className:dt("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(c,"px"),transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) rotate(").concat(f,"rad) scaleY(").concat(a,")")}})]},dragStart:function(t,e){var r=e.datas,n=e.parentEvent,i=e.parentGesto,a=t.state,o=a.gestos,s=a.style;if(o.draggable)return!1;o.draggable=i||t.targetGesto,r.datas={},r.left=parseFloat(s.left||"")||0,r.top=parseFloat(s.top||"")||0,r.bottom=parseFloat(s.bottom||"")||0,r.right=parseFloat(s.right||"")||0,r.startValue=[0,0],qr(t,e),Xa(t,e,"translate"),ab(t,r),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,r.deltaOffset=[0,0];var l=_t(t,e,k({set:function(c){r.startValue=c}},Ya(t,e))),u=n||ut(t,"onDragStart",l);return u!==!1?(r.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(o.draggable=null,r.isPinch=!1),r.isDrag?l:!1},drag:function(t,e){if(e){$a(t,e,"translate");var r=e.datas,n=e.parentEvent,i=e.parentFlag,a=e.isPinch,o=e.deltaOffset,s=e.useSnap,l=e.isRequest,u=e.isGroup,c=e.parentThrottleDrag,f=e.distX,d=e.distY,v=r.isDrag,p=r.prevDist,h=r.prevBeforeDist,g=r.startValue;if(v){o&&(f+=o[0],d+=o[1]);var m=t.props,b=m.parentMoveable,S=u?0:m.throttleDrag||c||0,y=n?0:m.throttleDragRotate||0,x=0,_=!1,w=!1,C=!1,E=!1;if(!n&&y>0&&(f||d)){var D=m.startDragRotate||0,O=bt(D+jt([0,0],[f,d])*180/Math.PI,y)-D,P=d*Math.abs(Math.cos((O-90)/180*Math.PI)),T=f*Math.abs(Math.cos(O/180*Math.PI)),N=Ne([T,P]);x=O*Math.PI/180,f=N*Math.cos(x),d=N*Math.sin(x)}if(!a&&!n&&!i){var z=A(z1(t,f,d,y,!s&&l||o,r),2),W=z[0],I=z[1];_=W.isSnap,w=W.isBound,C=I.isSnap,E=I.isBound;var L=W.offset,B=I.offset;f+=L,d+=B}var $=Et(yd({datas:r,distX:f,distY:d}),g),G=Et(Zm({datas:r,distX:f,distY:d}),g);mu(G,Se),mu($,Se),y||(!_&&!w&&(G[0]=bt(G[0],S),$[0]=bt($[0],S)),!C&&!E&&(G[1]=bt(G[1],S),$[1]=bt($[1],S)));var j=vt($,g),H=vt(G,g),q=vt(H,p),U=vt(j,h);r.prevDist=H,r.prevBeforeDist=j,r.passDelta=q,r.passDist=H;var et=r.left+j[0],ot=r.top+j[1],ct=r.right-j[0],ht=r.bottom-j[1],gt=Ha(r,"translate(".concat(G[0],"px, ").concat(G[1],"px)"),"translate(".concat(H[0],"px, ").concat(H[1],"px)"));if(cl(e,gt),t.state.dragInfo.dist=n?[0,0]:H,!(!n&&!b&&q.every(function(F){return!F})&&U.some(function(F){return!F}))){var nt=t.state,lt=nt.width,M=nt.height,R=_t(t,e,k({transform:gt,dist:H,delta:q,translate:G,beforeDist:j,beforeDelta:U,beforeTranslate:$,left:et,top:ot,right:ct,bottom:ht,width:lt,height:M,isPinch:a},be({transform:gt},e)));return!n&&ut(t,"onDrag",R),R}}}},dragAfter:function(t,e){var r=e.datas,n=r.deltaOffset;return n[0]||n[1]?(r.deltaOffset=[0,0],this.drag(t,k(k({},e),{deltaOffset:n}))):!1},dragEnd:function(t,e){var r=e.parentEvent,n=e.datas;if(t.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var i=Re(t,e,{});return!r&&ut(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var r,n,i=e.datas,a=e.clientX,o=e.clientY,s=this.dragStart(t,e);if(!s)return!1;var l=So(t,this,"dragStart",[a||0,o||0],e,!1,"draggable"),u=l.childEvents,c=l.eventParams,f=k(k({},s),{targets:t.props.targets,events:c}),d=ut(t,"onDragGroupStart",f);i.isDrag=d!==!1;var v=(n=(r=u[0])===null||r===void 0?void 0:r.datas.startValue)!==null&&n!==void 0?n:[0,0];return i.throttleOffset=[v[0]%1,v[1]%1],i.isDrag?s:!1},dragGroup:function(t,e){var r=e.datas;if(r.isDrag){var n=this.drag(t,k(k({},e),{parentThrottleDrag:t.props.throttleDrag})),i=e.datas.passDelta,a=So(t,this,"drag",i,e,!1,"draggable").eventParams;if(n){var o=k({targets:t.props.targets,events:a},n);return ut(t,"onDragGroup",o),o}}},dragGroupEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isDrag){this.dragEnd(t,e);var i=So(t,this,"dragEnd",[0,0],e,!1,"draggable").eventParams;return ut(t,"onDragGroupEnd",Re(t,e,{targets:t.props.targets,events:i})),r}},request:function(t){var e={},r=t.getRect(),n=0,i=0,a=!1;return{isControl:!1,requestStart:function(o){return a=o.useSnap,{datas:e,useSnap:a}},request:function(o){return"x"in o?n=o.x-r.left:"deltaX"in o&&(n+=o.deltaX),"y"in o?i=o.y-r.top:"deltaY"in o&&(i+=o.deltaY),{datas:e,distX:n,distY:i,useSnap:a}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:a}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function Nd(t,e){var r=te(t,e),n=[0,0];return{fixedPosition:r,fixedDirection:e,fixedOffset:n}}function W1(t,e){var r=t.allMatrix,n=t.is3d,i=t.width,a=t.height,o=n?4:3,s=[i/2*(1+e[0]),a/2*(1+e[1])],l=Wt(r,s,o),u=[0,0];return{fixedPosition:l,fixedDirection:e,fixedOffset:u}}function Ld(t,e){var r=t.allMatrix,n=t.is3d,i=t.width,a=t.height,o=n?4:3,s=a1(e,i,a),l=Wt(r,e,o),u=[i?0:e[0],a?0:e[1]];return{fixedPosition:l,fixedDirection:s,fixedOffset:u}}var Gu=Cl("resizable"),ds={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:Md("resizable"),dragControlCondition:Gu,viewClassName:_l("resizable"),dragControlStart:function(t,e){var r,n=e.inputEvent,i=e.isPinch,a=e.isGroup,o=e.parentDirection,s=e.parentGesto,l=e.datas,u=e.parentFixedDirection,c=e.parentEvent,f=Qd(o,i,n,l),d=t.state,v=d.target,p=d.width,h=d.height,g=d.gestos;if(!f||!v||g.resizable)return!1;g.resizable=s||t.controlGesto,!i&&qr(t,e),l.datas={},l.direction=f,l.startOffsetWidth=p,l.startOffsetHeight=h,l.prevWidth=0,l.prevHeight=0,l.minSize=[0,0],l.startWidth=d.inlineCSSWidth||d.cssWidth,l.startHeight=d.inlineCSSHeight||d.cssHeight,l.maxSize=[1/0,1/0],a||(l.minSize=[d.minOffsetWidth,d.minOffsetHeight],l.maxSize=[d.maxOffsetWidth,d.maxOffsetHeight]);var m=t.props.transformOrigin||"% %";l.transformOrigin=m&&ae(m)?m.split(" "):m,l.startOffsetMatrix=d.offsetMatrix,l.startTransformOrigin=d.transformOrigin,l.isWidth=(r=e==null?void 0:e.parentIsWidth)!==null&&r!==void 0?r:!f[0]&&!f[1]||f[0]||!f[1];function b(E){l.ratio=E&&isFinite(E)?E:0}l.startPositions=Le(t.state);function S(E){var D=Nd(l.startPositions,E);l.fixedDirection=D.fixedDirection,l.fixedPosition=D.fixedPosition,l.fixedOffset=D.fixedOffset}function y(E){var D=Ld(t.state,E);l.fixedDirection=D.fixedDirection,l.fixedPosition=D.fixedPosition,l.fixedOffset=D.fixedOffset}function x(E){l.minSize=[Rt("".concat(E[0]),0)||0,Rt("".concat(E[1]),0)||0]}function _(E){var D=[E[0]||1/0,E[1]||1/0];(!_n(D[0])||isFinite(D[0]))&&(D[0]=Rt("".concat(D[0]),0)||1/0),(!_n(D[1])||isFinite(D[1]))&&(D[1]=Rt("".concat(D[1]),0)||1/0),l.maxSize=D}b(p/h),S(u||[-f[0],-f[1]]),l.setFixedDirection=S,l.setFixedPosition=y,l.setMin=x,l.setMax=_;var w=_t(t,e,{direction:f,startRatio:l.ratio,set:function(E){var D=A(E,2),O=D[0],P=D[1];l.startWidth=O,l.startHeight=P},setMin:x,setMax:_,setRatio:b,setFixedDirection:S,setFixedPosition:y,setOrigin:function(E){l.transformOrigin=E},dragStart:ge.dragStart(t,new wn().dragStart([0,0],e))}),C=c||ut(t,"onResizeStart",w);return l.startFixedDirection=l.fixedDirection,l.startFixedPosition=l.fixedPosition,C!==!1&&(l.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:f}),l.isResize?w:!1},dragControl:function(t,e){var r,n=e.datas,i=e.parentFlag,a=e.isPinch,o=e.parentKeepRatio,s=e.dragClient,l=e.parentDist,u=e.useSnap,c=e.isRequest,f=e.isGroup,d=e.parentEvent,v=e.resolveMatrix,p=n.isResize,h=n.transformOrigin,g=n.startWidth,m=n.startHeight,b=n.prevWidth,S=n.prevHeight,y=n.minSize,x=n.maxSize,_=n.ratio,w=n.startOffsetWidth,C=n.startOffsetHeight,E=n.isWidth;if(!p)return;if(v){var D=t.state.is3d,O=n.startOffsetMatrix,P=n.startTransformOrigin,T=D?4:3,N=Cn(ga(e)),z=Math.sqrt(N.length);T!==z&&(N=Ue(N,z,T));var W=Ci(O,N,P,T),I=Kr(W,w,C,T);n.startPositions=I,n.nextTargetMatrix=N,n.nextAllMatrix=W}var L=jr(t.props,"resizable"),B=L.resizeFormat,$=L.throttleResize,G=$===void 0?i?0:1:$,j=L.parentMoveable,H=L.keepRatioFinally,q=n.direction,U=q,et=0,ot=0;!q[0]&&!q[1]&&(U=[1,1]);var ct=_&&(o??L.keepRatio)||!1;function ht(){var at=n.fixedDirection,st=av(U,ct,n,e);et=st.distWidth,ot=st.distHeight;var pt=U[0]-at[0]||ct?Math.max(w+et,Se):w,yt=U[1]-at[1]||ct?Math.max(C+ot,Se):C;return ct&&w&&C&&(E?yt=pt/_:pt=yt*_),[pt,yt]}var gt=A(ht(),2),nt=gt[0],lt=gt[1];d||(n.setFixedDirection(n.fixedDirection),ut(t,"onBeforeResize",_t(t,e,{startFixedDirection:n.startFixedDirection,startFixedPosition:n.startFixedPosition,setFixedDirection:function(at){var st;return n.setFixedDirection(at),st=A(ht(),2),nt=st[0],lt=st[1],[nt,lt]},setFixedPosition:function(at){var st;return n.setFixedPosition(at),st=A(ht(),2),nt=st[0],lt=st[1],[nt,lt]},boundingWidth:nt,boundingHeight:lt,setSize:function(at){var st;st=A(at,2),nt=st[0],lt=st[1]}},!0)));var M=s;s||(!i&&a?M=u1(t,[0,0]):M=n.fixedPosition);var R=[0,0];a||(R=nb(t,nt,lt,q,M,!u&&c,n)),l&&(!l[0]&&(R[0]=0),!l[1]&&(R[1]=0));function F(){var at;B&&(at=A(B([nt,lt]),2),nt=at[0],lt=at[1]),nt=bt(nt,G),lt=bt(lt,G)}if(ct){U[0]&&U[1]&&R[0]&&R[1]&&(tt(R[0])>tt(R[1])?R[1]=0:R[0]=0);var Y=!R[0]&&!R[1];Y&&F(),U[0]&&!U[1]||R[0]&&!R[1]||Y&&E?(nt+=R[0],lt=nt/_):(!U[0]&&U[1]||!R[0]&&R[1]||Y&&!E)&&(lt+=R[1],nt=lt*_)}else nt+=R[0],lt+=R[1],nt=Math.max(0,nt),lt=Math.max(0,lt);r=A(Us([nt,lt],y,x,ct?_:!1),2),nt=r[0],lt=r[1],F(),ct&&(f||H)&&(E?lt=nt/_:nt=lt*_),et=nt-w,ot=lt-C;var X=[et-b,ot-S];n.prevWidth=et,n.prevHeight=ot;var V=l1(t,nt,lt,M,h,n);if(!(!j&&X.every(function(at){return!at})&&V.every(function(at){return!at}))){var Z=ge.drag(t,_i(e,t.state,V,!!a,!1,"draggable")),J=Z.transform,rt=g+et,Q=m+ot,ft=_t(t,e,k({width:rt,height:Q,offsetWidth:Math.round(nt),offsetHeight:Math.round(lt),startRatio:_,boundingWidth:nt,boundingHeight:lt,direction:q,dist:[et,ot],delta:X,isPinch:!!a,drag:Z},ev({style:{width:"".concat(rt,"px"),height:"".concat(Q,"px")},transform:J},Z,e)));return!d&&ut(t,"onResize",ft),ft}},dragControlAfter:function(t,e){var r=e.datas,n=r.isResize,i=r.startOffsetWidth,a=r.startOffsetHeight,o=r.prevWidth,s=r.prevHeight;if(!(!n||t.props.checkResizableError===!1)){var l=t.state,u=l.width,c=l.height,f=u-(i+o),d=c-(a+s),v=tt(f)>3,p=tt(d)>3;if(v&&(r.startWidth+=f,r.startOffsetWidth+=f,r.prevWidth+=f),p&&(r.startHeight+=d,r.startOffsetHeight+=d,r.prevHeight+=d),v||p)return this.dragControl(t,e)}},dragControlEnd:function(t,e){var r=e.datas,n=e.parentEvent;if(r.isResize){r.isResize=!1;var i=Re(t,e,{});return!n&&ut(t,"onResizeEnd",i),i}},dragGroupControlCondition:Gu,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,k(k({},e),{isGroup:!0}));if(!n)return!1;var i=Xe(t,"resizable",e),a=r.startOffsetWidth,o=r.startOffsetHeight;function s(){var v=r.minSize;i.forEach(function(p){var h=p.datas,g=h.minSize,m=h.startOffsetWidth,b=h.startOffsetHeight,S=a*(m?g[0]/m:0),y=o*(b?g[1]/b:0);v[0]=Math.max(v[0],S),v[1]=Math.max(v[1],y)})}function l(){var v=r.maxSize;i.forEach(function(p){var h=p.datas,g=h.maxSize,m=h.startOffsetWidth,b=h.startOffsetHeight,S=a*(m?g[0]/m:0),y=o*(b?g[1]/b:0);v[0]=Math.min(v[0],S),v[1]=Math.min(v[1],y)})}var u=ur(t,this,"dragControlStart",e,function(v,p){return ma(t,v,r,p)});s(),l();var c=function(v){n.setFixedDirection(v),u.forEach(function(p,h){p.setFixedDirection(v),ma(t,p.moveable,r,i[h])})};r.setFixedDirection=c;var f=k(k({},n),{targets:t.props.targets,events:u.map(function(v){return k(k({},v),{setMin:function(p){v.setMin(p),s()},setMax:function(p){v.setMax(p),l()}})}),setFixedDirection:c,setMin:function(v){n.setMin(v),s()},setMax:function(v){n.setMax(v),l()}}),d=ut(t,"onResizeGroupStart",f);return r.isResize=d!==!1,r.isResize?n:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isResize){var n=jr(t.props,"resizable");Ka(t,"onBeforeResize",function(v){ut(t,"onBeforeResizeGroup",_t(t,e,k(k({},v),{targets:n.targets}),!0))});var i=this.dragControl(t,k(k({},e),{isGroup:!0}));if(i){var a=i.boundingWidth,o=i.boundingHeight,s=i.dist,l=n.keepRatio,u=[a/(a-s[0]),o/(o-s[1])],c=r.fixedPosition,f=ur(t,this,"dragControl",e,function(v,p){var h=A(ue(bi(t.rotation/180*Math.PI,3),[p.datas.originalX*u[0],p.datas.originalY*u[1],1],3),2),g=h[0],m=h[1];return k(k({},p),{parentDist:null,parentScale:u,dragClient:Et(c,[g,m]),parentKeepRatio:l})}),d=k({targets:n.targets,events:f},i);return ut(t,"onResizeGroup",d),d}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isResize){this.dragControlEnd(t,e);var i=ur(t,this,"dragControlEnd",e),a=Re(t,e,{targets:t.props.targets,events:i});return ut(t,"onResizeGroupEnd",a),r}},request:function(t){var e={},r=0,n=0,i=!1,a=t.getRect();return{isControl:!0,requestStart:function(o){var s;return i=o.useSnap,{datas:e,parentDirection:o.direction||[1,1],parentIsWidth:(s=o==null?void 0:o.horizontal)!==null&&s!==void 0?s:!0,useSnap:i}},request:function(o){return"offsetWidth"in o?r=o.offsetWidth-a.offsetWidth:"deltaWidth"in o&&(r+=o.deltaWidth),"offsetHeight"in o?n=o.offsetHeight-a.offsetHeight:"deltaHeight"in o&&(n+=o.deltaHeight),{datas:e,parentDist:[r,n],parentKeepRatio:o.keepRatio,useSnap:i}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:i}}}},unset:function(t){t.state.gestos.resizable=null}};function _o(t,e,r,n,i){var a=t.props.groupable,o=t.state,s=o.is3d?4:3,l=e.origin,u=Wt(t.state.rootMatrix,vt([l[0],l[1]],a?[0,0]:[o.left,o.top]),s),c=Et([i.left,i.top],u);e.startAbsoluteOrigin=c,e.prevDeg=jt(c,[r,n])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=tr(c,[r,n])}function na(t,e,r){var n=r.defaultDeg,i=r.prevDeg,a=i%360,o=Math.floor(i/360);a<0&&(a+=360),a>t&&a>270&&t<90?++o:a<t&&a<90&&t>270&&--o;var s=e*(o*360+t-n);return r.prevDeg=n+s,s}function Co(t,e,r,n){return na(jt(n.startAbsoluteOrigin,[t,e])/Math.PI*180,r,n)}function xo(t,e,r,n,i,a){var o=t.props.throttleRotate,s=o===void 0?0:o,l=r.prevSnapDeg,u=0,c=!1;if(a){var f=rb(t,e,n,i+n);c=f.isSnap,u=i+f.dist}c||(u=bt(i+n,s));var d=u-i;return r.prevSnapDeg=d,[d-l,d,u]}function Wd(t,e,r){var n=A(e,4),i=n[0],a=n[1],o=n[2],s=n[3];if(t==="none")return[];if(Ht(t))return t.map(function(g){return Wd(g,[i,a,o,s],r)[0]});var l=A((t||"top").split("-"),2),u=l[0],c=l[1],f=[i,a];u==="left"?f=[o,i]:u==="right"?f=[a,s]:u==="bottom"&&(f=[s,o]);var d=[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2],v=Zd(f,r);if(c){var p=c==="top"||c==="left",h=u==="bottom"||u==="left";d=f[p&&!h||!p&&h?0:1]}return[[d,v]]}function vs(t,e){if(e.isRequest)return e.requestAble==="rotatable";var r=e.inputEvent.target;if(Jt(r,dt("rotation-control"))||t.props.rotateAroundControls&&Jt(r,dt("around-control"))||Jt(r,dt("control"))&&Jt(r,dt("rotatable")))return!0;var n=t.props.rotationTarget;return n?xl(n,!0).some(function(i){return i?r===i||r.contains(i):!1}):!1}var $1=`.rotation {
position: absolute;
height: 40px;
width: 1px;
transform-origin: 50% 100%;
height: calc(40px * var(--zoom));
top: auto;
left: 0;
bottom: 100%;
will-change: transform;
}
.rotation .rotation-line {
display: block;
width: 100%;
height: 100%;
transform-origin: 50% 50%;
}
.rotation .rotation-control {
border-color: #4af;
border-color: var(--moveable-color);
background:#fff;
cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
cursor: alias;
}
.rotatable.direction.control.move {
cursor: move;
}
`,H1={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[$1],viewClassName:function(t){return t.isDragging("rotatable")?dt("view-rotation-dragging"):""},render:function(t,e){var r=jr(t.props,"rotatable"),n=r.rotatable,i=r.rotationPosition,a=r.zoom,o=r.renderDirections,s=r.rotateAroundControls,l=r.resolveAblesWithRotatable,u=t.getState(),c=u.renderPoses,f=u.direction;if(!n)return null;var d=Wd(i,c,f),v=[];if(d.forEach(function(m,b){var S=A(m,2),y=S[0],x=S[1];v.push(e.createElement("div",{key:"rotation".concat(b),className:dt("rotation"),style:{transform:"translate(-50%) translate(".concat(y[0],"px, ").concat(y[1],"px) rotate(").concat(x,"rad)")}},e.createElement("div",{className:dt("line rotation-line"),style:{transform:"scaleX(".concat(a,")")}}),e.createElement("div",{className:dt("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(a,")")}})))}),o){var p=dr(l||{}),h={};p.forEach(function(m){l[m].forEach(function(b){h[b]=m})});var g=[];Ht(o)&&(g=o.map(function(m){var b=h[m];return{data:b?{resolve:b}:{},classNames:b?["move"]:[],dir:m}})),v.push.apply(v,it([],A(wd(t,"rotatable",g,e)),!1))}return s&&v.push.apply(v,it([],A(Td(t,e)),!1)),v},dragControlCondition:vs,dragControlStart:function(t,e){var r,n,i=e.datas,a=e.clientX,o=e.clientY,s=e.parentRotate,l=e.parentFlag,u=e.isPinch,c=e.isRequest,f=t.state,d=f.target,v=f.left,p=f.top,h=f.direction,g=f.beforeDirection,m=f.targetTransform,b=f.moveableClientRect,S=f.offsetMatrix,y=f.targetMatrix,x=f.allMatrix,_=f.width,w=f.height;if(!c&&!d)return!1;var C=t.getRect();i.rect=C,i.transform=m,i.left=v,i.top=p;var E=function(U){var et=Ld(t.state,U);i.fixedDirection=et.fixedDirection,i.fixedOffset=et.fixedOffset,i.fixedPosition=et.fixedPosition,G&&G.setFixedPosition(U)},D=function(U){var et=W1(t.state,U);i.fixedDirection=et.fixedDirection,i.fixedOffset=et.fixedOffset,i.fixedPosition=et.fixedPosition,G&&G.setFixedDirection(U)},O=a,P=o;if(c||u||l){var T=s||0;i.beforeInfo={origin:C.beforeOrigin,prevDeg:T,defaultDeg:T,prevSnapDeg:0,startDist:0},i.afterInfo=k(k({},i.beforeInfo),{origin:C.origin}),i.absoluteInfo=k(k({},i.beforeInfo),{origin:C.origin,startValue:T})}else{var N=(n=e.inputEvent)===null||n===void 0?void 0:n.target;if(N){var z=N.getAttribute("data-direction")||"",W=qm[z];if(W){i.isControl=!0,i.isAroundControl=Jt(N,dt("around-control")),i.controlDirection=W;var I=N.getAttribute("data-resolve");I&&(i.resolveAble=I);var L=bb(f.rootMatrix,f.renderPoses,b);r=A(te(L,W),2),O=r[0],P=r[1]}}i.beforeInfo={origin:C.beforeOrigin},i.afterInfo={origin:C.origin},i.absoluteInfo={origin:C.origin,startValue:C.rotation};var B=E;E=function(U){var et=f.is3d?4:3,ot=A(Et(ed(y,et),U),2),ct=ot[0],ht=ot[1],gt=ue(S,Yr([ct,ht],et)),nt=ue(x,Yr([U[0],U[1]],et));B(U);var lt=f.posDelta;i.beforeInfo.origin=vt(gt,lt),i.afterInfo.origin=vt(nt,lt),i.absoluteInfo.origin=vt(nt,lt),_o(t,i.beforeInfo,O,P,b),_o(t,i.afterInfo,O,P,b),_o(t,i.absoluteInfo,O,P,b)},D=function(U){var et=te([[0,0],[_,0],[0,w],[_,w]],U);E(et)}}i.startClientX=O,i.startClientY=P,i.direction=h,i.beforeDirection=g,i.startValue=0,i.datas={},Xa(t,e,"rotate");var $=!1,G=!1;if(i.isControl&&i.resolveAble){var j=i.resolveAble;j==="resizable"&&(G=ds.dragControlStart(t,k(k({},new wn("resizable").dragStart([0,0],e)),{parentPosition:i.controlPosition,parentFixedPosition:i.fixedPosition})))}G||($=ge.dragStart(t,new wn().dragStart([0,0],e))),E(yb(t));var H=_t(t,e,k(k({set:function(U){i.startValue=U*Math.PI/180},setFixedDirection:D,setFixedPosition:E},Ya(t,e)),{dragStart:$,resizeStart:G})),q=ut(t,"onRotateStart",H);return i.isRotate=q!==!1,f.snapRenderInfo={request:e.isRequest},i.isRotate?H:!1},dragControl:function(t,e){var r,n,i,a=e.datas,o=e.clientDistX,s=e.clientDistY,l=e.parentRotate,u=e.parentFlag,c=e.isPinch,f=e.groupDelta,d=e.resolveMatrix,v=a.beforeDirection,p=a.beforeInfo,h=a.afterInfo,g=a.absoluteInfo,m=a.isRotate,b=a.startValue,S=a.rect,y=a.startClientX,x=a.startClientY;if(m){$a(t,e,"rotate");var _=Km(e),w=v*_,C=t.props.parentMoveable,E=0,D,O,P=0,T,N,z=0,W,I,L=180/Math.PI*b,B=g.startValue,$=!1,G=y+o,j=x+s;if(!u&&"parentDist"in e){var H=e.parentDist;D=H,T=H,W=H}else c||u?(D=na(l,v,p),T=na(l,w,h),W=na(l,w,g)):(D=Co(G,j,v,p),T=Co(G,j,w,h),W=Co(G,j,w,g),$=!0);if(O=L+D,N=L+T,I=B+W,ut(t,"onBeforeRotate",_t(t,e,{beforeRotation:O,rotation:N,absoluteRotation:I,setRotation:function(M){T=M-L,D=T,W=T}},!0)),r=A(xo(t,S,p,D,L,$),3),E=r[0],D=r[1],O=r[2],n=A(xo(t,S,h,T,L,$),3),P=n[0],T=n[1],N=n[2],i=A(xo(t,S,g,W,B,$),3),z=i[0],W=i[1],I=i[2],!(!z&&!P&&!E&&!C&&!d)){var q=Ha(a,"rotate(".concat(N,"deg)"),"rotate(".concat(T,"deg)"));d&&(a.fixedPosition=fl(t,a.targetAllTransform,a.fixedDirection,a.fixedOffset,a));var U=s1(t,T,a),et=vt(Et(f||[0,0],U),a.prevInverseDist||[0,0]);a.prevInverseDist=U,a.requestValue=null;var ot=_d(t,q,et,c,e),ct=ot,ht=tr([G,j],g.startAbsoluteOrigin)-g.startDist,gt=void 0;if(a.resolveAble==="resizable"){var nt=ds.dragControl(t,k(k({},_i(e,t.state,[e.deltaX,e.deltaY],!!c,!1,"resizable")),{resolveMatrix:!0,parentDistance:ht}));nt&&(gt=nt,ct=ev(ct,nt,e))}var lt=_t(t,e,k(k({delta:P,dist:T,rotate:N,rotation:N,beforeDist:D,beforeDelta:E,beforeRotate:O,beforeRotation:O,absoluteDist:W,absoluteDelta:z,absoluteRotate:I,absoluteRotation:I,isPinch:!!c,resize:gt},ot),ct));return ut(t,"onRotate",lt),lt}}},dragControlEnd:function(t,e){var r=e.datas;if(r.isRotate){r.isRotate=!1;var n=Re(t,e,{});return ut(t,"onRotateEnd",n),n}},dragGroupControlCondition:vs,dragGroupControlStart:function(t,e){var r=e.datas,n=t.state,i=n.left,a=n.top,o=n.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(r.beforeDirection*t.rotation);var l=ur(t,this,"dragControlStart",e,function(f,d){var v=f.state,p=v.left,h=v.top,g=v.beforeOrigin,m=Et(vt([p,h],[i,a]),vt(g,o));return d.datas.startGroupClient=m,d.datas.groupClient=m,k(k({},d),{parentRotate:0})}),u=k(k({},s),{targets:t.props.targets,events:l}),c=ut(t,"onRotateGroupStart",u);return r.isRotate=c!==!1,r.isRotate?s:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isRotate){Ka(t,"onBeforeRotate",function(u){ut(t,"onBeforeRotateGroup",_t(t,e,k(k({},u),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(n){var i=r.beforeDirection,a=n.beforeDist,o=a/180*Math.PI,s=ur(t,this,"dragControl",e,function(u,c){var f=c.datas.startGroupClient,d=A(c.datas.groupClient,2),v=d[0],p=d[1],h=A(mi(f,o*i),2),g=h[0],m=h[1],b=[g-v,m-p];return c.datas.groupClient=[g,m],k(k({},c),{parentRotate:a,groupDelta:b})});t.rotation=i*n.beforeRotation;var l=k({targets:t.props.targets,events:s,set:function(u){t.rotation=u},setGroupRotation:function(u){t.rotation=u}},n);return ut(t,"onRotateGroup",l),l}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isRotate){this.dragControlEnd(t,e);var i=ur(t,this,"dragControlEnd",e),a=Re(t,e,{targets:t.props.targets,events:i});return ut(t,"onRotateGroupEnd",a),r}},request:function(t){var e={},r=0,n=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(i){return"deltaRotate"in i?r+=i.deltaRotate:"rotate"in i&&(r=i.rotate-n),{datas:e,parentDist:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function Y1(t,e){var r,n=t.direction,i=t.classNames,a=t.size,o=t.pos,s=t.zoom,l=t.key,u=n==="horizontal",c=u?"Y":"X";return e.createElement("div",{key:l,className:i.join(" "),style:(r={},r[u?"width":"height"]="".concat(a),r.transform="translate(".concat(o[0],", ").concat(o[1],") translate").concat(c,"(-50%) scale").concat(c,"(").concat(s,")"),r)})}function ml(t,e){return Y1(k(k({},t),{classNames:it([dt("line","guideline",t.direction)],A(t.classNames),!1).filter(function(r){return r}),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map(function(r){return"".concat(bt(r,.1),"px")})}),e)}function Fu(t,e,r,n,i,a,o,s){var l=t.props.zoom;return r.map(function(u,c){var f=u.type,d=u.pos,v=[0,0];return v[o]=n,v[o?0:1]=-i+d,ml({key:"".concat(e,"TargetGuideline").concat(c),classNames:[dt("target","bold",f)],posValue:v,sizeValue:a,zoom:l,direction:e},s)})}function Nu(t,e,r,n,i,a){var o=t.props,s=o.zoom,l=o.isDisplayInnerSnapDigit,u=e==="horizontal"?Er:Dr,c=i[u.start],f=i[u.end];return r.filter(function(d){var v=d.hide,p=d.elementRect;if(v)return!1;if(l&&p){var h=p.rect;if(h[u.start]<=c&&f<=h[u.end])return!1}return!0}).map(function(d,v){var p=d.pos,h=d.size,g=d.element,m=d.className,b=[-n[0]+p[0],-n[1]+p[1]];return ml({key:"".concat(e,"-default-guideline-").concat(v),classNames:g?[dt("bold"),m]:[dt("normal"),m],direction:e,posValue:b,sizeValue:h,zoom:s},a)})}function Nn(t,e,r,n,i,a,o,s){var l,u=t.props,c=u.snapDigit,f=c===void 0?0:c,d=u.isDisplaySnapDigit,v=d===void 0?!0:d,p=u.snapDistFormat,h=p===void 0?function(x,_){return x}:p,g=u.zoom,m=e==="horizontal"?"X":"Y",b=e==="vertical"?"height":"width",S=Math.abs(i),y=v?parseFloat(S.toFixed(f)):0;return s.createElement("div",{key:"".concat(e,"-").concat(r,"-guideline-").concat(n),className:dt("guideline-group",e),style:(l={left:"".concat(a[0],"px"),top:"".concat(a[1],"px")},l[b]="".concat(S,"px"),l)},ml({direction:e,classNames:[dt(r),o],size:"100%",posValue:[0,0],sizeValue:S,zoom:g},s),s.createElement("div",{className:dt("size-value","gap"),style:{transform:"translate".concat(m,"(-50%) scale(").concat(g,")")}},y>0?h(y,e):""))}function X1(t,e,r,n){var i=t==="vertical"?0:1,a=t==="vertical"?1:0,o=i?Er:Dr,s=r[o.start],l=r[o.end];return rv(e,function(u){return u.pos[i]}).map(function(u){var c=[],f=[],d=[];return u.forEach(function(v){var p,h,g=v.element,m=v.elementRect.rect;if(m[o.end]<s)c.push(v);else if(l<m[o.start])f.push(v);else if(m[o.start]<=s&&l<=m[o.end]&&n){var b=v.pos,S={element:g,rect:k(k({},m),(p={},p[o.end]=m[o.start],p))},y={element:g,rect:k(k({},m),(h={},h[o.start]=m[o.end],h))},x=[0,0],_=[0,0];x[i]=b[i],x[a]=b[a],_[i]=b[i],_[a]=b[a]+v.size,c.push({type:t,pos:x,size:0,elementRect:S,direction:"",elementDirection:"end"}),f.push({type:t,pos:_,size:0,elementRect:y,direction:"",elementDirection:"start"})}}),c.sort(function(v,p){return p.pos[a]-v.pos[a]}),f.sort(function(v,p){return v.pos[a]-p.pos[a]}),{total:u,start:c,end:f,inner:d}})}function V1(t,e,r,n,i){var a=t.props.isDisplayInnerSnapDigit,o=[];return["vertical","horizontal"].forEach(function(s){var l=e.filter(function(g){return g.type===s}),u=s==="vertical"?1:0,c=u?0:1,f=X1(s,l,n,a),d=u?Dr:Er,v=u?Er:Dr,p=n[d.start],h=n[d.end];f.forEach(function(g){var m=g.total,b=g.start,S=g.end,y=g.inner,x=r[c]+m[0].pos[c]-n[v.start],_=n;b.forEach(function(w){var C=w.elementRect.rect,E=_[d.start]-C[d.end];if(E>0){var D=[0,0];D[u]=r[u]+_[d.start]-p-E,D[c]=x,o.push(Nn(t,s,"dashed",o.length,E,D,w.className,i))}_=C}),_=n,S.forEach(function(w){var C=w.elementRect.rect,E=C[d.start]-_[d.end];if(E>0){var D=[0,0];D[u]=r[u]+_[d.end]-p,D[c]=x,o.push(Nn(t,s,"dashed",o.length,E,D,w.className,i))}_=C}),y.forEach(function(w){var C=w.elementRect.rect,E=p-C[d.start],D=C[d.end]-h,O=[0,0],P=[0,0];O[u]=r[u]-E,O[c]=x,P[u]=r[u]+h-p,P[c]=x,o.push(Nn(t,s,"dashed",o.length,E,O,w.className,i)),o.push(Nn(t,s,"dashed",o.length,D,P,w.className,i))})})}),o}function j1(t,e,r,n,i){var a=[];return["horizontal","vertical"].forEach(function(o){var s=e.filter(function(g){return g.type===o}).slice(0,1),l=o==="vertical"?0:1,u=l?0:1,c=l?Dr:Er,f=l?Er:Dr,d=n[c.start],v=n[c.end],p=n[f.start],h=n[f.end];s.forEach(function(g){var m=g.gap,b=g.gapRects,S=Math.max.apply(Math,it([p],A(b.map(function(_){var w=_.rect;return w[f.start]})),!1)),y=Math.min.apply(Math,it([h],A(b.map(function(_){var w=_.rect;return w[f.end]})),!1)),x=(S+y)/2;S===y||x===(p+h)/2||b.forEach(function(_){var w=_.rect,C=_.className,E=[r[0],r[1]];if(w[c.end]<d)E[l]+=w[c.end]-d;else if(v<w[c.start])E[l]+=w[c.start]-d-m;else return;E[u]+=x-p,a.push(Nn(t,l?"vertical":"horizontal","gap",a.length,m,E,C,i))})})}),a}function ps(t){var e,r,n=t.state,i=n.containerClientRect,a=n.hasFixed,o=i.overflow,s=i.scrollHeight,l=i.scrollWidth,u=i.clientHeight,c=i.clientWidth,f=i.clientLeft,d=i.clientTop,v=t.props,p=v.snapGap,h=p===void 0?!0:p,g=v.verticalGuidelines,m=v.horizontalGuidelines,b=v.snapThreshold,S=b===void 0?5:b,y=v.maxSnapElementGuidelineDistance,x=y===void 0?1/0:y,_=v.isDisplayGridGuidelines,w=Ge(Le(t.state)),C=w.top,E=w.left,D=w.bottom,O=w.right,P={top:C,left:E,bottom:D,right:O,center:(E+O)/2,middle:(C+D)/2},T=Z1(t),N=it([],A(T),!1),z=((r=(e=n.snapThresholdInfo)===null||e===void 0?void 0:e.multiples)!==null&&r!==void 0?r:[1,1]).map(function(B){return B*S});h&&N.push.apply(N,it([],A(U1(t,P,z)),!1));var W=k({},n.snapOffset||{left:0,top:0,bottom:0,right:0});if(N.push.apply(N,it([],A(K1(t,o?l:c,o?s:u,f,d,W,_)),!1)),a){var I=i.left,L=i.top;W.left+=I,W.top+=L,W.right+=I,W.bottom+=L}return N.push.apply(N,it([],A(Hd(m||!1,g||!1,o?l:c,o?s:u,f,d,W)),!1)),N=N.filter(function(B){var $=B.element,G=B.elementRect,j=B.type;if(!$||!G)return!0;var H=G.rect;return $d(P,H,j,x)}),N}function U1(t,e,r){var n=t.props,i=n.maxSnapElementGuidelineDistance,a=i===void 0?1/0:i,o=n.maxSnapElementGapDistance,s=o===void 0?1/0:o,l=t.state.elementRects,u=[];return[["vertical",Er,Dr],["horizontal",Dr,Er]].forEach(function(c){var f=A(c,3),d=f[0],v=f[1],p=f[2],h=e[v.start],g=e[v.end],m=e[v.center],b=e[p.start],S=e[p.end],y={left:r[0],top:r[1]};function x(C){var E=C.rect,D=y[v.start];return E[v.end]<h+D?h-E[v.end]:g-D<E[v.start]?E[v.start]-g:-1}var _=l.filter(function(C){var E=C.rect;return E[p.start]>S||E[p.end]<b?!1:x(C)>0}).sort(function(C,E){return x(C)-x(E)}),w=[];_.forEach(function(C){_.forEach(function(E){if(C!==E){var D=C.rect,O=E.rect,P=D[p.start],T=D[p.end],N=O[p.start],z=O[p.end];P>z||N>T||w.push([C,E])}})}),w.forEach(function(C){var E=A(C,2),D=E[0],O=E[1],P=D.rect,T=O.rect,N=P[v.start],z=P[v.end],W=T[v.start],I=T[v.end],L=y[v.start],B=0,$=0,G=!1,j=!1,H=!1;if(z<=h&&g<=W){if(j=!0,B=(W-z-(g-h))/2,$=z+B+(g-h)/2,tt($-m)>L)return}else if(z<W&&I<h+L){if(G=!0,B=W-z,$=I+B,tt($-h)>L)return}else if(z<W&&g-L<N){if(H=!0,B=W-z,$=N-B,tt($-g)>L)return}else return;B&&$d(e,T,d,a)&&(B>s||u.push({type:d,pos:d==="vertical"?[$,0]:[0,$],element:O.element,size:0,className:O.className,isStart:G,isCenter:j,isEnd:H,gap:B,hide:!0,gapRects:[D,O],direction:"",elementDirection:""}))})}),u}function q1(t,e,r,n){var i,a,o=t.props,s=t.state,l=o.snapGridAll,u=o.snapGridWidth,c=u===void 0?0:u,f=o.snapGridHeight,d=f===void 0?0:f,v=s.snapRenderInfo,p=v&&(((i=v.direction)===null||i===void 0?void 0:i[0])||((a=v.direction)===null||a===void 0?void 0:a[1])),h=t.moveables;if(l&&h&&p&&(c||d)){if(s.snapThresholdInfo)return;s.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var g=t.getRect(),m=g.children,b=v.direction;if(m){var S=b.map(function(x,_){var w=_===0?{snapSize:c,posName:"left",sizeName:"width",clientOffset:n.left-e}:{snapSize:d,posName:"top",sizeName:"height",clientOffset:n.top-r},C=w.snapSize,E=w.posName,D=w.sizeName,O=w.clientOffset;if(!C)return{dir:x,multiple:1,snapSize:C,snapOffset:0};var P=g[D],T=g[E],N=Pf(m.map(function(G){return[G[E]-T,G[D],P-G[D]-G[E]+T]})).filter(function(G){return G}).sort(function(G,j){return G-j}),z=N[0],W=N.map(function(G){return bt(G/z,.1)*C}),I=1,L=bt(P/z,.1);for(I=1;I<=10&&!W.every(function(G){return G*I%1===0});++I);var B=(-x+1)/2,$=ca(T-O,T-O+P,B,1-B);return{multiple:L*I,dir:x,snapSize:C,snapOffset:Math.round($/C)}}),y=S.map(function(x){return x.multiple||1});s.snapThresholdInfo.multiples=y,s.snapThresholdInfo.offset=S.map(function(x){return x.snapOffset}),S.forEach(function(x,_){x.snapSize})}}else s.snapThresholdInfo=null}function K1(t,e,r,n,i,a,o){n===void 0&&(n=0),i===void 0&&(i=0);var s=t.props,l=t.state,u=s.snapGridWidth,c=u===void 0?0:u,f=s.snapGridHeight,d=f===void 0?0:f,v=[],p=a.left,h=a.top,g=[0,0];q1(t,n,i,a);var m=l.snapThresholdInfo,b=c,S=d;if(m&&(c*=m.multiples[0]||1,d*=m.multiples[1]||1,g=m.offset),d){for(var y=function(_){v.push({type:"horizontal",pos:[p,bt(g[1]*S+_-i+h,.1)],className:dt("grid-guideline"),size:e,hide:!o,direction:"",grid:!0})},x=0;x<=r*2;x+=d)y(x);for(var x=-d;x>=-r;x-=d)y(x)}if(c){for(var y=function(w){v.push({type:"vertical",pos:[bt(g[0]*b+w-n+p,.1),h],className:dt("grid-guideline"),size:r,hide:!o,direction:"",grid:!0})},x=0;x<=e*2;x+=c)y(x);for(var x=-c;x>=-e;x-=c)y(x)}return v}function $d(t,e,r,n){return r==="horizontal"?tt(t.right-e.left)<=n||tt(t.left-e.right)<=n||t.left<=e.right&&e.left<=t.right:r==="vertical"?tt(t.bottom-e.top)<=n||tt(t.top-e.bottom)<=n||t.top<=e.bottom&&e.top<=t.bottom:!0}function Z1(t){var e=t.state,r=t.props.elementGuidelines,n=r===void 0?[]:r;if(!n.length)return e.elementRects=[],[];var i=(e.elementRects||[]).filter(function(d){return!d.refresh}),a=n.map(function(d){return Te(d)&&"element"in d?k(k({},d),{element:er(d.element,!0)}):{element:er(d,!0)}}).filter(function(d){return d.element}),o=an(i.map(function(d){return d.element}),a.map(function(d){return d.element})),s=o.maintained,l=o.added,u=[];s.forEach(function(d){var v=A(d,2),p=v[0],h=v[1];u[h]=i[p]}),J1(t,l.map(function(d){return a[d]})).map(function(d,v){u[l[v]]=d}),e.elementRects=u;var c=vl(t.props.elementSnapDirections),f=[];return u.forEach(function(d){var v=d.element,p=d.top,h=p===void 0?c.top:p,g=d.left,m=g===void 0?c.left:g,b=d.right,S=b===void 0?c.right:b,y=d.bottom,x=y===void 0?c.bottom:y,_=d.center,w=_===void 0?c.center:_,C=d.middle,E=C===void 0?c.middle:C,D=d.className,O=d.rect,P=pl({top:h,right:S,left:m,bottom:x,center:w,middle:E},O),T=P.horizontal,N=P.vertical,z=P.horizontalNames,W=P.verticalNames,I=O.top,L=O.left,B=O.right-L,$=O.bottom-I,G=[B,$];N.forEach(function(j,H){f.push({type:"vertical",element:v,pos:[bt(j,.1),I],size:$,sizes:G,className:D,elementRect:d,elementDirection:Ru[W[H]]||W[H],direction:""})}),T.forEach(function(j,H){f.push({type:"horizontal",element:v,pos:[L,bt(j,.1)],size:B,sizes:G,className:D,elementRect:d,elementDirection:Ru[z[H]]||z[H],direction:""})})}),f}function Lu(t,e){return t?t.map(function(r){var n=Te(r)?r:{pos:r},i=n.pos;return _n(i)?n:k(k({},n),{pos:Rt(i,e)})}):[]}function Hd(t,e,r,n,i,a,o){i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o={left:0,top:0,right:0,bottom:0});var s=[],l=o.left,u=o.top,c=o.bottom,f=o.right,d=r+f-l,v=n+c-u;return Lu(t,v).forEach(function(p){s.push({type:"horizontal",pos:[l,bt(p.pos-a+u,.1)],size:d,className:p.className,direction:""})}),Lu(e,d).forEach(function(p){s.push({type:"vertical",pos:[bt(p.pos-i+l,.1),u],size:v,className:p.className,direction:""})}),s}function J1(t,e){if(!e.length)return[];var r=t.props.groupable,n=t.state,i=n.containerClientRect,a=n.rootMatrix,o=n.is3d,s=n.offsetDelta,l=o?4:3,u=A(C1(a,i,l),2),c=u[0],f=u[1],d=r?0:s[0],v=r?0:s[1];return e.map(function(p){var h=p.element.getBoundingClientRect(),g=h.left-c-d,m=h.top-f-v,b=m+h.height,S=g+h.width,y=A(Mn(a,[g,m],l),2),x=y[0],_=y[1],w=A(Mn(a,[S,b],l),2),C=w[0],E=w[1];return k(k({},p),{rect:{left:x,right:C,top:_,bottom:E,center:(x+C)/2,middle:(_+E)/2}})})}function Yi(t){var e=t.state,r=e.container,n=t.props.snapContainer||r;if(e.snapContainer===n&&e.guidelines&&e.guidelines.length)return!1;var i=e.containerClientRect,a={left:0,top:0,bottom:0,right:0};if(r!==n){var o=er(n,!0);if(o){var s=Kn(o),l=Vu(e,[s.left-i.left,s.top-i.top]),u=Vu(e,[s.right-i.right,s.bottom-i.bottom]);a.left=bt(l[0],1e-5),a.top=bt(l[1],1e-5),a.right=bt(u[0],1e-5),a.bottom=bt(u[1],1e-5)}}return e.snapContainer=n,e.snapOffset=a,e.guidelines=ps(t),e.enableSnap=!0,!0}function Yd(t,e,r,n,i,a){var o=Kr(t,e,r,a?4:3),s=te(o,n);return yl(o,vt(i,s))}function Wu(t){return t?t/tt(t):0}function Q1(t,e,r,n,i,a){var o=a.fixedDirection,s=D1(r,o,n),l=gl(t,e,r,n),u=it(it([],A(F1(t,e,s,n,i,a)),!1),A(Fd(t,l,a)),!1),c=ba(u,0),f=ba(u,1);return{width:{isBound:c.isBound,offset:c.offset[0]},height:{isBound:f.isBound,offset:f.offset[1]}}}function tb(t,e,r,n,i,a,o,s,l){var u=te(e,o),c=Ua(t,s,{vertical:[u[0]],horizontal:[u[1]]}),f=c.horizontal.offset,d=c.vertical.offset;if(bt(d,ss)||bt(f,ss)){var v=A(nr({datas:l,distX:-d,distY:-f}),2),p=v[0],h=v[1],g=Math.min(i||1/0,r+o[0]*p),m=Math.min(a||1/0,n+o[1]*h);return[g-r,m-n]}return[0,0]}function Xd(t,e,r,n,i,a,o,s){for(var l=Le(t.state),u=t.props.keepRatio,c=0,f=0,d=0;d<2;++d){var v=e(c,f),p=Q1(t,v,i,u,o,s),h=p.width,g=p.height,m=h.isBound,b=g.isBound,S=h.offset,y=g.offset;if(d===1&&(m||(S=0),b||(y=0)),d===0&&o&&!m&&!b)return[0,0];if(u){var x=tt(S)*(r?1/r:1),_=tt(y)*(n?1/n:1),w=m&&b?x<_:b||!m&&x<_;w?S=r*y/n:y=n*S/r}c+=S,f+=y}if(!u&&i[0]&&i[1]){var C=L1(t,l,i,a,s),E=C.maxWidth,D=C.maxHeight,O=A(tb(t,e(c,f).map(function(N){return N.map(function(z){return bt(z,ss)})}),r+c,n+f,E,D,i,o,s),2),S=O[0],y=O[1];c+=S,f+=y}return[c,f]}function Un(t){return t<0&&(t=t%360+360),t%=360,t}function eb(t,e){e=Un(e);var r=Math.floor(t/360),n=r*360+360-e,i=r*360+e;return tt(t-n)<tt(t-i)?n:i}function wo(t,e){t=Un(t),e=Un(e);var r=Un(t-e);return Math.min(r,360-r)}function rb(t,e,r,n){var i,a=t.props,o=(i=a[Rd])!==null&&i!==void 0?i:5,s=a[Pd];if(In(t,"rotatable")){var l=e.pos1,u=e.pos2,c=e.pos3,f=e.pos4,d=e.origin,v=r*Math.PI/180,p=[l,u,c,f].map(function(y){return vt(y,d)}),h=p.map(function(y){return mi(y,v)}),g=it(it([],A(b1(t,p,h,d,r)),!1),A(k1(t,p,h,d,r)),!1);g.sort(function(y,x){return tt(y-r)-tt(x-r)});var m=g.length>0;if(m)return{isSnap:m,dist:m?g[0]:r}}if(s!=null&&s.length&&o){var b=s.slice().sort(function(y,x){return wo(y,n)-wo(x,n)}),S=b[0];if(wo(S,n)<=o)return{isSnap:!0,dist:r+eb(n,S)-n}}return{isSnap:!1,dist:r}}function nb(t,e,r,n,i,a,o){if(!In(t,"resizable"))return[0,0];var s=o.fixedDirection,l=o.nextAllMatrix,u=t.state,c=u.allMatrix,f=u.is3d;return Xd(t,function(d,v){return Yd(l||c,e+d,r+v,s,i,f)},e,r,n,i,a,o)}function ib(t,e,r,n,i){if(!In(t,"scalable"))return[0,0];var a=i.startOffsetWidth,o=i.startOffsetHeight,s=i.fixedPosition,l=i.fixedDirection,u=i.is3d,c=Xd(t,function(f,d){return Yd(n1(i,Et(e,[f/a,d/o])),a,o,l,s,u)},a,o,r,s,n,i);return[c[0]/a,c[1]/o]}function ab(t,e){e.absolutePoses=Le(t.state)}function $u(t){var e=[];return t.forEach(function(r){r.guidelineInfos.forEach(function(n){var i=n.guideline;xe(e,function(a){return a.guideline===i})||(i.direction="",e.push({guideline:i,posInfo:r}))})}),e.map(function(r){var n=r.guideline,i=r.posInfo;return k(k({},n),{direction:i.direction})})}function Hu(t,e,r,n,i,a){var o=dl(Va(t,a),e,r),s=o.vertical,l=o.horizontal,u=ln();s.forEach(function(p){p.isBound&&(p.direction==="start"&&(u.left=!0),p.direction==="end"&&(u.right=!0),n.push({type:"bounds",pos:p.pos}))}),l.forEach(function(p){p.isBound&&(p.direction==="start"&&(u.top=!0),p.direction==="end"&&(u.bottom=!0),i.push({type:"bounds",pos:p.pos}))});var c=I1(t),f=c.boundMap,d=c.vertical,v=c.horizontal;return d.forEach(function(p){fr(n,function(h){var g=h.type,m=h.pos;return g==="bounds"&&m===p})>=0||n.push({type:"bounds",pos:p})}),v.forEach(function(p){fr(i,function(h){var g=h.type,m=h.pos;return g==="bounds"&&m===p})>=0||i.push({type:"bounds",pos:p})}),{boundMap:u,innerBoundMap:f}}var ob=Cl("",["resizable","scalable"]),sb={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",Rd,Pd,kd,Id,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[`:host {
--bounds-color: #d66;
}
.guideline {
pointer-events: none;
z-index: 2;
}
.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}
.guideline-group {
position: absolute;
top: 0;
left: 0;
}
.guideline-group .size-value {
position: absolute;
color: #f55;
font-size: 12px;
font-size: calc(12px * var(--zoom));
font-weight: bold;
}
.guideline-group.horizontal .size-value {
transform-origin: 50% 100%;
transform: translateX(-50%);
left: 50%;
bottom: 5px;
bottom: calc(2px + 3px * var(--zoom));
}
.guideline-group.vertical .size-value {
transform-origin: 0% 50%;
top: 50%;
transform: translateY(-50%);
left: 5px;
left: calc(2px + 3px * var(--zoom));
}
.guideline.gap {
background: #f55;
}
.size-value.gap {
color: #f55;
}
`],render:function(t,e){var r=t.state,n=r.top,i=r.left,a=r.pos1,o=r.pos2,s=r.pos3,l=r.pos4,u=r.snapRenderInfo,c=t.props.snapRenderThreshold,f=c===void 0?1:c;if(!u||!u.render||!In(t,""))return cn(t,"boundMap",ln(),function(q){return JSON.stringify(q)}),cn(t,"innerBoundMap",ln(),function(q){return JSON.stringify(q)}),[];r.guidelines=ps(t);var d=Math.min(a[0],o[0],s[0],l[0]),v=Math.min(a[1],o[1],s[1],l[1]),p=u.externalPoses||[],h=Le(t.state),g=[],m=[],b=[],S=[],y=[],x=Ge(h),_=x.width,w=x.height,C=x.top,E=x.left,D=x.bottom,O=x.right,P={left:E,right:O,top:C,bottom:D,center:(E+O)/2,middle:(C+D)/2},T=p.length>0,N=T?Ge(p):{};if(!u.request){if(u.direction&&y.push(E1(t,h,u.direction,f,f)),u.snap){var z=Ge(h);u.center&&(z.middle=(z.top+z.bottom)/2,z.center=(z.left+z.right)/2),y.push(Pu(t,z,f,f))}T&&(u.center&&(N.middle=(N.top+N.bottom)/2,N.center=(N.left+N.right)/2),y.push(Pu(t,N,f,f))),y.forEach(function(q){var U=q.vertical.posInfos,et=q.horizontal.posInfos;g.push.apply(g,it([],A(U.filter(function(ot){var ct=ot.guidelineInfos;return ct.some(function(ht){var gt=ht.guideline;return!gt.hide})}).map(function(ot){return{type:"snap",pos:ot.pos}})),!1)),m.push.apply(m,it([],A(et.filter(function(ot){var ct=ot.guidelineInfos;return ct.some(function(ht){var gt=ht.guideline;return!gt.hide})}).map(function(ot){return{type:"snap",pos:ot.pos}})),!1)),b.push.apply(b,it([],A($u(U)),!1)),S.push.apply(S,it([],A($u(et)),!1))})}var W=Hu(t,[E,O],[C,D],g,m),I=W.boundMap,L=W.innerBoundMap;T&&Hu(t,[N.left,N.right],[N.top,N.bottom],g,m,u.externalBounds);var B=it(it([],A(b),!1),A(S),!1),$=B.filter(function(q){return q.element&&!q.gapRects}),G=B.filter(function(q){return q.gapRects}).sort(function(q,U){return q.gap-U.gap});ut(t,"onSnap",{guidelines:B.filter(function(q){var U=q.element;return!U}),elements:$,gaps:G},!0);var j=cn(t,"boundMap",I,function(q){return JSON.stringify(q)},ln()),H=cn(t,"innerBoundMap",L,function(q){return JSON.stringify(q)},ln());return(I===j||L===H)&&ut(t,"onBound",{bounds:I,innerBounds:L},!0),it(it(it(it(it(it([],A(V1(t,$,[d,v],P,e)),!1),A(j1(t,G,[d,v],P,e)),!1),A(Nu(t,"horizontal",S,[i,n],P,e)),!1),A(Nu(t,"vertical",b,[i,n],P,e)),!1),A(Fu(t,"horizontal",m,d,n,_,0,e)),!1),A(Fu(t,"vertical",g,v,i,w,1,e)),!1)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},Yi(t)},drag:function(t){var e=t.state;Yi(t)||(e.guidelines=ps(t)),e.snapRenderInfo&&(e.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){if(ob(t,e)||vs(t,e))return!0;if(!e.isRequest&&e.inputEvent)return Jt(e.inputEvent.target,dt("snap-control"))},dragControlStart:function(t){t.state.snapRenderInfo=null,Yi(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,Yi(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function lb(t,e){return[t[0]*e[0],t[1]*e[1]]}function dt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return c0.apply(void 0,it([ll],A(t),!1))}function Vd(t){t()}function ub(t){return!t||t==="none"?[1,0,0,1,0,0]:Te(t)?t:Cn(t)}function qn(t,e,r){return va(e,Xr(r,e),t,Xr(r.map(function(n){return-n}),e))}function cb(t,e,r){if(e==="%"){var n=bl(t.ownerSVGElement);return n[r?"width":"height"]/100}return 1}function fb(t){var e=db(Sl(t,":before"));return e.map(function(r,n){var i=Hr(r),a=i.value,o=i.unit;return a*cb(t,o,n===0)})}function Sa(t){return t?t.split(" "):["0","0"]}function db(t){return Sa(t.transformOrigin)}function jd(t){var e=we(t),r=e("transform");if(r&&r!=="none")return r;if("transform"in t){var n=t.transform,i=n.baseVal;if(!i)return"";var a=i.length;if(!a)return"";for(var o=[],s=function(u){var c=i[u].matrix;o.push("matrix(".concat(["a","b","c","d","e","f"].map(function(f){return c[f]}).join(", "),")"))},l=0;l<a;++l)s(l);return o.join(" ")}return""}function li(t,e,r,n,i){var a,o,s=Ks(t)||Rr(t),l=!1,u,c;if(!t||r)u=t;else{var f=(a=t==null?void 0:t.assignedSlot)===null||a===void 0?void 0:a.parentElement,d=t.parentElement;f?(l=!0,c=d,u=f):u=d}for(var v=!1,p=t===e||u===e,h="relative",g=1,m=parseFloat(i==null?void 0:i("zoom"))||1,b=i==null?void 0:i("position");u&&u!==s;){e===u&&(p=!0);var S=we(u),y=u.tagName.toLowerCase(),x=jd(u),_=S("willChange"),w=parseFloat(S("zoom"))||1;if(h=S("position"),n&&w!==1){g=w;break}if(!r&&n&&m!==1&&b&&b!=="absolute"||y==="svg"||y==="foreignobject"||h!=="static"||x&&x!=="none"||_==="transform")break;var C=(o=t==null?void 0:t.assignedSlot)===null||o===void 0?void 0:o.parentNode,E=u.parentNode;C&&(l=!0,c=E);var D=E;if(D&&D.nodeType===11){u=D.host,v=!0,h=we(u)("position");break}u=D,h="relative"}return{offsetZoom:g,hasSlot:l,parentSlotElement:c,isCustomElement:v,isStatic:h==="static",isEnd:p||!u||u===s,offsetParent:u||s}}function vb(t,e){var r,n=t.tagName.toLowerCase(),i=t.offsetLeft,a=t.offsetTop,o=we(t),s=Tn(i),l=!s,u,c;return!l&&(n!=="svg"||t.ownerSVGElement)?(u=dd?fb(t):Sa(o("transformOrigin")).map(function(f){return parseFloat(f)}),c=u.slice(),l=!0,n==="svg"?(i=0,a=0):(r=A(gb(t,u,t===e&&e.tagName.toLowerCase()==="g"),4),i=r[0],a=r[1],u[0]=r[2],u[1]=r[3])):(u=Sa(o("transformOrigin")).map(function(f){return parseFloat(f)}),c=u.slice()),{tagName:n,isSVG:s,hasOffset:l,offset:[i||0,a||0],origin:u,targetOrigin:c}}function Ud(t,e){var r=we(t),n=we(Rr(t)),i=n("position");if(!e&&(!i||i==="static"))return[0,0];var a=parseInt(n("marginLeft"),10),o=parseInt(n("marginTop"),10);return r("position")==="absolute"&&((r("top")!=="auto"||r("bottom")!=="auto")&&(o=0),(r("left")!=="auto"||r("right")!=="auto")&&(a=0)),[a,o]}function hs(t){t.forEach(function(e){var r=e.matrix;r&&(e.matrix=Ue(r,3,4))})}function pb(t){for(var e=t.parentElement,r=!1,n=Rr(t);e;){var i=Sl(e).transform;if(i&&i!=="none"){r=!0;break}if(e===n)break;e=e.parentElement}return{fixedContainer:e||n,hasTransform:r}}function qa(t,e){return e===void 0&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(rd(t,!e).join(","),")")}function bl(t){var e=t.clientWidth,r=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:r};var n=t.viewBox,i=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||r,clientWidth:e,clientHeight:r}}function hb(t,e){var r,n=bl(t),i=n.width,a=n.height,o=n.clientWidth,s=n.clientHeight,l=o/i,u=s/a,c=t.preserveAspectRatio.baseVal,f=c.align,d=c.meetOrSlice,v=[0,0],p=[l,u],h=[0,0];if(f!==1){var g=(f-2)%3,m=Math.floor((f-2)/3);v[0]=i*g/2,v[1]=a*m/2;var b=d===2?Math.max(u,l):Math.min(l,u);p[0]=b,p[1]=b,h[0]=(o-i)/2*g,h[1]=(s-a)/2*m}var S=nl(p,e);return r=A(h,2),S[e*(e-1)]=r[0],S[e*(e-1)+1]=r[1],qn(S,e,v)}function gb(t,e,r){var n=t.tagName.toLowerCase();if(!t.getBBox||!r&&n==="g")return[0,0,0,0];var i=we(t),a=i("transform-box")==="fill-box",o=t.getBBox(),s=bl(t.ownerSVGElement),l=o.x,u=o.y;n==="foreignobject"&&!l&&!u&&(l=parseFloat(t.getAttribute("x"))||0,u=parseFloat(t.getAttribute("y"))||0);var c=l-s.x,f=u-s.y,d=a?e[0]:e[0]-c,v=a?e[1]:e[1]-f;return[c,f,d,v]}function Wt(t,e,r){return ue(t,Yr(e,r),r)}function Kr(t,e,r,n){return[[0,0],[e,0],[0,r],[e,r]].map(function(i){return Wt(t,i,n)})}function Ge(t){var e=t.map(function(u){return u[0]}),r=t.map(function(u){return u[1]}),n=Math.min.apply(Math,it([],A(e),!1)),i=Math.min.apply(Math,it([],A(r),!1)),a=Math.max.apply(Math,it([],A(e),!1)),o=Math.max.apply(Math,it([],A(r),!1)),s=a-n,l=o-i;return{left:n,top:i,right:a,bottom:o,width:s,height:l}}function Yu(t,e,r,n){var i=Kr(t,e,r,n);return Ge(i)}function mb(t,e,r,n,i){var a,o=t.target,s=t.origin,l=e.matrix,u=Kd(o),c=u.offsetWidth,f=u.offsetHeight,d=r.getBoundingClientRect(),v=[0,0];r===Rr(r)&&(v=Ud(o,!0));for(var p=o.getBoundingClientRect(),h=p.left-d.left+r.scrollLeft-(r.clientLeft||0)+v[0],g=p.top-d.top+r.scrollTop-(r.clientTop||0)+v[1],m=p.width,b=p.height,S=va(n,i,l),y=Yu(S,c,f,n),x=y.left,_=y.top,w=y.width,C=y.height,E=Wt(S,s,n),D=vt(E,[x,_]),O=[h+D[0]*m/w,g+D[1]*b/C],P=[0,0],T=0;++T<10;){var N=je(i,n);a=A(vt(Wt(N,O,n),Wt(N,E,n)),2),P[0]=a[0],P[1]=a[1];var z=va(n,i,Xr(P,n),l),W=Yu(z,c,f,n),I=W.left,L=W.top,B=I-h,$=L-g;if(tt(B)<2&&tt($)<2)break;O[0]-=B,O[1]-=$}return P.map(function(G){return Math.round(G)})}function bb(t,e,r){var n=t.length===16,i=n?4:3,a=e.map(function(l){return Wt(t,l,i)}),o=r.left,s=r.top;return a.map(function(l){return[l[0]+o,l[1]+s]})}function Ne(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function qd(t,e){return Ne([e[0]-t[0],e[1]-t[1]])}function Ln(t,e,r,n){r===void 0&&(r=1),n===void 0&&(n=jt(t,e));var i=qd(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(n,"rad) scaleY(").concat(r,")"),width:"".concat(i,"px")}}function _a(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r.length,a=r.reduce(function(s,l){return s+l[0]},0)/i,o=r.reduce(function(s,l){return s+l[1]},0)/i;return{transform:"translateZ(0px) translate(".concat(a,"px, ").concat(o,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function jr(t,e){var r=t[e];return Te(r)?k(k({},t),r):t}function Kd(t){var e=t&&!Tn(t.offsetWidth),r=0,n=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,v=0,p=1/0,h=1/0,g=1/0,m=1/0,b=0,S=0,y=!1;if(t)if(!e&&t.ownerSVGElement){var x=t.getBBox();y=!0,r=x.width,n=x.height,o=r,s=n,l=r,u=n,i=r,a=n}else{var _=we(t),w=t.style,C=_("boxSizing")==="border-box",E=parseFloat(_("borderLeftWidth"))||0,D=parseFloat(_("borderRightWidth"))||0,O=parseFloat(_("borderTopWidth"))||0,P=parseFloat(_("borderBottomWidth"))||0,T=parseFloat(_("paddingLeft"))||0,N=parseFloat(_("paddingRight"))||0,z=parseFloat(_("paddingTop"))||0,W=parseFloat(_("paddingBottom"))||0,I=T+N,L=z+W,B=E+D,$=O+P,G=I+B,j=L+$,H=_("position"),q=0,U=0;if("clientLeft"in t){var et=null;if(H==="absolute"){var ot=li(t,Rr(t));et=ot.offsetParent}else et=t.parentElement;if(et){var ct=we(et);q=parseFloat(ct("width")),U=parseFloat(ct("height"))}}c=Math.max(I,Rt(_("minWidth"),q)||0),f=Math.max(L,Rt(_("minHeight"),U)||0),p=Rt(_("maxWidth"),q),h=Rt(_("maxHeight"),U),isNaN(p)&&(p=1/0),isNaN(h)&&(h=1/0),b=Rt(w.width,0)||0,S=Rt(w.height,0)||0,o=parseFloat(_("width"))||0,s=parseFloat(_("height"))||0,l=tt(o-b)<1?fa(c,b||o,p):o,u=tt(s-S)<1?fa(f,S||s,h):s,r=l,n=u,i=l,a=u,C?(g=p,m=h,d=c,v=f,l=r-G,u=n-j):(g=p+G,m=h+j,d=c+G,v=f+j,r=l+G,n=u+j),i=l+I,a=u+L}return{svg:y,offsetWidth:r,offsetHeight:n,clientWidth:i,clientHeight:a,contentWidth:l,contentHeight:u,inlineCSSWidth:b,inlineCSSHeight:S,cssWidth:o,cssHeight:s,minWidth:c,minHeight:f,maxWidth:p,maxHeight:h,minOffsetWidth:d,minOffsetHeight:v,maxOffsetWidth:g,maxOffsetHeight:m}}function Zd(t,e){return jt(e>0?t[0]:t[1],e>0?t[1]:t[0])}function Xi(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function Jd(t,e){var r=t===Rr(t)||t===Ks(t),n={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return r&&(n.clientHeight=Math.max(e.height,n.clientHeight),n.scrollHeight=Math.max(e.height,n.scrollHeight)),n.overflow=we(t)("overflow")!=="visible",k(k({},e),n)}function Eo(t,e,r,n){var i=t.left,a=t.right,o=t.top,s=t.bottom,l=e.top,u=e.left,c={left:u+i,top:l+o,right:u+a,bottom:l+s,width:a-i,height:s-o};return r&&n?Jd(r,c):c}function Kn(t,e){var r=0,n=0,i=0,a=0;if(t){var o=t.getBoundingClientRect();r=o.left,n=o.top,i=o.width,a=o.height}var s={left:r,top:n,width:i,height:a,right:r+i,bottom:n+a};return t&&e?Jd(t,s):s}function yb(t){var e=t.props,r=e.groupable,n=e.svgOrigin,i=t.getState(),a=i.offsetWidth,o=i.offsetHeight,s=i.svg,l=i.transformOrigin;return!r&&s&&n?wl(n,a,o):l}function Qd(t,e,r,n){var i;if(t)i=t;else if(e)i=[0,0];else{var a=r.target;i=tv(a,n)}return i}function tv(t,e){if(t){var r=t.getAttribute("data-rotation")||"",n=t.getAttribute("data-direction");if(e.deg=r,!!n){var i=[0,0];return n.indexOf("w")>-1&&(i[0]=-1),n.indexOf("e")>-1&&(i[0]=1),n.indexOf("n")>-1&&(i[1]=-1),n.indexOf("s")>-1&&(i[1]=1),i}}}function yl(t,e){return[Et(e,t[0]),Et(e,t[1]),Et(e,t[2]),Et(e,t[3])]}function Le(t){var e=t.left,r=t.top,n=t.pos1,i=t.pos2,a=t.pos3,o=t.pos4;return yl([n,i,a,o],[e,r])}function gs(t,e){t[e?"controlAbles":"targetAbles"].forEach(function(r){r.unset&&r.unset(t)})}function un(t,e){var r=e?"controlGesto":"targetGesto",n=t[r];(n==null?void 0:n.isIdle())===!1&&gs(t,e),n==null||n.unset(),t[r]=null}function be(t,e){if(e){var r=kn(e);r.nextStyle=k(k({},r.nextStyle),t)}return{style:t,cssText:dr(t).map(function(n){return"".concat(ea(n,"-"),": ").concat(t[n],";")}).join("")}}function ev(t,e,r){var n=e.afterTransform||e.transform;return k(k({},be(k(k(k({},t.style),e.style),{transform:n}),r)),{afterTransform:n,transform:t.transform})}function _t(t,e,r,n){var i=e.datas;i.datas||(i.datas={});var a=k(k({},r),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isRequest:e.isRequest,isRequestChild:e.isRequestChild,isFirstDrag:!!e.isFirstDrag,isTrusted:e.isTrusted!==!1,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var o;(o=e.stop)===null||o===void 0||o.call(e)}});return i.isStartEvent?n||(i.lastEvent=a):i.isStartEvent=!0,a}function Re(t,e,r){var n=e.datas,i="isDrag"in r?r.isDrag:e.isDrag;return n.datas||(n.datas={}),k(k({isDrag:i},r),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:e.isDouble,datas:n.datas,isFirstDrag:!!e.isFirstDrag})}function Ka(t,e,r){t._emitter.on(e,r)}function ut(t,e,r,n,i){return t.triggerEvent(e,r,n,i)}function Sl(t,e){return Be(t).getComputedStyle(t,e)}function Vi(t,e,r){var n={},i={};return t.filter(function(a){var o=a.name;if(n[o]||!e.some(function(s){return a[s]}))return!1;if(!r&&a.ableGroup){if(i[a.ableGroup])return!1;i[a.ableGroup]=!0}return n[o]=!0,!0})}function ms(t,e){return t===e||t==null&&e==null}function Xu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length-1,n=0;n<r;++n){var i=t[n];if(!Tn(i))return i}return t[r]}function rv(t,e){var r=[],n=[];return t.forEach(function(i,a){var o=e(i,a,t),s=n.indexOf(o),l=r[s]||[];s===-1&&(n.push(o),r.push(l)),l.push(i)}),r}function Sb(t,e){var r=[],n={};return t.forEach(function(i,a){var o=e(i,a,t),s=n[o];s||(s=[],n[o]=s,r.push(s)),s.push(i)}),r}function nv(t){return t.reduce(function(e,r){return e.concat(r)},[])}function Dn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort(function(r,n){return tt(n)-tt(r)}),t[0]}function Mn(t,e,r){return ue(je(t,r),Yr(e,r),r)}function _b(t,e){var r,n=t.is3d,i=t.rootMatrix,a=n?4:3;return r=A(Mn(i,[e.distX,e.distY],a),2),e.distX=r[0],e.distY=r[1],e}function Ae(t,e,r,n){if(!r[0]&&!r[1])return e;var i=Wt(t,[Wu(r[0]||1),0],n),a=Wt(t,[0,Wu(r[1]||1)],n),o=Wt(t,[r[0]/Ne(i),r[1]/Ne(a)],n);return Et(e,o)}function We(t,e,r){return r?"".concat(t/e*100,"%"):"".concat(t,"px")}function Ca(t){return tt(t)<=Se?0:t}function _l(t){return function(e){if(!e.isDragging(t))return"";var r=c1(e,t),n=r.deg;return n?dt("view-control-rotation".concat(n)):""}}function Cl(t,e){return e===void 0&&(e=[t]),function(r,n){if(n.isRequest)return e.some(function(a){return n.requestAble===a})?n.parentDirection:!1;var i=n.inputEvent.target;return Jt(i,dt("direction"))&&(!t||Jt(i,dt(t)))}}function Cb(t,e,r){var n,i=xn(t,{"x%":function(x){return x/100*e.offsetWidth},"y%":function(x){return x/100*e.offsetHeight}}),a=t.slice(0,r<0?void 0:r),o=t.slice(0,r<0?void 0:r+1),s=t[r]||"",l=r<0?[]:t.slice(r),u=r<0?[]:t.slice(r+1),c=i.slice(0,r<0?void 0:r),f=i.slice(0,r<0?void 0:r+1),d=(n=i[r])!==null&&n!==void 0?n:xn([""])[0],v=r<0?[]:i.slice(r),p=r<0?[]:i.slice(r+1),h=d?[d]:[],g=rn(c),m=rn(f),b=rn(v),S=rn(p),y=Pt(g,b,4);return{transforms:t,beforeFunctionMatrix:g,beforeFunctionMatrix2:m,targetFunctionMatrix:rn(h),afterFunctionMatrix:b,afterFunctionMatrix2:S,allFunctionMatrix:y,beforeFunctions:c,beforeFunctions2:f,targetFunction:h[0],afterFunctions:v,afterFunctions2:p,beforeFunctionTexts:a,beforeFunctionTexts2:o,targetFunctionText:s,afterFunctionTexts:l,afterFunctionTexts2:u}}function xb(t){return!t||!Te(t)||wr(t)?!1:Ht(t)||"length"in t}function er(t,e){return t?wr(t)?t:ae(t)?e?document.querySelector(t):t:Na(t)?t():Af(t)?t:"current"in t?t.current:t:null}function xl(t,e){if(!t)return[];var r=xb(t)?[].slice.call(t):[t];return r.reduce(function(n,i){return ae(i)&&e?it(it([],A(n),!1),A([].slice.call(document.querySelectorAll(i))),!1):(Ht(i)?n.push(xl(i,e)):n.push(er(i,e)),n)},[])}function wb(t,e,r){var n=jt(t,e)/Math.PI*180;return n=r>=0?n:180-n,n=n>=0?n:360+n,n}function Vu(t,e){var r=t.rootMatrix,n=t.is3d,i=n?4:3,a=je(r,i);return n||(a=Ue(a,3,4)),a[12]=0,a[13]=0,a[14]=0,ra(a,e)}function iv(t,e,r,n,i){var a=A(t,2),o=a[0],s=a[1],l=0,u=0;if(i&&o&&s){var c=jt([0,0],e),f=jt([0,0],n),d=Ne(e),v=Math.cos(c-f)*d;if(!n[0])u=v,l=u*r;else if(!n[1])l=v,u=l/r;else{var p=n[0]*o,h=n[1]*s,g=Math.atan2(p+e[0],h+e[1]),m=Math.atan2(p,h);g<0&&(g+=Math.PI*2),m<0&&(m+=Math.PI*2);var b=0;tt(g-m)<Math.PI/2||tt(g-m)>Math.PI/2*3||(m+=Math.PI),b=g-m,b>Math.PI*2?b-=Math.PI*2:b>Math.PI?b=2*Math.PI-b:b<-Math.PI&&(b=-2*Math.PI-b);var S=Ne([p+e[0],h+e[1]])*Math.cos(b);l=S*Math.sin(m)-p,u=S*Math.cos(m)-h,n[0]<0&&(l*=-1),n[1]<0&&(u*=-1)}}else l=n[0]*e[0],u=n[1]*e[1];return[l,u]}function av(t,e,r,n){var i,a=r.ratio,o=r.startOffsetWidth,s=r.startOffsetHeight,l=0,u=0,c=n.distX,f=n.distY,d=n.pinchScale,v=n.parentDistance,p=n.parentDist,h=n.parentScale,g=r.fixedDirection,m=[0,1].map(function(w){return tt(t[w]-g[w])}),b=[0,1].map(function(w){var C=m[w];return C!==0&&(C=2/C),C});if(p)l=p[0],u=p[1],e&&(l?u||(u=l/a):l=u*a);else if(_n(d))l=(d-1)*o,u=(d-1)*s;else if(h)l=(h[0]-1)*o,u=(h[1]-1)*s;else if(v){var S=o*m[0],y=s*m[1],x=Ne([S,y]);l=v/x*S*b[0],u=v/x*y*b[1]}else{var _=nr({datas:r,distX:c,distY:f});_=b.map(function(w,C){return _[C]*w}),i=A(iv([o,s],_,a,t,e),2),l=i[0],u=i[1]}return{distWidth:l,distHeight:u}}function bs(t,e){if(e){if(t==="left")return{x:"0%",y:"50%"};if(t==="top")return{x:"50%",y:"50%"};if(t==="center")return{x:"50%",y:"50%"};if(t==="right")return{x:"100%",y:"50%"};if(t==="bottom")return{x:"50%",y:"100%"};var r=A(t.split(" "),2),n=r[0],i=r[1],a=bs(n||""),o=bs(i||""),s=k(k({},a),o),l={x:"50%",y:"50%"};return s.x&&(l.x=s.x),s.y&&(l.y=s.y),s.value&&(s.x&&!s.y&&(l.y=s.value),!s.x&&s.y&&(l.x=s.value)),l}return t==="left"?{x:"0%"}:t==="right"?{x:"100%"}:t==="top"?{y:"0%"}:t==="bottom"?{y:"100%"}:t?t==="center"?{value:"50%"}:{value:t}:{}}function wl(t,e,r){var n=bs(t,!0),i=n.x,a=n.y;return[Rt(i,e)||0,Rt(a,r)||0]}function Eb(t,e,r){var n=t.map(function(a){return vt(a,e)}),i=n.map(function(a){return mi(a,r)});return{prev:n,next:i,result:i.map(function(a){return Et(a,e)})}}function ov(t,e){return t.length===e.length&&t.every(function(r,n){var i=e[n],a=Ht(r),o=Ht(i);return a&&o?ov(r,i):!a&&!o?r===i:!1})}function cn(t,e,r,n,i){var a=t._store,o=a[e];if(!(e in a))if(i!=null)a[e]=i,o=i;else return a[e]=r,r;return o===r||n(o)===n(r)?o:(a[e]=r,r)}function me(t){return t>=0?1:-1}function tt(t){return Math.abs(t)}function Do(t,e){return D0(t).map(function(r){return e(r)})}function sv(t){return _n(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}var Db=Si("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,e){var r=e.datas,n=e.targets,i=e.angle,a=e.originalDatas,o=t.props,s=o.pinchable,l=o.ables;if(!s)return!1;var u="onPinch".concat(n?"Group":"","Start"),c="drag".concat(n?"Group":"","ControlStart"),f=(s===!0?t.controlAbles:l.filter(function(h){return s.indexOf(h.name)>-1})).filter(function(h){return h.canPinch&&h[c]}),d=_t(t,e,{});n&&(d.targets=n);var v=ut(t,u,d);r.isPinch=v!==!1,r.ables=f;var p=r.isPinch;return p?(f.forEach(function(h){if(a[h.name]=a[h.name]||{},!!h[c]){var g=k(k({},e),{datas:a[h.name],parentRotate:i,isPinch:!0});h[c](t,g)}}),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},p):!1},pinch:function(t,e){var r=e.datas,n=e.scale,i=e.distance,a=e.originalDatas,o=e.inputEvent,s=e.targets,l=e.angle;if(r.isPinch){var u=i*(1-1/n),c=_t(t,e,{});s&&(c.targets=s);var f="onPinch".concat(s?"Group":"");ut(t,f,c);var d=r.ables,v="drag".concat(s?"Group":"","Control");return d.forEach(function(p){p[v]&&p[v](t,k(k({},e),{datas:a[p.name],inputEvent:o,resolveMatrix:!0,pinchScale:n,parentDistance:u,parentRotate:l,isPinch:!0}))}),c}},pinchEnd:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,a=e.targets,o=e.originalDatas;if(r.isPinch){var s="onPinch".concat(a?"Group":"","End"),l=Re(t,e,{isDrag:n});a&&(l.targets=a),ut(t,s,l);var u=r.ables,c="drag".concat(a?"Group":"","ControlEnd");return u.forEach(function(f){f[c]&&f[c](t,k(k({},e),{isDrag:n,datas:o[f.name],inputEvent:i,isPinch:!0}))}),n}},pinchGroupStart:function(t,e){return this.pinchStart(t,k(k({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,k(k({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,k(k({},e),{targets:t.props.targets}))}}),ju=Cl("scalable"),Mb={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:Md("scalable"),dragControlCondition:ju,viewClassName:_l("scalable"),dragControlStart:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,a=e.parentDirection,o=Qd(a,n,i,r),s=t.state,l=s.width,u=s.height,c=s.targetTransform,f=s.target,d=s.pos1,v=s.pos2,p=s.pos4;if(!o||!f)return!1;n||qr(t,e),r.datas={},r.transform=c,r.prevDist=[1,1],r.direction=o,r.startOffsetWidth=l,r.startOffsetHeight=u,r.startValue=[1,1];var h=!o[0]&&!o[1]||o[0]||!o[1];Xa(t,e,"scale"),r.isWidth=h;function g(_){r.ratio=_&&isFinite(_)?_:0}r.startPositions=Le(t.state);function m(_){var w=Nd(r.startPositions,_);r.fixedDirection=w.fixedDirection,r.fixedPosition=w.fixedPosition,r.fixedOffset=w.fixedOffset}r.setFixedDirection=m,g(tr(d,v)/tr(v,p)),m([-o[0],-o[1]]);var b=function(_){r.minScaleSize=_},S=function(_){r.maxScaleSize=_};b([-1/0,-1/0]),S([1/0,1/0]);var y=_t(t,e,k(k({direction:o,set:function(_){r.startValue=_},setRatio:g,setFixedDirection:m,setMinScaleSize:b,setMaxScaleSize:S},Ya(t,e)),{dragStart:ge.dragStart(t,new wn().dragStart([0,0],e))})),x=ut(t,"onScaleStart",y);return r.startFixedDirection=r.fixedDirection,x!==!1&&(r.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:o}),r.isScale?y:!1},dragControl:function(t,e){$a(t,e,"scale");var r=e.datas,n=e.parentKeepRatio,i=e.parentFlag,a=e.isPinch,o=e.dragClient,s=e.isRequest,l=e.useSnap,u=e.resolveMatrix,c=r.prevDist,f=r.direction,d=r.startOffsetWidth,v=r.startOffsetHeight,p=r.isScale,h=r.startValue,g=r.isWidth,m=r.ratio;if(!p)return!1;var b=t.props,S=b.throttleScale,y=b.parentMoveable,x=f;!f[0]&&!f[1]&&(x=[1,1]);var _=m&&(n??b.keepRatio)||!1,w=t.state,C=[h[0],h[1]];function E(){var nt=av(x,_,r,e),lt=nt.distWidth,M=nt.distHeight,R=d?(d+lt)/d:1,F=v?(v+M)/v:1;h[0]||(C[0]=lt/d),h[1]||(C[1]=M/v);var Y=(x[0]||_?R:1)*C[0],X=(x[1]||_?F:1)*C[1];return Y===0&&(Y=me(c[0])*Wi),X===0&&(X=me(c[1])*Wi),[Y,X]}var D=E();if(!a&&t.props.groupable){var O=w.snapRenderInfo||{},P=O.direction;Ht(P)&&(P[0]||P[1])&&(w.snapRenderInfo={direction:f,request:e.isRequest})}ut(t,"onBeforeScale",_t(t,e,{scale:D,setFixedDirection:function(nt){return r.setFixedDirection(nt),D=E(),D},startFixedDirection:r.startFixedDirection,setScale:function(nt){D=nt}},!0));var T=[D[0]/C[0],D[1]/C[1]],N=o,z=[0,0],W=me(T[0]*T[1]),I=!o&&!i&&a;if(I||u?N=fl(t,r.targetAllTransform,[0,0],[0,0],r):o||(N=r.fixedPosition),a||(z=ib(t,T,f,!l&&s,r)),_){x[0]&&x[1]&&z[0]&&z[1]&&(Math.abs(z[0]*d)>Math.abs(z[1]*v)?z[1]=0:z[0]=0);var L=!z[0]&&!z[1];if(L&&(g?T[0]=bt(T[0]*C[0],S)/C[0]:T[1]=bt(T[1]*C[1],S)/C[1]),x[0]&&!x[1]||z[0]&&!z[1]||L&&g){T[0]+=z[0];var B=d*T[0]*C[0]/m;T[1]=me(W*T[0])*tt(B/v/C[1])}else if(!x[0]&&x[1]||!z[0]&&z[1]||L&&!g){T[1]+=z[1];var $=v*T[1]*C[1]*m;T[0]=me(W*T[1])*tt($/d/C[0])}}else T[0]+=z[0],T[1]+=z[1],z[0]||(T[0]=bt(T[0]*C[0],S)/C[0]),z[1]||(T[1]=bt(T[1]*C[1],S)/C[1]);T[0]===0&&(T[0]=me(c[0])*Wi),T[1]===0&&(T[1]=me(c[1])*Wi),D=lb(T,[C[0],C[1]]);var G=[d,v],j=[d*D[0],v*D[1]];j=Us(j,r.minScaleSize,r.maxScaleSize,_?m:!1),D=Do(2,function(nt){return G[nt]?j[nt]/G[nt]:j[nt]}),T=Do(2,function(nt){return D[nt]/C[nt]});var H=Do(2,function(nt){return c[nt]?T[nt]/c[nt]:T[nt]}),q="scale(".concat(T.join(", "),")"),U="scale(".concat(D.join(", "),")"),et=Ha(r,U,q),ot=!h[0]||!h[1],ct=i1(t,ot?U:q,r.fixedDirection,N,r.fixedOffset,r,ot),ht=I?ct:vt(ct,r.prevInverseDist||[0,0]);if(r.prevDist=T,r.prevInverseDist=ct,D[0]===c[0]&&D[1]===c[1]&&ht.every(function(nt){return!nt})&&!y&&!I)return!1;var gt=_t(t,e,k({offsetWidth:d,offsetHeight:v,direction:f,scale:D,dist:T,delta:H,isPinch:!!a},_d(t,et,ht,a,e)));return ut(t,"onScale",gt),gt},dragControlEnd:function(t,e){var r=e.datas;if(!r.isScale)return!1;r.isScale=!1;var n=Re(t,e,{});return ut(t,"onScaleEnd",n),n},dragGroupControlCondition:ju,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,e);if(!n)return!1;var i=Xe(t,"resizable",e);r.moveableScale=t.scale;var a=ur(t,this,"dragControlStart",e,function(u,c){return ma(t,u,r,c)}),o=function(u){n.setFixedDirection(u),a.forEach(function(c,f){c.setFixedDirection(u),ma(t,c.moveable,r,i[f])})};r.setFixedDirection=o;var s=k(k({},n),{targets:t.props.targets,events:a,setFixedDirection:o}),l=ut(t,"onScaleGroupStart",s);return r.isScale=l!==!1,r.isScale?s:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isScale){Ka(t,"onBeforeScale",function(c){ut(t,"onBeforeScaleGroup",_t(t,e,k(k({},c),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(n){var i=n.dist,a=r.moveableScale;t.scale=[i[0]*a[0],i[1]*a[1]];var o=t.props.keepRatio,s=r.fixedPosition,l=ur(t,this,"dragControl",e,function(c,f){var d=A(ue(bi(t.rotation/180*Math.PI,3),[f.datas.originalX*i[0],f.datas.originalY*i[1],1],3),2),v=d[0],p=d[1];return k(k({},f),{parentDist:null,parentScale:i,parentKeepRatio:o,dragClient:Et(s,[v,p])})}),u=k({targets:t.props.targets,events:l},n);return ut(t,"onScaleGroup",u),u}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isScale){this.dragControlEnd(t,e);var i=ur(t,this,"dragControlEnd",e),a=Re(t,e,{targets:t.props.targets,events:i});return ut(t,"onScaleGroupEnd",a),r}},request:function(){var t={},e=0,r=0,n=!1;return{isControl:!0,requestStart:function(i){return n=i.useSnap,{datas:t,parentDirection:i.direction||[1,1],useSnap:n}},request:function(i){return e+=i.deltaWidth,r+=i.deltaHeight,{datas:t,parentDist:[e,r],parentKeepRatio:i.keepRatio,useSnap:n}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:n}}}}};function gr(t,e){return t.map(function(r,n){return ca(r,e[n],1,2)})}function Uu(t,e,r){var n=jt(t,e),i=jt(t,r),a=i-n;return a>=0?a:a+2*Math.PI}function Ob(t,e){var r=Uu(t[0],t[1],t[2]),n=Uu(e[0],e[1],e[2]),i=Math.PI;return!(r>=i&&n<=i||r<=i&&n>=i)}var Tb={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:_l("warpable"),render:function(t,e){var r=t.props,n=r.resizable,i=r.scalable,a=r.warpable,o=r.zoom;if(n||i||!a)return[];var s=t.state,l=s.pos1,u=s.pos2,c=s.pos3,f=s.pos4,d=gr(l,u),v=gr(u,l),p=gr(l,c),h=gr(c,l),g=gr(c,f),m=gr(f,c),b=gr(u,f),S=gr(f,u);return it([e.createElement("div",{className:dt("line"),key:"middeLine1",style:Ln(d,g,o)}),e.createElement("div",{className:dt("line"),key:"middeLine2",style:Ln(v,m,o)}),e.createElement("div",{className:dt("line"),key:"middeLine3",style:Ln(p,b,o)}),e.createElement("div",{className:dt("line"),key:"middeLine4",style:Ln(h,S,o)})],A(Od(t,"warpable",e)),!1)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var r=e.inputEvent.target;return Jt(r,dt("direction"))&&Jt(r,dt("warpable"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,i=t.props.target,a=n.target,o=tv(a,r);if(!o||!i)return!1;var s=t.state,l=s.transformOrigin,u=s.is3d,c=s.targetTransform,f=s.targetMatrix,d=s.width,v=s.height,p=s.left,h=s.top;r.datas={},r.targetTransform=c,r.warpTargetMatrix=u?f:Ue(f,3,4),r.targetInverseMatrix=td(je(r.warpTargetMatrix,4),3,4),r.direction=o,r.left=p,r.top=h,r.poses=[[0,0],[d,0],[0,v],[d,v]].map(function(b){return vt(b,l)}),r.nextPoses=r.poses.map(function(b){var S=A(b,2),y=S[0],x=S[1];return ue(r.warpTargetMatrix,[y,x,0,1],4)}),r.startValue=Gt(4),r.prevMatrix=Gt(4),r.absolutePoses=Le(s),r.posIndexes=Sd(o),qr(t,e),Xa(t,e,"matrix3d"),s.snapRenderInfo={request:e.isRequest,direction:o};var g=_t(t,e,k({set:function(b){r.startValue=b}},Ya(t,e))),m=ut(t,"onWarpStart",g);return m!==!1&&(r.isWarp=!0),r.isWarp},dragControl:function(t,e){var r=e.datas,n=e.isRequest,i=e.distX,a=e.distY,o=r.targetInverseMatrix,s=r.prevMatrix,l=r.isWarp,u=r.startValue,c=r.poses,f=r.posIndexes,d=r.absolutePoses;if(!l)return!1;if($a(t,e,"matrix3d"),In(t,"warpable")){var v=f.map(function(E){return d[E]});v.length>1&&v.push([(v[0][0]+v[1][0])/2,(v[0][1]+v[1][1])/2]);var p=Ua(t,n,{horizontal:v.map(function(E){return E[1]+a}),vertical:v.map(function(E){return E[0]+i})}),h=p.horizontal,g=p.vertical;a-=h.offset,i-=g.offset}var m=nr({datas:r,distX:i,distY:a},!0),b=r.nextPoses.slice();if(f.forEach(function(E){b[E]=Et(b[E],m)}),!Um.every(function(E){return Ob(E.map(function(D){return c[D]}),E.map(function(D){return b[D]}))}))return!1;var S=il(c[0],c[2],c[1],c[3],b[0],b[2],b[1],b[3]);if(!S.length)return!1;var y=Pt(o,S,4),x=bd(r,y,!0),_=Pt(je(s,4),x,4);r.prevMatrix=x;var w=Pt(u,x,4),C=Ha(r,"matrix3d(".concat(w.join(", "),")"),"matrix3d(".concat(x.join(", "),")"));return cl(e,C),ut(t,"onWarp",_t(t,e,k({delta:_,matrix:w,dist:x,multiply:Pt,transform:C},be({transform:C},e)))),!0},dragControlEnd:function(t,e){var r=e.datas,n=e.isDrag;return r.isWarp?(r.isWarp=!1,ut(t,"onWarpEnd",Re(t,e,{})),n):!1}},Rb=dt("area-pieces"),ji=dt("area-piece"),lv=dt("avoid"),Pb=dt("view-dragging");function Mo(t){var e=t.areaElement;if(e){var r=t.state,n=r.width,i=r.height;If(e,lv),e.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(i,"px")}}function qu(t){return t.createElement("div",{key:"area_pieces",className:Rb},t.createElement("div",{className:ji}),t.createElement("div",{className:ji}),t.createElement("div",{className:ji}),t.createElement("div",{className:ji}))}var uv={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(t,e){var r=t.props,n=r.target,i=r.dragArea,a=r.groupable,o=r.passDragArea,s=t.getState(),l=s.width,u=s.height,c=s.renderPoses,f=o?dt("area","pass"):dt("area");if(a)return[e.createElement("div",{key:"area",ref:lr(t,"areaElement"),className:f}),qu(e)];if(!n||!i)return[];var d=il([0,0],[l,0],[0,u],[l,u],c[0],c[1],c[2],c[3]),v=d.length?qa(d,!0):"none";return[e.createElement("div",{key:"area",ref:lr(t,"areaElement"),className:f,style:{top:"0px",left:"0px",width:"".concat(l,"px"),height:"".concat(u,"px"),transformOrigin:"0 0",transform:v}}),qu(e)]},dragStart:function(t,e){var r=e.datas,n=e.clientX,i=e.clientY,a=e.inputEvent;if(!a)return!1;r.isDragArea=!1;var o=t.areaElement,s=t.state,l=s.moveableClientRect,u=s.renderPoses,c=s.rootMatrix,f=s.is3d,d=l.left,v=l.top,p=Ge(u),h=p.left,g=p.top,m=p.width,b=p.height,S=f?4:3,y=A(Mn(c,[n-d,i-v],S),2),x=y[0],_=y[1];x-=h,_-=g;var w=[{left:h,top:g,width:m,height:_-10},{left:h,top:g,width:x-10,height:b},{left:h,top:g+_+10,width:m,height:b-_-10},{left:h+x+10,top:g,width:m-x-10,height:b}],C=[].slice.call(o.nextElementSibling.children);w.forEach(function(E,D){C[D].style.cssText="left: ".concat(E.left,"px;top: ").concat(E.top,"px; width: ").concat(E.width,"px; height: ").concat(E.height,"px;")}),qs(o,lv),s.disableNativeEvent=!0},drag:function(t,e){var r=e.datas,n=e.inputEvent;if(this.enableNativeEvent(t),!n)return!1;r.isDragArea||(r.isDragArea=!0,Mo(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var r=e.inputEvent,n=e.datas;if(!r)return!1;n.isDragArea||Mo(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){Mo(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&Rf(function(){e.disableNativeEvent=!1})}},kb=Si("origin",{props:["origin","svgOrigin"],render:function(t,e){var r=t.props,n=r.zoom,i=r.svgOrigin,a=r.groupable,o=t.getState(),s=o.beforeOrigin,l=o.rotation,u=o.svg,c=o.allMatrix,f=o.is3d,d=o.left,v=o.top,p=o.offsetWidth,h=o.offsetHeight,g;if(!a&&u&&i){var m=A(wl(i,p,h),2),b=m[0],S=m[1],y=f?4:3,x=Wt(c,[b,S],y);g=_a(l,n,vt(x,[d,v]))}else g=_a(l,n,s);return[e.createElement("div",{className:dt("control","origin"),style:g,key:"beforeOrigin"})]}});function Ib(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var Ab={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(t,e){var r=t.props,n=r.scrollContainer,i=n===void 0?t.getContainer():n,a=r.scrollOptions,o=new ad,s=er(i,!0);e.datas.dragScroll=o,t.state.dragScroll=o;var l=e.isControl?"controlGesto":"targetGesto",u=e.targets;o.on("scroll",function(c){var f=c.container,d=c.direction,v=_t(t,e,{scrollContainer:f,direction:d}),p=u?"onScrollGroup":"onScroll";u&&(v.targets=u),ut(t,p,v)}).on("move",function(c){var f=c.offsetX,d=c.offsetY,v=c.inputEvent;t[l].scrollBy(f,d,v.inputEvent,!1)}).on("scrollDrag",function(c){var f=c.next;f(t[l].getCurrentEvent())}),o.dragStart(e,k({container:s},a))},checkScroll:function(t,e){var r=e.datas.dragScroll;if(r){var n=t.props,i=n.scrollContainer,a=i===void 0?t.getContainer():i,o=n.scrollThreshold,s=o===void 0?0:o,l=n.scrollThrottleTime,u=l===void 0?0:l,c=n.getScrollPosition,f=c===void 0?Ib:c,d=n.scrollOptions;return r.drag(e,k({container:a,threshold:s,throttleTime:u,getScrollPosition:function(v){return f({scrollContainer:v.container,direction:v.direction})}},d)),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,k(k({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,k(k({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,k(k({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,k(k({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,k(k({},e),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,e){return this.drag(t,k(k({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,k(k({},e),{targets:t.props.targets}))},unset:function(t){var e,r=t.state;(e=r.dragScroll)===null||e===void 0||e.dragEnd(),r.dragScroll=null}},cv={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},Bb=Si("padding",{props:["padding"],render:function(t,e){var r=t.props;if(r.dragArea)return[];var n=sv(r.padding||{}),i=n.left,a=n.top,o=n.right,s=n.bottom,l=t.getState(),u=l.renderPoses,c=l.pos1,f=l.pos2,d=l.pos3,v=l.pos4,p=[c,f,d,v],h=[];return i>0&&h.push([0,2]),a>0&&h.push([0,1]),o>0&&h.push([1,3]),s>0&&h.push([2,3]),h.map(function(g,m){var b=A(g,2),S=b[0],y=b[1],x=p[S],_=p[y],w=u[S],C=u[y],E=il([0,0],[100,0],[0,100],[100,100],x,_,w,C);if(E.length)return e.createElement("div",{key:"padding".concat(m),className:dt("padding"),style:{transform:qa(E,!0)}})})}}),Ku=["nw","ne","se","sw"];function Ui(t,e){var r=t[0]+t[1],n=r>e?e/r:1;return t[0]*=n,t[1]=e-t[1]*n,t}var zb=[1,2,5,6],Gb=[0,3,4,7],Gr=[1,-1,-1,1],Fr=[1,1,-1,-1];function El(t,e,r,n,i,a,o,s){i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o=r),s===void 0&&(s=n);var l=[],u=!1,c=t.filter(function(d){return!d.virtual}),f=c.map(function(d){var v=d.horizontal,p=d.vertical,h=d.pos;if(p&&!u&&(u=!0,l.push("/")),u){var g=Math.max(0,p===1?h[1]-a:s-h[1]);return l.push(We(g,n,e)),g}else{var g=Math.max(0,v===1?h[0]-i:o-h[0]);return l.push(We(g,r,e)),g}});return{radiusPoses:c,styles:l,raws:f}}function fv(t){for(var e=[0,0],r=[0,0],n=t.length,i=0;i<n;++i){var a=t[i];a.sub&&(a.horizontal&&(e[1]===0&&(e[0]=i),e[1]=i-e[0]+1,r[0]=i+1),a.vertical&&(r[1]===0&&(r[0]=i),r[1]=i-r[0]+1))}return{horizontalRange:e,verticalRange:r}}function dv(t,e,r,n,i,a,o){var s,l,u,c;a===void 0&&(a=[0,0]),o===void 0&&(o=!1);var f=t.indexOf("/"),d=(f>-1?t.slice(0,f):t).length,v=t.slice(0,d),p=t.slice(d+1),h=v.length,g=p.length,m=g>0,b=A(v,4),S=b[0],y=S===void 0?"0px":S,x=b[1],_=x===void 0?y:x,w=b[2],C=w===void 0?y:w,E=b[3],D=E===void 0?_:E,O=A(p,4),P=O[0],T=P===void 0?y:P,N=O[1],z=N===void 0?m?T:_:N,W=O[2],I=W===void 0?m?T:C:W,L=O[3],B=L===void 0?m?z:D:L,$=[y,_,C,D].map(function(et){return Rt(et,e)}),G=[T,z,I,B].map(function(et){return Rt(et,r)}),j=$.slice(),H=G.slice();s=A(Ui([j[0],j[1]],e),2),j[0]=s[0],j[1]=s[1],l=A(Ui([j[3],j[2]],e),2),j[3]=l[0],j[2]=l[1],u=A(Ui([H[0],H[3]],r),2),H[0]=u[0],H[3]=u[1],c=A(Ui([H[1],H[2]],r),2),H[1]=c[0],H[2]=c[1];var q=o?j:j.slice(0,Math.max(a[0],h)),U=o?H:H.slice(0,Math.max(a[1],g));return it(it([],A(q.map(function(et,ot){var ct=Ku[ot];return{virtual:ot>=h,horizontal:Gr[ot],vertical:0,pos:[n+et,i+(Fr[ot]===-1?r:0)],sub:!0,raw:$[ot],direction:ct}})),!1),A(U.map(function(et,ot){var ct=Ku[ot];return{virtual:ot>=g,horizontal:0,vertical:Fr[ot],pos:[n+(Gr[ot]===-1?e:0),i+et],sub:!0,raw:G[ot],direction:ct}})),!1)}function Fb(t,e,r,n,i){i===void 0&&(i=e.length);var a=fv(t.slice(n)),o=a.horizontalRange,s=a.verticalRange,l=r-n,u=0;if(l===0)u=i;else if(l>0&&l<o[1])u=o[1]-l;else if(l>=s[0])u=s[0]+s[1]-l;else return;t.splice(r,u),e.splice(r,u)}function Nb(t,e,r,n,i,a,o,s,l,u,c){u===void 0&&(u=0),c===void 0&&(c=0);var f=fv(t.slice(r)),d=f.horizontalRange,v=f.verticalRange;if(n>-1)for(var p=Gr[n]===1?a-u:s-a,h=d[1];h<=n;++h){var g=Fr[h]===1?c:l,m=0;if(n===h?m=a:h===0?m=u+p:Gr[h]===-1&&(m=s-(e[r][0]-u)),t.splice(r+h,0,{horizontal:Gr[h],vertical:0,pos:[m,g]}),e.splice(r+h,0,[m,g]),h===0)break}else if(i>-1){var b=Fr[i]===1?o-c:l-o;if(d[1]===0&&v[1]===0){var S=[u+b,c];t.push({horizontal:Gr[0],vertical:0,pos:S}),e.push(S)}for(var y=v[0],h=v[1];h<=i;++h){var m=Gr[h]===1?u:s,g=0;if(i===h?g=o:h===0?g=c+b:Fr[h]===1?g=e[r+y][1]:Fr[h]===-1&&(g=l-(e[r+y][1]-c)),t.push({horizontal:0,vertical:Fr[h],pos:[m,g]}),e.push([m,g]),h===0)break}}}function Lb(t,e){e===void 0&&(e=t.map(function(i){return i.raw}));var r=t.map(function(i,a){return i.horizontal?e[a]:null}).filter(function(i){return i!=null}),n=t.map(function(i,a){return i.vertical?e[a]:null}).filter(function(i){return i!=null});return{horizontals:r,verticals:n}}var Wb=[[0,-1,"n"],[1,0,"e"]],$b=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Dl(t,e,r){var n=t.props.clipRelative,i=t.state,a=i.width,o=i.height,s=e,l=s.type,u=s.poses,c=l==="rect",f=l==="circle";if(l==="polygon")return r.map(function(_){return"".concat(We(_[0],a,n)," ").concat(We(_[1],o,n))});if(c||l==="inset"){var d=r[1][1],v=r[3][0],p=r[7][0],h=r[5][1];if(c)return[d,v,h,p].map(function(_){return"".concat(_,"px")});var g=[d,a-v,o-h,p].map(function(_,w){return We(_,w%2?a:o,n)});if(r.length>8){var m=A(vt(r[4],r[0]),2),b=m[0],S=m[1];g.push.apply(g,it(["round"],A(El(u.slice(8).map(function(_,w){return k(k({},_),{pos:r[w]})}),n,b,S,p,d,v,h).styles),!1))}return g}else if(f||l==="ellipse"){var y=r[0],x=We(tt(r[1][1]-y[1]),f?Math.sqrt((a*a+o*o)/2):o,n),g=f?[x]:[We(tt(r[2][0]-y[0]),a,n),x];return g.push("at",We(y[0],a,n),We(y[1],o,n)),g}}function xa(t,e,r,n){var i=[n,(n+e)/2,e],a=[t,(t+r)/2,r];return $b.map(function(o){var s=A(o,3),l=s[0],u=s[1],c=s[2],f=i[l+1],d=a[u+1];return{vertical:tt(u),horizontal:tt(l),direction:c,pos:[f,d]}})}function vv(t){var e=[1/0,-1/0],r=[1/0,-1/0];return t.forEach(function(n){var i=n.pos;e[0]=Math.min(e[0],i[0]),e[1]=Math.max(e[1],i[0]),r[0]=Math.min(r[0],i[1]),r[1]=Math.max(r[1],i[1])}),[tt(e[1]-e[0]),tt(r[1]-r[0])]}function Zu(t,e,r,n,i){var a,o,s,l,u,c,f,d,v;if(t){var p=i;if(!p){var h=we(t),g=h("clipPath");p=g!=="none"?g:h("clip")}if(!((!p||p==="none"||p==="auto")&&(p=n,!p))){var m=Tf(p),b=m.prefix,S=b===void 0?p:b,y=m.value,x=y===void 0?"":y,_=S==="circle",w=" ";if(S==="polygon"){var C=Nr(x||"0% 0%, 100% 0%, 100% 100%, 0% 100%");w=",";var E=C.map(function(rt){var Q=A(rt.split(" "),2),ft=Q[0],at=Q[1];return{vertical:1,horizontal:1,pos:[Rt(ft,e),Rt(at,r)]}}),D=Vr(E.map(function(rt){return rt.pos}));return{type:S,clipText:p,poses:E,splitter:w,left:D.minX,right:D.maxX,top:D.minY,bottom:D.maxY}}else if(_||S==="ellipse"){var O="",P="",T=0,N=0,C=xr(x);if(_){var z="";a=A(C,4),o=a[0],z=o===void 0?"50%":o,s=a[2],O=s===void 0?"50%":s,l=a[3],P=l===void 0?"50%":l,T=Rt(z,Math.sqrt((e*e+r*r)/2)),N=T}else{var W="",I="";u=A(C,5),c=u[0],W=c===void 0?"50%":c,f=u[1],I=f===void 0?"50%":f,d=u[3],O=d===void 0?"50%":d,v=u[4],P=v===void 0?"50%":v,T=Rt(W,e),N=Rt(I,r)}var L=[Rt(O,e),Rt(P,r)],E=it([{vertical:1,horizontal:1,pos:L,direction:"nesw"}],A(Wb.slice(0,_?1:2).map(function(ft){return{vertical:tt(ft[1]),horizontal:ft[0],direction:ft[2],sub:!0,pos:[L[0]+ft[0]*T,L[1]+ft[1]*N]}})),!1);return{type:S,clipText:p,radiusX:T,radiusY:N,left:L[0]-T,top:L[1]-N,right:L[0]+T,bottom:L[1]+N,poses:E,splitter:w}}else if(S==="inset"){var C=xr(x||"0 0 0 0"),B=C.indexOf("round"),$=(B>-1?C.slice(0,B):C).length,G=C.slice($+1),j=A(C.slice(0,$),4),H=j[0],q=j[1],U=q===void 0?H:q,et=j[2],ot=et===void 0?H:et,ct=j[3],ht=ct===void 0?U:ct,gt=A([H,ot].map(function(ft){return Rt(ft,r)}),2),nt=gt[0],lt=gt[1],M=A([ht,U].map(function(ft){return Rt(ft,e)}),2),R=M[0],F=M[1],Y=e-F,X=r-lt,V=dv(G,Y-R,X-nt,R,nt),E=it(it([],A(xa(nt,Y,X,R)),!1),A(V),!1);return{type:"inset",clipText:p,poses:E,top:nt,left:R,right:Y,bottom:X,radius:G,splitter:w}}else if(S==="rect"){var C=Nr(x||"0px, ".concat(e,"px, ").concat(r,"px, 0px"));w=",";var Z=A(C.map(function(pt){var yt=Hr(pt).value;return yt}),4),J=Z[0],F=Z[1],lt=Z[2],R=Z[3],E=xa(J,F,lt,R);return{type:"rect",clipText:p,poses:E,top:J,right:F,bottom:lt,left:R,values:C,splitter:w}}}}}function Hb(t,e,r,n,i){var a=t[e],o=a.direction,s=a.sub,l=t.map(function(){return[0,0]}),u=o?o.split(""):[];if(n&&e<8){var c=u.filter(function(T){return T==="w"||T==="e"}),f=u.filter(function(T){return T==="n"||T==="s"}),d=c[0],v=f[0];l[e]=r;var p=A(vv(t),2),h=p[0],g=p[1],m=h&&g?h/g:0;if(m&&i){var b=(e+4)%8,S=t[b].pos,y=[0,0];o.indexOf("w")>-1?y[0]=-1:o.indexOf("e")>-1&&(y[0]=1),o.indexOf("n")>-1?y[1]=-1:o.indexOf("s")>-1&&(y[1]=1);var x=iv([h,g],r,m,y,!0),_=h+x[0],w=g+x[1],C=S[1],E=S[1],D=S[0],O=S[0];y[0]===-1?D=O-_:y[0]===1?O=D+_:(D=D-_/2,O=O+_/2),y[1]===-1?C=E-w:(y[1]===1||(C=E-w/2),E=C+w);var P=xa(C,O,E,D);t.forEach(function(T,N){l[N][0]=P[N].pos[0]-T.pos[0],l[N][1]=P[N].pos[1]-T.pos[1]})}else t.forEach(function(T,N){var z=T.direction;z&&(z.indexOf(d)>-1&&(l[N][0]=r[0]),z.indexOf(v)>-1&&(l[N][1]=r[1]))}),d&&(l[1][0]=r[0]/2,l[5][0]=r[0]/2),v&&(l[3][1]=r[1]/2,l[7][1]=r[1]/2)}else o&&!s?u.forEach(function(T){var N=T==="n"||T==="s";t.forEach(function(z,W){var I=z.direction,L=z.horizontal,B=z.vertical;!I||I.indexOf(T)===-1||(l[W]=[N||!L?0:r[0],!N||!B?0:r[1]])})}):l[e]=r;return l}function Yb(t,e){var r=A(md(t,e),2),n=r[0],i=r[1],a=e.datas,o=a.clipPath,s=a.clipIndex,l=o,u=l.type,c=l.poses,f=l.splitter,d=c.map(function(b){return b.pos});if(u==="polygon")d.splice(s,0,[n,i]);else if(u==="inset"){var v=zb.indexOf(s),p=Gb.indexOf(s),h=c.length;if(Nb(c,d,8,v,p,n,i,d[4][0],d[4][1],d[0][0],d[0][1]),h===c.length)return}else return;var g=Dl(t,o,d),m="".concat(u,"(").concat(g.join(f),")");ut(t,"onClip",_t(t,e,k({clipEventType:"added",clipType:u,poses:d,clipStyles:g,clipStyle:m,distX:0,distY:0},be({clipPath:m},e))))}function Xb(t,e){var r=e.datas,n=r.clipPath,i=r.clipIndex,a=n,o=a.type,s=a.poses,l=a.splitter,u=s.map(function(v){return v.pos}),c=u.length;if(o==="polygon")s.splice(i,1),u.splice(i,1);else if(o==="inset"){if(i<8||(Fb(s,u,i,8,c),c===s.length))return}else return;var f=Dl(t,n,u),d="".concat(o,"(").concat(f.join(l),")");ut(t,"onClip",_t(t,e,k({clipEventType:"removed",clipType:o,poses:u,clipStyles:f,clipStyle:d,distX:0,distY:0},be({clipPath:d},e))))}var Vb={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[`.control.clip-control {
background: #6d6;
cursor: pointer;
}
.control.clip-control.clip-radius {
background: #d66;
}
.line.clip-line {
background: #6e6;
cursor: move;
z-index: 1;
}
.clip-area {
position: absolute;
top: 0;
left: 0;
}
.clip-ellipse {
position: absolute;
cursor: move;
border: 1px solid #6d6;
border: var(--zoompx) solid #6d6;
border-radius: 50%;
transform-origin: 0px 0px;
}`,`:host {
--bounds-color: #d66;
}`,`.guideline {
pointer-events: none;
z-index: 2;
}`,`.line.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}`],render:function(t,e){var r=t.props,n=r.customClipPath,i=r.defaultClipPath,a=r.clipArea,o=r.zoom,s=r.groupable,l=t.getState(),u=l.target,c=l.width,f=l.height,d=l.allMatrix,v=l.is3d,p=l.left,h=l.top,g=l.pos1,m=l.pos2,b=l.pos3,S=l.pos4,y=l.clipPathState,x=l.snapBoundInfos,_=l.rotation;if(!u||s)return[];var w=Zu(u,c,f,i||"inset",y||n);if(!w)return[];var C=v?4:3,E=w.type,D=w.poses,O=D.map(function(F){var Y=Wt(d,F.pos,C);return[Y[0]-p,Y[1]-h]}),P=[],T=[],N=E==="rect",z=E==="inset",W=E==="polygon";if(N||z||W){var I=z?O.slice(0,8):O;T=I.map(function(F,Y){var X=Y===0?I[I.length-1]:I[Y-1],V=jt(X,F),Z=qd(X,F);return e.createElement("div",{key:"clipLine".concat(Y),className:dt("line","clip-line","snap-control"),"data-clip-index":Y,style:{width:"".concat(Z,"px"),transform:"translate(".concat(X[0],"px, ").concat(X[1],"px) rotate(").concat(V,"rad) scaleY(").concat(o,")")}})})}if(P=O.map(function(F,Y){return e.createElement("div",{key:"clipControl".concat(Y),className:dt("control","clip-control","snap-control"),"data-clip-index":Y,style:{transform:"translate(".concat(F[0],"px, ").concat(F[1],"px) rotate(").concat(_,"rad) scale(").concat(o,")")}})}),z&&P.push.apply(P,it([],A(O.slice(8).map(function(F,Y){return e.createElement("div",{key:"clipRadiusControl".concat(Y),className:dt("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+Y,style:{transform:"translate(".concat(F[0],"px, ").concat(F[1],"px) rotate(").concat(_,"rad) scale(").concat(o,")")}})})),!1)),E==="circle"||E==="ellipse"){var L=w.left,B=w.top,$=w.radiusX,G=w.radiusY,j=A(vt(Wt(d,[L,B],C),Wt(d,[0,0],C)),2),H=j[0],q=j[1],U="none";if(!a){for(var et=Math.max(10,$/5,G/5),ot=[],ct=0;ct<=et;++ct){var ht=Math.PI*2/et*ct;ot.push([$+($-o)*Math.cos(ht),G+(G-o)*Math.sin(ht)])}ot.push([$,-2]),ot.push([-2,-2]),ot.push([-2,G*2+2]),ot.push([$*2+2,G*2+2]),ot.push([$*2+2,-2]),ot.push([$,-2]),U="polygon(".concat(ot.map(function(F){return"".concat(F[0],"px ").concat(F[1],"px")}).join(", "),")")}P.push(e.createElement("div",{key:"clipEllipse",className:dt("clip-ellipse","snap-control"),style:{width:"".concat($*2,"px"),height:"".concat(G*2,"px"),clipPath:U,transform:"translate(".concat(-p+H,"px, ").concat(-h+q,"px) ").concat(qa(d))}}))}if(a){var gt=Ge(it([g,m,b,S],A(O),!1)),nt=gt.width,lt=gt.height,M=gt.left,R=gt.top;if(W||N||z){var ot=z?O.slice(0,8):O;P.push(e.createElement("div",{key:"clipArea",className:dt("clip-area","snap-control"),style:{width:"".concat(nt,"px"),height:"".concat(lt,"px"),transform:"translate(".concat(M,"px, ").concat(R,"px)"),clipPath:"polygon(".concat(ot.map(function(Y){return"".concat(Y[0]-M,"px ").concat(Y[1]-R,"px")}).join(", "),")")}}))}}return x&&["vertical","horizontal"].forEach(function(F){var Y=x[F],X=F==="horizontal";Y.isSnap&&T.push.apply(T,it([],A(Y.snap.posInfos.map(function(V,Z){var J=V.pos,rt=vt(Wt(d,X?[0,J]:[J,0],C),[p,h]),Q=vt(Wt(d,X?[c,J]:[J,f],C),[p,h]);return si(e,"",rt,Q,o,"clip".concat(F,"snap").concat(Z),"guideline")})),!1)),Y.isBound&&T.push.apply(T,it([],A(Y.bounds.map(function(V,Z){var J=V.pos,rt=vt(Wt(d,X?[0,J]:[J,0],C),[p,h]),Q=vt(Wt(d,X?[c,J]:[J,f],C),[p,h]);return si(e,"",rt,Q,o,"clip".concat(F,"bounds").concat(Z),"guideline","bounds","bold")})),!1))}),it(it([],A(P),!1),A(T),!1)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var r=t.props,n=r.dragWithClip,i=n===void 0?!0:n;return i?!1:this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,k(k({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var r=t.state,n=t.props,i=n.defaultClipPath,a=n.customClipPath,o=r.target,s=r.width,l=r.height,u=e.inputEvent?e.inputEvent.target:null,c=u&&u.getAttribute("class")||"",f=e.datas,d=Zu(o,s,l,i||"inset",a);if(!d)return!1;var v=d.clipText,p=d.type,h=d.poses,g=ut(t,"onClipStart",_t(t,e,{clipType:p,clipStyle:v,poses:h.map(function(m){return m.pos})}));return g===!1?(f.isClipStart=!1,!1):(f.isControl=c&&c.indexOf("clip-control")>-1,f.isLine=c.indexOf("clip-line")>-1,f.isArea=c.indexOf("clip-area")>-1||c.indexOf("clip-ellipse")>-1,f.clipIndex=u?parseInt(u.getAttribute("data-clip-index"),10):-1,f.clipPath=d,f.isClipStart=!0,r.clipPathState=v,qr(t,e),!0)},dragControl:function(t,e){var r,n,i,a=e.datas,o=e.originalDatas,s=e.isDragTarget;if(!a.isClipStart)return!1;var l=a,u=l.isControl,c=l.isLine,f=l.isArea,d=l.clipIndex,v=l.clipPath;if(!v)return!1;var p=jr(t.props,"clippable"),h=p.keepRatio,g=0,m=0,b=o.draggable,S=nr(e);s&&b?(r=A(b.prevBeforeDist,2),g=r[0],m=r[1]):(n=A(S,2),g=n[0],m=n[1]);var y=[g,m],x=t.state,_=x.width,w=x.height,C=!f&&!u&&!c,E=v.type,D=v.poses,O=v.splitter,P=D.map(function(It){return It.pos});C&&(g=-g,m=-m);var T=!u||D[d].direction==="nesw",N=E==="inset"||E==="rect",z=D.map(function(){return[0,0]});if(u&&!T){var W=D[d],I=W.horizontal,L=W.vertical,B=[g*tt(I),m*tt(L)];z=Hb(D,d,B,N,h)}else T&&(z=P.map(function(){return[g,m]}));var $=P.map(function(It,pe){return Et(It,z[pe])}),G=it([],A($),!1);x.snapBoundInfos=null;var j=v.type==="circle",H=v.type==="ellipse";if(j||H){var q=Ge($),U=tt(q.bottom-q.top),et=tt(H?q.right-q.left:U),ot=$[0][1]+U,ct=$[0][0]-et,ht=$[0][0]+et;j&&(G.push([ht,q.bottom]),z.push([1,0])),G.push([q.left,ot]),z.push([0,1]),G.push([ct,q.bottom]),z.push([1,0])}var gt=Hd((p.clipHorizontalGuidelines||[]).map(function(It){return Rt("".concat(It),w)}),(p.clipVerticalGuidelines||[]).map(function(It){return Rt("".concat(It),_)}),_,w),nt=[],lt=[];if(j||H)nt=[G[4][0],G[2][0]],lt=[G[1][1],G[3][1]];else if(N){var M=[G[0],G[2],G[4],G[6]],R=[z[0],z[2],z[4],z[6]];nt=M.filter(function(It,pe){return R[pe][0]}).map(function(It){return It[0]}),lt=M.filter(function(It,pe){return R[pe][1]}).map(function(It){return It[1]})}else nt=G.filter(function(It,pe){return z[pe][0]}).map(function(It){return It[0]}),lt=G.filter(function(It,pe){return z[pe][1]}).map(function(It){return It[1]});var F=[0,0],Y=Bu(gt,p.clipTargetBounds&&{left:0,top:0,right:_,bottom:w},nt,lt,5,5),X=Y.horizontal,V=Y.vertical,Z=X.offset,J=V.offset;if(X.isBound&&(F[1]+=Z),V.isBound&&(F[0]+=J),(H||j)&&z[0][0]===0&&z[0][1]===0){var q=Ge($),rt=q.bottom-q.top,Q=H?q.right-q.left:rt,ft=V.isBound?tt(J):V.snapIndex===0?-J:J,at=X.isBound?tt(Z):X.snapIndex===0?-Z:Z;Q-=ft,rt-=at,j&&(rt=Bd(V,X)>0?rt:Q,Q=rt);var st=G[0];G[1][1]=st[1]-rt,G[2][0]=st[0]+Q,G[3][1]=st[1]+rt,G[4][0]=st[0]-Q}else if(N&&h&&u){var pt=A(vv(D),2),yt=pt[0],Ot=pt[1],Dt=yt&&Ot?yt/Ot:0,ce=D[d],Ut=ce.direction||"",fe=G[1][1],ot=G[5][1],ct=G[7][0],ht=G[3][0];tt(Z)<=tt(J)?Z=me(Z)*tt(J)/Dt:J=me(J)*tt(Z)*Dt,Ut.indexOf("w")>-1?ct-=J:Ut.indexOf("e")>-1?ht-=J:(ct+=J/2,ht-=J/2),Ut.indexOf("n")>-1?fe-=Z:Ut.indexOf("s")>-1?ot-=Z:(fe+=Z/2,ot-=Z/2);var de=xa(fe,ht,ot,ct);G.forEach(function(Il,zv){var Ja;Ja=A(de[zv].pos,2),Il[0]=Ja[0],Il[1]=Ja[1]})}else G.forEach(function(It,pe){var kl=z[pe];kl[0]&&(It[0]-=J),kl[1]&&(It[1]-=Z)});var pr=Dl(t,v,$),Zr="".concat(E,"(").concat(pr.join(O),")");if(x.clipPathState=Zr,j||H)nt=[G[4][0],G[2][0]],lt=[G[1][1],G[3][1]];else if(N){var M=[G[0],G[2],G[4],G[6]];nt=M.map(function(pe){return pe[0]}),lt=M.map(function(pe){return pe[1]})}else nt=G.map(function(It){return It[0]}),lt=G.map(function(It){return It[1]});if(x.snapBoundInfos=Bu(gt,p.clipTargetBounds&&{left:0,top:0,right:_,bottom:w},nt,lt,1,1),b){var ve=x.is3d,Ie=x.allMatrix,Ei=ve?4:3,Za=F;s&&(Za=[y[0]+F[0]-S[0],y[1]+F[1]-S[1]]),b.deltaOffset=Pt(Ie,[Za[0],Za[1],0,0],Ei)}return ut(t,"onClip",_t(t,e,k({clipEventType:"changed",clipType:E,poses:$,clipStyle:Zr,clipStyles:pr,distX:g,distY:m},be((i={},i[E==="rect"?"clip":"clipPath"]=Zr,i),e)))),!0},dragControlEnd:function(t,e){this.unset(t);var r=e.isDrag,n=e.datas,i=e.isDouble,a=n.isLine,o=n.isClipStart,s=n.isControl;return o?(ut(t,"onClipEnd",Re(t,e,{})),i&&(s?Xb(t,e):a&&Yb(t,e)),i||r):!1},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},jb={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[`:host[data-able-origindraggable] .control.origin {
pointer-events: auto;
}`],dragControlCondition:function(t,e){return e.isRequest?e.requestAble==="originDraggable":Jt(e.inputEvent.target,dt("origin"))},dragControlStart:function(t,e){var r=e.datas;qr(t,e);var n=_t(t,e,{dragStart:ge.dragStart(t,new wn().dragStart([0,0],e))}),i=ut(t,"onDragOriginStart",n);return r.startOrigin=t.state.transformOrigin,r.startTargetOrigin=t.state.targetOrigin,r.prevOrigin=[0,0],r.isDragOrigin=!0,i===!1?(r.isDragOrigin=!1,!1):n},dragControl:function(t,e){var r=e.datas,n=e.isPinch,i=e.isRequest;if(!r.isDragOrigin)return!1;var a=A(nr(e),2),o=a[0],s=a[1],l=t.state,u=l.width,c=l.height,f=l.offsetMatrix,d=l.targetMatrix,v=l.is3d,p=t.props.originRelative,h=p===void 0?!0:p,g=v?4:3,m=[o,s];if(i){var b=e.distOrigin;(b[0]||b[1])&&(m=b)}var S=Et(r.startOrigin,m),y=Et(r.startTargetOrigin,m),x=vt(m,r.prevOrigin),_=Ci(f,d,S,g),w=t.getRect(),C=Ge(Kr(_,u,c,g)),E=[w.left-C.left,w.top-C.top];r.prevOrigin=m;var D=[We(y[0],u,h),We(y[1],c,h)].join(" "),O=ge.drag(t,_i(e,t.state,E,!!n)),P=_t(t,e,k(k({width:u,height:c,origin:S,dist:m,delta:x,transformOrigin:D,drag:O},be({transformOrigin:D,transform:O.transform},e)),{afterTransform:O.transform}));return ut(t,"onDragOrigin",P),P},dragControlEnd:function(t,e){var r=e.datas;return r.isDragOrigin?(ut(t,"onDragOriginEnd",Re(t,e,{})),!0):!1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);return!!r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);return r?(t.transformOrigin=r.transformOrigin,!0):!1},request:function(t){var e={},r=t.getRect(),n=0,i=0,a=r.transformOrigin,o=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(s){return"deltaOrigin"in s?(o[0]+=s.deltaOrigin[0],o[1]+=s.deltaOrigin[1]):"origin"in s?(o[0]=s.origin[0]-a[0],o[1]=s.origin[1]-a[1]):("x"in s?n=s.x-r.left:"deltaX"in s&&(n+=s.deltaX),"y"in s?i=s.y-r.top:"deltaY"in s&&(i+=s.deltaY)),{datas:e,distX:n,distY:i,distOrigin:o}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function Ub(t,e,r,n){var i=t.filter(function(l){var u=l.virtual,c=l.horizontal;return c&&!u}).length,a=t.filter(function(l){var u=l.virtual,c=l.vertical;return c&&!u}).length,o=-1;if(e===0&&(i===0?o=0:i===1&&(o=1)),e===2&&(i<=2?o=2:i<=3&&(o=3)),e===3&&(a===0?o=4:a<4&&(o=7)),e===1&&(a<=1?o=5:a<=2&&(o=6)),!(o===-1||!t[o].virtual)){var s=t[o];qb(t,o),o<4?s.pos[0]=r:s.pos[1]=n}}function qb(t,e){e<4?t.slice(0,e+1).forEach(function(r){r.virtual=!1}):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach(function(r){r.virtual=!1}))}function Kb(t,e){e<4?t.slice(e,4).forEach(function(r){r.virtual=!0}):t.slice(e).forEach(function(r){r.virtual=!0})}function Ju(t,e,r,n,i){n===void 0&&(n=[0,0]);var a=[];return!t||t==="0px"?a=[]:a=xr(t),dv(a,e,r,0,0,n,i)}function Qu(t,e,r,n,i){var a=t.state,o=a.width,s=a.height,l=El(i,t.props.roundRelative,o,s),u=l.raws,c=l.styles,f=l.radiusPoses,d=Lb(f,u),v=d.horizontals,p=d.verticals,h=c.join(" ");a.borderRadiusState=h;var g=_t(t,e,k({horizontals:v,verticals:p,borderRadius:h,width:o,height:s,delta:n,dist:r},be({borderRadius:h},e)));return ut(t,"onRound",g),g}function tc(t){var e,r,n=t.getState().style,i=n.borderRadius||"";if(!i&&t.props.groupable){var a=t.moveables[0],o=t.getTargets()[0];o&&((a==null?void 0:a.props.target)===o?(i=(r=(e=t.moveables[0])===null||e===void 0?void 0:e.state.style.borderRadius)!==null&&r!==void 0?r:"",n.borderRadius=i):(i=Sl(o).borderRadius,n.borderRadius=i))}return i}var Zb={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[`.control.border-radius {
background: #d66;
cursor: pointer;
z-index: 3;
}`,`.control.border-radius.vertical {
background: #d6d;
z-index: 2;
}`,`.control.border-radius.virtual {
opacity: 0.5;
z-index: 1;
}`,`:host.round-line-clickable .line.direction {
cursor: pointer;
}`],className:function(t){var e=t.props.roundClickable;return e===!0||e==="line"?dt("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(t,e){var r=t.getState(),n=r.target,i=r.width,a=r.height,o=r.allMatrix,s=r.is3d,l=r.left,u=r.top,c=r.borderRadiusState,f=t.props,d=f.minRoundControls,v=d===void 0?[0,0]:d,p=f.maxRoundControls,h=p===void 0?[4,4]:p,g=f.zoom,m=f.roundPadding,b=m===void 0?0:m,S=f.isDisplayShadowRoundControls,y=f.groupable;if(!n)return null;var x=c||tc(t),_=s?4:3,w=Ju(x,i,a,v,!0);if(!w)return null;var C=0,E=0,D=y?[0,0]:[l,u];return w.map(function(O,P){var T=O.horizontal,N=O.vertical,z=O.direction||"",W=it([],A(O.pos),!1);E+=Math.abs(T),C+=Math.abs(N),T&&z.indexOf("n")>-1&&(W[1]-=b),N&&z.indexOf("w")>-1&&(W[0]-=b),T&&z.indexOf("s")>-1&&(W[1]+=b),N&&z.indexOf("e")>-1&&(W[0]+=b);var I=vt(Wt(o,W,_),D),L=S&&S!=="horizontal",B=O.vertical?C<=h[1]&&(L||!O.virtual):E<=h[0]&&(S||!O.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(P),className:dt("control","border-radius",O.vertical?"vertical":"",O.virtual?"virtual":""),"data-radius-index":P,style:{display:B?"block":"none",transform:"translate(".concat(I[0],"px, ").concat(I[1],"px) scale(").concat(g,")")}})})},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var r=e.inputEvent.target.getAttribute("class")||"";return r.indexOf("border-radius")>-1||r.indexOf("moveable-line")>-1&&r.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragControlStart:function(t,e){var r=e.inputEvent,n=e.datas,i=r.target,a=i.getAttribute("class")||"",o=a.indexOf("border-radius")>-1,s=a.indexOf("moveable-line")>-1&&a.indexOf("moveable-direction")>-1,l=o?parseInt(i.getAttribute("data-radius-index"),10):-1,u=-1;if(s){var c=i.getAttribute("data-line-key")||"";c&&(u=parseInt(c.replace(/render-line-/g,""),10),isNaN(u)&&(u=-1))}if(!o&&!s)return!1;var f=_t(t,e,{}),d=ut(t,"onRoundStart",f);if(d===!1)return!1;n.lineIndex=u,n.controlIndex=l,n.isControl=o,n.isLine=s,qr(t,e);var v=t.props,p=v.roundRelative,h=v.minRoundControls,g=h===void 0?[0,0]:h,m=t.state,b=m.width,S=m.height;n.isRound=!0,n.prevDist=[0,0];var y=tc(t),x=Ju(y||"",b,S,g,!0)||[];return n.controlPoses=x,m.borderRadiusState=El(x,p,b,S).styles.join(" "),f},dragControl:function(t,e){var r=e.datas,n=r.controlPoses;if(!r.isRound||!r.isControl||!n.length)return!1;var i=r.controlIndex,a=A(nr(e),2),o=a[0],s=a[1],l=[o,s],u=vt(l,r.prevDist),c=t.props.maxRoundControls,f=c===void 0?[4,4]:c,d=t.state,v=d.width,p=d.height,h=n[i],g=h.vertical,m=h.horizontal,b=n.map(function(y){var x=y.horizontal,_=y.vertical,w=[x*m*l[0],_*g*l[1]];if(x){if(f[0]===1)return w;if(f[0]<4&&x!==m)return w}else{if(f[1]===0)return w[1]=_*m*l[0]/v*p,w;if(g){if(f[1]===1)return w;if(f[1]<4&&_!==g)return w}}return[0,0]});b[i]=l;var S=n.map(function(y,x){return k(k({},y),{pos:Et(y.pos,b[x])})});return i<4?S.slice(0,i+1).forEach(function(y){y.virtual=!1}):S.slice(4,i+1).forEach(function(y){y.virtual=!1}),r.prevDist=[o,s],Qu(t,e,l,u,S)},dragControlEnd:function(t,e){var r=t.state;r.borderRadiusState="";var n=e.datas,i=e.isDouble;if(!n.isRound)return!1;var a=n.isControl,o=n.controlIndex,s=n.isLine,l=n.lineIndex,u=n.controlPoses,c=u.filter(function(m){var b=m.virtual;return b}).length,f=t.props.roundClickable,d=f===void 0?!0:f;if(i&&d){if(a&&(d===!0||d==="control"))Kb(u,o);else if(s&&(d===!0||d==="line")){var v=A(md(t,e),2),p=v[0],h=v[1];Ub(u,l,p,h)}c!==u.filter(function(m){var b=m.virtual;return b}).length&&Qu(t,e,[0,0],[0,0],u)}var g=Re(t,e,{});return ut(t,"onRoundEnd",g),r.borderRadiusState="",g},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);if(!r)return!1;var n=t.moveables,i=t.props.targets,a=Xe(t,"roundable",e),o=k({targets:t.props.targets,events:a.map(function(s,l){return k(k({},s),{target:i[l],moveable:n[l],currentTarget:n[l]})})},r);return ut(t,"onRoundGroupStart",o),r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);if(!r)return!1;var n=t.moveables,i=t.props.targets,a=Xe(t,"roundable",e),o=k({targets:t.props.targets,events:a.map(function(s,l){return k(k(k({},s),{target:i[l],moveable:n[l],currentTarget:n[l]}),be({borderRadius:r.borderRadius},s))})},r);return ut(t,"onRoundGroup",o),o},dragGroupControlEnd:function(t,e){var r=t.moveables,n=t.props.targets,i=Xe(t,"roundable",e);Ka(t,"onRound",function(s){var l=k({targets:t.props.targets,events:i.map(function(u,c){return k(k(k({},u),{target:n[c],moveable:r[c],currentTarget:r[c]}),be({borderRadius:s.borderRadius},u))})},s);ut(t,"onRoundGroup",l)});var a=this.dragControlEnd(t,e);if(!a)return!1;var o=k({targets:t.props.targets,events:i.map(function(s,l){var u;return k(k({},s),{target:n[l],moveable:r[l],currentTarget:r[l],lastEvent:(u=s.datas)===null||u===void 0?void 0:u.lastEvent})})},a);return ut(t,"onRoundGroupEnd",o),o},unset:function(t){t.state.borderRadiusState=""}};function Jb(t,e){var r=e?4:3,n=Gt(r),i="matrix".concat(e?"3d":"","(").concat(n.join(","),")");return t===i||t==="matrix(1,0,0,1,0,0)"}var pv={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(t,e){var r=t.state,n=r.is3d,i=r.targetMatrix,a=r.inlineTransform,o=n?"matrix3d(".concat(i.join(","),")"):"matrix(".concat(rd(i,!0),")"),s=!a||a==="none"?o:a;e.datas.startTransforms=Jb(s,n)?[]:xr(s)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return _t(t,e,{setTransform:function(r){e.datas.startTransforms=Ht(r)?r:xr(r)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return _t(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),ut(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){e.datas.startTransforms||this.setTransform(t,e),this.resetStyle(e),ut(t,"onBeforeRender",_t(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){e.datas.startTransforms||(this.setTransform(t,e),this.resetStyle(e)),ut(t,"onBeforeRenderEnd",_t(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var r=this;this.dragStart(t,e);var n=Xe(t,"beforeRenderable",e),i=t.moveables,a=n.map(function(o,s){var l=i[s];return r.setTransform(l,o),r.resetStyle(o),r.fillDragStartParams(l,o)});ut(t,"onBeforeRenderGroupStart",_t(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:a}))},dragGroup:function(t,e){var r=this;this.drag(t,e);var n=Xe(t,"beforeRenderable",e),i=t.moveables,a=n.map(function(o,s){var l=i[s];return r.resetStyle(o),r.fillDragParams(l,o)});ut(t,"onBeforeRenderGroup",_t(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:a}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),ut(t,"onBeforeRenderGroupEnd",_t(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},hv={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(t,e){ut(t,"onRenderStart",_t(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){ut(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){return this.drag(t,e)},dragEnd:function(t,e){ut(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){ut(t,"onRenderGroupStart",_t(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var r=this,n=Xe(t,"beforeRenderable",e),i=t.moveables,a=n.map(function(o,s){var l=i[s];return r.fillDragParams(l,o)});ut(t,"onRenderGroup",_t(t,e,k(k({isPinch:!!e.isPinch,targets:t.props.targets,transform:$i(e),transformObject:{}},be(Hi(e))),{events:a})))},dragGroupEnd:function(t,e){var r=this,n=Xe(t,"beforeRenderable",e),i=t.moveables,a=n.map(function(o,s){var l=i[s];return r.fillDragEndParams(l,o)});ut(t,"onRenderGroupEnd",_t(t,e,k({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:a,transformObject:{},transform:$i(e)},be(Hi(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){var r={};return xn(ga(e)||[]).forEach(function(n){r[n.name]=n.functionValue}),_t(t,e,k({isPinch:!!e.isPinch,transformObject:r,transform:$i(e)},be(Hi(e))))},fillDragEndParams:function(t,e){var r={};return xn(ga(e)||[]).forEach(function(n){r[n.name]=n.functionValue}),_t(t,e,k({isPinch:!!e.isPinch,isDrag:e.isDrag,transformObject:r,transform:$i(e)},be(Hi(e))))}};function Zn(t,e,r,n,i,a,o){a.clientDistX=a.distX,a.clientDistY=a.distY;var s=i==="Start",l=i==="End",u=i==="After",c=t.state.target,f=a.isRequest,d=n.indexOf("Control")>-1;if(!c||s&&d&&!f&&t.areaElement===a.inputEvent.target)return!1;var v=it([],A(e),!1);if(f){var p=a.requestAble;v.some(function(P){return P.name===p})||v.push.apply(v,it([],A(t.props.ables.filter(function(P){return P.name===p})),!1))}if(!v.length||v.every(function(P){return P.dragRelation}))return!1;var h=a.inputEvent,g;l&&h&&(g=document.elementFromPoint(a.clientX,a.clientY)||h.target);var m=!1,b=function(){var P;m=!0,(P=a.stop)===null||P===void 0||P.call(a)},S=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());S&&t.updateRect(i,!0,!1);var y=a.datas,x=d?"controlGesto":"targetGesto",_=t[x],w=function(P,T,N){if(!(T in P)||_!==t[x])return!1;var z=P.name,W=y[z]||(y[z]={});if(s&&(W.isEventStart=!N||!P[N]||P[N](t,a)),!W.isEventStart)return!1;var I=P[T](t,k(k({},a),{stop:b,datas:W,originalDatas:y,inputTarget:g}));return t._emitter.off(),s&&I===!1&&(W.isEventStart=!1),I};S&&v.forEach(function(P){P.unset&&P.unset(t)}),w(pv,"drag".concat(n).concat(i));var C=0,E=0;r.forEach(function(P){if(m)return!1;var T="".concat(P).concat(n).concat(i),N="".concat(P).concat(n,"Condition");i===""&&!f&&_b(t.state,a);var z=v.filter(function(L){return L[T]});z=z.filter(function(L,B){return L.name&&z.indexOf(L)===B});var W=z.filter(function(L){return w(L,T,N)}),I=W.length;m&&++C,I&&++E,!m&&s&&z.length&&!I&&(C+=z.filter(function(L){var B=L.name,$=y[B];return $.isEventStart?L.dragRelation!=="strong":!1}).length?1:0)}),(!u||E)&&w(hv,"drag".concat(n).concat(i));var D=_!==t[x]||C===r.length;if((l||m||D)&&(t.state.gestos={},t.moveables&&t.moveables.forEach(function(P){P.state.gestos={}}),v.forEach(function(P){P.unset&&P.unset(t)})),s&&!D&&!f&&E&&t.props.preventDefault&&(a==null||a.preventDefault()),t.isUnmounted||D)return!1;if(!s&&E&&!o||l){var O=t.props.flushSync||Vd;O(function(){t.updateRect(l?i:"",!0,!1),t.forceUpdate()})}return!s&&!l&&!u&&E&&!o&&Zn(t,e,r,n,i+"After",a),!0}function Ml(t,e){return function(r,n){var i;n===void 0&&(n=r.inputEvent.target);var a=n,o=t.areaElement,s=t._dragTarget;return!s||!e&&(!((i=t.controlGesto)===null||i===void 0)&&i.isFlag())?!1:a===s||s.contains(a)||a===o||!t.isMoveableElement(a)&&!t.controlBox.contains(a)||Jt(a,"moveable-area")||Jt(a,"moveable-padding")||Jt(a,"moveable-edgeDraggable")}}function gv(t,e,r){var n=t.controlBox,i=[],a=t.props,o=a.dragArea,s=t.state.target,l=a.dragTarget;i.push(n),(!o||l)&&i.push(e),!o&&l&&s&&e!==s&&a.dragTargetSelf&&i.push(s);var u=Ml(t);return bv(t,i,"targetAbles",r,{dragStart:u,pinchStart:u})}function mv(t,e){var r=t.controlBox,n=[];n.push(r);var i=Ml(t,!0),a=function(o,s){if(s===void 0&&(s=o.inputEvent.target),s===r)return!0;var l=i(o,s);return!l};return bv(t,n,"controlAbles",e,{dragStart:a,pinchStart:a})}function bv(t,e,r,n,i){i===void 0&&(i={});var a=r==="targetAbles",o=t.props,s=o.pinchOutside,l=o.pinchThreshold,u=o.preventClickEventOnDrag,c=o.preventClickDefault,f=o.checkInput,d=o.dragFocusedInput,v=o.preventDefault,p=v===void 0?!0:v,h=o.preventRightClick,g=h===void 0?!0:h,m=o.preventWheelClick,b=m===void 0?!0:m,S=o.dragContainer,y=er(S,!0),x={preventDefault:p,preventRightClick:g,preventWheelClick:b,container:y||Be(t.getControlBoxElement()),pinchThreshold:l,pinchOutside:s,preventClickEventOnDrag:a?u:!1,preventClickEventOnDragStart:a?c:!1,preventClickEventByCondition:a?null:function(C){return t.controlBox.contains(C.target)},checkInput:a?f:!1,dragFocusedInput:d},_=new ld(e,x),w=n==="Control";return["drag","pinch"].forEach(function(C){["Start","","End"].forEach(function(E){_.on("".concat(C).concat(E),function(D){var O,P=D.eventType,T=C==="drag"&&D.isPinch;if(i[P]&&!i[P](D)){D.stop();return}if(!T){var N=C==="drag"?[C]:["drag",C],z=it([],A(t[r]),!1),W=Zn(t,z,N,n,E,D);W?(t.props.stopPropagation||E==="Start"&&w)&&((O=D==null?void 0:D.inputEvent)===null||O===void 0||O.stopPropagation()):D.stop()}})})}),_}var Qb=function(){function t(e,r,n){var i=this;this.target=e,this.moveable=r,this.eventName=n,this.ables=[],this._onEvent=function(a){var o=i.eventName,s=i.moveable;s.state.disableNativeEvent||i.ables.forEach(function(l){l[o](s,{inputEvent:a})})},e.addEventListener(n.toLowerCase(),this._onEvent)}return t.prototype.setAbles=function(e){this.ables=e},t.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function ty(t,e,r,n){var i;r===void 0&&(r=e);var a=xd(t,e),o=a.matrixes,s=a.is3d,l=a.targetMatrix,u=a.transformOrigin,c=a.targetOrigin,f=a.offsetContainer,d=a.hasFixed,v=a.zoom,p=p1(f,r),h=p.matrixes,g=p.is3d,m=p.offsetContainer,b=p.zoom,S=n,y=4,x=t.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in t,_=l,w=Gt(y),C=Gt(y),E=Gt(y),D=Gt(y),O=o.length,P=h.map(function(B){return k(k({},B),{matrix:B.matrix?it([],A(B.matrix),!1):void 0})}).reverse();o.reverse(),!s&&S&&(_=Ue(_,3,4),hs(o)),!g&&S&&hs(P),P.forEach(function(B){C=Pt(C,B.matrix,y)});var T=r||Rr(t),N=((i=P[0])===null||i===void 0?void 0:i.target)||li(T,T,!0).offsetParent,z=P.slice(1).reduce(function(B,$){return Pt(B,$.matrix,y)},Gt(y));o.forEach(function(B,$){if(O-2===$&&(E=w.slice()),O-1===$&&(D=w.slice()),!B.matrix){var G=o[$+1],j=mb(B,G,N,y,Pt(z,w,y));B.matrix=Xr(j,y)}w=Pt(w,B.matrix,y)});var W=!x&&s;_||(_=Gt(W?4:3));var I=qa(x&&_.length===16?Ue(_,4,3):_,W),L=C;return C=td(C,y,y),{hasZoom:v!==1||b!==1,hasFixed:d,matrixes:o,rootMatrix:C,originalRootMatrix:L,beforeMatrix:E,offsetMatrix:D,allMatrix:w,targetMatrix:_,targetTransform:I,inlineTransform:t.style.transform,transformOrigin:u,targetOrigin:c,is3d:S,offsetContainer:f,offsetRootContainer:m}}function ey(t,e,r,n){r===void 0&&(r=e);var i=0,a=0,o=0,s={},l=Kd(t);if(t&&(i=l.offsetWidth,a=l.offsetHeight),t){var u=ty(t,e,r,n),c=yn(u.allMatrix,u.transformOrigin,i,a);s=k(k({},u),c);var f=yn(u.allMatrix,[50,50],100,100);o=Zd([f.pos1,f.pos2],f.direction)}var d=4;return k(k(k({hasZoom:!1,width:i,height:a,rotation:o},l),{originalRootMatrix:Gt(d),rootMatrix:Gt(d),beforeMatrix:Gt(d),offsetMatrix:Gt(d),allMatrix:Gt(d),targetMatrix:Gt(d),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),s)}function ys(t,e,r,n,i,a){a===void 0&&(a=[]);var o=1,s=[0,0],l=Xi(),u=Xi(),c=Xi(),f=Xi(),d=[0,0],v={},p=ey(e,r,i,!0);if(e){var h=we(e);a.forEach(function(P){v[P]=h(P)});var g=p.is3d?4:3,m=yn(p.offsetMatrix,Et(p.transformOrigin,ed(p.targetMatrix,g)),p.width,p.height);o=m.direction,s=Et(m.origin,[m.left-p.left,m.top-p.top]),f=Kn(p.offsetRootContainer);var b=li(n,n,!0).offsetParent||p.offsetRootContainer;if(p.hasZoom){var S=yn(Pt(p.originalRootMatrix,p.allMatrix),p.transformOrigin,p.width,p.height),y=yn(p.originalRootMatrix,Sa(we(b)("transformOrigin")).map(function(P){return parseFloat(P)}),b.offsetWidth,b.offsetHeight);if(l=Eo(S,f),c=Eo(y,f,b,!0),t){var x=S.left,_=S.top;u=Eo({left:x,top:_,bottom:_,right:_},f)}}else{l=Kn(e),c=v1(b),t&&(u=Kn(t));var w=c.left,C=c.top,E=c.clientLeft,D=c.clientTop,O=[l.left-w,l.top-C];d=vt(Mn(p.rootMatrix,O,4),[E+p.left,D+p.top])}}return k({targetClientRect:l,containerClientRect:c,moveableClientRect:u,rootContainerClientRect:f,beforeDirection:o,beforeOrigin:s,originalBeforeOrigin:s,target:e,style:v,offsetDelta:d},p)}function ec(t){var e=t.pos1,r=t.pos2,n=t.pos3,i=t.pos4;if(!e||!r||!n||!i)return null;var a=Vr([e,r,n,i]),o=[a.minX,a.minY],s=vt(t.origin,o);return e=vt(e,o),r=vt(r,o),n=vt(n,o),i=vt(i,o),k(k({},t),{left:t.left,top:t.top,posDelta:o,pos1:e,pos2:r,pos3:n,pos4:i,origin:s,beforeOrigin:s,isPersisted:!0})}var On=function(t){yi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state=k({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},ys(null)),r.renderState={},r.enabledAbles=[],r.targetAbles=[],r.controlAbles=[],r.rotation=0,r.scale=[1,1],r.isMoveableMounted=!1,r.isUnmounted=!1,r.events={mouseEnter:null,mouseLeave:null},r._emitter=new Rn,r._prevOriginalDragTarget=null,r._originalDragTarget=null,r._prevDragTarget=null,r._dragTarget=null,r._prevPropTarget=null,r._propTarget=null,r._prevDragArea=!1,r._isPropTargetChanged=!1,r._hasFirstTarget=!1,r._reiszeObserver=null,r._observerId=0,r._mutationObserver=null,r._rootContainer=null,r._viewContainer=null,r._viewClassNames=[],r._store={},r.checkUpdateRect=function(){if(!r.isDragging()){var n=r.props.parentMoveable;if(n){n.checkUpdateRect();return}C0(r._observerId),r._observerId=Rf(function(){r.isDragging()||r.updateRect()})}},r._onPreventClick=function(n){n.stopPropagation(),n.preventDefault()},r}return e.prototype.render=function(){var r=this.props,n=this.getState(),i=r.parentPosition,a=r.className,o=r.target,s=r.zoom,l=r.cspNonce,u=r.translateZ,c=r.cssStyled,f=r.groupable,d=r.linePadding,v=r.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var p=A(i||[0,0],2),h=p[0],g=p[1],m=n.left,b=n.top,S=n.target,y=n.direction,x=n.hasFixed,_=n.offsetDelta,w=r.targets,C=this.isDragging(),E={};this.getEnabledAbles().forEach(function(z){E["data-able-".concat(z.name.toLowerCase())]=!0});var D=this._getAbleClassName(),O=w&&w.length&&(S||f)||o||!this._hasFirstTarget&&this.state.isPersisted,P=this.controlBox||this.props.firstRenderState||this.props.persistData,T=[m-h,b-g];!f&&r.useAccuratePosition&&(T[0]+=_[0],T[1]+=_[1]);var N={position:x?"fixed":"absolute",display:O?"block":"none",visibility:P?"visible":"hidden",transform:"translate3d(".concat(T[0],"px, ").concat(T[1],"px, ").concat(u,")"),"--zoom":s,"--zoompx":"".concat(s,"px")};return d&&(N["--moveable-line-padding"]=d),v&&(N["--moveable-control-padding"]=v),Ye(c,k({cspNonce:l,ref:lr(this,"controlBox"),className:"".concat(dt("control-box",y===-1?"reverse":"",C?"dragging":"")," ").concat(D," ").concat(a)},E,{onClick:this._onPreventClick,style:N}),this.renderAbles(),this._renderLines())},e.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var r=this.props,n=r.parentMoveable,i=r.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!i&&!n&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},e.prototype.componentDidUpdate=function(r){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(r)},e.prototype.componentWillUnmount=function(){var r,n;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),(r=this._reiszeObserver)===null||r===void 0||r.disconnect(),(n=this._mutationObserver)===null||n===void 0||n.disconnect();var i=this._viewContainer;i&&this._changeAbleViewClassNames([]),un(this,!1),un(this,!0);var a=this.events;for(var o in a){var s=a[o];s&&s.destroy()}},e.prototype.getTargets=function(){var r=this.props.target;return r?[r]:[]},e.prototype.getAble=function(r){var n=this.props.ables||[];return xe(n,function(i){return i.name===r})},e.prototype.getContainer=function(){var r=this.props,n=r.parentMoveable,i=r.wrapperMoveable,a=r.container;return a||i&&i.getContainer()||n&&n.getContainer()||this.controlBox.parentElement},e.prototype.getControlBoxElement=function(){return this.controlBox},e.prototype.getDragElement=function(){return this._dragTarget},e.prototype.isMoveableElement=function(r){var n;return r&&(((n=r.getAttribute)===null||n===void 0?void 0:n.call(r,"class"))||"").indexOf(ll)>-1},e.prototype.dragStart=function(r,n){n===void 0&&(n=r.target);var i=this.targetGesto,a=this.controlGesto;return i&&Ml(this)({inputEvent:r},n)?i.isFlag()||i.triggerDragStart(r):a&&this.isMoveableElement(n)&&(a.isFlag()||a.triggerDragStart(r)),this},e.prototype.hitTest=function(r){var n=this.state,i=n.target,a=n.pos1,o=n.pos2,s=n.pos3,l=n.pos4,u=n.targetClientRect;if(!i)return 0;var c;if(wr(r)){var f=r.getBoundingClientRect();c={left:f.left,top:f.top,width:f.width,height:f.height}}else c=k({width:0,height:0},r);var d=c.left,v=c.top,p=c.width,h=c.height,g=es([a,o,l,s],u),m=_m(g,[[d,v],[d+p,v],[d+p,v+h],[d,v+h]]),b=Vn(g);return!m||!b?0:Math.min(100,m/b*100)},e.prototype.isInside=function(r,n){var i=this.state,a=i.target,o=i.pos1,s=i.pos2,l=i.pos3,u=i.pos4,c=i.targetClientRect;return a?pa([r,n],es([o,s,u,l],c)):!1},e.prototype.updateRect=function(r,n,i){i===void 0&&(i=!0);var a=this.props,o=!a.parentPosition&&!a.wrapperMoveable;o&&En(!0);var s=a.parentMoveable,l=this.state,u=l.target||a.target,c=this.getContainer(),f=s?s._rootContainer:this._rootContainer,d=ys(this.controlBox,u,c,c,f||c,this._getRequestStyles());if(!u&&this._hasFirstTarget&&a.persistData){var v=ec(a.persistData);for(var p in v)d[p]=v[p]}o&&En(),this.updateState(d,s?!1:i)},e.prototype.isDragging=function(r){var n,i,a=this.targetGesto,o=this.controlGesto;if(a!=null&&a.isFlag()){if(!r)return!0;var s=a.getEventData();return!!(!((n=s[r])===null||n===void 0)&&n.isEventStart)}if(o!=null&&o.isFlag()){if(!r)return!0;var s=o.getEventData();return!!(!((i=s[r])===null||i===void 0)&&i.isEventStart)}return!1},e.prototype.updateTarget=function(r){this.updateRect(r,!0)},e.prototype.getRect=function(){var r=this.state,n=Le(this.state),i=A(n,4),a=i[0],o=i[1],s=i[2],l=i[3],u=Ge(n),c=r.width,f=r.height,d=u.width,v=u.height,p=u.left,h=u.top,g=[r.left,r.top],m=Et(g,r.origin),b=Et(g,r.beforeOrigin),S=r.transformOrigin;return{width:d,height:v,left:p,top:h,pos1:a,pos2:o,pos3:s,pos4:l,offsetWidth:c,offsetHeight:f,beforeOrigin:b,origin:m,transformOrigin:S,rotation:this.getRotation()}},e.prototype.getManager=function(){return this},e.prototype.stopDrag=function(r){if(!r||r==="target"){var n=this.targetGesto;(n==null?void 0:n.isIdle())===!1&&gs(this,!1),n==null||n.stop()}if(!r||r==="control"){var n=this.controlGesto;(n==null?void 0:n.isIdle())===!1&&gs(this,!0),n==null||n.stop()}},e.prototype.getRotation=function(){var r=this.state,n=r.pos1,i=r.pos2,a=r.direction;return wb(n,i,a)},e.prototype.request=function(r,n,i){n===void 0&&(n={});var a=this,o=a.props,s=o.parentMoveable||o.wrapperMoveable||a,l=s.props.ables,u=o.groupable,c=xe(l,function(m){return m.name===r});if(this.isDragging()||!c||!c.request)return{request:function(){return this},requestEnd:function(){return this}};var f=c.request(a),d=i||n.isInstant,v=f.isControl?"controlAbles":"targetAbles",p="".concat(u?"Group":"").concat(f.isControl?"Control":""),h=it([],A(s[v]),!1),g={request:function(m){return Zn(a,h,["drag"],p,"",k(k({},f.request(m)),{requestAble:r,isRequest:!0}),d),g},requestEnd:function(){return Zn(a,h,["drag"],p,"End",k(k({},f.requestEnd()),{requestAble:r,isRequest:!0}),d),g}};return Zn(a,h,["drag"],p,"Start",k(k({},f.requestStart(n)),{requestAble:r,isRequest:!0}),d),d?g.request(n).requestEnd():g},e.prototype.getMoveables=function(){return[this]},e.prototype.destroy=function(){this.componentWillUnmount()},e.prototype.updateRenderPoses=function(){var r=this.getState(),n=this.props,i=n.padding,a=r.originalBeforeOrigin,o=r.transformOrigin,s=r.allMatrix,l=r.is3d,u=r.pos1,c=r.pos2,f=r.pos3,d=r.pos4,v=r.left,p=r.top,h=r.isPersisted,g=n.zoom||1;if(!i&&g<=1){r.renderPoses=[u,c,f,d],r.renderLines=[[u,c],[c,d],[d,f],[f,u]];return}var m=sv(i||{}),b=m.left,S=m.top,y=m.bottom,x=m.right,_=l?4:3,w=[];h?w=o:this.controlBox&&n.groupable?w=a:w=Et(a,[v,p]);var C=va(_,Xr(w.map(function(N){return-N}),_),s,Xr(o,_)),E=Ae(C,u,[-b,-S],_),D=Ae(C,c,[x,-S],_),O=Ae(C,f,[-b,y],_),P=Ae(C,d,[x,y],_);if(r.renderPoses=[E,D,O,P],r.renderLines=[[E,D],[D,P],[P,O],[O,E]],g){var T=g/2;r.renderLines=[[Ae(C,u,[-b-T,-S],_),Ae(C,c,[x+T,-S],_)],[Ae(C,c,[x,-S-T],_),Ae(C,d,[x,y+T],_)],[Ae(C,d,[x+T,y],_),Ae(C,f,[-b-T,y],_)],[Ae(C,f,[-b,y+T],_),Ae(C,u,[-b,-S-T],_)]]}},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var r=this.props,n=r.target,i=r.container,a=r.parentMoveable,o=this.state,s=o.target,l=o.container;if(!(!s&&!n)){this.updateAbles();var u=!ms(s,n),c=u||!ms(l,i);if(c){var f=i||this.controlBox;f&&this.unsetAbles(),this.updateState({target:n,container:i}),!a&&f&&this.updateRect("End",!1,!1),this._isPropTargetChanged=u}}},e.prototype.waitToChangeTarget=function(){return new Promise(function(){})},e.prototype.triggerEvent=function(r,n){var i=this.props;if(this._emitter.trigger(r,n),i.parentMoveable&&n.isRequest&&!n.isRequestChild)return i.parentMoveable.triggerEvent(r,n,!0);var a=i[r];return a&&a(n)},e.prototype.useCSS=function(r,n){var i=this.props.customStyledMap,a=r+n;return i[a]||(i[a]=cd(r,n)),i[a]},e.prototype.getState=function(){var r,n=this.props;(n.target||!((r=n.targets)===null||r===void 0)&&r.length)&&(this._hasFirstTarget=!0);var i=this.controlBox,a=n.persistData,o=n.firstRenderState;if(o&&!i)return o;if(!this._hasFirstTarget&&a){var s=ec(a);if(s)return this.updateState(s,!1),this.state}return this.state.isPersisted=!1,this.state},e.prototype.updateSelectors=function(){},e.prototype.unsetAbles=function(){var r=this;this.targetAbles.forEach(function(n){n.unset&&n.unset(r)})},e.prototype.updateAbles=function(r,n){r===void 0&&(r=this.props.ables),n===void 0&&(n="");var i=this.props,a=i.triggerAblesSimultaneously,o=this.getEnabledAbles(r),s="drag".concat(n,"Start"),l="pinch".concat(n,"Start"),u="drag".concat(n,"ControlStart"),c=Vi(o,[s,l],a),f=Vi(o,[u],a);this.enabledAbles=o,this.targetAbles=c,this.controlAbles=f},e.prototype.updateState=function(r,n){if(n){if(this.isUnmounted)return;this.setState(r)}else{var i=this.state;for(var a in r)i[a]=r[a]}},e.prototype.getEnabledAbles=function(r){r===void 0&&(r=this.props.ables);var n=this.props;return r.filter(function(i){return i&&(i.always&&n[i.name]!==!1||n[i.name])})},e.prototype.renderAbles=function(){var r=this,n=this.props,i=n.triggerAblesSimultaneously,a={createElement:Ye};return this.renderState={},Sb(nv(Vi(this.getEnabledAbles(),["render"],i).map(function(o){var s=o.render;return s(r,a)||[]})).filter(function(o){return o}),function(o){var s=o.key;return s}).map(function(o){return o[0]})},e.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e.prototype._getRequestStyles=function(){var r=this.getEnabledAbles().reduce(function(n,i){var a,o,s=(o=(a=i.requestStyle)===null||a===void 0?void 0:a.call(i))!==null&&o!==void 0?o:[];return it(it([],A(n),!1),A(s),!1)},it([],A(this.props.requestStyles||[]),!1));return r},e.prototype._updateObserver=function(r){this._updateResizeObserver(r),this._updateMutationObserver(r)},e.prototype._updateEvents=function(){var r=this.targetAbles.length,n=this.controlAbles.length,i=this._dragTarget,a=!r&&this.targetGesto||this._isTargetChanged(!0);a&&(un(this,!1),this.updateState({gestos:{}})),n||un(this,!0),i&&r&&!this.targetGesto&&(this.targetGesto=gv(this,i,"")),!this.controlGesto&&n&&(this.controlGesto=mv(this,"Control"))},e.prototype._updateTargets=function(){var r=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=r.dragArea,this._propTarget=r.target,this._originalDragTarget=r.dragTarget||r.target,this._dragTarget=er(this._originalDragTarget,!0)},e.prototype._renderLines=function(){var r=this.props,n=r,i=n.zoom,a=n.hideDefaultLines,o=n.hideChildMoveableDefaultLines,s=n.parentMoveable;if(a||s&&o)return[];var l=this.getState(),u={createElement:Ye};return l.renderLines.map(function(c,f){return si(u,"",c[0],c[1],i,"render-line-".concat(f))})},e.prototype._isTargetChanged=function(r){var n=this.props,i=n.dragTarget||n.target,a=this._prevOriginalDragTarget,o=this._prevDragArea,s=n.dragArea,l=!s&&a!==i,u=(r||s)&&o!==s;return l||u||this._prevPropTarget!=this._propTarget},e.prototype._updateNativeEvents=function(){var r=this,n=this.props,i=n.dragArea?this.areaElement:this.state.target,a=this.events,o=dr(a);if(this._isTargetChanged())for(var s in a){var l=a[s];l&&l.destroy(),a[s]=null}if(i){var u=this.enabledAbles;o.forEach(function(c){var f=Vi(u,[c]),d=f.length>0,v=a[c];if(!d){v&&(v.destroy(),a[c]=null);return}v||(v=new Qb(i,r,c),a[c]=v),v.setAbles(f)})}},e.prototype._checkUpdateRootContainer=function(){var r=this.props.rootContainer;!this._rootContainer&&r&&(this._rootContainer=er(r,!0))},e.prototype._checkUpdateViewContainer=function(){var r=this.props.viewContainer;!this._viewContainer&&r&&(this._viewContainer=er(r,!0));var n=this._viewContainer;n&&this._changeAbleViewClassNames(it(it([],A(this._getAbleViewClassNames()),!1),[this.isDragging()?Pb:""],!1))},e.prototype._changeAbleViewClassNames=function(r){var n=this._viewContainer,i=rv(r.filter(Boolean),function(u){return u}).map(function(u){var c=A(u,1),f=c[0];return f}),a=this._viewClassNames,o=pi(a,i),s=o.removed,l=o.added;s.forEach(function(u){If(n,a[u])}),l.forEach(function(u){qs(n,i[u])}),this._viewClassNames=i},e.prototype._getAbleViewClassNames=function(){var r=this;return(this.getEnabledAbles().map(function(n){var i;return((i=n.viewClassName)===null||i===void 0?void 0:i.call(n,r))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},e.prototype._getAbleClassName=function(r){var n=this;r===void 0&&(r="");var i=this.getEnabledAbles(),a=this.targetGesto,o=this.controlGesto,s=a!=null&&a.isFlag()?a.getEventData():{},l=o!=null&&o.isFlag()?o.getEventData():{};return i.map(function(u){var c,f,d,v=u.name,p=((c=u.className)===null||c===void 0?void 0:c.call(u,n))||"";return(!((f=s[v])===null||f===void 0)&&f.isEventStart||!((d=l[v])===null||d===void 0)&&d.isEventStart)&&(p+=" ".concat(dt("".concat(v).concat(r,"-dragging")))),p.trim()}).filter(Boolean).join(" ")},e.prototype._updateResizeObserver=function(r){var n,i=this.props,a=i.target,o=Be(this.getControlBoxElement());if(!o.ResizeObserver||!a||!i.useResizeObserver){(n=this._reiszeObserver)===null||n===void 0||n.disconnect();return}if(!(r.target===a&&this._reiszeObserver)){var s=new o.ResizeObserver(this.checkUpdateRect);s.observe(a,{box:"border-box"}),this._reiszeObserver=s}},e.prototype._updateMutationObserver=function(r){var n=this,i,a=this.props,o=a.target,s=Be(this.getControlBoxElement());if(!s.MutationObserver||!o||!a.useMutationObserver){(i=this._mutationObserver)===null||i===void 0||i.disconnect();return}if(!(r.target===o&&this._mutationObserver)){var l=new s.MutationObserver(function(u){var c,f;try{for(var d=zm(u),v=d.next();!v.done;v=d.next()){var p=v.value;p.type==="attributes"&&p.attributeName==="style"&&n.checkUpdateRect()}}catch(h){c={error:h}}finally{try{v&&!v.done&&(f=d.return)&&f.call(d)}finally{if(c)throw c.error}}});l.observe(o,{attributes:!0}),this._mutationObserver=l}},e.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:Vd,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},e}(Lf),Ol={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(t,e){var r,n=t.props,i=n.targets||[],a=t.getState(),o=a.left,s=a.top,l=a.isPersisted,u=n.zoom||1,c=t.renderGroupRects,f=((r=n.persistData)===null||r===void 0?void 0:r.children)||[];l?i=f.map(function(){return null}):f=[];var d=cn(t,"parentPosition",[o,s],function(p){return p.join(",")}),v=cn(t,"requestStyles",t.getRequestChildStyles(),function(p){return p.join(",")});return t.moveables=t.moveables.slice(0,i.length),it(it([],A(i.map(function(p,h){return e.createElement(On,{key:"moveable"+h,ref:Df(t,"moveables",h),target:p,origin:!1,requestStyles:v,cssStyled:n.cssStyled,customStyledMap:n.customStyledMap,useResizeObserver:n.useResizeObserver,useMutationObserver:n.useMutationObserver,hideChildMoveableDefaultLines:n.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:[o,s],persistData:f[h],zoom:u})})),!1),A(nv(c.map(function(p,h){var g=p.pos1,m=p.pos2,b=p.pos3,S=p.pos4,y=[g,m,b,S];return[[0,1],[1,3],[3,2],[2,0]].map(function(x,_){var w=A(x,2),C=w[0],E=w[1];return si(e,"",vt(y[C],d),vt(y[E],d),u,"group-rect-".concat(h,"-").concat(_))})}))),!1)}},ry=Si("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var r=t.props.target,n=e.inputEvent,i=e.inputTarget,a=t.isMoveableElement(i),o=!a&&t.controlBox.contains(i);if(!(!n||!i||e.isDrag||t.isMoveableElement(i)||o)){var s=r.contains(i);ut(t,"onClick",_t(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:r===i,moveableTarget:t.props.target,containsTarget:s}))}},dragGroupEnd:function(t,e){var r=e.inputEvent,n=e.inputTarget;if(!(!r||!n||e.isDrag||t.isMoveableElement(n)||e.datas.inputTarget===n)){var i=t.props.targets,a=i.indexOf(n),o=a>-1,s=!1;a===-1&&(a=fr(i,function(l){return l.contains(n)}),s=a>-1),ut(t,"onClickGroup",_t(t,e,{isDouble:e.isDouble,targets:i,inputTarget:n,targetIndex:a,isTarget:o,containsTarget:s,moveableTarget:i[a]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function tn(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),k(k({},t),{datas:e})}var ny=Si("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(t,e){var r=t.props,n=r.edgeDraggable;return n?Dd(e,"edgeDraggable",n,t.getState().renderPoses,r.zoom):[]},dragCondition:function(t,e){var r,n=t.props,i=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&Jt(i,dt("direction"))&&Jt(i,dt("edge"))&&Jt(i,dt("edgeDraggable"))},dragStart:function(t,e){return ge.dragStart(t,tn(e))},drag:function(t,e){return ge.drag(t,tn(e))},dragEnd:function(t,e){return ge.dragEnd(t,tn(e))},dragGroupCondition:function(t,e){var r,n=t.props,i=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&Jt(i,dt("direction"))&&Jt(i,dt("line"))},dragGroupStart:function(t,e){return ge.dragGroupStart(t,tn(e))},dragGroup:function(t,e){return ge.dragGroup(t,tn(e))},dragGroupEnd:function(t,e){return ge.dragGroupEnd(t,tn(e))},unset:function(t){return ge.unset(t)}}),yv={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},Tl=[pv,cv,sb,Db,ge,ny,ds,Mb,Tb,H1,Ab,Bb,kb,jb,Vb,Zb,Ol,yv,ry,uv,hv],iy=Tl.reduce(function(t,e){return(e.events||[]).forEach(function(r){kf(t,r)}),t},[]),ay=Tl.reduce(function(t,e){return(e.props||[]).forEach(function(r){kf(t,r)}),t},[]);function rc(t,e){var r=A(t,3),n=r[0],i=r[1],a=r[2];return(n*e[0]+i*e[1]+a)/Math.sqrt(n*n+i*i)}function qi(t,e){var r=A(t,2),n=r[0],i=r[1];return-n*e[0]-i*e[1]}function nc(t,e){return Math.max.apply(Math,it([],A(t.map(function(r){var n=A(r,4),i=n[0],a=n[1],o=n[2],s=n[3];return Math.max(i[e],a[e],o[e],s[e])})),!1))}function ic(t,e){return Math.min.apply(Math,it([],A(t.map(function(r){var n=A(r,4),i=n[0],a=n[1],o=n[2],s=n[3];return Math.min(i[e],a[e],o[e],s[e])})),!1))}function oy(t,e){var r,n,i,a=[0,0],o=[0,0],s=[0,0],l=[0,0],u=0,c=0;if(!t.length)return{pos1:a,pos2:o,pos3:s,pos4:l,minX:0,minY:0,maxX:0,maxY:0,width:u,height:c,rotation:e};var f=bt(e,Se);if(f%90){var d=f/180*Math.PI,v=Math.tan(d),p=-1/v,h=[ls,Mu],g=[[0,0],[0,0]],m=[ls,Mu],b=[[0,0],[0,0]];t.forEach(function(H){H.forEach(function(q){var U=rc([-v,1,0],q),et=rc([-p,1,0],q);h[0]>U&&(g[0]=q,h[0]=U),h[1]<U&&(g[1]=q,h[1]=U),m[0]>et&&(b[0]=q,m[0]=et),m[1]<et&&(b[1]=q,m[1]=et)})});var S=A(g,2),y=S[0],x=S[1],_=A(b,2),w=_[0],C=_[1],E=[-v,1,qi([-v,1],y)],D=[-v,1,qi([-v,1],x)],O=[-p,1,qi([-p,1],w)],P=[-p,1,qi([-p,1],C)];r=A([[E,O],[E,P],[D,O],[D,P]].map(function(H){var q=A(H,2),U=q[0],et=q[1];return ol(U,et)[0]}),4),a=r[0],o=r[1],s=r[2],l=r[3],u=m[1]-m[0],c=h[1]-h[0]}else{var T=ic(t,0),N=ic(t,1),z=nc(t,0),W=nc(t,1);if(a=[T,N],o=[z,N],s=[T,W],l=[z,W],u=z-T,c=W-N,f%180){var I=[s,a,l,o];n=A(I,4),a=n[0],o=n[1],s=n[2],l=n[3],u=W-N,c=z-T}}if(f%360>180){var I=[l,s,o,a];i=A(I,4),a=i[0],o=i[1],s=i[2],l=i[3]}var L=Vr([a,o,s,l]),B=L.minX,$=L.minY,G=L.maxX,j=L.maxY;return{pos1:a,pos2:o,pos3:s,pos4:l,width:u,height:c,minX:B,minY:$,maxX:G,maxY:j,rotation:e}}function Sv(t,e){var r=e.map(function(n){if(Ht(n)){var i=Sv(t,n),a=i.length;return a>1?i:a===1?i[0]:null}else{var o=xe(t,function(s){var l=s.manager;return l.props.target===n});return o?(o.finded=!0,o.manager):null}}).filter(Boolean);return r.length===1&&Ht(r[0])?r[0]:r}var sy=function(t){yi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.differ=new id,r.moveables=[],r.transformOrigin="50% 50%",r.renderGroupRects=[],r._targetGroups=[],r._hasFirstTargets=!1,r}return e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this)},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(r,n,i){var a;i===void 0&&(i=!0);var o=this.state;if(!this.controlBox||o.isPersisted)return;En(!0),this.moveables.forEach(function(ct){ct.updateRect(r,!1,!1)});var s=this.props,l=this.moveables,u=o.target||s.target,c=l.map(function(ct){return{finded:!1,manager:ct}}),f=this.props.targetGroups||[],d=Sv(c,f),v=s.useDefaultGroupRotate;d.push.apply(d,it([],A(c.filter(function(ct){var ht=ct.finded;return!ht}).map(function(ct){var ht=ct.manager;return ht})),!1));var p=[],h=!n||r!==""&&s.updateGroup,g=s.defaultGroupRotate||0;if(!this._hasFirstTargets){var m=(a=s.persistData)===null||a===void 0?void 0:a.rotation;m!=null&&(g=m)}function b(ct,ht,gt){var nt=ct.map(function(V){if(Ht(V)){var Z=b(V,ht),J=[Z.pos1,Z.pos2,Z.pos3,Z.pos4];return p.push(Z),{poses:J,rotation:Z.rotation}}else return{poses:Le(V.state),rotation:V.getRotation()}}),lt=nt.map(function(V){var Z=V.rotation;return Z}),M=0,R=lt[0],F=lt.every(function(V){return Math.abs(R-V)<.1});h?M=!v&&F?R:g:M=!v&&!gt&&F?R:ht;var Y=nt.map(function(V){var Z=V.poses;return Z}),X=oy(Y,M);return X}var S=b(d,this.rotation,!0);h&&(this.rotation=S.rotation,this.transformOrigin=s.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=f,this.renderGroupRects=p;var y=this.transformOrigin,x=this.rotation,_=this.scale,w=S.width,C=S.height,E=S.minX,D=S.minY,O=Eb([[0,0],[w,0],[0,C],[w,C]],wl(y,w,C),this.rotation/180*Math.PI),P=Vr(O.result),T=P.minX,N=P.minY,z=" rotate(".concat(x,"deg)")+" scale(".concat(me(_[0]),", ").concat(me(_[1]),")"),W="translate(".concat(-T,"px, ").concat(-N,"px)").concat(z);this.controlBox.style.transform="translate3d(".concat(E,"px, ").concat(D,"px, ").concat(this.props.translateZ||0,")"),u.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(y,";")+"width:".concat(w,"px;height:").concat(C,"px;")+"transform: ".concat(W),o.width=w,o.height=C;var I=this.getContainer(),L=ys(this.controlBox,u,this.controlBox,this.getContainer(),this._rootContainer||I,[]),B=[L.left,L.top],$=A(Le(L),4),G=$[0],j=$[1],H=$[2],q=$[3],U=Vr([G,j,H,q]),et=[U.minX,U.minY],ot=me(_[0]*_[1]);L.pos1=vt(G,et),L.pos2=vt(j,et),L.pos3=vt(H,et),L.pos4=vt(q,et),L.left=E-L.left+et[0],L.top=D-L.top+et[1],L.origin=vt(Et(B,L.origin),et),L.beforeOrigin=vt(Et(B,L.beforeOrigin),et),L.originalBeforeOrigin=Et(B,L.originalBeforeOrigin),L.transformOrigin=vt(Et(B,L.transformOrigin),et),u.style.transform="translate(".concat(-T-et[0],"px, ").concat(-N-et[1],"px)")+z,En(),this.updateState(k(k({},L),{posDelta:et,direction:ot,beforeDirection:ot}),i)},e.prototype.getRect=function(){return k(k({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},e.prototype.triggerEvent=function(r,n,i){if(i||r.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,r,n);this._emitter.trigger(r,n)},e.prototype.getRequestChildStyles=function(){var r=this.getEnabledAbles().reduce(function(n,i){var a,o,s=(o=(a=i.requestChildStyle)===null||a===void 0?void 0:a.call(i))!==null&&o!==void 0?o:[];return it(it([],A(n),!1),A(s),!1)},[]);return r},e.prototype.getMoveables=function(){return it([],A(this.moveables),!1)},e.prototype.updateAbles=function(){t.prototype.updateAbles.call(this,it(it([],A(this.props.ables),!1),[Ol],!1),"Group")},e.prototype._updateTargets=function(){t.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=er(this._originalDragTarget,!0)},e.prototype._updateEvents=function(){var r=this.state,n=this.props,i=this._prevDragTarget,a=n.dragTarget||this.areaElement,o=n.targets,s=this.differ.update(o),l=s.added,u=s.changed,c=s.removed,f=l.length||c.length;(f||this._prevOriginalDragTarget!==this._originalDragTarget)&&(un(this,!1),un(this,!0),this.updateState({gestos:{}})),i!==a&&(r.target=null),r.target||(r.target=this.areaElement,this.controlBox.style.display="block"),r.target&&(this.targetGesto||(this.targetGesto=gv(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=mv(this,"GroupControl")));var d=!ms(r.container,n.container);d&&(r.container=n.container),(d||f||this.transformOrigin!==(n.defaultGroupOrigin||"50% 50%")||u.length||o.length&&!ov(this._targetGroups,n.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!f},e.prototype._updateObserver=function(){},e.defaultProps=k(k({},On.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(On),ly=function(t){yi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.moveables=[],r}return e.prototype.render=function(){var r=this,n,i=this.props,a=i.cspNonce,o=i.cssStyled,s=i.persistData,l=i.targets||[],u=l.length,c=this.isUnmounted||!u,f=(n=s==null?void 0:s.children)!==null&&n!==void 0?n:[];return c&&!u&&f.length?l=f.map(function(){return null}):c||(f=[]),Ye(o,{cspNonce:a,ref:lr(this,"controlBox"),className:dt("control-box")},l.map(function(d,v){var p,h,g=(h=(p=i.individualGroupableProps)===null||p===void 0?void 0:p.call(i,d,v))!==null&&h!==void 0?h:{};return Ye(On,k({key:"moveable"+v,ref:Df(r,"moveables",v)},i,g,{target:d,wrapperMoveable:r,isWrapperMounted:r.isMoveableMounted,persistData:f[v]}))}))},e.prototype.componentDidMount=function(){},e.prototype.componentDidUpdate=function(){},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(r,n,i){i===void 0&&(i=!0),En(!0),this.moveables.forEach(function(a){a.updateRect(r,n,i)}),En()},e.prototype.getRect=function(){return k(k({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},e.prototype.request=function(r,n,i){n===void 0&&(n={});var a=this.moveables.map(function(l){return l.request(r,k(k({},n),{isInstant:!1}),!1)}),o=i||n.isInstant,s={request:function(l){return a.forEach(function(u){return u.request(l)}),this},requestEnd:function(){return a.forEach(function(l){return l.requestEnd()}),this}};return o?s.request(n).requestEnd():s},e.prototype.dragStart=function(r,n){n===void 0&&(n=r.target);var i=n,a=xe(this.moveables,function(o){var s=o.getTargets()[0],l=o.getControlBoxElement(),u=o.getDragElement();return!s||!u?!1:u===i||u.contains(i)||u!==s&&s===i||s.contains(i)||l===i||l.contains(i)});return a&&a.dragStart(r,n),this},e.prototype.hitTest=function(){return 0},e.prototype.isInside=function(){return!1},e.prototype.isDragging=function(){return!1},e.prototype.getDragElement=function(){return null},e.prototype.getMoveables=function(){return it([],A(this.moveables),!1)},e.prototype.updateRenderPoses=function(){},e.prototype.checkUpdate=function(){},e.prototype.triggerEvent=function(){},e.prototype.updateAbles=function(){},e.prototype._updateEvents=function(){},e.prototype._updateObserver=function(){},e}(On);function _v(t,e){var r=[];return t.forEach(function(n){if(n){if(ae(n)){e[n]&&r.push.apply(r,it([],A(e[n]),!1));return}Ht(n)?r.push.apply(r,it([],A(_v(n,e)),!1)):r.push(n)}}),r}function Cv(t,e){var r=[];return t.forEach(function(n){if(n){if(ae(n)){e[n]&&r.push.apply(r,it([],A(e[n]),!1));return}Ht(n)?r.push(Cv(n,e)):r.push(n)}}),r}function xv(t,e){return t.length!==e.length||t.some(function(r,n){var i=e[n];return!r&&!i?!1:r!=i?Ht(r)&&Ht(i)?xv(r,i):!0:!1})}var uy=function(t){yi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.refTargets=[],r.selectorMap={},r._differ=new id,r._elementTargets=[],r._tmpRefTargets=[],r._tmpSelectorMap={},r._onChangeTargets=null,r}return e.makeStyled=function(){var r={},n=this.getTotalAbles();n.forEach(function(a){var o=a.css;o&&o.forEach(function(s){r[s]=!0})});var i=dr(r).join(`
`);this.defaultStyled=cd("div",f0(ll,jm+i))},e.getTotalAbles=function(){return it([cv,Ol,yv,uv],A(this.defaultAbles),!1)},e.prototype.render=function(){var r,n=this.constructor;n.defaultStyled||n.makeStyled();var i=this.props,a=i.ables,o=i.props,s=Am(i,["ables","props"]),l=A(this._updateRefs(!0),2),u=l[0],c=l[1],f=_v(u,c),d=f.length>1,v=n.getTotalAbles(),p=it(it([],A(v),!1),A(a||[]),!1),h=k(k(k({},s),o||{}),{ables:p,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});this._elementTargets=f;var g=null,m=this.moveable,b=s.persistData;if(b!=null&&b.children&&(d=!0),s.individualGroupable)return Ye(ly,k({key:"individual-group",ref:lr(this,"moveable")},h,{target:null,targets:f}));if(d){var S=Cv(u,c);if(m&&!m.props.groupable&&!m.props.individualGroupable){var y=m.props.target;y&&f.indexOf(y)>-1&&(g=k({},m.state))}return Ye(sy,k({key:"group",ref:lr(this,"moveable")},h,(r=s.groupableProps)!==null&&r!==void 0?r:{},{target:null,targets:f,targetGroups:S,firstRenderState:g}))}else{var x=f[0];if(m&&(m.props.groupable||m.props.individualGroupable)){var _=m.moveables||[],w=xe(_,function(C){return C.props.target===x});w&&(g=k({},w.state))}return Ye(On,k({key:"single",ref:lr(this,"moveable")},h,{target:x,firstRenderState:g}))}},e.prototype.componentDidMount=function(){this._checkChangeTargets()},e.prototype.componentDidUpdate=function(){this._checkChangeTargets()},e.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},e.prototype.getTargets=function(){var r,n;return(n=(r=this.moveable)===null||r===void 0?void 0:r.getTargets())!==null&&n!==void 0?n:[]},e.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},e.prototype.waitToChangeTarget=function(){var r=this,n;return this._onChangeTargets=function(){r._onChangeTargets=null,n()},new Promise(function(i){n=i})},e.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},e.prototype.getManager=function(){return this.moveable},e.prototype.getMoveables=function(){return this.moveable.getMoveables()},e.prototype.getDragElement=function(){return this.moveable.getDragElement()},e.prototype._updateRefs=function(r){var n=this.refTargets,i=xl(this.props.target||this.props.targets),a=typeof document<"u",o=xv(n,i),s=this.selectorMap,l={};return this.refTargets.forEach(function u(c){if(ae(c)){var f=s[c];f?l[c]=s[c]:a&&(o=!0,l[c]=[].slice.call(document.querySelectorAll(c)))}else Ht(c)&&c.forEach(u)}),this._tmpRefTargets=i,this._tmpSelectorMap=l,[i,l,!r&&o]},e.prototype._checkChangeTargets=function(){var r,n,i;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var a=this._differ.update(this._elementTargets),o=a.added,s=a.removed,l=o.length||s.length;l&&((n=(r=this.props).onChangeTargets)===null||n===void 0||n.call(r,{moveable:this.moveable,targets:this._elementTargets}),(i=this._onChangeTargets)===null||i===void 0||i.call(this));var u=A(this._updateRefs(),3),c=u[0],f=u[1],d=u[2];this.refTargets=c,this.selectorMap=f,d&&this.forceUpdate()},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,Bm([d0(gd)],e.prototype,"moveable",void 0),e}(Lf),cy=function(t){yi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.defaultAbles=Tl,e}(uy),Ss=function(t,e){return Ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ss(t,e)};function Rl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ss(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ui=function(){return ui=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ui.apply(this,arguments)};function fy(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}var dy=function(t){Rl(e,t);function e(n){var i=t.call(this,n)||this;return i.state={},i.state=i.props,i}var r=e.prototype;return r.render=function(){return Ye(cy,ui({ref:lr(this,"moveable")},this.state))},e}(Qs),wa=ay,wv=gd,Ev=iy,vy=function(t){Rl(e,t);function e(n,i){i===void 0&&(i={});var a=t.call(this)||this;a.containerProvider=null,a.selfElement=null,a._warp=!1;var o=ui({},i),s={};Ev.forEach(function(c){s[Vo("on ".concat(c))]=function(f){return a.trigger(c,f)}});var l;i.warpSelf?(delete i.warpSelf,a._warp=!0,l=n):(l=Ce(n).createElement("div"),n.appendChild(l)),a.containerProvider=xu(Ye(dy,ui({ref:lr(a,"innerMoveable")},o,s)),l),a.selfElement=l;var u=o.target;return Ht(u)&&u.length>1&&a.updateRect(),a}var r=e.prototype;return r.setState=function(n,i){this.innerMoveable.setState(n,i)},r.forceUpdate=function(n){this.innerMoveable.forceUpdate(n)},r.dragStart=function(n,i){i===void 0&&(i=n.target);var a=this.innerMoveable;a.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(n,i)},r.destroy=function(){var n,i=this.selfElement;xu(null,i,this.containerProvider),this._warp||(n=i==null?void 0:i.parentElement)===null||n===void 0||n.removeChild(i),this.containerProvider=null,this.off(),this.selfElement=null,this.innerMoveable=null},r.getMoveable=function(){return this.innerMoveable.moveable},e=fy([Xo(wv,function(n,i){n[i]||(n[i]=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=this.getMoveable();if(!(!s||!s[i]))return s[i].apply(s,a)})}),Xo(wa,function(n,i){Object.defineProperty(n,i,{get:function(){return this.getMoveable().props[i]},set:function(a){var o;this.setState((o={},o[i]=a,o))},enumerable:!0,configurable:!0})})],e),e}(Rn),py=function(t){Rl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(vy);const Dv={};wv.forEach(t=>{Dv[t]=function(...e){return this.$_moveable[t](...e)}});const Mv={};wa.forEach(t=>{Mv[t]=function(e){this.$_moveable[t]=e}});const hy=ke({name:"moveable",methods:Dv,props:wa,watch:Mv,mounted(){const t={},e=this.$props;wa.forEach(a=>{const o=e[a];Tn(o)||(t[a]=e[a])});const n=this.$refs.moveableElement,i=new py(n,{...t,warpSelf:!0});Ev.forEach(a=>{i.on(a,o=>{this.$emit(a,{...o})})}),this.$_moveable=i},beforeUnmount(){this.$_moveable.destroy()}}),gy=hy,my=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},by={ref:"moveableElement"};function yy(t,e,r,n,i,a){return wt(),zt("div",by,null,512)}const Ov=my(gy,[["render",yy]]),Sy={class:"container"},_y=["data-id","data-left","data-top","id","onMousedown"],Cy=!0,xy=ke({__name:"moveble",props:{scale:{},snapsObj:{},shadow:{}},emits:["update:shadow","update:snapsObj"],setup(t,{emit:e}){const r=e,n=mt(null),i=mt(null),a={top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},o={top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},s=mt(),l=mt([{id:"target0",className:"element0",left:200,top:150,background:"#ee8",width:600,zIndex:1,height:600},{id:"target1",className:"element1",left:600,top:150,zIndex:1,background:"rgb(52, 55, 221)",width:400,height:300},{id:"target2",className:"element2",left:100,top:600,zIndex:1,background:"rgb(212, 67, 152)",width:400,height:400}]),u=(p,h)=>{const g=h.id;l.value.forEach(m=>m.zIndex=1),h.zIndex=2,n.value=g,Gs(()=>{i.value.dragStart(p)})},c=p=>{s.value=JSON.parse(JSON.stringify(l.value))},f=p=>{let{target:h,translate:g}=p;const{id:m}=h.dataset,{left:b,top:S,width:y,height:x}=s.value.find(E=>E.id==m),[_,w]=g,C=l.value.find(E=>E.id==m);C.left=b+_,C.top=S+w,r("update:shadow",{x:C.left,y:C.top,width:y,height:x})};ze(()=>l,()=>{const p=l.value.map(g=>g.top),h=l.value.map(g=>g.left);r("update:snapsObj",{h:p,v:h})},{deep:!0});const d=p=>({left:p.left+"px",top:p.top+"px",lineHeight:p.height+"px",width:p.width+"px",height:p.height+"px",zIndex:p.zIndex,transform:"rotate(0deg)",background:p.background}),v=p=>{i.value.updateRect()};return(p,h)=>(wt(),zt(Qt,null,[K("div",Sy,[(wt(!0),zt(Qt,null,Aa(l.value,g=>(wt(),zt("div",{class:Pe(["target",g.className]),"data-id":g.id,"data-left":g.left,"data-top":g.top,id:g.id,style:Nt(d(g)),key:g.id,onMousedown:m=>u(m,g)},ye(g.className),47,_y))),128))]),Xt(kt(Ov),{ref_key:"moveableRef",ref:i,snappable:!0,snapGap:!0,snapDirections:a,elementSnapDirections:o,snapThreshold:5/p.scale,target:`#${n.value}`,draggable:Cy,elementGuidelines:[".container",".element0",".element1",".element2"],onDrag:f,onDragStart:c,onDragEnd:v},null,8,["snapThreshold","target"])],64))}}),xi=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},wy=xi(xy,[["__scopeId","data-v-f7abdc92"]]),Ey={class:"demo"},Dy={class:"top font16"},My={class:"scale mr10"},Oy={class:"btns"},Ty=["onClick"],Ry=["onClick"],Py=["onClick"],ky=ke({__name:"UserRulerShadow",setup(t){const e=mt(),r=re({maxScale:3,minScale:.3,disablePan:!1,disableZoom:!1,contain:"none",handleStartEvent:f=>{f.preventDefault(),console.log("handleStartEvent",f)}}),n=mt(!1);qe(()=>{window.addEventListener("resize",i);const f=e.value.panzoomInstance,d=document.getElementsByClassName("canvasedit-parent");if(d[0]){const v=d[0];v&&v.addEventListener("wheel",function(p){(p.ctrlKey||p.metaKey)&&f.zoomWithWheel(p)}),document.addEventListener("pointerdown",function(p){p.button===1&&(e.value.cursorClass="grabCursor",f.bind(),f.handleDown(p),p.preventDefault())}),document.addEventListener("pointerup",function(p){p.button===1&&(f.destroy(),console.log("放开了"),e.value.cursorClass="defaultCursor")})}});const i=()=>{e.value&&e.value.initPanzoom()},a=re({scale:1,isBlack:!1}),o=xt(()=>a.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),s=re({thick:20,width:1470,height:800,canvasWidth:1242,canvasHeight:1660,showRuler:!0,palette:o.value,snapsObj:{h:[],v:[]},shadow:{x:0,y:0,width:0,height:0},panzoomOption:r,isShowReferLine:!0,lines:{h:[0,250],v:[0,500]}}),l=xt(()=>({width:`${s.width}px`,height:`${s.height}px`})),u=xt(()=>Number(a.scale).toFixed(2)),c=xt(()=>({width:`${s.canvasWidth}px`,height:`${s.canvasHeight}px`}));return(f,d)=>(wt(),zt("div",Ey,[K("div",Dy,[d[4]||(d[4]=K("div",{class:"mr10"},"鼠标中键移动画布 ",-1)),K("div",My," 缩放比:"+ye(u.value),1)]),K("div",{class:Pe(["wrapper",[a.isBlack?"balckwrapper":"whitewrapper"]]),style:Nt(l.value)},[Xt(kt(vi),$r({ref_key:"sketchruleRef",ref:e,scale:a.scale,"onUpdate:scale":d[2]||(d[2]=v=>a.scale=v),lockLine:n.value,"onUpdate:lockLine":d[3]||(d[3]=v=>n.value=v)},s,{selfHandle:!0}),{default:Fe(()=>[K("div",{class:"container",style:Nt(c.value)},[Xt(wy,{scale:a.scale,shadow:s.shadow,"onUpdate:shadow":d[0]||(d[0]=v=>s.shadow=v),snapsObj:s.snapsObj,"onUpdate:snapsObj":d[1]||(d[1]=v=>s.snapsObj=v)},null,8,["scale","shadow","snapsObj"])],4)]),btn:Fe(({reset:v,zoomIn:p,zoomOut:h})=>[K("div",Oy,[K("button",{onClick:Ft(v,["stop"])},"还原",8,Ty),K("button",{onClick:Ft(p,["stop"])},"放大",8,Ry),K("button",{onClick:Ft(h,["stop"])},"缩小",8,Py)])]),_:1},16,["scale","lockLine"])],6)]))}});var _s=function(t,e){return _s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_s(t,e)};function Iy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_s(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Ay(t,e){return e={exports:{}},t(e,e.exports),e.exports}var wi=Ay(function(t,e){function r(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return o[l];var c=String(l),f=n[c.toLowerCase()];if(f)return f;var f=i[c.toLowerCase()];if(f)return f;if(c.length===1)return c.charCodeAt(0)}r.isEventKey=function(u,c){if(u&&typeof u=="object"){var f=u.which||u.keyCode||u.charCode;if(f==null)return!1;if(typeof c=="string"){var d=n[c.toLowerCase()];if(d)return d===f;var d=i[c.toLowerCase()];if(d)return d===f}else if(typeof c=="number")return c===f;return!1}},e=t.exports=r;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)n[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)n[a-48]=a;for(a=1;a<13;a++)n["f"+a]=a+111;for(a=0;a<10;a++)n["numpad "+a]=a+96;var o=e.names=e.title={};for(a in n)o[n[a]]=a;for(var s in i)n[s]=i[s]});wi.code;wi.codes;wi.aliases;var By=wi.names;wi.title;var ac={"+":"plus","left command":"meta","right command":"meta"},oc={shift:1,ctrl:2,alt:3,meta:4};function Tv(t,e){var r=(By[t]||e||"").toLowerCase();for(var n in ac)r=r.replace(n,ac[n]);return r.replace(/\s/g,"")}function Rv(t,e){e===void 0&&(e=Tv(t.keyCode,t.key));var r=zy(t);return r.indexOf(e)===-1&&r.push(e),r.filter(Boolean)}function zy(t){var e=[t.shiftKey&&"shift",t.ctrlKey&&"ctrl",t.altKey&&"alt",t.metaKey&&"meta"];return e.filter(Boolean)}function sc(t){var e=t.slice();return e.sort(function(r,n){var i=oc[r]||5,a=oc[n]||5;return i-a}),e}var lc,Gy=function(t){Iy(e,t);function e(n){n===void 0&&(n=window);var i=t.call(this)||this;return i.container=n,i.ctrlKey=!1,i.altKey=!1,i.shiftKey=!1,i.metaKey=!1,i.clear=function(){return i.ctrlKey=!1,i.altKey=!1,i.shiftKey=!1,i.metaKey=!1,i},i.keydownEvent=function(a){i.triggerEvent("keydown",a)},i.keyupEvent=function(a){i.triggerEvent("keyup",a)},i.blur=function(){i.clear(),i.trigger("blur")},Yt(n,"blur",i.blur),Yt(n,"keydown",i.keydownEvent),Yt(n,"keyup",i.keyupEvent),i}var r=e.prototype;return Object.defineProperty(e,"global",{get:function(){return lc||(lc=new e)},enumerable:!1,configurable:!0}),e.setGlobal=function(){return this.global},r.destroy=function(){var n=this.container;this.clear(),this.off(),Lt(n,"blur",this.blur),Lt(n,"keydown",this.keydownEvent),Lt(n,"keyup",this.keyupEvent)},r.keydown=function(n,i){return this.addEvent("keydown",n,i)},r.offKeydown=function(n,i){return this.removeEvent("keydown",n,i)},r.offKeyup=function(n,i){return this.removeEvent("keyup",n,i)},r.keyup=function(n,i){return this.addEvent("keyup",n,i)},r.addEvent=function(n,i,a){return Ht(i)?this.on("".concat(n,".").concat(sc(i).join(".")),a):ae(i)?this.on("".concat(n,".").concat(i),a):this.on(n,i),this},r.removeEvent=function(n,i,a){return Ht(i)?this.off("".concat(n,".").concat(sc(i).join(".")),a):ae(i)?this.off("".concat(n,".").concat(i),a):this.off(n,i),this},r.triggerEvent=function(n,i){this.ctrlKey=i.ctrlKey,this.shiftKey=i.shiftKey,this.altKey=i.altKey,this.metaKey=i.metaKey;var a=Tv(i.keyCode,i.key),o=a==="ctrl"||a==="shift"||a==="meta"||a==="alt",s={key:a,isToggle:o,inputEvent:i,keyCode:i.keyCode,ctrlKey:i.ctrlKey,altKey:i.altKey,shiftKey:i.shiftKey,metaKey:i.metaKey};this.trigger(n,s),this.trigger("".concat(n,".").concat(a),s);var l=Rv(i,a);l.length>1&&this.trigger("".concat(n,".").concat(l.join(".")),s)},e}(Rn),Cs=function(t,e){return Cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Cs(t,e)};function Pv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cs(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Kt=function(){return Kt=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Kt.apply(this,arguments)};function Fy(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Ny(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function Jn(t,e,r){for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Ly(t){if("touches"in t){var e=t.touches[0]||t.changedTouches[0];return{clientX:e.clientX,clientY:e.clientY}}else return{clientX:t.clientX,clientY:t.clientY}}function Wy(t){if(typeof Map>"u")return t.filter(function(r,n){return t.indexOf(r)===n});var e=new Map;return t.filter(function(r){return e.has(r)?!1:(e.set(r,!0),!0)})}function $y(t,e,r){var n=Ce(t);return n.elementFromPoint&&n.elementFromPoint(e,r)||null}function kv(t,e,r){var n=t.tag,i=t.children,a=t.attributes,o=t.className,s=t.style,l=e||Ce(r).createElement(n);for(var u in a)l.setAttribute(u,a[u]);var c=l.children;if(i.forEach(function(d,v){kv(d,c[v],l)}),o&&o.split(/\s+/g).forEach(function(d){d&&!Jt(l,d)&&qs(l,d)}),s){var f=l.style;for(var u in s)f[u]=s[u]}return!e&&r&&r.appendChild(l),l}function Hy(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=e||{},a=i.className,o=a===void 0?"":a,s=i.style,l=s===void 0?{}:s,u=Fy(i,["className","style"]);return{tag:t,className:o,style:l,attributes:u,children:r}}function Oo(t,e,r){t!==e&&r(t,e)}function uc(t,e,r){var n;r===void 0&&(r=t.data.boundArea);var i=t.distX,a=i===void 0?0:i,o=t.distY,s=o===void 0?0:o,l=t.data,u=l.startX,c=l.startY;if(e>0){var f=Math.sqrt((a*a+s*s)/(1+e*e)),d=e*f;a=(a>=0?1:-1)*d,s=(s>=0?1:-1)*f}var v=Math.abs(a),p=Math.abs(s),h=a<0?u-r.left:r.right-u,g=s<0?c-r.top:r.bottom-c;n=Us([v,p],[0,0],[h,g],!!e),v=n[0],p=n[1],a=(a>=0?1:-1)*v,s=(s>=0?1:-1)*p;var m=Math.min(0,a),b=Math.min(0,s),S=u+m,y=c+b;return{left:S,top:y,right:S+v,bottom:y+p,width:v,height:p}}function Ki(t){var e=t.getBoundingClientRect(),r=e.left,n=e.top,i=e.width,a=e.height;return{pos1:[r,n],pos2:[r+i,n],pos3:[r,n+a],pos4:[r+i,n+a]}}function cc(t,e,r){var n=an(t,e),i=n.list,a=n.prevList,o=n.added,s=n.removed,l=n.maintained;return Jn(Jn(Jn([],o.map(function(u){return i[u]}),!0),s.map(function(u){return a[u]}),!0),r?l.map(function(u){var c=u[1];return i[c]}):[])}function fc(t){for(var e=0,r=t.length,n=1;n<r;++n)e=Math.max(tr(t[n],t[n-1]),e);return e}var Iv=ud(`
:host {
    position: fixed;
    display: none;
    border: 1px solid #4af;
    background: rgba(68, 170, 255, 0.5);
    pointer-events: none;
    will-change: transform;
    z-index: 100;
}
`),dc="selecto-selection ".concat(Iv.className),Pl=["className","boundContainer","selectableTargets","selectByClick","selectFromInside","continueSelect","continueSelectWithoutDeselect","toggleContinueSelect","toggleContinueSelectWithoutDeselect","keyContainer","hitRate","scrollOptions","checkInput","preventDefault","ratio","getElementRect","preventDragFromInside","rootContainer","dragCondition","clickBySelectEnd","checkOverflow","innerScrollOptions"],vc=Jn(["dragContainer","cspNonce","preventClickEventOnDrag","preventClickEventOnDragStart","preventRightClick"],Pl),Yy=["dragStart","drag","dragEnd","selectStart","select","selectEnd","keydown","keyup","scroll","innerScroll"],Xy=["clickTarget","getSelectableElements","setSelectedTargets","getElementPoints","getSelectedTargets","findSelectableTargets","triggerDragStart","checkScroll","selectTargetsByPoints","setSelectedTargetsByPoints"],Vy=function(t){Pv(e,t);function e(n){n===void 0&&(n={});var i=t.call(this)||this;i.selectedTargets=[],i.dragScroll=new ad,i._onDragStart=function(s,l){var u=s.data,c=s.clientX,f=s.clientY,d=s.inputEvent,v=i.options,p=v.selectFromInside,h=v.selectByClick,g=v.rootContainer,m=v.boundContainer,b=v.preventDragFromInside,S=b===void 0?!0:b,y=v.clickBySelectEnd,x=v.dragCondition;if(x&&!x(s)){s.stop();return}u.data={};var _=Be(i.container);u.innerWidth=_.innerWidth,u.innerHeight=_.innerHeight,i.findSelectableTargets(u),u.startSelectedTargets=i.selectedTargets,u.scaleMatrix=al(),u.containerX=0,u.containerY=0;var w=i.container,C={left:-1/0,top:-1/0,right:1/0,bottom:1/0};if(g){var E=i.container.getBoundingClientRect();u.containerX=E.left,u.containerY=E.top,u.scaleMatrix=dm(i.container,g)}if(m){var D=Te(m)&&"element"in m?Kt({left:!0,top:!0,bottom:!0,right:!0},m):{element:m,left:!0,top:!0,bottom:!0,right:!0},O=D.element,P=void 0;if(O){ae(O)?P=Ce(w).querySelector(O):O===!0?P=i.container:P=O;var T=P.getBoundingClientRect();D.left&&(C.left=T.left),D.top&&(C.top=T.top),D.right&&(C.right=T.right),D.bottom&&(C.bottom=T.bottom)}}u.boundArea=C;var N={left:c,top:f,right:c,bottom:f,width:0,height:0},z=[],W=h&&!y,I=!1;if(!p||W){var L=i._findElement(l||d.target,u.selectableTargets);I=!!L,W&&(z=L?[L]:[])}var B=!p&&I;if(B&&!h)return s.stop(),!1;var $=d.type,G=$==="mousedown"||$==="touchstart",j=!s.isClick&&G?i.emit("dragStart",Kt(Kt({},s),{data:u.data})):!0;if(!j)return s.stop(),!1;if(i.continueSelect?(z=cc(i.selectedTargets,z,i.continueSelectWithoutDeselect),u.startPassedTargets=i.selectedTargets):u.startPassedTargets=[],i._select(z,N,s,!0,B&&h&&!y&&S),u.startX=c,u.startY=f,u.selectFlag=!1,u.preventDragFromInside=!1,d.target){var H=ra(u.scaleMatrix,[c-u.containerX,f-u.containerY]);i.target.style.cssText+="position: ".concat(g?"absolute":"fixed",";")+"left:0px;top:0px;"+"transform: translate(".concat(H[0],"px, ").concat(H[1],"px)")}if(B&&h&&!y)d.preventDefault(),S&&(i._selectEnd(u.startSelectedTargets,u.startPassedTargets,N,s,!0),u.preventDragFromInside=!0);else{u.selectFlag=!0;var q=i.options,U=q.scrollOptions,et=q.innerScrollOptions,ot=!1;if(et){for(var ct=s.inputEvent,ht=ct.target,gt=null,nt=ht;nt&&nt!==Ce(w).body;){var lt=getComputedStyle(nt).overflow!=="visible";if(lt){gt=nt;break}nt=nt.parentElement}gt&&(u.innerScrollOptions=Kt({container:gt,checkScrollEvent:!0},et===!0?{}:et),i.dragScroll.dragStart(s,u.innerScrollOptions),ot=!0)}!ot&&U&&U.container&&i.dragScroll.dragStart(s,U),B&&h&&y&&(u.selectFlag=!1,s.preventDrag())}return!0},i._onDrag=function(s){if(s.data.selectFlag){var l=i.scrollOptions,u=s.data.innerScrollOptions,c=u||(l==null?void 0:l.container);if(c&&!s.isScroll&&i.dragScroll.drag(s,u||l))return}i._checkSelected(s)},i._onDragEnd=function(s){var l=s.data,u=s.inputEvent,c=uc(s,i.options.ratio),f=l.selectFlag,d=i.container;if(u&&i.emit("dragEnd",Kt(Kt({isDouble:!!s.isDouble,isClick:!!s.isClick,isDrag:!1,isSelect:f},s),{data:l.data,rect:c})),i.target.style.cssText+="display: none;",f)l.selectFlag=!1,i.dragScroll.dragEnd();else if(i.selectByClick&&i.clickBySelectEnd){var v=i._findElement((u==null?void 0:u.target)||$y(d,s.clientX,s.clientY),l.selectableTargets);i._select(v?[v]:[],c,s)}l.preventDragFromInside||i._selectEnd(l.startSelectedTargets,l.startPassedTargets,c,s)},i._onKeyDown=function(s){var l=i.options,u=!1;if(!i._keydownContinueSelect){var c=i._sameCombiKey(s,l.toggleContinueSelect);i._keydownContinueSelect=c,u||(u=c)}if(!i._keydownContinueSelectWithoutDeselection){var c=i._sameCombiKey(s,l.toggleContinueSelectWithoutDeselect);i._keydownContinueSelectWithoutDeselection=c,u||(u=c)}u&&i.emit("keydown",{keydownContinueSelect:i._keydownContinueSelect,keydownContinueSelectWithoutDeselection:i._keydownContinueSelectWithoutDeselection})},i._onKeyUp=function(s){var l=i.options,u=!1;if(i._keydownContinueSelect){var c=i._sameCombiKey(s,l.toggleContinueSelect,!0);i._keydownContinueSelect=!c,u||(u=c)}if(i._keydownContinueSelectWithoutDeselection){var c=i._sameCombiKey(s,l.toggleContinueSelectWithoutDeselect,!0);i._keydownContinueSelectWithoutDeselection=!c,u||(u=c)}u&&i.emit("keyup",{keydownContinueSelect:i._keydownContinueSelect,keydownContinueSelectWithoutDeselection:i._keydownContinueSelectWithoutDeselection})},i._onBlur=function(){(i._keydownContinueSelect||i._keydownContinueSelectWithoutDeselection)&&(i._keydownContinueSelect=!1,i._keydownContinueSelectWithoutDeselection=!1,i.emit("keyup",{keydownContinueSelect:i._keydownContinueSelect,keydownContinueSelectWithoutDeselection:i._keydownContinueSelectWithoutDeselection}))},i._onDocumentSelectStart=function(s){var l=Ce(i.container);if(i.gesto.isFlag()){var u=i.dragContainer;u===Be(i.container)&&(u=l.documentElement);var c=wr(u)?[u]:[].slice.call(u),f=s.target;c.some(function(d){if(d===f||d.contains(f))return s.preventDefault(),!0})}},i.target=n.portalContainer;var a=n.container;i.options=Kt({className:"",portalContainer:null,container:null,dragContainer:null,selectableTargets:[],selectByClick:!0,selectFromInside:!0,clickBySelectEnd:!1,hitRate:100,continueSelect:!1,continueSelectWithoutDeselect:!1,toggleContinueSelect:null,toggleContinueSelectWithoutDeselect:null,keyContainer:null,scrollOptions:null,checkInput:!1,preventDefault:!1,boundContainer:!1,preventDragFromInside:!0,dragCondition:null,rootContainer:null,checkOverflow:!1,innerScrollOptions:!1,getElementRect:Ki,cspNonce:"",ratio:0},n);var o=i.options.portalContainer;return o&&(a=o.parentElement),i.container=a||document.body,i.initElement(),i.initDragScroll(),i.setKeyController(),i}var r=e.prototype;return r.setSelectedTargets=function(n){var i=this.selectedTargets,a=an(i,n),o=a.added,s=a.removed,l=a.prevList,u=a.list;return this.selectedTargets=n,{added:o.map(function(c){return u[c]}),removed:s.map(function(c){return l[c]}),beforeSelected:i,selected:n}},r.setSelectedTargetsByPoints=function(n,i){var a=Math.min(n[0],i[0]),o=Math.min(n[1],i[1]),s=Math.max(n[0],i[0]),l=Math.max(n[1],i[1]),u={left:a,top:o,right:s,bottom:l,width:s-a,height:l-o},c={ignoreClick:!0};this.findSelectableTargets(c);var f=this.hitTest(u,c,!0,null),d=this.setSelectedTargets(f);return Kt(Kt({},d),{rect:u})},r.selectTargetsByPoints=function(n,i){var a=new MouseEvent("mousedown",{clientX:n[0],clientY:n[1],cancelable:!0,bubbles:!0}),o=new MouseEvent("mousemove",{clientX:i[0],clientY:i[1],cancelable:!0,bubbles:!0}),s=new MouseEvent("mousemove",{clientX:i[0],clientY:i[1],cancelable:!0,bubbles:!0}),l=this.gesto,u=l.onDragStart(a);u!==!1&&(l.onDrag(o),l.onDragEnd(s))},r.getSelectedTargets=function(){return this.selectedTargets},r.triggerDragStart=function(n){return this.gesto.triggerDragStart(n),this},r.destroy=function(){var n;this.off(),this.keycon&&this.keycon.destroy(),this.gesto.unset(),this.injectResult.destroy(),this.dragScroll.dragEnd(),Lt(document,"selectstart",this._onDocumentSelectStart),this.options.portalContainer||(n=this.target.parentElement)===null||n===void 0||n.removeChild(this.target),this.keycon=null,this.gesto=null,this.injectResult=null,this.target=null,this.container=null,this.options=null},r.getElementPoints=function(n){var i=this.getElementRect||Ki,a=i(n),o=[a.pos1,a.pos2,a.pos4,a.pos3];if(i!==Ki){var s=n.getBoundingClientRect();return es(o,s)}return o},r.getSelectableElements=function(){var n=this.container,i=[];return this.options.selectableTargets.forEach(function(a){if(Na(a)){var o=a();o&&i.push.apply(i,[].slice.call(o))}else if(wr(a))i.push(a);else if(Te(a))i.push(a.value||a.current);else{var s=[].slice.call(Ce(n).querySelectorAll(a));i.push.apply(i,s)}}),i},r.checkScroll=function(){if(this.gesto.isFlag()){var n=this.scrollOptions,i=this.gesto.getEventData().innerScrollOptions,a=i||(n==null?void 0:n.container);a&&this.dragScroll.checkScroll(Kt({inputEvent:this.gesto.getCurrentEvent()},i||n))}},r.findSelectableTargets=function(n){var i=this;n===void 0&&(n=this.gesto.getEventData());var a=this.getSelectableElements(),o=a.map(function(f){return i.getElementPoints(f)});n.selectableTargets=a,n.selectablePoints=o,n.selectableParentMap=null;var s=this.options,l=s.checkOverflow||s.innerScrollOptions,u=Ce(this.container);if(l){var c=new Map;n.selectableInnerScrollParentMap=c,n.selectableInnerScrollPathsList=a.map(function(f,d){for(var v=f.parentElement,p=[],h=[],g=function(){var m=c.get(v);if(!m){var b=getComputedStyle(v).overflow!=="visible";if(b){var S=Ki(v);m={parentElement:v,indexes:[],points:[S.pos1,S.pos2,S.pos4,S.pos3],paths:Jn([],h)},p.push(v),p.forEach(function(y){c.set(y,m)}),p=[]}}m?(v=m.parentElement,c.get(v).indexes.push(d),h.push(v)):p.push(v),v=v.parentElement};v&&v!==u.body;)g();return h})}return s.checkOverflow||(n.selectableInners=a.map(function(){return!0})),this._refreshGroups(n),a},r.clickTarget=function(n,i){var a=Ly(n),o=a.clientX,s=a.clientY,l={data:{selectFlag:!1},clientX:o,clientY:s,inputEvent:n,isClick:!0,isTrusted:!1,stop:function(){return!1}};return this._onDragStart(l,i)&&this._onDragEnd(l),this},r.setKeyController=function(){var n=this.options,i=n.keyContainer,a=n.toggleContinueSelect,o=n.toggleContinueSelectWithoutDeselect;this.keycon&&(this.keycon.destroy(),this.keycon=null),(a||o)&&(this.keycon=new Gy(i||Be(this.container)),this.keycon.keydown(this._onKeyDown).keyup(this._onKeyUp).on("blur",this._onBlur))},r.setClassName=function(n){this.options.className=n,this.target.setAttribute("class","".concat(dc," ").concat(n||""))},r.setKeyEvent=function(){var n=this.options,i=n.toggleContinueSelect,a=n.toggleContinueSelectWithoutDeselect;!i&&!a||this.keycon||this.setKeyController()},r.setKeyContainer=function(n){var i=this,a=this.options;Oo(a.keyContainer,n,function(){a.keyContainer=n,i.setKeyController()})},r.getContinueSelect=function(){var n=this.options,i=n.continueSelect,a=n.toggleContinueSelect;return!a||!this._keydownContinueSelect?i:!i},r.getContinueSelectWithoutDeselect=function(){var n=this.options,i=n.continueSelectWithoutDeselect,a=n.toggleContinueSelectWithoutDeselect;return!a||!this._keydownContinueSelectWithoutDeselection?i:!i},r.setToggleContinueSelect=function(n){var i=this,a=this.options;Oo(a.toggleContinueSelect,n,function(){a.toggleContinueSelect=n,i.setKeyEvent()})},r.setToggleContinueSelectWithoutDeselect=function(n){var i=this,a=this.options;Oo(a.toggleContinueSelectWithoutDeselect,n,function(){a.toggleContinueSelectWithoutDeselect=n,i.setKeyEvent()})},r.setPreventDefault=function(n){this.gesto.options.preventDefault=n},r.setCheckInput=function(n){this.gesto.options.checkInput=n},r.initElement=function(){var n=this.options,i=n.dragContainer,a=n.checkInput,o=n.preventDefault,s=n.preventClickEventOnDragStart,l=n.preventClickEventOnDrag,u=n.preventClickEventByCondition,c=n.preventRightClick,f=c===void 0?!0:c,d=n.className,v=this.container;this.target=kv(Hy("div",{className:"".concat(dc," ").concat(d||"")}),this.target,v);var p=this.target;this.dragContainer=typeof i=="string"?[].slice.call(Ce(v).querySelectorAll(i)):i||this.target.parentNode,this.gesto=new ld(this.dragContainer,{checkWindowBlur:!0,container:Be(v),checkInput:a,preventDefault:o,preventClickEventOnDragStart:s,preventClickEventOnDrag:l,preventClickEventByCondition:u,preventRightClick:f}).on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd}),Yt(document,"selectstart",this._onDocumentSelectStart),this.injectResult=Iv.inject(p,{nonce:this.options.cspNonce})},r.hitTest=function(n,i,a,o){var s=this.options,l=s.hitRate,u=s.selectByClick,c=n.left,f=n.top,d=n.right,v=n.bottom,p=i.innerGroups,h=i.innerWidth,g=i.innerHeight,m=o==null?void 0:o.clientX,b=o==null?void 0:o.clientY,S=i.ignoreClick,y=[[c,f],[d,f],[d,v],[c,v]],x=function(L,B){var $=Hr(typeof l=="function"?"".concat(l(B)):"".concat(l)),G=S?!1:pa([m,b],L);if(!a&&u&&G)return!0;var j=ns(y,L);if(!j.length)return!1;var H=Vn(j),q=0;if(H===0&&Vn(L)===0?(q=fc(L),H=fc(j)):q=Vn(L),$.unit==="px")return H>=$.value;var U=fa(Math.round(H/q*100),0,100);return U>=Math.min(100,$.value)},_=i.selectableTargets,w=i.selectablePoints,C=i.selectableInners;if(!p)return _.filter(function(L,B){return C[B]?x(w[B],_[B]):!1});for(var E=[],D=Math.floor(c/h),O=Math.floor(d/h),P=Math.floor(f/g),T=Math.floor(v/g),N=D;N<=O;++N){var z=p[N];if(z)for(var W=P;W<=T;++W){var I=z[W];I&&I.forEach(function(L){var B=w[L],$=C[L],G=_[L];$&&x(B,G)&&E.push(G)})}}return Wy(E)},r.initDragScroll=function(){var n=this;this.dragScroll.on("scrollDrag",function(i){var a=i.next;a(n.gesto.getCurrentEvent())}).on("scroll",function(i){var a=i.container,o=i.direction,s=n.gesto.getEventData().innerScrollOptions;s?n.emit("innerScroll",{container:a,direction:o}):n.emit("scroll",{container:a,direction:o})}).on("move",function(i){var a=i.offsetX,o=i.offsetY,s=i.inputEvent,l=n.gesto;if(!(!l||!l.isFlag())){var u=n.gesto.getEventData(),c=u.boundArea;u.startX-=a,u.startY-=o;var f=n.gesto.getEventData().innerScrollOptions,d=f==null?void 0:f.container,v=!1;if(d){var p=u.selectableInnerScrollParentMap,h=p.get(d);h&&(h.paths.forEach(function(g){var m=p.get(g);m.points.forEach(function(b){b[0]-=a,b[1]-=o})}),h.indexes.forEach(function(g){u.selectablePoints[g].forEach(function(m){m[0]-=a,m[1]-=o})}),v=!0)}v||u.selectablePoints.forEach(function(g){g.forEach(function(m){m[0]-=a,m[1]-=o})}),n._refreshGroups(u),c.left-=a,c.right-=a,c.top-=o,c.bottom-=o,n.gesto.scrollBy(a,o,s.inputEvent),n._checkSelected(n.gesto.getCurrentEvent())}})},r._select=function(n,i,a,o,s){s===void 0&&(s=!1);var l=a.inputEvent,u=a.data,c=this.setSelectedTargets(n),f=an(u.startSelectedTargets,n),d=f.added,v=f.removed,p=f.prevList,h=f.list,g={startSelected:p,startAdded:d.map(function(m){return h[m]}),startRemoved:v.map(function(m){return p[m]})};o&&this.emit("selectStart",Kt(Kt(Kt({},c),g),{rect:i,inputEvent:l,data:u.data,isTrusted:a.isTrusted,isDragStartEnd:s})),(c.added.length||c.removed.length)&&this.emit("select",Kt(Kt(Kt({},c),g),{rect:i,inputEvent:l,data:u.data,isTrusted:a.isTrusted,isDragStartEnd:s}))},r._selectEnd=function(n,i,a,o,s){s===void 0&&(s=!1);var l=o.inputEvent,u=o.isDouble,c=o.data,f=l&&l.type,d=f==="mousedown"||f==="touchstart",v=an(n,this.selectedTargets),p=v.added,h=v.removed,g=v.prevList,m=v.list,b=an(i,this.selectedTargets),S=b.added,y=b.removed,x=b.prevList,_=b.list;this.emit("selectEnd",{startSelected:n,beforeSelected:i,selected:this.selectedTargets,added:p.map(function(w){return m[w]}),removed:h.map(function(w){return g[w]}),afterAdded:S.map(function(w){return _[w]}),afterRemoved:y.map(function(w){return x[w]}),isDragStart:d&&s,isDragStartEnd:d&&s,isClick:!!o.isClick,isDouble:!!u,rect:a,inputEvent:l,data:c.data,isTrusted:o.isTrusted})},r._checkSelected=function(n,i){i===void 0&&(i=uc(n,this.options.ratio));var a=n.data,o=i.top,s=i.left,l=i.width,u=i.height,c=a.selectFlag,f=a.containerX,d=a.containerY,v=a.scaleMatrix,p=ra(v,[s-f,o-d]),h=ra(v,[l,u]),g=[];if(c){this.target.style.cssText+="display: block;left:0px;top:0px;"+"transform: translate(".concat(p[0],"px, ").concat(p[1],"px);")+"width:".concat(h[0],"px;height:").concat(h[1],"px;");var m=this.hitTest(i,a,!0,n);g=cc(a.startPassedTargets,m,this.continueSelect&&this.continueSelectWithoutDeselect)}var b=this.emit("drag",Kt(Kt({},n),{data:a.data,isSelect:c,rect:i}));if(b===!1){this.target.style.cssText+="display: none;",n.stop();return}c&&this._select(g,i,n)},r._sameCombiKey=function(n,i,a){if(!i)return!1;var o=Rv(n.inputEvent,n.key),s=[].concat(i),l=Ht(s[0])?s:[s];if(a){var u=n.key;return l.some(function(c){return c.some(function(f){return f===u})})}return l.some(function(c){return c.every(function(f){return o.indexOf(f)>-1})})},r._findElement=function(n,i){for(var a=n;a&&!(i.indexOf(a)>-1);)a=a.parentElement;return a},r._refreshGroups=function(n){var i,a=n.innerWidth,o=n.innerHeight,s=n.selectablePoints;if(this.options.checkOverflow){var l=(i=this.gesto.getEventData().innerScrollOptions)===null||i===void 0?void 0:i.container,u=n.selectableInnerScrollParentMap,c=n.selectableInnerScrollPathsList;n.selectableInners=c.map(function(v,p){var h=!1;return v.every(function(g){if(h)return!0;if(g===l)return h=!0,!0;var m=u.get(g);if(m){var b=s[p],S=m.points,y=ns(b,S);if(!y.length)return!1}return!0})})}if(!a||!o)n.innerGroups=null;else{var f=n.selectablePoints,d={};f.forEach(function(v,p){var h=1/0,g=-1/0,m=1/0,b=-1/0;v.forEach(function(x){var _=Math.floor(x[0]/a),w=Math.floor(x[1]/o);h=Math.min(_,h),g=Math.max(_,g),m=Math.min(w,m),b=Math.max(w,b)});for(var S=h;S<=g;++S)for(var y=m;y<=b;++y)d[S]=d[S]||{},d[S][y]=d[S][y]||[],d[S][y].push(p)}),n.innerGroups=d}},e=Ny([Xo(Pl,function(n,i){var a={enumerable:!0,configurable:!0,get:function(){return this.options[i]}},o=Vo("get ".concat(i));n[o]?a.get=function(){return this[o]()}:a.get=function(){return this.options[i]};var s=Vo("set ".concat(i));n[s]?a.set=function(l){this[s](l)}:a.set=function(l){this.options[i]=l},Object.defineProperty(n,i,a)})],e),e}(Rn),jy=function(t){Pv(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Vy);const Uy=jy,Av={};Xy.forEach(t=>{Av[t]=function(...e){return this.$_selecto[t](...e)}});const Bv={};Pl.forEach(t=>{Bv[t]=function(e){return this.$_selecto[t]=e}});const qy=ke({name:"selecto",methods:Av,props:vc,watch:Bv,mounted(){const t=this.$props,e={};vc.forEach(n=>{const i=t[n];Tn(i)||(e[n]=i)});const r=new Uy({...e,portalContainer:this.$refs.selectoElement});this.$_selecto=r,Yy.forEach(n=>{r.on(n,i=>{this.$emit(n,{...i})})})},beforeUnmount(){this.$_selecto.destroy()}}),Ky=qy,Zy={ref:"selectoElement"};function Jy(t,e,r,n,i,a){return wt(),zt("div",Zy,null,512)}const Qy=xi(Ky,[["render",Jy]]),tS={__name:"GroupSelectable",props:{isMoveableElement:Function},emits:["setTargetClass","dragStart"],setup(t,{emit:e}){const r=mt(null),n=mt([]),i=e,a=t,o=l=>{debugger;let{selected:u}=l;l.isDragStart&&(l.inputEvent.preventDefault(),console.log("dragStart",l.inputEvent),i("dragStart",l.inputEvent)),n.value=u;let c=u.map(f=>"."+f.id);i("setTargetClass",c)},s=l=>{const u=l.inputEvent.target;(a.isMoveableElement(u)||n.value.some(c=>c===u||c.contains(u)))&&l.stop()};return(l,u)=>(wt(),cr(Qy,{ref_key:"selectorRef",ref:r,selectableTargets:[".target"],hitRate:0,selectByClick:!0,selectFromInside:!0,toggleContinueSelect:["ctrl"],keyContainer:l.window,ratio:0,onDragStart:s,onSelectEnd:o},null,8,["keyContainer"]))}},eS={class:"container"},rS=["data-id","data-left","data-top","id","onMousedown"],nS=!0,iS=ke({__name:"movebleSelecto",props:{scale:{},snapsObj:{},shadow:{}},emits:["update:shadow","update:snapsObj"],setup(t,{emit:e}){const r=e,n=mt(null),i=mt(["target0"]),a={top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},o={top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},s=mt(),l=mt([{id:"target0",className:"element0 target0",left:200,top:150,background:"#ee8",width:600,zIndex:1,height:600},{id:"target1",className:"element1 target1",left:600,top:150,zIndex:1,background:"rgb(52, 55, 221)",width:400,height:300},{id:"target2",className:"element2 target2",left:100,top:600,zIndex:1,background:"rgb(212, 67, 152)",width:400,height:400}]),u=m=>{Gs(()=>{n.value.dragStart(m)})},c=(m,b)=>{const S=b.id;l.value.forEach(y=>y.zIndex=1),b.zIndex=2,i.value=["."+S]},f=m=>{s.value=JSON.parse(JSON.stringify(l.value))},d=m=>n.value.isMoveableElement(m),v=m=>{let{target:b,translate:S}=m;const{id:y}=b.dataset,{left:x,top:_,width:w,height:C}=s.value.find(P=>P.id==y),[E,D]=S,O=l.value.find(P=>P.id==y);O.left=x+E,O.top=_+D,r("update:shadow",{x:O.left,y:O.top,width:w,height:C})};ze(()=>l,()=>{const m=l.value.map(S=>S.top),b=l.value.map(S=>S.left);r("update:snapsObj",{h:m,v:b})},{deep:!0});const p=m=>({left:m.left+"px",top:m.top+"px",lineHeight:m.height+"px",width:m.width+"px",height:m.height+"px",zIndex:m.zIndex,transform:"rotate(0deg)",background:m.background}),h=m=>{i.value=m,console.log(m,"targetIds")},g=m=>{n.value.updateRect()};return(m,b)=>(wt(),zt(Qt,null,[K("div",eS,[(wt(!0),zt(Qt,null,Aa(l.value,S=>(wt(),zt("div",{class:Pe(["target",S.className]),"data-id":S.id,"data-left":S.left,"data-top":S.top,id:S.id,style:Nt(p(S)),key:S.id,onMousedown:y=>c(y,S)},ye(S.className),47,rS))),128))]),Xt(kt(Ov),{ref_key:"moveableRef",ref:n,id:"moveable",snappable:!0,snapGap:!0,scalable:!0,resizable:!0,rotatable:!0,zoom:2,snapDirections:a,elementSnapDirections:o,snapThreshold:5/m.scale,target:i.value,draggable:nS,elementGuidelines:[".container",".element0",".element1",".element2"],onDrag:v,onDragStart:f,onDragEnd:g},null,8,["snapThreshold","target"]),Xt(tS,{onDragStart:u,isMoveableElement:d,onSetTargetClass:h})],64))}}),aS=xi(iS,[["__scopeId","data-v-768d9e27"]]),oS={class:"demo"},sS={class:"top font16"},lS={class:"scale mr10"},uS={class:"btns"},cS=["onClick"],fS=["onClick"],dS=["onClick"],vS=ke({__name:"UserRulerShadowSelecto",setup(t){const e=mt(),r=re({maxScale:3,minScale:.3,disablePan:!1,disableZoom:!1,contain:"none",handleStartEvent:f=>{f.preventDefault(),console.log("handleStartEvent",f)}}),n=mt(!1);qe(()=>{window.addEventListener("resize",i);const f=e.value.panzoomInstance,d=document.getElementsByClassName("canvasedit-parent");if(d[0]){const v=d[0];v&&v.addEventListener("wheel",function(p){(p.ctrlKey||p.metaKey)&&f.zoomWithWheel(p)}),document.addEventListener("pointerdown",function(p){p.button===1&&(e.value.cursorClass="grabCursor",f.bind(),f.handleDown(p),p.preventDefault())}),document.addEventListener("pointerup",function(p){p.button===1&&(f.destroy(),console.log("放开了"),e.value.cursorClass="defaultCursor")})}});const i=()=>{e.value&&e.value.initPanzoom()},a=re({scale:1,isBlack:!1}),o=xt(()=>a.isBlack?{bgColor:"transparent",hoverBg:"#fff",hoverColor:"#000",longfgColor:"#BABBBC",fontColor:"#DEDEDE",shadowColor:"#525252",lineColor:"#51d6a9",borderColor:"#B5B5B5"}:{bgColor:"transparent",lineColor:"#51d6a9",lineType:"dashed"}),s=re({thick:20,width:1470,height:800,canvasWidth:1242,canvasHeight:1660,showRuler:!0,palette:o.value,snapsObj:{h:[],v:[]},shadow:{x:0,y:0,width:0,height:0},panzoomOption:r,isShowReferLine:!0,lines:{h:[0,250],v:[0,500]}}),l=xt(()=>({width:`${s.width}px`,height:`${s.height}px`})),u=xt(()=>Number(a.scale).toFixed(2)),c=xt(()=>({width:`${s.canvasWidth}px`,height:`${s.canvasHeight}px`}));return(f,d)=>(wt(),zt("div",oS,[K("div",sS,[d[4]||(d[4]=K("div",{class:"mr10"},"鼠标中键移动画布 ",-1)),K("div",lS," 缩放比:"+ye(u.value),1)]),K("div",{class:Pe(["wrapper",[a.isBlack?"balckwrapper":"whitewrapper"]]),style:Nt(l.value)},[Xt(kt(vi),$r({ref_key:"sketchruleRef",ref:e,scale:a.scale,"onUpdate:scale":d[2]||(d[2]=v=>a.scale=v),lockLine:n.value,"onUpdate:lockLine":d[3]||(d[3]=v=>n.value=v)},s,{autoCenter:!1,selfHandle:!0}),{default:Fe(()=>[K("div",{class:"container",style:Nt(c.value)},[Xt(aS,{scale:a.scale,shadow:s.shadow,"onUpdate:shadow":d[0]||(d[0]=v=>s.shadow=v),snapsObj:s.snapsObj,"onUpdate:snapsObj":d[1]||(d[1]=v=>s.snapsObj=v)},null,8,["scale","shadow","snapsObj"])],4)]),btn:Fe(({reset:v,zoomIn:p,zoomOut:h})=>[K("div",uS,[K("button",{onClick:Ft(v,["stop"])},"还原",8,cS),K("button",{onClick:Ft(p,["stop"])},"放大",8,fS),K("button",{onClick:Ft(h,["stop"])},"缩小",8,dS)])]),_:1},16,["scale","lockLine"])],6)]))}}),pS={__name:"tab-item",props:{name:String,isActive:Boolean},setup(t){return(e,r)=>(wt(),zt("li",{class:Pe({active:t.isActive}),onClick:r[0]||(r[0]=n=>e.$emit("click",t.name))},[Ao(e.$slots,"default",{},void 0,!0)],2))}},hS=xi(pS,[["__scopeId","data-v-7d074d92"]]),gS={class:"tabs-container"},mS={class:"tab-buttons"},bS={class:"tab-contents"},yS={class:"tab-content"},SS={__name:"App",setup(t){const e=[{label:"写法1",index:0},{label:"写法2",index:1},{label:"自定义按键",index:2},{label:"阴影测试",index:3},{label:"阴影测试+Selecto",index:4}],r=mt(0),n=yp();qe(()=>{i(r.value)});function i(a){switch(r.value=a,a){case 0:n.value=pu;break;case 1:n.value=Zg;break;case 2:n.value=u0;break;case 3:n.value=ky;break;case 4:n.value=vS;break;default:n.value=pu}}return(a,o)=>(wt(),zt("div",gS,[K("ul",mS,[(wt(),zt(Qt,null,Aa(e,(s,l)=>Xt(hS,{key:l,name:s.name,isActive:r.value===l,onClick:u=>i(l)},{default:Fe(()=>[fi(ye(s.label),1)]),_:2},1032,["name","isActive","onClick"])),64))]),K("div",bS,[K("div",yS,[(wt(),cr($p(n.value)))])])]))}},_S=xi(SS,[["__scopeId","data-v-0d4b15ec"]]),CS=ig(_S);CS.mount("#app");
